import{J as $2,S as t3,i as r3,s as i3,K as vt,L as bt,m as ke,h as Ce,n as P,b as T4,G as ne,H as oi,C as zi,M as G8,k as At,a as p4,l as It,c as h4,N as o2,O as P4,P as n2,Q as Nr,R as b5,T as Pa,g as Vt,v as Wi,d as i4,f as Hi,D as Ri,E as Bi,F as Ni,U as q8,V as o3,W as Z8,X as W8,Y as H8,o as Q2,Z as e3,q as wt,r as Dt,u as Do,e as bs,y as Cs,z as ws,A as Ds,B as Ss,_ as Aa,w as v9,$ as e0,a0 as s2,a1 as X8,a2 as Y8,p as cr,a3 as K8,a4 as J8}from"../chunks/index.b40b6f6b.js";const $8=!0,nh=Object.freeze(Object.defineProperty({__proto__:null,prerender:$8},Symbol.toStringTag,{value:"Module"}));const Ta=Math.min,v5=Math.max,Fa=Math.round,Ia=Math.floor,Un=C=>({x:C,y:C}),Q8={left:"right",right:"left",bottom:"top",top:"bottom"},eu={start:"end",end:"start"};function a2(C,w,D){return v5(C,Ta(w,D))}function Ra(C,w){return typeof C=="function"?C(w):C}function C5(C){return C.split("-")[0]}function Ba(C){return C.split("-")[1]}function t0(C){return C==="x"?"y":"x"}function r0(C){return C==="y"?"height":"width"}function Na(C){return["top","bottom"].includes(C5(C))?"y":"x"}function i0(C){return t0(Na(C))}function tu(C,w,D){D===void 0&&(D=!1);const T=Ba(C),U=i0(C),Y=r0(U);let R=U==="x"?T===(D?"end":"start")?"right":"left":T==="start"?"bottom":"top";return w.reference[Y]>w.floating[Y]&&(R=La(R)),[R,La(R)]}function ru(C){const w=La(C);return[D9(C),w,D9(w)]}function D9(C){return C.replace(/start|end/g,w=>eu[w])}function iu(C,w,D){const T=["left","right"],U=["right","left"],Y=["top","bottom"],R=["bottom","top"];switch(C){case"top":case"bottom":return D?w?U:T:w?T:U;case"left":case"right":return w?Y:R;default:return[]}}function ou(C,w,D,T){const U=Ba(C);let Y=iu(C5(C),D==="start",T);return U&&(Y=Y.map(R=>R+"-"+U),w&&(Y=Y.concat(Y.map(D9)))),Y}function La(C){return C.replace(/left|right|bottom|top/g,w=>Q8[w])}function nu(C){return{top:0,right:0,bottom:0,left:0,...C}}function su(C){return typeof C!="number"?nu(C):{top:C,right:C,bottom:C,left:C}}function ka(C){return{...C,top:C.y,left:C.x,right:C.x+C.width,bottom:C.y+C.height}}function l2(C,w,D){let{reference:T,floating:U}=C;const Y=Na(w),R=i0(w),n=r0(R),G=C5(w),ee=Y==="y",fe=T.x+T.width/2-U.width/2,ie=T.y+T.height/2-U.height/2,ye=T[n]/2-U[n]/2;let me;switch(G){case"top":me={x:fe,y:T.y-U.height};break;case"bottom":me={x:fe,y:T.y+T.height};break;case"right":me={x:T.x+T.width,y:ie};break;case"left":me={x:T.x-U.width,y:ie};break;default:me={x:T.x,y:T.y}}switch(Ba(w)){case"start":me[R]-=ye*(D&&ee?-1:1);break;case"end":me[R]+=ye*(D&&ee?-1:1);break}return me}const au=async(C,w,D)=>{const{placement:T="bottom",strategy:U="absolute",middleware:Y=[],platform:R}=D,n=Y.filter(Boolean),G=await(R.isRTL==null?void 0:R.isRTL(w));let ee=await R.getElementRects({reference:C,floating:w,strategy:U}),{x:fe,y:ie}=l2(ee,T,G),ye=T,me={},Ae=0;for(let xe=0;xe<n.length;xe++){const{name:ze,fn:$e}=n[xe],{x:Qe,y:He,data:Re,reset:ot}=await $e({x:fe,y:ie,initialPlacement:T,placement:ye,strategy:U,middlewareData:me,rects:ee,platform:R,elements:{reference:C,floating:w}});if(fe=Qe??fe,ie=He??ie,me={...me,[ze]:{...me[ze],...Re}},ot&&Ae<=50){Ae++,typeof ot=="object"&&(ot.placement&&(ye=ot.placement),ot.rects&&(ee=ot.rects===!0?await R.getElementRects({reference:C,floating:w,strategy:U}):ot.rects),{x:fe,y:ie}=l2(ee,ye,G)),xe=-1;continue}}return{x:fe,y:ie,placement:ye,strategy:U,middlewareData:me}};async function o0(C,w){var D;w===void 0&&(w={});const{x:T,y:U,platform:Y,rects:R,elements:n,strategy:G}=C,{boundary:ee="clippingAncestors",rootBoundary:fe="viewport",elementContext:ie="floating",altBoundary:ye=!1,padding:me=0}=Ra(w,C),Ae=su(me),ze=n[ye?ie==="floating"?"reference":"floating":ie],$e=ka(await Y.getClippingRect({element:(D=await(Y.isElement==null?void 0:Y.isElement(ze)))==null||D?ze:ze.contextElement||await(Y.getDocumentElement==null?void 0:Y.getDocumentElement(n.floating)),boundary:ee,rootBoundary:fe,strategy:G})),Qe=ie==="floating"?{...R.floating,x:T,y:U}:R.reference,He=await(Y.getOffsetParent==null?void 0:Y.getOffsetParent(n.floating)),Re=await(Y.isElement==null?void 0:Y.isElement(He))?await(Y.getScale==null?void 0:Y.getScale(He))||{x:1,y:1}:{x:1,y:1},ot=ka(Y.convertOffsetParentRelativeRectToViewportRelativeRect?await Y.convertOffsetParentRelativeRectToViewportRelativeRect({rect:Qe,offsetParent:He,strategy:G}):Qe);return{top:($e.top-ot.top+Ae.top)/Re.y,bottom:(ot.bottom-$e.bottom+Ae.bottom)/Re.y,left:($e.left-ot.left+Ae.left)/Re.x,right:(ot.right-$e.right+Ae.right)/Re.x}}const lu=function(C){return C===void 0&&(C={}),{name:"flip",options:C,async fn(w){var D;const{placement:T,middlewareData:U,rects:Y,initialPlacement:R,platform:n,elements:G}=w,{mainAxis:ee=!0,crossAxis:fe=!0,fallbackPlacements:ie,fallbackStrategy:ye="bestFit",fallbackAxisSideDirection:me="none",flipAlignment:Ae=!0,...xe}=Ra(C,w),ze=C5(T),$e=C5(R)===R,Qe=await(n.isRTL==null?void 0:n.isRTL(G.floating)),He=ie||($e||!Ae?[La(R)]:ru(R));!ie&&me!=="none"&&He.push(...ou(R,Ae,me,Qe));const Re=[R,...He],ot=await o0(w,xe),ut=[];let Xe=((D=U.flip)==null?void 0:D.overflows)||[];if(ee&&ut.push(ot[ze]),fe){const we=tu(T,Y,Qe);ut.push(ot[we[0]],ot[we[1]])}if(Xe=[...Xe,{placement:T,overflows:ut}],!ut.every(we=>we<=0)){var mt,Te;const we=(((mt=U.flip)==null?void 0:mt.index)||0)+1,qe=Re[we];if(qe)return{data:{index:we,overflows:Xe},reset:{placement:qe}};let ct=(Te=Xe.filter(kt=>kt.overflows[0]<=0).sort((kt,Pt)=>kt.overflows[1]-Pt.overflows[1])[0])==null?void 0:Te.placement;if(!ct)switch(ye){case"bestFit":{var Et;const kt=(Et=Xe.map(Pt=>[Pt.placement,Pt.overflows.filter(o4=>o4>0).reduce((o4,d4)=>o4+d4,0)]).sort((Pt,o4)=>Pt[1]-o4[1])[0])==null?void 0:Et[0];kt&&(ct=kt);break}case"initialPlacement":ct=R;break}if(T!==ct)return{reset:{placement:ct}}}return{}}}};async function cu(C,w){const{placement:D,platform:T,elements:U}=C,Y=await(T.isRTL==null?void 0:T.isRTL(U.floating)),R=C5(D),n=Ba(D),G=Na(D)==="y",ee=["left","top"].includes(R)?-1:1,fe=Y&&G?-1:1,ie=Ra(w,C);let{mainAxis:ye,crossAxis:me,alignmentAxis:Ae}=typeof ie=="number"?{mainAxis:ie,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...ie};return n&&typeof Ae=="number"&&(me=n==="end"?Ae*-1:Ae),G?{x:me*fe,y:ye*ee}:{x:ye*ee,y:me*fe}}const uu=function(C){return C===void 0&&(C=0),{name:"offset",options:C,async fn(w){const{x:D,y:T}=w,U=await cu(w,C);return{x:D+U.x,y:T+U.y,data:U}}}},pu=function(C){return C===void 0&&(C={}),{name:"shift",options:C,async fn(w){const{x:D,y:T,placement:U}=w,{mainAxis:Y=!0,crossAxis:R=!1,limiter:n={fn:ze=>{let{x:$e,y:Qe}=ze;return{x:$e,y:Qe}}},...G}=Ra(C,w),ee={x:D,y:T},fe=await o0(w,G),ie=Na(C5(U)),ye=t0(ie);let me=ee[ye],Ae=ee[ie];if(Y){const ze=ye==="y"?"top":"left",$e=ye==="y"?"bottom":"right",Qe=me+fe[ze],He=me-fe[$e];me=a2(Qe,me,He)}if(R){const ze=ie==="y"?"top":"left",$e=ie==="y"?"bottom":"right",Qe=Ae+fe[ze],He=Ae-fe[$e];Ae=a2(Qe,Ae,He)}const xe=n.fn({...w,[ye]:me,[ie]:Ae});return{...xe,data:{x:xe.x-D,y:xe.y-T}}}}};function zn(C){return n0(C)?(C.nodeName||"").toLowerCase():"#document"}function Xi(C){var w;return(C==null||(w=C.ownerDocument)==null?void 0:w.defaultView)||window}function sn(C){var w;return(w=(n0(C)?C.ownerDocument:C.document)||window.document)==null?void 0:w.documentElement}function n0(C){return C instanceof Node||C instanceof Xi(C).Node}function nn(C){return C instanceof Element||C instanceof Xi(C).Element}function Oo(C){return C instanceof HTMLElement||C instanceof Xi(C).HTMLElement}function c2(C){return typeof ShadowRoot>"u"?!1:C instanceof ShadowRoot||C instanceof Xi(C).ShadowRoot}function n3(C){const{overflow:w,overflowX:D,overflowY:T,display:U}=so(C);return/auto|scroll|overlay|hidden|clip/.test(w+T+D)&&!["inline","contents"].includes(U)}function hu(C){return["table","td","th"].includes(zn(C))}function S9(C){const w=M9(),D=so(C);return D.transform!=="none"||D.perspective!=="none"||(D.containerType?D.containerType!=="normal":!1)||!w&&(D.backdropFilter?D.backdropFilter!=="none":!1)||!w&&(D.filter?D.filter!=="none":!1)||["transform","perspective","filter"].some(T=>(D.willChange||"").includes(T))||["paint","layout","strict","content"].some(T=>(D.contain||"").includes(T))}function du(C){let w=Ms(C);for(;Oo(w)&&!Oa(w);){if(S9(w))return w;w=Ms(w)}return null}function M9(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Oa(C){return["html","body","#document"].includes(zn(C))}function so(C){return Xi(C).getComputedStyle(C)}function Va(C){return nn(C)?{scrollLeft:C.scrollLeft,scrollTop:C.scrollTop}:{scrollLeft:C.pageXOffset,scrollTop:C.pageYOffset}}function Ms(C){if(zn(C)==="html")return C;const w=C.assignedSlot||C.parentNode||c2(C)&&C.host||sn(C);return c2(w)?w.host:w}function s0(C){const w=Ms(C);return Oa(w)?C.ownerDocument?C.ownerDocument.body:C.body:Oo(w)&&n3(w)?w:s0(w)}function Ua(C,w){var D;w===void 0&&(w=[]);const T=s0(C),U=T===((D=C.ownerDocument)==null?void 0:D.body),Y=Xi(T);return U?w.concat(Y,Y.visualViewport||[],n3(T)?T:[]):w.concat(T,Ua(T))}function a0(C){const w=so(C);let D=parseFloat(w.width)||0,T=parseFloat(w.height)||0;const U=Oo(C),Y=U?C.offsetWidth:D,R=U?C.offsetHeight:T,n=Fa(D)!==Y||Fa(T)!==R;return n&&(D=Y,T=R),{width:D,height:T,$:n}}function A9(C){return nn(C)?C:C.contextElement}function vs(C){const w=A9(C);if(!Oo(w))return Un(1);const D=w.getBoundingClientRect(),{width:T,height:U,$:Y}=a0(w);let R=(Y?Fa(D.width):D.width)/T,n=(Y?Fa(D.height):D.height)/U;return(!R||!Number.isFinite(R))&&(R=1),(!n||!Number.isFinite(n))&&(n=1),{x:R,y:n}}const fu=Un(0);function l0(C){const w=Xi(C);return!M9()||!w.visualViewport?fu:{x:w.visualViewport.offsetLeft,y:w.visualViewport.offsetTop}}function mu(C,w,D){return w===void 0&&(w=!1),!D||w&&D!==Xi(C)?!1:w}function w5(C,w,D,T){w===void 0&&(w=!1),D===void 0&&(D=!1);const U=C.getBoundingClientRect(),Y=A9(C);let R=Un(1);w&&(T?nn(T)&&(R=vs(T)):R=vs(C));const n=mu(Y,D,T)?l0(Y):Un(0);let G=(U.left+n.x)/R.x,ee=(U.top+n.y)/R.y,fe=U.width/R.x,ie=U.height/R.y;if(Y){const ye=Xi(Y),me=T&&nn(T)?Xi(T):T;let Ae=ye.frameElement;for(;Ae&&T&&me!==ye;){const xe=vs(Ae),ze=Ae.getBoundingClientRect(),$e=so(Ae),Qe=ze.left+(Ae.clientLeft+parseFloat($e.paddingLeft))*xe.x,He=ze.top+(Ae.clientTop+parseFloat($e.paddingTop))*xe.y;G*=xe.x,ee*=xe.y,fe*=xe.x,ie*=xe.y,G+=Qe,ee+=He,Ae=Xi(Ae).frameElement}}return ka({width:fe,height:ie,x:G,y:ee})}function yu(C){let{rect:w,offsetParent:D,strategy:T}=C;const U=Oo(D),Y=sn(D);if(D===Y)return w;let R={scrollLeft:0,scrollTop:0},n=Un(1);const G=Un(0);if((U||!U&&T!=="fixed")&&((zn(D)!=="body"||n3(Y))&&(R=Va(D)),Oo(D))){const ee=w5(D);n=vs(D),G.x=ee.x+D.clientLeft,G.y=ee.y+D.clientTop}return{width:w.width*n.x,height:w.height*n.y,x:w.x*n.x-R.scrollLeft*n.x+G.x,y:w.y*n.y-R.scrollTop*n.y+G.y}}function _u(C){return Array.from(C.getClientRects())}function c0(C){return w5(sn(C)).left+Va(C).scrollLeft}function gu(C){const w=sn(C),D=Va(C),T=C.ownerDocument.body,U=v5(w.scrollWidth,w.clientWidth,T.scrollWidth,T.clientWidth),Y=v5(w.scrollHeight,w.clientHeight,T.scrollHeight,T.clientHeight);let R=-D.scrollLeft+c0(C);const n=-D.scrollTop;return so(T).direction==="rtl"&&(R+=v5(w.clientWidth,T.clientWidth)-U),{width:U,height:Y,x:R,y:n}}function xu(C,w){const D=Xi(C),T=sn(C),U=D.visualViewport;let Y=T.clientWidth,R=T.clientHeight,n=0,G=0;if(U){Y=U.width,R=U.height;const ee=M9();(!ee||ee&&w==="fixed")&&(n=U.offsetLeft,G=U.offsetTop)}return{width:Y,height:R,x:n,y:G}}function vu(C,w){const D=w5(C,!0,w==="fixed"),T=D.top+C.clientTop,U=D.left+C.clientLeft,Y=Oo(C)?vs(C):Un(1),R=C.clientWidth*Y.x,n=C.clientHeight*Y.y,G=U*Y.x,ee=T*Y.y;return{width:R,height:n,x:G,y:ee}}function u2(C,w,D){let T;if(w==="viewport")T=xu(C,D);else if(w==="document")T=gu(sn(C));else if(nn(w))T=vu(w,D);else{const U=l0(C);T={...w,x:w.x-U.x,y:w.y-U.y}}return ka(T)}function u0(C,w){const D=Ms(C);return D===w||!nn(D)||Oa(D)?!1:so(D).position==="fixed"||u0(D,w)}function bu(C,w){const D=w.get(C);if(D)return D;let T=Ua(C).filter(n=>nn(n)&&zn(n)!=="body"),U=null;const Y=so(C).position==="fixed";let R=Y?Ms(C):C;for(;nn(R)&&!Oa(R);){const n=so(R),G=S9(R);!G&&n.position==="fixed"&&(U=null),(Y?!G&&!U:!G&&n.position==="static"&&!!U&&["absolute","fixed"].includes(U.position)||n3(R)&&!G&&u0(C,R))?T=T.filter(fe=>fe!==R):U=n,R=Ms(R)}return w.set(C,T),T}function Cu(C){let{element:w,boundary:D,rootBoundary:T,strategy:U}=C;const R=[...D==="clippingAncestors"?bu(w,this._c):[].concat(D),T],n=R[0],G=R.reduce((ee,fe)=>{const ie=u2(w,fe,U);return ee.top=v5(ie.top,ee.top),ee.right=Ta(ie.right,ee.right),ee.bottom=Ta(ie.bottom,ee.bottom),ee.left=v5(ie.left,ee.left),ee},u2(w,n,U));return{width:G.right-G.left,height:G.bottom-G.top,x:G.left,y:G.top}}function wu(C){return a0(C)}function Du(C,w,D){const T=Oo(w),U=sn(w),Y=D==="fixed",R=w5(C,!0,Y,w);let n={scrollLeft:0,scrollTop:0};const G=Un(0);if(T||!T&&!Y)if((zn(w)!=="body"||n3(U))&&(n=Va(w)),T){const ee=w5(w,!0,Y,w);G.x=ee.x+w.clientLeft,G.y=ee.y+w.clientTop}else U&&(G.x=c0(U));return{x:R.left+n.scrollLeft-G.x,y:R.top+n.scrollTop-G.y,width:R.width,height:R.height}}function p2(C,w){return!Oo(C)||so(C).position==="fixed"?null:w?w(C):C.offsetParent}function p0(C,w){const D=Xi(C);if(!Oo(C))return D;let T=p2(C,w);for(;T&&hu(T)&&so(T).position==="static";)T=p2(T,w);return T&&(zn(T)==="html"||zn(T)==="body"&&so(T).position==="static"&&!S9(T))?D:T||du(C)||D}const Su=async function(C){let{reference:w,floating:D,strategy:T}=C;const U=this.getOffsetParent||p0,Y=this.getDimensions;return{reference:Du(w,await U(D),T),floating:{x:0,y:0,...await Y(D)}}};function Mu(C){return so(C).direction==="rtl"}const Au={convertOffsetParentRelativeRectToViewportRelativeRect:yu,getDocumentElement:sn,getClippingRect:Cu,getOffsetParent:p0,getElementRects:Su,getClientRects:_u,getDimensions:wu,getScale:vs,isElement:nn,isRTL:Mu};function Iu(C,w){let D=null,T;const U=sn(C);function Y(){clearTimeout(T),D&&D.disconnect(),D=null}function R(n,G){n===void 0&&(n=!1),G===void 0&&(G=1),Y();const{left:ee,top:fe,width:ie,height:ye}=C.getBoundingClientRect();if(n||w(),!ie||!ye)return;const me=Ia(fe),Ae=Ia(U.clientWidth-(ee+ie)),xe=Ia(U.clientHeight-(fe+ye)),ze=Ia(ee),Qe={rootMargin:-me+"px "+-Ae+"px "+-xe+"px "+-ze+"px",threshold:v5(0,Ta(1,G))||1};let He=!0;function Re(ot){const ut=ot[0].intersectionRatio;if(ut!==G){if(!He)return R();ut?R(!1,ut):T=setTimeout(()=>{R(!1,1e-7)},100)}He=!1}try{D=new IntersectionObserver(Re,{...Qe,root:U.ownerDocument})}catch{D=new IntersectionObserver(Re,Qe)}D.observe(C)}return R(!0),Y}function Eu(C,w,D,T){T===void 0&&(T={});const{ancestorScroll:U=!0,ancestorResize:Y=!0,elementResize:R=typeof ResizeObserver=="function",layoutShift:n=typeof IntersectionObserver=="function",animationFrame:G=!1}=T,ee=A9(C),fe=U||Y?[...ee?Ua(ee):[],...Ua(w)]:[];fe.forEach($e=>{U&&$e.addEventListener("scroll",D,{passive:!0}),Y&&$e.addEventListener("resize",D)});const ie=ee&&n?Iu(ee,D):null;let ye=-1,me=null;R&&(me=new ResizeObserver($e=>{let[Qe]=$e;Qe&&Qe.target===ee&&me&&(me.unobserve(w),cancelAnimationFrame(ye),ye=requestAnimationFrame(()=>{me&&me.observe(w)})),D()}),ee&&!G&&me.observe(ee),me.observe(w));let Ae,xe=G?w5(C):null;G&&ze();function ze(){const $e=w5(C);xe&&($e.x!==xe.x||$e.y!==xe.y||$e.width!==xe.width||$e.height!==xe.height)&&D(),xe=$e,Ae=requestAnimationFrame(ze)}return D(),()=>{fe.forEach($e=>{U&&$e.removeEventListener("scroll",D),Y&&$e.removeEventListener("resize",D)}),ie&&ie(),me&&me.disconnect(),me=null,G&&cancelAnimationFrame(Ae)}}const Pu=(C,w,D)=>{const T=new Map,U={platform:Au,...D},Y={...U.platform,_c:T};return au(C,w,{...U,platform:Y})};function Tu(C){let w,D;const T={autoUpdate:!0};let U=C;const Y=fe=>({...T,...C||{},...fe||{}}),R=fe=>{w&&D&&(U=Y(fe),Pu(w,D,U).then(ie=>{Object.assign(D.style,{position:ie.strategy,left:`${ie.x}px`,top:`${ie.y}px`}),U!=null&&U.onComputed&&U.onComputed(ie)}))},n=fe=>{if("subscribe"in fe)return ee(fe),{};w=fe,R()},G=(fe,ie)=>{let ye;D=fe,U=Y(ie),setTimeout(()=>R(ie),0),R(ie);const me=()=>{ye&&(ye(),ye=void 0)},Ae=({autoUpdate:xe}=U||{})=>{if(me(),xe!==!1)return Eu(w,D,()=>R(U),xe===!0?{}:xe)};return ye=Ae(),{update(xe){R(xe),ye=Ae(xe)},destroy(){me()}}},ee=fe=>{const ie=fe.subscribe(ye=>{w===void 0?(w=ye,R()):(Object.assign(w,ye),R())});$2(ie)};return[n,G,R]}function Fu({loadOptions:C,filterText:w,items:D,multiple:T,value:U,itemId:Y,groupBy:R,filterSelectedItems:n,itemFilter:G,convertStringItemsToObjects:ee,filterGroupedItems:fe,label:ie}){if(D&&C)return D;if(!D)return[];D&&D.length>0&&typeof D[0]!="object"&&(D=ee(D));let ye=D.filter(me=>{let Ae=G(me[ie],w,me);return Ae&&T&&(U!=null&&U.length)&&(Ae=!U.some(xe=>n?xe[Y]===me[Y]:!1)),Ae});return R&&(ye=fe(ye)),ye}async function Lu({dispatch:C,loadOptions:w,convertStringItemsToObjects:D,filterText:T}){let U=await w(T).catch(Y=>{console.warn("svelte-select loadOptions error :>> ",Y),C("error",{type:"loadOptions",details:Y})});if(U&&!U.cancelled)return U?(U&&U.length>0&&typeof U[0]!="object"&&(U=D(U)),C("loaded",{items:U})):U=[],{filteredItems:U,loading:!1,focused:!0,listOpen:!0}}function ku(C){let w,D;return{c(){w=vt("svg"),D=vt("path"),this.h()},l(T){w=bt(T,"svg",{width:!0,height:!0,viewBox:!0,focusable:!0,"aria-hidden":!0,class:!0});var U=ke(w);D=bt(U,"path",{fill:!0,d:!0}),ke(D).forEach(Ce),U.forEach(Ce),this.h()},h(){P(D,"fill","currentColor"),P(D,"d",`M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747
          3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0
          1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502
          0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0
          0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z`),P(w,"width","100%"),P(w,"height","100%"),P(w,"viewBox","0 0 20 20"),P(w,"focusable","false"),P(w,"aria-hidden","true"),P(w,"class","svelte-qbd276")},m(T,U){T4(T,w,U),ne(w,D)},p:oi,i:oi,o:oi,d(T){T&&Ce(w)}}}class Uu extends t3{constructor(w){super(),r3(this,w,null,ku,i3,{})}}function zu(C){let w,D;return{c(){w=vt("svg"),D=vt("path"),this.h()},l(T){w=bt(T,"svg",{width:!0,height:!0,viewBox:!0,focusable:!0,"aria-hidden":!0,role:!0,class:!0});var U=ke(w);D=bt(U,"path",{fill:!0,d:!0}),ke(D).forEach(Ce),U.forEach(Ce),this.h()},h(){P(D,"fill","currentColor"),P(D,"d",`M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124
    l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z`),P(w,"width","100%"),P(w,"height","100%"),P(w,"viewBox","-2 -2 50 50"),P(w,"focusable","false"),P(w,"aria-hidden","true"),P(w,"role","presentation"),P(w,"class","svelte-whdbu1")},m(T,U){T4(T,w,U),ne(w,D)},p:oi,i:oi,o:oi,d(T){T&&Ce(w)}}}class za extends t3{constructor(w){super(),r3(this,w,null,zu,i3,{})}}function Ru(C){let w,D;return{c(){w=vt("svg"),D=vt("circle"),this.h()},l(T){w=bt(T,"svg",{class:!0,viewBox:!0});var U=ke(w);D=bt(U,"circle",{class:!0,cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0}),ke(D).forEach(Ce),U.forEach(Ce),this.h()},h(){P(D,"class","circle_path svelte-1p3nqvd"),P(D,"cx","50"),P(D,"cy","50"),P(D,"r","20"),P(D,"fill","none"),P(D,"stroke","currentColor"),P(D,"stroke-width","5"),P(D,"stroke-miterlimit","10"),P(w,"class","loading svelte-1p3nqvd"),P(w,"viewBox","25 25 50 50")},m(T,U){T4(T,w,U),ne(w,D)},p:oi,i:oi,o:oi,d(T){T&&Ce(w)}}}class Bu extends t3{constructor(w){super(),r3(this,w,null,Ru,i3,{})}}const Nu=C=>({value:C[0]&8}),h2=C=>({value:C[3]}),Ou=C=>({value:C[0]&8}),d2=C=>({value:C[3]}),Vu=C=>({listOpen:C[0]&64}),f2=C=>({listOpen:C[6]}),ju=C=>({}),m2=C=>({}),Gu=C=>({}),y2=C=>({}),qu=C=>({selection:C[0]&8}),_2=C=>({selection:C[3]});function g2(C,w,D){const T=C.slice();return T[125]=w[D],T[127]=D,T}const Zu=C=>({}),x2=C=>({}),Wu=C=>({selection:C[0]&8}),v2=C=>({selection:C[125],index:C[127]}),Hu=C=>({}),b2=C=>({}),Xu=C=>({}),C2=C=>({}),Yu=C=>({}),w2=C=>({});function D2(C,w,D){const T=C.slice();return T[125]=w[D],T[127]=D,T}const Ku=C=>({item:C[0]&16777216}),S2=C=>({item:C[125],index:C[127]}),Ju=C=>({filteredItems:C[0]&16777216}),M2=C=>({filteredItems:C[24]}),$u=C=>({}),A2=C=>({});function I2(C){let w,D,T,U,Y,R,n,G,ee=C[50]["list-prepend"]&&E2(C);const fe=[tp,ep,Qu],ie=[];function ye(Ae,xe){return Ae[50].list?0:Ae[24].length>0?1:Ae[19]?-1:2}~(T=ye(C))&&(U=ie[T]=fe[T](C));let me=C[50]["list-append"]&&T2(C);return{c(){w=At("div"),ee&&ee.c(),D=p4(),U&&U.c(),Y=p4(),me&&me.c(),this.h()},l(Ae){w=It(Ae,"DIV",{class:!0});var xe=ke(w);ee&&ee.l(xe),D=h4(xe),U&&U.l(xe),Y=h4(xe),me&&me.l(xe),xe.forEach(Ce),this.h()},h(){P(w,"class","svelte-select-list svelte-82qwg8"),P4(w,"prefloat",C[28])},m(Ae,xe){T4(Ae,w,xe),ee&&ee.m(w,null),ne(w,D),~T&&ie[T].m(w,null),ne(w,Y),me&&me.m(w,null),C[90](w),R=!0,n||(G=[Pa(C[49].call(null,w)),Nr(w,"scroll",C[41]),Nr(w,"pointerup",e3(b5(C[85])))],n=!0)},p(Ae,xe){Ae[50]["list-prepend"]?ee?(ee.p(Ae,xe),xe[1]&524288&&Vt(ee,1)):(ee=E2(Ae),ee.c(),Vt(ee,1),ee.m(w,D)):ee&&(Wi(),i4(ee,1,1,()=>{ee=null}),Hi());let ze=T;T=ye(Ae),T===ze?~T&&ie[T].p(Ae,xe):(U&&(Wi(),i4(ie[ze],1,1,()=>{ie[ze]=null}),Hi()),~T?(U=ie[T],U?U.p(Ae,xe):(U=ie[T]=fe[T](Ae),U.c()),Vt(U,1),U.m(w,Y)):U=null),Ae[50]["list-append"]?me?(me.p(Ae,xe),xe[1]&524288&&Vt(me,1)):(me=T2(Ae),me.c(),Vt(me,1),me.m(w,null)):me&&(Wi(),i4(me,1,1,()=>{me=null}),Hi()),(!R||xe[0]&268435456)&&P4(w,"prefloat",Ae[28])},i(Ae){R||(Vt(ee),Vt(U),Vt(me),R=!0)},o(Ae){i4(ee),i4(U),i4(me),R=!1},d(Ae){Ae&&Ce(w),ee&&ee.d(),~T&&ie[T].d(),me&&me.d(),C[90](null),n=!1,o3(G)}}}function E2(C){let w;const D=C[82]["list-prepend"],T=zi(D,C,C[81],A2);return{c(){T&&T.c()},l(U){T&&T.l(U)},m(U,Y){T&&T.m(U,Y),w=!0},p(U,Y){T&&T.p&&(!w||Y[2]&524288)&&Ri(T,D,U,U[81],w?Ni(D,U[81],Y,$u):Bi(U[81]),A2)},i(U){w||(Vt(T,U),w=!0)},o(U){i4(T,U),w=!1},d(U){T&&T.d(U)}}}function Qu(C){let w;const D=C[82].empty,T=zi(D,C,C[81],w2),U=T||rp();return{c(){U&&U.c()},l(Y){U&&U.l(Y)},m(Y,R){U&&U.m(Y,R),w=!0},p(Y,R){T&&T.p&&(!w||R[2]&524288)&&Ri(T,D,Y,Y[81],w?Ni(D,Y[81],R,Yu):Bi(Y[81]),w2)},i(Y){w||(Vt(U,Y),w=!0)},o(Y){i4(U,Y),w=!1},d(Y){U&&U.d(Y)}}}function ep(C){let w,D,T=C[24],U=[];for(let R=0;R<T.length;R+=1)U[R]=P2(D2(C,T,R));const Y=R=>i4(U[R],1,1,()=>{U[R]=null});return{c(){for(let R=0;R<U.length;R+=1)U[R].c();w=bs()},l(R){for(let n=0;n<U.length;n+=1)U[n].l(R);w=bs()},m(R,n){for(let G=0;G<U.length;G+=1)U[G]&&U[G].m(R,n);T4(R,w,n),D=!0},p(R,n){if(n[0]&1627402376|n[1]&28672|n[2]&524288){T=R[24];let G;for(G=0;G<T.length;G+=1){const ee=D2(R,T,G);U[G]?(U[G].p(ee,n),Vt(U[G],1)):(U[G]=P2(ee),U[G].c(),Vt(U[G],1),U[G].m(w.parentNode,w))}for(Wi(),G=T.length;G<U.length;G+=1)Y(G);Hi()}},i(R){if(!D){for(let n=0;n<T.length;n+=1)Vt(U[n]);D=!0}},o(R){U=U.filter(Boolean);for(let n=0;n<U.length;n+=1)i4(U[n]);D=!1},d(R){e0(U,R),R&&Ce(w)}}}function tp(C){let w;const D=C[82].list,T=zi(D,C,C[81],M2);return{c(){T&&T.c()},l(U){T&&T.l(U)},m(U,Y){T&&T.m(U,Y),w=!0},p(U,Y){T&&T.p&&(!w||Y[0]&16777216|Y[2]&524288)&&Ri(T,D,U,U[81],w?Ni(D,U[81],Y,Ju):Bi(U[81]),M2)},i(U){w||(Vt(T,U),w=!0)},o(U){i4(T,U),w=!1},d(U){T&&T.d(U)}}}function rp(C){let w,D;return{c(){w=At("div"),D=wt("No options"),this.h()},l(T){w=It(T,"DIV",{class:!0});var U=ke(w);D=Dt(U,"No options"),U.forEach(Ce),this.h()},h(){P(w,"class","empty svelte-82qwg8")},m(T,U){T4(T,w,U),ne(w,D)},p:oi,d(T){T&&Ce(w)}}}function ip(C){var T;let w=((T=C[125])==null?void 0:T[C[12]])+"",D;return{c(){D=wt(w)},l(U){D=Dt(U,w)},m(U,Y){T4(U,D,Y)},p(U,Y){var R;Y[0]&16781312&&w!==(w=((R=U[125])==null?void 0:R[U[12]])+"")&&Do(D,w)},d(U){U&&Ce(D)}}}function P2(C){let w,D,T,U,Y,R,n,G;const ee=C[82].item,fe=zi(ee,C,C[81],S2),ie=fe||ip(C);function ye(){return C[87](C[127])}function me(){return C[88](C[127])}function Ae(){return C[89](C[125],C[127])}return{c(){w=At("div"),D=At("div"),ie&&ie.c(),Y=p4(),this.h()},l(xe){w=It(xe,"DIV",{class:!0,tabindex:!0,role:!0});var ze=ke(w);D=It(ze,"DIV",{class:!0});var $e=ke(D);ie&&ie.l($e),$e.forEach(Ce),Y=h4(ze),ze.forEach(Ce),this.h()},h(){var xe;P(D,"class","item svelte-82qwg8"),P4(D,"list-group-title",C[125].groupHeader),P4(D,"active",C[45](C[125],C[3],C[13])),P4(D,"first",mp(C[127])),P4(D,"hover",C[7]===C[127]),P4(D,"group-item",C[125].groupItem),P4(D,"not-selectable",((xe=C[125])==null?void 0:xe.selectable)===!1),P(w,"class","list-item svelte-82qwg8"),P(w,"tabindex","-1"),P(w,"role","none")},m(xe,ze){T4(xe,w,ze),ne(w,D),ie&&ie.m(D,null),ne(w,Y),R=!0,n||(G=[Pa(T=C[46].call(null,D,{scroll:C[45](C[125],C[3],C[13]),listDom:C[30]})),Pa(U=C[47].call(null,D,{scroll:C[29]===C[127],listDom:C[30]})),Nr(w,"mouseover",ye),Nr(w,"focus",me),Nr(w,"click",e3(Ae)),Nr(w,"keydown",e3(b5(C[86])))],n=!0)},p(xe,ze){var $e;C=xe,fe?fe.p&&(!R||ze[0]&16777216|ze[2]&524288)&&Ri(fe,ee,C,C[81],R?Ni(ee,C[81],ze,Ku):Bi(C[81]),S2):ie&&ie.p&&(!R||ze[0]&16781312)&&ie.p(C,R?ze:[-1,-1,-1,-1,-1]),T&&s2(T.update)&&ze[0]&1090527240&&T.update.call(null,{scroll:C[45](C[125],C[3],C[13]),listDom:C[30]}),U&&s2(U.update)&&ze[0]&1610612736&&U.update.call(null,{scroll:C[29]===C[127],listDom:C[30]}),(!R||ze[0]&16777216)&&P4(D,"list-group-title",C[125].groupHeader),(!R||ze[0]&16785416|ze[1]&16384)&&P4(D,"active",C[45](C[125],C[3],C[13])),(!R||ze[0]&128)&&P4(D,"hover",C[7]===C[127]),(!R||ze[0]&16777216)&&P4(D,"group-item",C[125].groupItem),(!R||ze[0]&16777216)&&P4(D,"not-selectable",(($e=C[125])==null?void 0:$e.selectable)===!1)},i(xe){R||(Vt(ie,xe),R=!0)},o(xe){i4(ie,xe),R=!1},d(xe){xe&&Ce(w),ie&&ie.d(xe),n=!1,o3(G)}}}function T2(C){let w;const D=C[82]["list-append"],T=zi(D,C,C[81],C2);return{c(){T&&T.c()},l(U){T&&T.l(U)},m(U,Y){T&&T.m(U,Y),w=!0},p(U,Y){T&&T.p&&(!w||Y[2]&524288)&&Ri(T,D,U,U[81],w?Ni(D,U[81],Y,Xu):Bi(U[81]),C2)},i(U){w||(Vt(T,U),w=!0)},o(U){i4(T,U),w=!1},d(U){T&&T.d(U)}}}function F2(C){let w,D,T,U,Y;return{c(){w=At("span"),D=wt(C[32]),T=p4(),U=At("span"),Y=wt(C[31]),this.h()},l(R){w=It(R,"SPAN",{id:!0,class:!0});var n=ke(w);D=Dt(n,C[32]),n.forEach(Ce),T=h4(R),U=It(R,"SPAN",{id:!0,class:!0});var G=ke(U);Y=Dt(G,C[31]),G.forEach(Ce),this.h()},h(){P(w,"id","aria-selection"),P(w,"class","svelte-82qwg8"),P(U,"id","aria-context"),P(U,"class","svelte-82qwg8")},m(R,n){T4(R,w,n),ne(w,D),T4(R,T,n),T4(R,U,n),ne(U,Y)},p(R,n){n[1]&2&&Do(D,R[32]),n[1]&1&&Do(Y,R[31])},d(R){R&&Ce(w),R&&Ce(T),R&&Ce(U)}}}function L2(C){let w,D,T,U;const Y=[np,op],R=[];function n(G,ee){return G[9]?0:1}return w=n(C),D=R[w]=Y[w](C),{c(){D.c(),T=bs()},l(G){D.l(G),T=bs()},m(G,ee){R[w].m(G,ee),T4(G,T,ee),U=!0},p(G,ee){let fe=w;w=n(G),w===fe?R[w].p(G,ee):(Wi(),i4(R[fe],1,1,()=>{R[fe]=null}),Hi(),D=R[w],D?D.p(G,ee):(D=R[w]=Y[w](G),D.c()),Vt(D,1),D.m(T.parentNode,T))},i(G){U||(Vt(D),U=!0)},o(G){i4(D),U=!1},d(G){R[w].d(G),G&&Ce(T)}}}function op(C){let w,D;const T=C[82].selection,U=zi(T,C,C[81],_2),Y=U||sp(C);return{c(){w=At("div"),Y&&Y.c(),this.h()},l(R){w=It(R,"DIV",{class:!0});var n=ke(w);Y&&Y.l(n),n.forEach(Ce),this.h()},h(){P(w,"class","selected-item svelte-82qwg8"),P4(w,"hide-selected-item",C[35])},m(R,n){T4(R,w,n),Y&&Y.m(w,null),D=!0},p(R,n){U?U.p&&(!D||n[0]&8|n[2]&524288)&&Ri(U,T,R,R[81],D?Ni(T,R[81],n,qu):Bi(R[81]),_2):Y&&Y.p&&(!D||n[0]&4104)&&Y.p(R,D?n:[-1,-1,-1,-1,-1]),(!D||n[1]&16)&&P4(w,"hide-selected-item",R[35])},i(R){D||(Vt(Y,R),D=!0)},o(R){i4(Y,R),D=!1},d(R){R&&Ce(w),Y&&Y.d(R)}}}function np(C){let w,D,T=C[3],U=[];for(let R=0;R<T.length;R+=1)U[R]=U2(g2(C,T,R));const Y=R=>i4(U[R],1,1,()=>{U[R]=null});return{c(){for(let R=0;R<U.length;R+=1)U[R].c();w=bs()},l(R){for(let n=0;n<U.length;n+=1)U[n].l(R);w=bs()},m(R,n){for(let G=0;G<U.length;G+=1)U[G]&&U[G].m(R,n);T4(R,w,n),D=!0},p(R,n){if(n[0]&67116040|n[1]&32|n[2]&524288){T=R[3];let G;for(G=0;G<T.length;G+=1){const ee=g2(R,T,G);U[G]?(U[G].p(ee,n),Vt(U[G],1)):(U[G]=U2(ee),U[G].c(),Vt(U[G],1),U[G].m(w.parentNode,w))}for(Wi(),G=T.length;G<U.length;G+=1)Y(G);Hi()}},i(R){if(!D){for(let n=0;n<T.length;n+=1)Vt(U[n]);D=!0}},o(R){U=U.filter(Boolean);for(let n=0;n<U.length;n+=1)i4(U[n]);D=!1},d(R){e0(U,R),R&&Ce(w)}}}function sp(C){let w=C[3][C[12]]+"",D;return{c(){D=wt(w)},l(T){D=Dt(T,w)},m(T,U){T4(T,D,U)},p(T,U){U[0]&4104&&w!==(w=T[3][T[12]]+"")&&Do(D,w)},d(T){T&&Ce(D)}}}function ap(C){let w=C[125][C[12]]+"",D;return{c(){D=wt(w)},l(T){D=Dt(T,w)},m(T,U){T4(T,D,U)},p(T,U){U[0]&4104&&w!==(w=T[125][T[12]]+"")&&Do(D,w)},d(T){T&&Ce(D)}}}function k2(C){let w,D,T,U;const Y=C[82]["multi-clear-icon"],R=zi(Y,C,C[81],x2),n=R||lp();function G(){return C[91](C[127])}return{c(){w=At("div"),n&&n.c(),this.h()},l(ee){w=It(ee,"DIV",{class:!0});var fe=ke(w);n&&n.l(fe),fe.forEach(Ce),this.h()},h(){P(w,"class","multi-item-clear svelte-82qwg8")},m(ee,fe){T4(ee,w,fe),n&&n.m(w,null),D=!0,T||(U=Nr(w,"pointerup",e3(b5(G))),T=!0)},p(ee,fe){C=ee,R&&R.p&&(!D||fe[2]&524288)&&Ri(R,Y,C,C[81],D?Ni(Y,C[81],fe,Zu):Bi(C[81]),x2)},i(ee){D||(Vt(n,ee),D=!0)},o(ee){i4(n,ee),D=!1},d(ee){ee&&Ce(w),n&&n.d(ee),T=!1,U()}}}function lp(C){let w,D;return w=new za({}),{c(){Cs(w.$$.fragment)},l(T){ws(w.$$.fragment,T)},m(T,U){Ds(w,T,U),D=!0},i(T){D||(Vt(w.$$.fragment,T),D=!0)},o(T){i4(w.$$.fragment,T),D=!1},d(T){Ss(w,T)}}}function U2(C){let w,D,T,U,Y,R,n;const G=C[82].selection,ee=zi(G,C,C[81],v2),fe=ee||ap(C);let ie=!C[11]&&!C[10]&&za&&k2(C);function ye(){return C[92](C[127])}return{c(){w=At("div"),D=At("span"),fe&&fe.c(),T=p4(),ie&&ie.c(),U=p4(),this.h()},l(me){w=It(me,"DIV",{class:!0,role:!0});var Ae=ke(w);D=It(Ae,"SPAN",{class:!0});var xe=ke(D);fe&&fe.l(xe),xe.forEach(Ce),T=h4(Ae),ie&&ie.l(Ae),U=h4(Ae),Ae.forEach(Ce),this.h()},h(){P(D,"class","multi-item-text svelte-82qwg8"),P(w,"class","multi-item svelte-82qwg8"),P(w,"role","none"),P4(w,"active",C[26]===C[127]),P4(w,"disabled",C[11])},m(me,Ae){T4(me,w,Ae),ne(w,D),fe&&fe.m(D,null),ne(w,T),ie&&ie.m(w,null),ne(w,U),Y=!0,R||(n=[Nr(w,"click",b5(ye)),Nr(w,"keydown",e3(b5(C[84])))],R=!0)},p(me,Ae){C=me,ee?ee.p&&(!Y||Ae[0]&8|Ae[2]&524288)&&Ri(ee,G,C,C[81],Y?Ni(G,C[81],Ae,Wu):Bi(C[81]),v2):fe&&fe.p&&(!Y||Ae[0]&4104)&&fe.p(C,Y?Ae:[-1,-1,-1,-1,-1]),!C[11]&&!C[10]&&za?ie?(ie.p(C,Ae),Ae[0]&3072&&Vt(ie,1)):(ie=k2(C),ie.c(),Vt(ie,1),ie.m(w,U)):ie&&(Wi(),i4(ie,1,1,()=>{ie=null}),Hi()),(!Y||Ae[0]&67108864)&&P4(w,"active",C[26]===C[127]),(!Y||Ae[0]&2048)&&P4(w,"disabled",C[11])},i(me){Y||(Vt(fe,me),Vt(ie),Y=!0)},o(me){i4(fe,me),i4(ie),Y=!1},d(me){me&&Ce(w),fe&&fe.d(me),ie&&ie.d(),R=!1,o3(n)}}}function z2(C){let w,D;const T=C[82]["loading-icon"],U=zi(T,C,C[81],y2),Y=U||cp();return{c(){w=At("div"),Y&&Y.c(),this.h()},l(R){w=It(R,"DIV",{class:!0,"aria-hidden":!0});var n=ke(w);Y&&Y.l(n),n.forEach(Ce),this.h()},h(){P(w,"class","icon loading svelte-82qwg8"),P(w,"aria-hidden","true")},m(R,n){T4(R,w,n),Y&&Y.m(w,null),D=!0},p(R,n){U&&U.p&&(!D||n[2]&524288)&&Ri(U,T,R,R[81],D?Ni(T,R[81],n,Gu):Bi(R[81]),y2)},i(R){D||(Vt(Y,R),D=!0)},o(R){i4(Y,R),D=!1},d(R){R&&Ce(w),Y&&Y.d(R)}}}function cp(C){let w,D;return w=new Bu({}),{c(){Cs(w.$$.fragment)},l(T){ws(w.$$.fragment,T)},m(T,U){Ds(w,T,U),D=!0},i(T){D||(Vt(w.$$.fragment,T),D=!0)},o(T){i4(w.$$.fragment,T),D=!1},d(T){Ss(w,T)}}}function R2(C){let w,D,T,U;const Y=C[82]["clear-icon"],R=zi(Y,C,C[81],m2),n=R||up();return{c(){w=At("button"),n&&n.c(),this.h()},l(G){w=It(G,"BUTTON",{type:!0,class:!0});var ee=ke(w);n&&n.l(ee),ee.forEach(Ce),this.h()},h(){P(w,"type","button"),P(w,"class","icon clear-select svelte-82qwg8")},m(G,ee){T4(G,w,ee),n&&n.m(w,null),D=!0,T||(U=Nr(w,"click",C[22]),T=!0)},p(G,ee){R&&R.p&&(!D||ee[2]&524288)&&Ri(R,Y,G,G[81],D?Ni(Y,G[81],ee,ju):Bi(G[81]),m2)},i(G){D||(Vt(n,G),D=!0)},o(G){i4(n,G),D=!1},d(G){G&&Ce(w),n&&n.d(G),T=!1,U()}}}function up(C){let w,D;return w=new za({}),{c(){Cs(w.$$.fragment)},l(T){ws(w.$$.fragment,T)},m(T,U){Ds(w,T,U),D=!0},i(T){D||(Vt(w.$$.fragment,T),D=!0)},o(T){i4(w.$$.fragment,T),D=!1},d(T){Ss(w,T)}}}function B2(C){let w,D;const T=C[82]["chevron-icon"],U=zi(T,C,C[81],f2),Y=U||pp();return{c(){w=At("div"),Y&&Y.c(),this.h()},l(R){w=It(R,"DIV",{class:!0,"aria-hidden":!0});var n=ke(w);Y&&Y.l(n),n.forEach(Ce),this.h()},h(){P(w,"class","icon chevron svelte-82qwg8"),P(w,"aria-hidden","true")},m(R,n){T4(R,w,n),Y&&Y.m(w,null),D=!0},p(R,n){U&&U.p&&(!D||n[0]&64|n[2]&524288)&&Ri(U,T,R,R[81],D?Ni(T,R[81],n,Vu):Bi(R[81]),f2)},i(R){D||(Vt(Y,R),D=!0)},o(R){i4(Y,R),D=!1},d(R){R&&Ce(w),Y&&Y.d(R)}}}function pp(C){let w,D;return w=new Uu({}),{c(){Cs(w.$$.fragment)},l(T){ws(w.$$.fragment,T)},m(T,U){Ds(w,T,U),D=!0},i(T){D||(Vt(w.$$.fragment,T),D=!0)},o(T){i4(w.$$.fragment,T),D=!1},d(T){Ss(w,T)}}}function hp(C){let w,D;return{c(){w=At("input"),this.h()},l(T){w=It(T,"INPUT",{name:!0,type:!0,class:!0}),this.h()},h(){P(w,"name",C[8]),P(w,"type","hidden"),w.value=D=C[3]?JSON.stringify(C[3]):null,P(w,"class","svelte-82qwg8")},m(T,U){T4(T,w,U)},p(T,U){U[0]&256&&P(w,"name",T[8]),U[0]&8&&D!==(D=T[3]?JSON.stringify(T[3]):null)&&(w.value=D)},d(T){T&&Ce(w)}}}function N2(C){let w;const D=C[82].required,T=zi(D,C,C[81],h2),U=T||dp();return{c(){U&&U.c()},l(Y){U&&U.l(Y)},m(Y,R){U&&U.m(Y,R),w=!0},p(Y,R){T&&T.p&&(!w||R[0]&8|R[2]&524288)&&Ri(T,D,Y,Y[81],w?Ni(D,Y[81],R,Nu):Bi(Y[81]),h2)},i(Y){w||(Vt(U,Y),w=!0)},o(Y){i4(U,Y),w=!1},d(Y){U&&U.d(Y)}}}function dp(C){let w;return{c(){w=At("select"),this.h()},l(D){w=It(D,"SELECT",{class:!0,tabindex:!0,"aria-hidden":!0}),ke(w).forEach(Ce),this.h()},h(){P(w,"class","required svelte-82qwg8"),w.required=!0,P(w,"tabindex","-1"),P(w,"aria-hidden","true")},m(D,T){T4(D,w,T)},p:oi,d(D){D&&Ce(w)}}}function fp(C){let w,D,T,U,Y,R,n,G,ee,fe,ie,ye,me,Ae,xe,ze,$e,Qe,He,Re,ot=C[6]&&I2(C),ut=C[2]&&F2(C);const Xe=C[82].prepend,mt=zi(Xe,C,C[81],b2);let Te=C[25]&&L2(C),Et=[{readOnly:fe=!C[17]},C[27],{placeholder:C[33]},{style:C[18]},{disabled:C[11]}],we={};for(let _t=0;_t<Et.length;_t+=1)we=G8(we,Et[_t]);let qe=C[5]&&z2(C),ct=C[34]&&R2(C),kt=C[20]&&B2(C);const Pt=C[82]["input-hidden"],o4=zi(Pt,C,C[81],d2),d4=o4||hp(C);let gt=C[16]&&(!C[3]||C[3].length===0)&&N2(C);return{c(){w=At("div"),ot&&ot.c(),D=p4(),T=At("span"),ut&&ut.c(),U=p4(),Y=At("div"),mt&&mt.c(),R=p4(),n=At("div"),Te&&Te.c(),G=p4(),ee=At("input"),ie=p4(),ye=At("div"),qe&&qe.c(),me=p4(),ct&&ct.c(),Ae=p4(),kt&&kt.c(),xe=p4(),d4&&d4.c(),ze=p4(),gt&&gt.c(),this.h()},l(_t){w=It(_t,"DIV",{class:!0,style:!0,role:!0});var xt=ke(w);ot&&ot.l(xt),D=h4(xt),T=It(xt,"SPAN",{"aria-live":!0,"aria-atomic":!0,"aria-relevant":!0,class:!0});var Zt=ke(T);ut&&ut.l(Zt),Zt.forEach(Ce),U=h4(xt),Y=It(xt,"DIV",{class:!0});var Q4=ke(Y);mt&&mt.l(Q4),Q4.forEach(Ce),R=h4(xt),n=It(xt,"DIV",{class:!0});var a4=ke(n);Te&&Te.l(a4),G=h4(a4),ee=It(a4,"INPUT",{placeholder:!0,style:!0}),a4.forEach(Ce),ie=h4(xt),ye=It(xt,"DIV",{class:!0});var f4=ke(ye);qe&&qe.l(f4),me=h4(f4),ct&&ct.l(f4),Ae=h4(f4),kt&&kt.l(f4),f4.forEach(Ce),xe=h4(xt),d4&&d4.l(xt),ze=h4(xt),gt&&gt.l(xt),xt.forEach(Ce),this.h()},h(){P(T,"aria-live","polite"),P(T,"aria-atomic","false"),P(T,"aria-relevant","additions text"),P(T,"class","a11y-text svelte-82qwg8"),P(Y,"class","prepend svelte-82qwg8"),o2(ee,we),P4(ee,"svelte-82qwg8",!0),P(n,"class","value-container svelte-82qwg8"),P(ye,"class","indicators svelte-82qwg8"),P(w,"class",$e="svelte-select "+C[21]+" svelte-82qwg8"),P(w,"style",C[14]),P(w,"role","none"),P4(w,"multi",C[9]),P4(w,"disabled",C[11]),P4(w,"focused",C[2]),P4(w,"list-open",C[6]),P4(w,"show-chevron",C[20]),P4(w,"error",C[15])},m(_t,xt){T4(_t,w,xt),ot&&ot.m(w,null),ne(w,D),ne(w,T),ut&&ut.m(T,null),ne(w,U),ne(w,Y),mt&&mt.m(Y,null),ne(w,R),ne(w,n),Te&&Te.m(n,null),ne(n,G),ne(n,ee),ee.autofocus&&ee.focus(),C[93](ee),n2(ee,C[4]),ne(w,ie),ne(w,ye),qe&&qe.m(ye,null),ne(ye,me),ct&&ct.m(ye,null),ne(ye,Ae),kt&&kt.m(ye,null),ne(w,xe),d4&&d4.m(w,null),ne(w,ze),gt&&gt.m(w,null),C[95](w),Qe=!0,He||(Re=[Nr(window,"click",C[42]),Nr(window,"keydown",C[37]),Nr(ee,"keydown",C[37]),Nr(ee,"blur",C[39]),Nr(ee,"focus",C[38]),Nr(ee,"input",C[94]),Nr(w,"pointerup",b5(C[40])),Nr(w,"mousedown",b5(C[83])),Pa(C[48].call(null,w))],He=!0)},p(_t,xt){_t[6]?ot?(ot.p(_t,xt),xt[0]&64&&Vt(ot,1)):(ot=I2(_t),ot.c(),Vt(ot,1),ot.m(w,D)):ot&&(Wi(),i4(ot,1,1,()=>{ot=null}),Hi()),_t[2]?ut?ut.p(_t,xt):(ut=F2(_t),ut.c(),ut.m(T,null)):ut&&(ut.d(1),ut=null),mt&&mt.p&&(!Qe||xt[2]&524288)&&Ri(mt,Xe,_t,_t[81],Qe?Ni(Xe,_t[81],xt,Hu):Bi(_t[81]),b2),_t[25]?Te?(Te.p(_t,xt),xt[0]&33554432&&Vt(Te,1)):(Te=L2(_t),Te.c(),Vt(Te,1),Te.m(n,G)):Te&&(Wi(),i4(Te,1,1,()=>{Te=null}),Hi()),o2(ee,we=q8(Et,[(!Qe||xt[0]&131072&&fe!==(fe=!_t[17]))&&{readOnly:fe},xt[0]&134217728&&_t[27],(!Qe||xt[1]&4)&&{placeholder:_t[33]},(!Qe||xt[0]&262144)&&{style:_t[18]},(!Qe||xt[0]&2048)&&{disabled:_t[11]}])),xt[0]&16&&ee.value!==_t[4]&&n2(ee,_t[4]),P4(ee,"svelte-82qwg8",!0),_t[5]?qe?(qe.p(_t,xt),xt[0]&32&&Vt(qe,1)):(qe=z2(_t),qe.c(),Vt(qe,1),qe.m(ye,me)):qe&&(Wi(),i4(qe,1,1,()=>{qe=null}),Hi()),_t[34]?ct?(ct.p(_t,xt),xt[1]&8&&Vt(ct,1)):(ct=R2(_t),ct.c(),Vt(ct,1),ct.m(ye,Ae)):ct&&(Wi(),i4(ct,1,1,()=>{ct=null}),Hi()),_t[20]?kt?(kt.p(_t,xt),xt[0]&1048576&&Vt(kt,1)):(kt=B2(_t),kt.c(),Vt(kt,1),kt.m(ye,null)):kt&&(Wi(),i4(kt,1,1,()=>{kt=null}),Hi()),o4?o4.p&&(!Qe||xt[0]&8|xt[2]&524288)&&Ri(o4,Pt,_t,_t[81],Qe?Ni(Pt,_t[81],xt,Ou):Bi(_t[81]),d2):d4&&d4.p&&(!Qe||xt[0]&264)&&d4.p(_t,Qe?xt:[-1,-1,-1,-1,-1]),_t[16]&&(!_t[3]||_t[3].length===0)?gt?(gt.p(_t,xt),xt[0]&65544&&Vt(gt,1)):(gt=N2(_t),gt.c(),Vt(gt,1),gt.m(w,null)):gt&&(Wi(),i4(gt,1,1,()=>{gt=null}),Hi()),(!Qe||xt[0]&2097152&&$e!==($e="svelte-select "+_t[21]+" svelte-82qwg8"))&&P(w,"class",$e),(!Qe||xt[0]&16384)&&P(w,"style",_t[14]),(!Qe||xt[0]&2097664)&&P4(w,"multi",_t[9]),(!Qe||xt[0]&2099200)&&P4(w,"disabled",_t[11]),(!Qe||xt[0]&2097156)&&P4(w,"focused",_t[2]),(!Qe||xt[0]&2097216)&&P4(w,"list-open",_t[6]),(!Qe||xt[0]&3145728)&&P4(w,"show-chevron",_t[20]),(!Qe||xt[0]&2129920)&&P4(w,"error",_t[15])},i(_t){Qe||(Vt(ot),Vt(mt,_t),Vt(Te),Vt(qe),Vt(ct),Vt(kt),Vt(d4,_t),Vt(gt),Qe=!0)},o(_t){i4(ot),i4(mt,_t),i4(Te),i4(qe),i4(ct),i4(kt),i4(d4,_t),i4(gt),Qe=!1},d(_t){_t&&Ce(w),ot&&ot.d(),ut&&ut.d(),mt&&mt.d(_t),Te&&Te.d(),C[93](null),qe&&qe.d(),ct&&ct.d(),kt&&kt.d(),d4&&d4.d(_t),gt&&gt.d(),C[95](null),He=!1,o3(Re)}}}function O2(C){return C.map((w,D)=>({index:D,value:w,label:`${w}`}))}function mp(C){return C===0}function yp(C){return C.groupHeader&&C.selectable||C.selectable||!C.hasOwnProperty("selectable")}function _p(C,w,D){let T,U,Y,R,n,G,ee,fe,ie,{$$slots:ye={},$$scope:me}=w;const Ae=Z8(ye),xe=W8();let{justValue:ze=null}=w,{filter:$e=Fu}=w,{getItems:Qe=Lu}=w,{id:He=null}=w,{name:Re=null}=w,{container:ot=void 0}=w,{input:ut=void 0}=w,{multiple:Xe=!1}=w,{multiFullItemClearable:mt=!1}=w,{disabled:Te=!1}=w,{focused:Et=!1}=w,{value:we=null}=w,{filterText:qe=""}=w,{placeholder:ct="Please select"}=w,{placeholderAlwaysShow:kt=!1}=w,{items:Pt=null}=w,{label:o4="label"}=w,{itemFilter:d4=(oe,Ze,s4)=>`${oe}`.toLowerCase().includes(Ze.toLowerCase())}=w,{groupBy:gt=void 0}=w,{groupFilter:_t=oe=>oe}=w,{groupHeaderSelectable:xt=!1}=w,{itemId:Zt="value"}=w,{loadOptions:Q4=void 0}=w,{containerStyles:a4=""}=w,{hasError:f4=!1}=w,{filterSelectedItems:ni=!0}=w,{required:Or=!1}=w,{closeListOnChange:Vr=!0}=w,{createGroupHeaderItem:gi=(oe,Ze)=>({value:oe,[o4]:oe})}=w;const Kr=()=>ee;let{searchable:jr=!0}=w,{inputStyles:Qt=""}=w,{clearable:si=!0}=w,{loading:Y4=!1}=w,{listOpen:c4=!1}=w,g4,{debounce:er=(oe,Ze=1)=>{clearTimeout(g4),g4=setTimeout(oe,Ze)}}=w,{debounceWait:K4=300}=w,{hideEmptyState:Jr=!1}=w,{inputAttributes:nr={}}=w,{listAutoWidth:xi=!0}=w,{showChevron:b4=!1}=w,{listOffset:ai=5}=w,{hoverItemIndex:l4=0}=w,{floatingConfig:Ir={}}=w,{class:wi=""}=w,D4,tr,S4,vi;function Pr(){if(typeof we=="string"){let oe=(Pt||[]).find(Ze=>Ze[Zt]===we);D(3,we=oe||{[Zt]:we,label:we})}else Xe&&Array.isArray(we)&&we.length>0&&D(3,we=we.map(oe=>typeof oe=="string"?{value:oe,label:oe}:oe))}let Gr;function Oi(){D(27,Gr=Object.assign({autocapitalize:"none",autocomplete:"off",autocorrect:"off",spellcheck:!1,tabindex:0,type:"text","aria-autocomplete":"list"},nr)),He&&D(27,Gr.id=He,Gr),jr||D(27,Gr.readonly=!0,Gr)}function Er(oe){const Ze=[],s4={};oe.forEach(Wr=>{const ir=gt(Wr);Ze.includes(ir)||(Ze.push(ir),s4[ir]=[],ir&&s4[ir].push(Object.assign(gi(ir,Wr),{id:ir,groupHeader:!0,selectable:xt}))),s4[ir].push(Object.assign({groupItem:!!ir},Wr))});const kr=[];return _t(Ze).forEach(Wr=>{s4[Wr]&&kr.push(...s4[Wr])}),kr}function li(){if(Xe){JSON.stringify(we)!==JSON.stringify(tr)&&se()&&xe("input",we);return}(!tr||JSON.stringify(we[Zt])!==JSON.stringify(tr[Zt]))&&xe("input",we)}function bi(){we&&(Array.isArray(we)?D(3,we=[...we]):D(3,we=[we]))}function Tr(){we&&D(3,we=null)}function Di(){const oe=ee.findIndex(Ze=>Ze[Zt]===we[Zt]);Q(oe,!0)}function Yi(oe){xe("hoverItem",oe)}function Q(oe=0,Ze){D(7,l4=oe<0?0:oe),!Ze&&gt&&ee[l4]&&!ee[l4].selectable&&Ot(1)}function z(){!Q4&&qe.length===0||(Q4?er(async function(){D(5,Y4=!0);let oe=await Qe({dispatch:xe,loadOptions:Q4,convertStringItemsToObjects:O2,filterText:qe});oe?(D(5,Y4=oe.loading),D(6,c4=c4?oe.listOpen:qe.length>0),D(2,Et=c4&&oe.focused),D(51,Pt=gt?Er(oe.filteredItems):oe.filteredItems)):(D(5,Y4=!1),D(2,Et=!0),D(6,c4=!0))},K4):(D(6,c4=!0),Xe&&D(26,D4=void 0)))}function B(oe){c4&&xe("filter",oe)}H8(async()=>{D(77,tr=we),D(78,S4=qe),D(79,vi=Xe)});function J(){return Xe?we?we.map(oe=>oe[Zt]):null:we&&we[Zt]}function se(){let oe=!0;if(we){const Ze=[],s4=[];we.forEach(kr=>{Ze.includes(kr[Zt])?oe=!1:(Ze.push(kr[Zt]),s4.push(kr))}),oe||D(3,we=s4)}return oe}function he(oe){let Ze=oe?oe[Zt]:we[Zt];return Pt.find(s4=>s4[Zt]===Ze)}function ve(oe){!oe||oe.length===0||oe.some(Ze=>typeof Ze!="object")||!we||(Xe?we.some(Ze=>!Ze||!Ze[Zt]):!we[Zt])||(Array.isArray(we)?D(3,we=we.map(Ze=>he(Ze)||Ze)):D(3,we=he()||we))}async function be(oe){const Ze=we[oe];we.length===1?D(3,we=void 0):D(3,we=we.filter(s4=>s4!==Ze)),xe("clear",Ze)}function de(oe){if(Et)switch(oe.stopPropagation(),oe.key){case"Escape":oe.preventDefault(),Ut();break;case"Enter":if(oe.preventDefault(),c4){if(ee.length===0)break;const Ze=ee[l4];if(we&&!Xe&&we[Zt]===Ze[Zt]){Ut();break}else W4(ee[l4])}break;case"ArrowDown":oe.preventDefault(),c4?Ot(1):(D(6,c4=!0),D(26,D4=void 0));break;case"ArrowUp":oe.preventDefault(),c4?Ot(-1):(D(6,c4=!0),D(26,D4=void 0));break;case"Tab":if(c4&&Et){if(ee.length===0||we&&we[Zt]===ee[l4][Zt])return Ut();oe.preventDefault(),W4(ee[l4]),Ut()}break;case"Backspace":if(!Xe||qe.length>0)return;if(Xe&&we&&we.length>0){if(be(D4!==void 0?D4:we.length-1),D4===0||D4===void 0)break;D(26,D4=we.length>D4?D4-1:void 0)}break;case"ArrowLeft":if(!we||!Xe||qe.length>0)return;D4===void 0?D(26,D4=we.length-1):we.length>D4&&D4!==0&&D(26,D4-=1);break;case"ArrowRight":if(!we||!Xe||qe.length>0||D4===void 0)return;D4===we.length-1?D(26,D4=void 0):D4<we.length-1&&D(26,D4+=1);break}}function Me(oe){Et&&ut===(document==null?void 0:document.activeElement)||(oe&&xe("focus",oe),ut.focus(),D(2,Et=!0))}async function rt(oe){m4||(c4||Et)&&(xe("blur",oe),Ut(),D(2,Et=!1),D(26,D4=void 0),ut.blur())}function lt(){Te||D(6,c4=!c4)}function Ke(){xe("clear",we),D(3,we=void 0),Ut(),Me()}Q2(()=>{c4&&D(2,Et=!0),Et&&ut&&ut.focus()});function jt(oe){if(oe){D(4,qe="");const Ze=Object.assign({},oe);if(Ze.groupHeader&&!Ze.selectable)return;D(3,we=Xe?we?we.concat([Ze]):[Ze]:D(3,we=Ze)),setTimeout(()=>{Vr&&Ut(),D(26,D4=void 0),xe("change",we),xe("select",oe)})}}function Ut(){D(4,qe=""),D(6,c4=!1)}let{ariaValues:Nt=oe=>`Option ${oe}, selected.`}=w,{ariaListOpen:Gt=(oe,Ze)=>`You are currently focused on option ${oe}. There are ${Ze} results available.`}=w,{ariaFocused:Wt=()=>"Select is focused, type to refine list, press down to open the menu."}=w;function I4(oe){let Ze;return oe&&we.length>0?Ze=we.map(s4=>s4[o4]).join(", "):Ze=we[o4],Nt(Ze)}function M4(){if(!ee||ee.length===0)return"";let oe=ee[l4];if(c4&&oe){let Ze=ee?ee.length:0;return Gt(oe[o4],Ze)}else return Wt()}let C4=null,E4;function qr(){clearTimeout(E4),E4=setTimeout(()=>{m4=!1},100)}function ur(oe){!c4&&!Et&&ot&&!ot.contains(oe.target)&&!(C4!=null&&C4.contains(oe.target))&&rt()}$2(()=>{C4==null||C4.remove()});let m4=!1;function W4(oe){!oe||oe.selectable===!1||jt(oe)}function dr(oe){m4||D(7,l4=oe)}function fr(oe){const{item:Ze,i:s4}=oe;if((Ze==null?void 0:Ze.selectable)!==!1){if(we&&!Xe&&we[Zt]===Ze[Zt])return Ut();yp(Ze)&&(D(7,l4=s4),W4(Ze))}}function Ot(oe){if(ee.filter(kr=>!Object.hasOwn(kr,"selectable")||kr.selectable===!0).length===0)return D(7,l4=0);oe>0&&l4===ee.length-1?D(7,l4=0):oe<0&&l4===0?D(7,l4=ee.length-1):D(7,l4=l4+oe);const s4=ee[l4];if(s4&&s4.selectable===!1){(oe===1||oe===-1)&&Ot(oe);return}}function mr(oe,Ze,s4){if(!Xe)return Ze&&Ze[s4]===oe[s4]}const sr=rr,e4=rr;function rr(oe){return{update(Ze){Ze.scroll&&(qr(),oe.scrollIntoView({behavior:"auto",block:"nearest"}))}}}function yr(){const{width:oe}=ot.getBoundingClientRect();D(23,C4.style.width=xi?oe+"px":"auto",C4)}let Fr={strategy:"absolute",placement:"bottom-start",middleware:[uu(ai),lu(),pu()],autoUpdate:!1};const[So,Lr,Si]=Tu(Fr);let xr=!0;function Ki(oe,Ze){if(!oe||!Ze)return D(28,xr=!0);setTimeout(()=>{D(28,xr=!1)},0)}function Ue(oe){Aa.call(this,C,oe)}function ci(oe){Aa.call(this,C,oe)}function J4(oe){Aa.call(this,C,oe)}function ar(oe){Aa.call(this,C,oe)}const H4=oe=>dr(oe),ri=oe=>dr(oe),Mo=(oe,Ze)=>fr({item:oe,i:Ze});function Vo(oe){v9[oe?"unshift":"push"](()=>{C4=oe,D(23,C4)})}const Ji=oe=>be(oe),pt=oe=>mt?be(oe):{};function t4(oe){v9[oe?"unshift":"push"](()=>{ut=oe,D(1,ut)})}function Kt(){qe=this.value,D(4,qe)}function Zr(oe){v9[oe?"unshift":"push"](()=>{ot=oe,D(0,ot)})}return C.$$set=oe=>{"justValue"in oe&&D(52,ze=oe.justValue),"filter"in oe&&D(53,$e=oe.filter),"getItems"in oe&&D(54,Qe=oe.getItems),"id"in oe&&D(55,He=oe.id),"name"in oe&&D(8,Re=oe.name),"container"in oe&&D(0,ot=oe.container),"input"in oe&&D(1,ut=oe.input),"multiple"in oe&&D(9,Xe=oe.multiple),"multiFullItemClearable"in oe&&D(10,mt=oe.multiFullItemClearable),"disabled"in oe&&D(11,Te=oe.disabled),"focused"in oe&&D(2,Et=oe.focused),"value"in oe&&D(3,we=oe.value),"filterText"in oe&&D(4,qe=oe.filterText),"placeholder"in oe&&D(56,ct=oe.placeholder),"placeholderAlwaysShow"in oe&&D(57,kt=oe.placeholderAlwaysShow),"items"in oe&&D(51,Pt=oe.items),"label"in oe&&D(12,o4=oe.label),"itemFilter"in oe&&D(58,d4=oe.itemFilter),"groupBy"in oe&&D(59,gt=oe.groupBy),"groupFilter"in oe&&D(60,_t=oe.groupFilter),"groupHeaderSelectable"in oe&&D(61,xt=oe.groupHeaderSelectable),"itemId"in oe&&D(13,Zt=oe.itemId),"loadOptions"in oe&&D(62,Q4=oe.loadOptions),"containerStyles"in oe&&D(14,a4=oe.containerStyles),"hasError"in oe&&D(15,f4=oe.hasError),"filterSelectedItems"in oe&&D(63,ni=oe.filterSelectedItems),"required"in oe&&D(16,Or=oe.required),"closeListOnChange"in oe&&D(64,Vr=oe.closeListOnChange),"createGroupHeaderItem"in oe&&D(65,gi=oe.createGroupHeaderItem),"searchable"in oe&&D(17,jr=oe.searchable),"inputStyles"in oe&&D(18,Qt=oe.inputStyles),"clearable"in oe&&D(67,si=oe.clearable),"loading"in oe&&D(5,Y4=oe.loading),"listOpen"in oe&&D(6,c4=oe.listOpen),"debounce"in oe&&D(68,er=oe.debounce),"debounceWait"in oe&&D(69,K4=oe.debounceWait),"hideEmptyState"in oe&&D(19,Jr=oe.hideEmptyState),"inputAttributes"in oe&&D(70,nr=oe.inputAttributes),"listAutoWidth"in oe&&D(71,xi=oe.listAutoWidth),"showChevron"in oe&&D(20,b4=oe.showChevron),"listOffset"in oe&&D(72,ai=oe.listOffset),"hoverItemIndex"in oe&&D(7,l4=oe.hoverItemIndex),"floatingConfig"in oe&&D(73,Ir=oe.floatingConfig),"class"in oe&&D(21,wi=oe.class),"ariaValues"in oe&&D(74,Nt=oe.ariaValues),"ariaListOpen"in oe&&D(75,Gt=oe.ariaListOpen),"ariaFocused"in oe&&D(76,Wt=oe.ariaFocused),"$$scope"in oe&&D(81,me=oe.$$scope)},C.$$.update=()=>{C.$$.dirty[0]&8|C.$$.dirty[1]&1048576&&we&&Pr(),C.$$.dirty[0]&131072|C.$$.dirty[2]&256&&(nr||!jr)&&Oi(),C.$$.dirty[0]&512&&Xe&&bi(),C.$$.dirty[0]&512|C.$$.dirty[2]&131072&&vi&&!Xe&&Tr(),C.$$.dirty[0]&520&&Xe&&we&&we.length>1&&se(),C.$$.dirty[0]&8&&we&&li(),C.$$.dirty[0]&520|C.$$.dirty[2]&32768&&!we&&Xe&&tr&&xe("input",we),C.$$.dirty[0]&6&&!Et&&ut&&Ut(),C.$$.dirty[0]&16|C.$$.dirty[2]&65536&&qe!==S4&&z(),C.$$.dirty[0]&12824|C.$$.dirty[1]&407896064|C.$$.dirty[2]&3&&D(24,ee=$e({loadOptions:Q4,filterText:qe,items:Pt,multiple:Xe,value:we,itemId:Zt,groupBy:gt,label:o4,filterSelectedItems:ni,itemFilter:d4,convertStringItemsToObjects:O2,filterGroupedItems:Er})),C.$$.dirty[0]&16777800&&!Xe&&c4&&we&&ee&&Di(),C.$$.dirty[0]&576&&c4&&Xe&&D(7,l4=0),C.$$.dirty[0]&16&&qe&&D(7,l4=0),C.$$.dirty[0]&128&&Yi(l4),C.$$.dirty[0]&520&&D(25,T=Xe?we&&we.length>0:we),C.$$.dirty[0]&33554448&&D(35,U=T&&qe.length>0),C.$$.dirty[0]&33556512|C.$$.dirty[2]&32&&D(34,Y=T&&si&&!Te&&!Y4),C.$$.dirty[0]&520|C.$$.dirty[1]&100663296&&D(33,R=kt&&Xe||Xe&&(we==null?void 0:we.length)===0?ct:we?"":ct),C.$$.dirty[0]&520&&D(32,n=we?I4(Xe):""),C.$$.dirty[0]&16777412&&D(31,G=M4()),C.$$.dirty[1]&1048576&&ve(Pt),C.$$.dirty[0]&8712&&D(52,ze=J()),C.$$.dirty[0]&520|C.$$.dirty[2]&32768&&!Xe&&tr&&!we&&xe("input",we),C.$$.dirty[0]&16777800&&c4&&ee&&!Xe&&!we&&Q(),C.$$.dirty[0]&16777216&&B(ee),C.$$.dirty[0]&1|C.$$.dirty[2]&2048&&ot&&(Ir==null?void 0:Ir.autoUpdate)===void 0&&D(80,Fr.autoUpdate=!0,Fr),C.$$.dirty[0]&1|C.$$.dirty[2]&264192&&ot&&Ir&&Si(Object.assign(Fr,Ir)),C.$$.dirty[0]&8388608&&D(30,fe=!!C4),C.$$.dirty[0]&8388672&&Ki(C4,c4),C.$$.dirty[0]&8388673&&c4&&ot&&C4&&yr(),C.$$.dirty[0]&128&&D(29,ie=l4),C.$$.dirty[0]&70&&ut&&c4&&!Et&&Me()},[ot,ut,Et,we,qe,Y4,c4,l4,Re,Xe,mt,Te,o4,Zt,a4,f4,Or,jr,Qt,Jr,b4,wi,Ke,C4,ee,T,D4,Gr,xr,ie,fe,G,n,R,Y,U,be,de,Me,rt,lt,qr,ur,dr,fr,mr,sr,e4,So,Lr,Ae,Pt,ze,$e,Qe,He,ct,kt,d4,gt,_t,xt,Q4,ni,Vr,gi,Kr,si,er,K4,nr,xi,ai,Ir,Nt,Gt,Wt,tr,S4,vi,Fr,me,ye,Ue,ci,J4,ar,H4,ri,Mo,Vo,Ji,pt,t4,Kt,Zr]}class V2 extends t3{constructor(w){super(),r3(this,w,_p,fp,i3,{justValue:52,filter:53,getItems:54,id:55,name:8,container:0,input:1,multiple:9,multiFullItemClearable:10,disabled:11,focused:2,value:3,filterText:4,placeholder:56,placeholderAlwaysShow:57,items:51,label:12,itemFilter:58,groupBy:59,groupFilter:60,groupHeaderSelectable:61,itemId:13,loadOptions:62,containerStyles:14,hasError:15,filterSelectedItems:63,required:16,closeListOnChange:64,createGroupHeaderItem:65,getFilteredItems:66,searchable:17,inputStyles:18,clearable:67,loading:5,listOpen:6,debounce:68,debounceWait:69,hideEmptyState:19,inputAttributes:70,listAutoWidth:71,showChevron:20,listOffset:72,hoverItemIndex:7,floatingConfig:73,class:21,handleClear:22,ariaValues:74,ariaListOpen:75,ariaFocused:76},null,[-1,-1,-1,-1,-1])}get getFilteredItems(){return this.$$.ctx[66]}get handleClear(){return this.$$.ctx[22]}}var gp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xp(C){return C&&C.__esModule&&Object.prototype.hasOwnProperty.call(C,"default")?C.default:C}var h0={exports:{}};(function(C,w){(function(D,T){C.exports=T()})(gp,function(){var D,T,U;function Y(n,G){if(!D)D=G;else if(!T)T=G;else{var ee="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+D+")(sharedChunk); ("+T+")(sharedChunk); self.onerror = null;",fe={};D(fe),U=G(fe),typeof window<"u"&&window&&window.URL&&window.URL.createObjectURL&&(U.workerUrl=window.URL.createObjectURL(new Blob([ee],{type:"text/javascript"})))}}Y(["exports"],function(n){var G=typeof self<"u"?self:{},ee="2.15.0";let fe;const ie={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(fe==null){const t=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{fe={}.API_URL_REGEX!=null?new RegExp({}.API_URL_REGEX):t}catch{fe=t}}return fe},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){if(!ie.API_URL)return null;try{const t=new URL(ie.API_URL);return t.hostname==="api.mapbox.cn"?"https://events.mapbox.cn/events/v2":t.hostname==="api.mapbox.com"?"https://events.mapbox.com/events/v2":null}catch{return null}},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},ye={supported:!1,testSupport:function(t){!xe&&Ae&&(ze?$e(t):me=t)}};let me,Ae,xe=!1,ze=!1;function $e(t){const e=t.createTexture();t.bindTexture(t.TEXTURE_2D,e);try{if(t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,Ae),t.isContextLost())return;ye.supported=!0}catch{}t.deleteTexture(e),xe=!0}G.document&&(Ae=G.document.createElement("img"),Ae.onload=function(){me&&$e(me),me=null,ze=!0},Ae.onerror=function(){xe=!0,me=null},Ae.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const Qe="01";function He(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Re=ot;function ot(t,e,r,o){this.cx=3*t,this.bx=3*(r-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(o-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=e,this.p2x=r,this.p2y=o}ot.prototype={sampleCurveX:function(t){return((this.ax*t+this.bx)*t+this.cx)*t},sampleCurveY:function(t){return((this.ay*t+this.by)*t+this.cy)*t},sampleCurveDerivativeX:function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},solveCurveX:function(t,e){if(e===void 0&&(e=1e-6),t<0)return 0;if(t>1)return 1;for(var r=t,o=0;o<8;o++){var a=this.sampleCurveX(r)-t;if(Math.abs(a)<e)return r;var c=this.sampleCurveDerivativeX(r);if(Math.abs(c)<1e-6)break;r-=a/c}var p=0,d=1;for(r=t,o=0;o<20&&(a=this.sampleCurveX(r),!(Math.abs(a-t)<e));o++)t>a?p=r:d=r,r=.5*(d-p)+p;return r},solve:function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))}};var ut=He(Re),Xe=mt;function mt(t,e){this.x=t,this.y=e}mt.prototype={clone:function(){return new mt(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,r=t.y-this.y;return e*e+r*r},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[2]*this.x+t[3]*this.y;return this.x=t[0]*this.x+t[1]*this.y,this.y=e,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),r=Math.sin(t),o=r*this.x+e*this.y;return this.x=e*this.x-r*this.y,this.y=o,this},_rotateAround:function(t,e){var r=Math.cos(t),o=Math.sin(t),a=e.y+o*(this.x-e.x)+r*(this.y-e.y);return this.x=e.x+r*(this.x-e.x)-o*(this.y-e.y),this.y=a,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},mt.convert=function(t){return t instanceof mt?t:Array.isArray(t)?new mt(t[0],t[1]):t};var Te=He(Xe);const Et=Math.PI/180,we=180/Math.PI;function qe(t){return t*Et}function ct(t){return t*we}const kt=[[0,0],[1,0],[1,1],[0,1]];function Pt(t){if(t<=0)return 0;if(t>=1)return 1;const e=t*t,r=e*t;return 4*(t<.5?r:3*(t-e)+r-.75)}function o4(t,e,r,o){const a=new ut(t,e,r,o);return function(c){return a.solve(c)}}const d4=o4(.25,.1,.25,1);function gt(t,e,r){return Math.min(r,Math.max(e,t))}function _t(t,e,r){return(r=gt((r-t)/(e-t),0,1))*r*(3-2*r)}function xt(t,e,r){const o=r-e,a=((t-e)%o+o)%o+e;return a===e?r:a}function Zt(t,e,r){if(!t.length)return r(null,[]);let o=t.length;const a=new Array(t.length);let c=null;t.forEach((p,d)=>{e(p,(m,y)=>{m&&(c=m),a[d]=y,--o==0&&r(c,a)})})}function Q4(t){const e=[];for(const r in t)e.push(t[r]);return e}function a4(t,...e){for(const r of e)for(const o in r)t[o]=r[o];return t}let f4=1;function ni(){return f4++}function Or(){return function t(e){return e?(e^Math.random()*(16>>e/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()}function Vr(t){return t<=1?1:Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function gi(t){return!!t&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)}function Kr(t,e){t.forEach(r=>{e[r]&&(e[r]=e[r].bind(e))})}function jr(t,e){return t.indexOf(e,t.length-e.length)!==-1}function Qt(t,e,r){const o={};for(const a in t)o[a]=e.call(r||this,t[a],a,t);return o}function si(t,e,r){const o={};for(const a in t)e.call(r||this,t[a],a,t)&&(o[a]=t[a]);return o}function Y4(t){return Array.isArray(t)?t.map(Y4):typeof t=="object"&&t?Qt(t,Y4):t}const c4={};function g4(t){c4[t]||(typeof console<"u"&&console.warn(t),c4[t]=!0)}function er(t,e,r){return(r.y-t.y)*(e.x-t.x)>(e.y-t.y)*(r.x-t.x)}function K4(t){let e=0;for(let r,o,a=0,c=t.length,p=c-1;a<c;p=a++)r=t[a],o=t[p],e+=(o.x-r.x)*(r.y+o.y);return e}function Jr(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function nr(t){const e={};if(t.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(r,o,a,c)=>{const p=a||c;return e[o]=!p||p.toLowerCase(),""}),e["max-age"]){const r=parseInt(e["max-age"],10);isNaN(r)?delete e["max-age"]:e["max-age"]=r}return e}let xi=null;function b4(t){if(xi==null){const e=t.navigator?t.navigator.userAgent:null;xi=!!t.safari||!(!e||!(/\b(iPad|iPhone|iPod)\b/.test(e)||e.match("Safari")&&!e.match("Chrome")))}return xi}function ai(t){try{const e=G[t];return e.setItem("_mapbox_test_",1),e.removeItem("_mapbox_test_"),!0}catch{return!1}}function l4(t,e){return[t[4*e],t[4*e+1],t[4*e+2],t[4*e+3]]}const Ir="mapbox-tiles";let wi=500,D4=50,tr,S4;function vi(){try{return G.caches}catch{}}function Pr(){vi()&&!tr&&(tr=G.caches.open(Ir))}function Gr(t){const e=t.indexOf("?");if(e<0)return t;const r=function(a){const c=a.indexOf("?");return c>0?a.slice(c+1).split("&"):[]}(t),o=r.filter(a=>{const c=a.split("=");return c[0]==="language"||c[0]==="worldview"});return o.length?`${t.slice(0,e)}?${o.join("&")}`:t.slice(0,e)}let Oi=1/0;const Er={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(Er);class li extends Error{constructor(e,r,o){r===401&&ve(o)&&(e+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),super(e),this.status=r,this.url=o}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const bi=Jr()?()=>self.worker&&self.worker.referrer:()=>(G.location.protocol==="blob:"?G.parent:G).location.href,Tr=function(t,e){if(!(/^file:/.test(r=t.url)||/^file:/.test(bi())&&!/^\w+:/.test(r))){if(G.fetch&&G.Request&&G.AbortController&&G.Request.prototype.hasOwnProperty("signal"))return function(o,a){const c=new G.AbortController,p=new G.Request(o.url,{method:o.method||"GET",body:o.body,credentials:o.credentials,headers:o.headers,referrer:bi(),referrerPolicy:o.referrerPolicy,signal:c.signal});let d=!1,m=!1;const y=(x=p.url).indexOf("sku=")>0&&ve(x);var x;o.type==="json"&&p.headers.set("Accept","application/json");const b=(I,E,k)=>{if(m)return;if(I&&I.message!=="SecurityError"&&g4(I.toString()),E&&k)return S(E);const O=Date.now();G.fetch(p).then(H=>{if(H.ok){const re=y?H.clone():null;return S(H,re,O)}return a(new li(H.statusText,H.status,o.url))}).catch(H=>{H.name!=="AbortError"&&a(new Error(`${H.message} ${o.url}`))})},S=(I,E,k)=>{(o.type==="arrayBuffer"?I.arrayBuffer():o.type==="json"?I.json():I.text()).then(O=>{m||(E&&k&&function(H,re,X){if(Pr(),!tr)return;const te={status:re.status,statusText:re.statusText,headers:new G.Headers};re.headers.forEach((Pe,Se)=>te.headers.set(Se,Pe));const le=nr(re.headers.get("Cache-Control")||"");if(le["no-store"])return;le["max-age"]&&te.headers.set("Expires",new Date(X+1e3*le["max-age"]).toUTCString());const ae=te.headers.get("Expires");ae&&(new Date(ae).getTime()-X<42e4||function(Pe,Se){if(S4===void 0)try{new Response(new ReadableStream),S4=!0}catch{S4=!1}S4?Se(Pe.body):Pe.blob().then(Se)}(re,Pe=>{const Se=new G.Response(Pe,te);Pr(),tr&&tr.then(Ne=>Ne.put(Gr(H.url),Se)).catch(Ne=>g4(Ne.message))}))}(p,E,k),d=!0,a(null,O,I.headers.get("Cache-Control"),I.headers.get("Expires")))}).catch(O=>{m||a(new Error(O.message))})};return y?function(I,E){if(Pr(),!tr)return E(null);const k=Gr(I.url);tr.then(O=>{O.match(k).then(H=>{const re=function(X){if(!X)return!1;const te=new Date(X.headers.get("Expires")||0),le=nr(X.headers.get("Cache-Control")||"");return te>Date.now()&&!le["no-cache"]}(H);O.delete(k),re&&O.put(k,H.clone()),E(null,H,re)}).catch(E)}).catch(E)}(p,b):b(null,null),{cancel:()=>{m=!0,d||c.abort()}}}(t,e);if(Jr()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",t,e,void 0,!0)}var r;return function(o,a){const c=new G.XMLHttpRequest;c.open(o.method||"GET",o.url,!0),o.type==="arrayBuffer"&&(c.responseType="arraybuffer");for(const p in o.headers)c.setRequestHeader(p,o.headers[p]);return o.type==="json"&&(c.responseType="text",c.setRequestHeader("Accept","application/json")),c.withCredentials=o.credentials==="include",c.onerror=()=>{a(new Error(c.statusText))},c.onload=()=>{if((c.status>=200&&c.status<300||c.status===0)&&c.response!==null){let p=c.response;if(o.type==="json")try{p=JSON.parse(c.response)}catch(d){return a(d)}a(null,p,c.getResponseHeader("Cache-Control"),c.getResponseHeader("Expires"))}else a(new li(c.statusText,c.status,o.url))},c.send(o.body),{cancel:()=>c.abort()}}(t,e)},Di=function(t,e){return Tr(a4(t,{type:"arrayBuffer"}),e)};function Yi(t){const e=G.document.createElement("a");return e.href=t,e.protocol===G.document.location.protocol&&e.host===G.document.location.host}const Q="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let z,B;z=[],B=0;const J=function(t,e){if(ye.supported&&(t.headers||(t.headers={}),t.headers.accept="image/webp,*/*"),B>=ie.MAX_PARALLEL_IMAGE_REQUESTS){const c={requestParameters:t,callback:e,cancelled:!1,cancel(){this.cancelled=!0}};return z.push(c),c}B++;let r=!1;const o=()=>{if(!r)for(r=!0,B--;z.length&&B<ie.MAX_PARALLEL_IMAGE_REQUESTS;){const c=z.shift(),{requestParameters:p,callback:d,cancelled:m}=c;m||(c.cancel=J(p,d).cancel)}},a=Di(t,(c,p,d,m)=>{o(),c?e(c):p&&(G.createImageBitmap?function(y,x){const b=new G.Blob([new Uint8Array(y)],{type:"image/png"});G.createImageBitmap(b).then(S=>{x(null,S)}).catch(S=>{x(new Error(`Could not load image because of ${S.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(p,(y,x)=>e(y,x,d,m)):function(y,x){const b=new G.Image,S=G.URL;b.onload=()=>{x(null,b),S.revokeObjectURL(b.src),b.onload=null,G.requestAnimationFrame(()=>{b.src=Q})},b.onerror=()=>x(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const I=new G.Blob([new Uint8Array(y)],{type:"image/png"});b.src=y.byteLength?S.createObjectURL(I):Q}(p,(y,x)=>e(y,x,d,m)))});return{cancel:()=>{a.cancel(),o()}}},se="NO_ACCESS_TOKEN";function he(t){return t.indexOf("mapbox:")===0}function ve(t){return ie.API_URL_REGEX.test(t)}function be(t){return ie.API_CDN_URL_REGEX.test(t)}function de(t){return ie.API_STYLE_REGEX.test(t)&&!Me(t)}function Me(t){return ie.API_SPRITE_REGEX.test(t)}const rt=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function lt(t){const e=t.match(rt);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function Ke(t){const e=t.params.length?`?${t.params.join("&")}`:"";return`${t.protocol}://${t.authority}${t.path}${e}`}const jt="mapbox.eventData";function Ut(t){if(!t)return null;const e=t.split(".");if(!e||e.length!==3)return null;try{return JSON.parse(decodeURIComponent(G.atob(e[1]).split("").map(r=>"%"+("00"+r.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch{return null}}class Nt{constructor(e){this.type=e,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(e){const r=Ut(ie.ACCESS_TOKEN);let o="";return o=r&&r.u?G.btoa(encodeURIComponent(r.u).replace(/%([0-9A-F]{2})/g,(a,c)=>String.fromCharCode(+("0x"+c)))):ie.ACCESS_TOKEN||"",e?`${jt}.${e}:${o}`:`${jt}:${o}`}fetchEventData(){const e=ai("localStorage"),r=this.getStorageKey(),o=this.getStorageKey("uuid");if(e)try{const a=G.localStorage.getItem(r);a&&(this.eventData=JSON.parse(a));const c=G.localStorage.getItem(o);c&&(this.anonId=c)}catch{g4("Unable to read from LocalStorage")}}saveEventData(){const e=ai("localStorage"),r=this.getStorageKey(),o=this.getStorageKey("uuid");if(e)try{G.localStorage.setItem(o,this.anonId),Object.keys(this.eventData).length>=1&&G.localStorage.setItem(r,JSON.stringify(this.eventData))}catch{g4("Unable to write to LocalStorage")}}processRequests(e){}postEvent(e,r,o,a){if(!ie.EVENTS_URL)return;const c=lt(ie.EVENTS_URL);c.params.push(`access_token=${a||ie.ACCESS_TOKEN||""}`);const p={event:this.type,created:new Date(e).toISOString()},d=r?a4(p,r):p,m={url:Ke(c),headers:{"Content-Type":"text/plain"},body:JSON.stringify([d])};this.pendingRequest=function(y,x){return Tr(a4(y,{method:"POST"}),x)}(m,y=>{this.pendingRequest=null,o(y),this.saveEventData(),this.processRequests(a)})}queueRequest(e,r){this.queue.push(e),this.processRequests(r)}}const Gt=new class extends Nt{constructor(t){super("appUserTurnstile"),this._customAccessToken=t}postTurnstileEvent(t,e){ie.EVENTS_URL&&ie.ACCESS_TOKEN&&Array.isArray(t)&&t.some(r=>he(r)||ve(r))&&this.queueRequest(Date.now(),e)}processRequests(t){if(this.pendingRequest||this.queue.length===0)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const e=Ut(ie.ACCESS_TOKEN),r=e?e.u:ie.ACCESS_TOKEN;let o=r!==this.eventData.tokenU;gi(this.anonId)||(this.anonId=Or(),o=!0);const a=this.queue.shift();if(this.eventData.lastSuccess){const c=new Date(this.eventData.lastSuccess),p=new Date(a),d=(a-this.eventData.lastSuccess)/864e5;o=o||d>=1||d<-1||c.getDate()!==p.getDate()}else o=!0;o?this.postEvent(a,{sdkIdentifier:"mapbox-gl-js",sdkVersion:ee,skuId:Qe,"enabled.telemetry":!1,userId:this.anonId},c=>{c||(this.eventData.lastSuccess=a,this.eventData.tokenU=r)},t):this.processRequests()}},Wt=Gt.postTurnstileEvent.bind(Gt),I4=new class extends Nt{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(t,e,r,o){this.skuToken=e,this.errorCb=o,ie.EVENTS_URL&&(r||ie.ACCESS_TOKEN?this.queueRequest({id:t,timestamp:Date.now()},r):this.errorCb(new Error(se)))}processRequests(t){if(this.pendingRequest||this.queue.length===0)return;const{id:e,timestamp:r}=this.queue.shift();e&&this.success[e]||(this.anonId||this.fetchEventData(),gi(this.anonId)||(this.anonId=Or()),this.postEvent(r,{sdkIdentifier:"mapbox-gl-js",sdkVersion:ee,skuId:Qe,skuToken:this.skuToken,userId:this.anonId},o=>{o?this.errorCb(o):e&&(this.success[e]=!0)},t))}},M4=I4.postMapLoadEvent.bind(I4),C4=new class extends Nt{constructor(){super("gljs.performance")}postPerformanceEvent(t,e){ie.EVENTS_URL&&(t||ie.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:e},t)}processRequests(t){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:e,performanceData:r}=this.queue.shift(),o=function(a){const c=G.performance.getEntriesByType("resource"),p=G.performance.getEntriesByType("mark"),d=function(S){const I={};if(S){for(const E in S)if(E!=="other")for(const k of S[E]){const O=`${E}ResolveRangeMin`,H=`${E}ResolveRangeMax`,re=`${E}RequestCount`,X=`${E}RequestCachedCount`;I[O]=Math.min(I[O]||1/0,k.startTime),I[H]=Math.max(I[H]||-1/0,k.responseEnd);const te=le=>{I[le]===void 0&&(I[le]=0),++I[le]};k.transferSize!==void 0&&k.transferSize===0&&te(X),te(re)}}return I}(function(S,I){const E={};if(S)for(const k of S){const O=I(k);E[O]===void 0&&(E[O]=[]),E[O].push(k)}return E}(c,fr)),m=G.devicePixelRatio,y=G.navigator.connection||G.navigator.mozConnection||G.navigator.webkitConnection,x={counters:[],metadata:[],attributes:[]},b=(S,I,E)=>{E!=null&&S.push({name:I,value:E.toString()})};for(const S in d)b(x.counters,S,d[S]);if(a.interactionRange[0]!==1/0&&a.interactionRange[1]!==-1/0&&(b(x.counters,"interactionRangeMin",a.interactionRange[0]),b(x.counters,"interactionRangeMax",a.interactionRange[1])),p)for(const S of Object.keys(W4)){const I=W4[S],E=p.find(k=>k.name===I);E&&b(x.counters,I,E.startTime)}return b(x.counters,"visibilityHidden",a.visibilityHidden),b(x.attributes,"style",function(S){if(S)for(const I of S){const E=I.name.split("?")[0];if(de(E)){const k=E.split("/").slice(-2);if(k.length===2)return`mapbox://styles/${k[0]}/${k[1]}`}}}(c)),b(x.attributes,"terrainEnabled",a.terrainEnabled?"true":"false"),b(x.attributes,"fogEnabled",a.fogEnabled?"true":"false"),b(x.attributes,"projection",a.projection),b(x.attributes,"zoom",a.zoom),b(x.metadata,"devicePixelRatio",m),b(x.metadata,"connectionEffectiveType",y?y.effectiveType:void 0),b(x.metadata,"navigatorUserAgent",G.navigator.userAgent),b(x.metadata,"screenWidth",G.screen.width),b(x.metadata,"screenHeight",G.screen.height),b(x.metadata,"windowWidth",G.innerWidth),b(x.metadata,"windowHeight",G.innerHeight),b(x.metadata,"mapWidth",a.width/m),b(x.metadata,"mapHeight",a.height/m),b(x.metadata,"webglRenderer",a.renderer),b(x.metadata,"webglVendor",a.vendor),b(x.metadata,"sdkVersion",ee),b(x.metadata,"sdkIdentifier","mapbox-gl-js"),x}(r);for(const a of o.metadata);for(const a of o.counters);for(const a of o.attributes);this.postEvent(e,o,()=>{},t)}},E4=C4.postPerformanceEvent.bind(C4),qr=new class extends Nt{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(t,e,r,o){if(!ie.API_URL||!ie.SESSION_PATH)return;const a=lt(ie.API_URL+ie.SESSION_PATH);a.params.push(`sku=${e||""}`),a.params.push(`access_token=${o||ie.ACCESS_TOKEN||""}`);const c={url:Ke(a),headers:{"Content-Type":"text/plain"}};this.pendingRequest=function(p,d){return Tr(a4(p,{method:"GET"}),d)}(c,p=>{this.pendingRequest=null,r(p),this.saveEventData(),this.processRequests(o)})}getSessionAPI(t,e,r,o){this.skuToken=e,this.errorCb=o,ie.SESSION_PATH&&ie.API_URL&&(r||ie.ACCESS_TOKEN?this.queueRequest({id:t,timestamp:Date.now()},r):this.errorCb(new Error(se)))}processRequests(t){if(this.pendingRequest||this.queue.length===0)return;const{id:e,timestamp:r}=this.queue.shift();e&&this.success[e]||this.getSession(r,this.skuToken,o=>{o?this.errorCb(o):e&&(this.success[e]=!0)},t)}},ur=qr.getSessionAPI.bind(qr),m4=new Set,W4={create:"create",load:"load",fullLoad:"fullLoad"},dr={mark(t){G.performance.mark(t)},measure(t,e,r){G.performance.measure(t,e,r)}};function fr(t){const e=t.name.split("?")[0];return be(e)&&e.includes("mapbox-gl.js")?"javascript":be(e)&&e.includes("mapbox-gl.css")?"css":function(r){return ie.API_FONTS_REGEX.test(r)}(e)?"fontRange":Me(e)?"sprite":de(e)?"style":function(r){return ie.API_TILEJSON_REGEX.test(r)}(e)?"tilejson":"other"}const Ot=G.performance;function mr(t){const e=t?t.url.toString():void 0;return Ot.getEntriesByName(e)}let sr,e4,rr,yr;const Fr={now:()=>rr!==void 0?rr:G.performance.now(),setNow(t){rr=t},restoreNow(){rr=void 0},frame(t){const e=G.requestAnimationFrame(t);return{cancel:()=>G.cancelAnimationFrame(e)}},getImageData(t,e=0){const{width:r,height:o}=t;yr||(yr=G.document.createElement("canvas"));const a=yr.getContext("2d",{willReadFrequently:!0});if(!a)throw new Error("failed to create canvas 2d context");return(r>yr.width||o>yr.height)&&(yr.width=r,yr.height=o),a.clearRect(-e,-e,r+2*e,o+2*e),a.drawImage(t,0,0,r,o),a.getImageData(-e,-e,r+2*e,o+2*e)},resolveURL:t=>(sr||(sr=G.document.createElement("a")),sr.href=t,sr.href),get devicePixelRatio(){return G.devicePixelRatio},get prefersReducedMotion(){return!!G.matchMedia&&(e4==null&&(e4=G.matchMedia("(prefers-reduced-motion: reduce)")),e4.matches)}};function So(t,e,r){r[t]&&r[t].indexOf(e)!==-1||(r[t]=r[t]||[],r[t].push(e))}function Lr(t,e,r){if(r&&r[t]){const o=r[t].indexOf(e);o!==-1&&r[t].splice(o,1)}}class Si{constructor(e,r={}){a4(this,r),this.type=e}}class xr extends Si{constructor(e,r={}){super("error",a4({error:e},r))}}class Ki{on(e,r){return this._listeners=this._listeners||{},So(e,r,this._listeners),this}off(e,r){return Lr(e,r,this._listeners),Lr(e,r,this._oneTimeListeners),this}once(e,r){return r?(this._oneTimeListeners=this._oneTimeListeners||{},So(e,r,this._oneTimeListeners),this):new Promise(o=>this.once(e,o))}fire(e,r){typeof e=="string"&&(e=new Si(e,r||{}));const o=e.type;if(this.listens(o)){e.target=this;const a=this._listeners&&this._listeners[o]?this._listeners[o].slice():[];for(const d of a)d.call(this,e);const c=this._oneTimeListeners&&this._oneTimeListeners[o]?this._oneTimeListeners[o].slice():[];for(const d of c)Lr(o,d,this._oneTimeListeners),d.call(this,e);const p=this._eventedParent;p&&(a4(e,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),p.fire(e))}else e instanceof xr&&console.error(e.error);return this}listens(e){return!!(this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e))}setEventedParent(e,r){return this._eventedParent=e,this._eventedParentData=r,this}}var Ue=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","private":true,"default":0,"minimum":0,"maximum":1,"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{},"globe":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["source"]}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["fill-extrusion-edge-radius"]},"fill-extrusion-rounded-roof":{"type":"boolean","default":true,"requires":["fill-extrusion-edge-radius"],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":false,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"transition":false,"requires":[{"source":"geojson","has":{"lineMetrics":true}}],"property-type":"constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function ci(t,...e){for(const r of e)for(const o in r)t[o]=r[o];return t}function J4(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function ar(t){if(Array.isArray(t))return t.map(ar);if(t instanceof Object&&!(t instanceof Number||t instanceof String||t instanceof Boolean)){const e={};for(const r in t)e[r]=ar(t[r]);return e}return J4(t)}class H4 extends Error{constructor(e,r){super(r),this.message=r,this.key=e}}var ri=H4;class Mo{constructor(e,r=[]){this.parent=e,this.bindings={};for(const[o,a]of r)this.bindings[o]=a}concat(e){return new Mo(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(`${e} not found in scope.`)}has(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)}}var Vo=Mo;const Ji={kind:"null"},pt={kind:"number"},t4={kind:"string"},Kt={kind:"boolean"},Zr={kind:"color"},oe={kind:"object"},Ze={kind:"value"},s4={kind:"collator"},kr={kind:"formatted"},Wr={kind:"resolvedImage"};function ir(t,e){return{kind:"array",itemType:t,N:e}}function O4(t){if(t.kind==="array"){const e=O4(t.itemType);return typeof t.N=="number"?`array<${e}, ${t.N}>`:t.itemType.kind==="value"?"array":`array<${e}>`}return t.kind}const Rn=[Ji,pt,t4,Kt,Zr,kr,oe,ir(Ze),Wr];function Mi(t,e){if(e.kind==="error")return null;if(t.kind==="array"){if(e.kind==="array"&&(e.N===0&&e.itemType.kind==="value"||!Mi(t.itemType,e.itemType))&&(typeof t.N!="number"||t.N===e.N))return null}else{if(t.kind===e.kind)return null;if(t.kind==="value"){for(const r of Rn)if(!Mi(r,e))return null}}return`Expected ${O4(t)} but found ${O4(e)} instead.`}function Ao(t,e){return e.some(r=>r.kind===t.kind)}function Io(t,e){return e.some(r=>r==="null"?t===null:r==="array"?Array.isArray(t):r==="object"?t&&!Array.isArray(t)&&typeof t=="object":r===typeof t)}var As,s3={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Bn(t){return(t=Math.round(t))<0?0:t>255?255:t}function Nn(t){return Bn(t[t.length-1]==="%"?parseFloat(t)/100*255:parseInt(t))}function D5(t){return(e=t[t.length-1]==="%"?parseFloat(t)/100:parseFloat(t))<0?0:e>1?1:e;var e}function an(t,e,r){return r<0?r+=1:r>1&&(r-=1),6*r<1?t+(e-t)*r*6:2*r<1?e:3*r<2?t+(e-t)*(2/3-r)*6:t}try{As={}.parseCSSColor=function(t){var e,r=t.replace(/ /g,"").toLowerCase();if(r in s3)return s3[r].slice();if(r[0]==="#")return r.length===4?(e=parseInt(r.substr(1),16))>=0&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:r.length===7&&(e=parseInt(r.substr(1),16))>=0&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var o=r.indexOf("("),a=r.indexOf(")");if(o!==-1&&a+1===r.length){var c=r.substr(0,o),p=r.substr(o+1,a-(o+1)).split(","),d=1;switch(c){case"rgba":if(p.length!==4)return null;d=D5(p.pop());case"rgb":return p.length!==3?null:[Nn(p[0]),Nn(p[1]),Nn(p[2]),d];case"hsla":if(p.length!==4)return null;d=D5(p.pop());case"hsl":if(p.length!==3)return null;var m=(parseFloat(p[0])%360+360)%360/360,y=D5(p[1]),x=D5(p[2]),b=x<=.5?x*(y+1):x+y-x*y,S=2*x-b;return[Bn(255*an(S,b,m+1/3)),Bn(255*an(S,b,m)),Bn(255*an(S,b,m-1/3)),d];default:return null}}return null}}catch{}class ui{constructor(e,r,o,a=1){this.r=e,this.g=r,this.b=o,this.a=a}static parse(e){if(!e)return;if(e instanceof ui)return e;if(typeof e!="string")return;const r=As(e);return r?new ui(r[0]/255*r[3],r[1]/255*r[3],r[2]/255*r[3],r[3]):void 0}toString(){const[e,r,o,a]=this.toArray();return`rgba(${Math.round(e)},${Math.round(r)},${Math.round(o)},${a})`}toArray(){const{r:e,g:r,b:o,a}=this;return a===0?[0,0,0,0]:[255*e/a,255*r/a,255*o/a,a]}toArray01(){const{r:e,g:r,b:o,a}=this;return a===0?[0,0,0,0]:[e/a,r/a,o/a,a]}toArray01PremultipliedAlpha(){const{r:e,g:r,b:o,a}=this;return[e,r,o,a]}}ui.black=new ui(0,0,0,1),ui.white=new ui(1,1,1,1),ui.transparent=new ui(0,0,0,0),ui.red=new ui(1,0,0,1),ui.blue=new ui(0,0,1,1);var _r=ui;class Is{constructor(e,r,o){this.sensitivity=e?r?"variant":"case":r?"accent":"base",this.locale=o,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,r){return this.collator.compare(e,r)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Es{constructor(e,r,o,a,c){this.text=e.normalize?e.normalize():e,this.image=r,this.scale=o,this.fontStack=a,this.textColor=c}}class pi{constructor(e){this.sections=e}static fromString(e){return new pi([new Es(e,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(e=>e.text.length!==0||e.image&&e.image.name.length!==0)}static factory(e){return e instanceof pi?e:pi.fromString(e)}toString(){return this.sections.length===0?"":this.sections.map(e=>e.text).join("")}serialize(){const e=["format"];for(const r of this.sections){if(r.image){e.push(["image",r.image.name]);continue}e.push(r.text);const o={};r.fontStack&&(o["text-font"]=["literal",r.fontStack.split(",")]),r.scale&&(o["font-scale"]=r.scale),r.textColor&&(o["text-color"]=["rgba"].concat(r.textColor.toArray())),e.push(o)}return e}}class Ai{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new Ai({name:e,available:!1}):null}serialize(){return["image",this.name]}}function a3(t,e,r,o){return typeof t=="number"&&t>=0&&t<=255&&typeof e=="number"&&e>=0&&e<=255&&typeof r=="number"&&r>=0&&r<=255?o===void 0||typeof o=="number"&&o>=0&&o<=1?null:`Invalid rgba value [${[t,e,r,o].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof o=="number"?[t,e,r,o]:[t,e,r]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function On(t){if(t===null||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||t instanceof _r||t instanceof Is||t instanceof pi||t instanceof Ai)return!0;if(Array.isArray(t)){for(const e of t)if(!On(e))return!1;return!0}if(typeof t=="object"){for(const e in t)if(!On(t[e]))return!1;return!0}return!1}function pr(t){if(t===null)return Ji;if(typeof t=="string")return t4;if(typeof t=="boolean")return Kt;if(typeof t=="number")return pt;if(t instanceof _r)return Zr;if(t instanceof Is)return s4;if(t instanceof pi)return kr;if(t instanceof Ai)return Wr;if(Array.isArray(t)){const e=t.length;let r;for(const o of t){const a=pr(o);if(r){if(r===a)continue;r=Ze;break}r=a}return ir(r||Ze,e)}return oe}function Vn(t){const e=typeof t;return t===null?"":e==="string"||e==="number"||e==="boolean"?String(t):t instanceof _r||t instanceof pi||t instanceof Ai?t.toString():JSON.stringify(t)}class Ps{constructor(e,r){this.type=e,this.value=r}static parse(e,r){if(e.length!==2)return r.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!On(e[1]))return r.error("invalid value");const o=e[1];let a=pr(o);const c=r.expectedType;return a.kind!=="array"||a.N!==0||!c||c.kind!=="array"||typeof c.N=="number"&&c.N!==0||(a=c),new Ps(a,o)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof _r?["rgba"].concat(this.value.toArray()):this.value instanceof pi?this.value.serialize():this.value}}var jo=Ps,Hr=class{constructor(t){this.name="ExpressionEvaluationError",this.message=t}toJSON(){return this.message}};const Ts={string:t4,number:pt,boolean:Kt,object:oe};class Fs{constructor(e,r){this.type=e,this.args=r}static parse(e,r){if(e.length<2)return r.error("Expected at least one argument.");let o,a=1;const c=e[0];if(c==="array"){let d,m;if(e.length>2){const y=e[1];if(typeof y!="string"||!(y in Ts)||y==="object")return r.error('The item type argument of "array" must be one of string, number, boolean',1);d=Ts[y],a++}else d=Ze;if(e.length>3){if(e[2]!==null&&(typeof e[2]!="number"||e[2]<0||e[2]!==Math.floor(e[2])))return r.error('The length argument to "array" must be a positive integer literal',2);m=e[2],a++}o=ir(d,m)}else o=Ts[c];const p=[];for(;a<e.length;a++){const d=r.parse(e[a],a,Ze);if(!d)return null;p.push(d)}return new Fs(o,p)}evaluate(e){for(let r=0;r<this.args.length;r++){const o=this.args[r].evaluate(e);if(!Mi(this.type,pr(o)))return o;if(r===this.args.length-1)throw new Hr(`Expected value to be of type ${O4(this.type)}, but found ${O4(pr(o))} instead.`)}return null}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){const e=this.type,r=[e.kind];if(e.kind==="array"){const o=e.itemType;if(o.kind==="string"||o.kind==="number"||o.kind==="boolean"){r.push(o.kind);const a=e.N;(typeof a=="number"||this.args.length>1)&&r.push(a)}}return r.concat(this.args.map(o=>o.serialize()))}}var ao=Fs;class Eo{constructor(e){this.type=kr,this.sections=e}static parse(e,r){if(e.length<2)return r.error("Expected at least one argument.");const o=e[1];if(!Array.isArray(o)&&typeof o=="object")return r.error("First argument must be an image or text section.");const a=[];let c=!1;for(let p=1;p<=e.length-1;++p){const d=e[p];if(c&&typeof d=="object"&&!Array.isArray(d)){c=!1;let m=null;if(d["font-scale"]&&(m=r.parse(d["font-scale"],1,pt),!m))return null;let y=null;if(d["text-font"]&&(y=r.parse(d["text-font"],1,ir(t4)),!y))return null;let x=null;if(d["text-color"]&&(x=r.parse(d["text-color"],1,Zr),!x))return null;const b=a[a.length-1];b.scale=m,b.font=y,b.textColor=x}else{const m=r.parse(e[p],1,Ze);if(!m)return null;const y=m.type.kind;if(y!=="string"&&y!=="value"&&y!=="null"&&y!=="resolvedImage")return r.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");c=!0,a.push({content:m,scale:null,font:null,textColor:null})}}return new Eo(a)}evaluate(e){return new pi(this.sections.map(r=>{const o=r.content.evaluate(e);return pr(o)===Wr?new Es("",o,null,null,null):new Es(Vn(o),null,r.scale?r.scale.evaluate(e):null,r.font?r.font.evaluate(e).join(","):null,r.textColor?r.textColor.evaluate(e):null)}))}eachChild(e){for(const r of this.sections)e(r.content),r.scale&&e(r.scale),r.font&&e(r.font),r.textColor&&e(r.textColor)}outputDefined(){return!1}serialize(){const e=["format"];for(const r of this.sections){e.push(r.content.serialize());const o={};r.scale&&(o["font-scale"]=r.scale.serialize()),r.font&&(o["text-font"]=r.font.serialize()),r.textColor&&(o["text-color"]=r.textColor.serialize()),e.push(o)}return e}}class S5{constructor(e){this.type=Wr,this.input=e}static parse(e,r){if(e.length!==2)return r.error("Expected two arguments.");const o=r.parse(e[1],1,t4);return o?new S5(o):r.error("No image name provided.")}evaluate(e){const r=this.input.evaluate(e),o=Ai.fromString(r);return o&&e.availableImages&&(o.available=e.availableImages.indexOf(r)>-1),o}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const ja={"to-boolean":Kt,"to-color":Zr,"to-number":pt,"to-string":t4};class Ls{constructor(e,r){this.type=e,this.args=r}static parse(e,r){if(e.length<2)return r.error("Expected at least one argument.");const o=e[0];if((o==="to-boolean"||o==="to-string")&&e.length!==2)return r.error("Expected one argument.");const a=ja[o],c=[];for(let p=1;p<e.length;p++){const d=r.parse(e[p],p,Ze);if(!d)return null;c.push(d)}return new Ls(a,c)}evaluate(e){if(this.type.kind==="boolean")return!!this.args[0].evaluate(e);if(this.type.kind==="color"){let r,o;for(const a of this.args){if(r=a.evaluate(e),o=null,r instanceof _r)return r;if(typeof r=="string"){const c=e.parseColor(r);if(c)return c}else if(Array.isArray(r)&&(o=r.length<3||r.length>4?`Invalid rbga value ${JSON.stringify(r)}: expected an array containing either three or four numeric values.`:a3(r[0],r[1],r[2],r[3]),!o))return new _r(r[0]/255,r[1]/255,r[2]/255,r[3])}throw new Hr(o||`Could not parse color from value '${typeof r=="string"?r:String(JSON.stringify(r))}'`)}if(this.type.kind==="number"){let r=null;for(const o of this.args){if(r=o.evaluate(e),r===null)return 0;const a=Number(r);if(!isNaN(a))return a}throw new Hr(`Could not convert ${JSON.stringify(r)} to number.`)}return this.type.kind==="formatted"?pi.fromString(Vn(this.args[0].evaluate(e))):this.type.kind==="resolvedImage"?Ai.fromString(Vn(this.args[0].evaluate(e))):Vn(this.args[0].evaluate(e))}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){if(this.type.kind==="formatted")return new Eo([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new S5(this.args[0]).serialize();const e=[`to-${this.type.kind}`];return this.eachChild(r=>{e.push(r.serialize())}),e}}var ln=Ls;const $i=["Unknown","Point","LineString","Polygon"];var ks=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?$i[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const t=this.featureDistanceData.center,e=this.featureDistanceData.scale,{x:r,y:o}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(r*e-t[0])+this.featureDistanceData.bearing[1]*(o*e-t[1])}return 0}parseColor(t){let e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=_r.parse(t)),e}};class Go{constructor(e,r,o,a){this.name=e,this.type=r,this._evaluate=o,this.args=a}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(e=>e.serialize()))}static parse(e,r){const o=e[0],a=Go.definitions[o];if(!a)return r.error(`Unknown expression "${o}". If you wanted a literal array, use ["literal", [...]].`,0);const c=Array.isArray(a)?a[0]:a.type,p=Array.isArray(a)?[[a[1],a[2]]]:a.overloads,d=p.filter(([y])=>!Array.isArray(y)||y.length===e.length-1);let m=null;for(const[y,x]of d){m=new Os(r.registry,r.path,null,r.scope);const b=[];let S=!1;for(let I=1;I<e.length;I++){const E=e[I],k=Array.isArray(y)?y[I-1]:y.type,O=m.parse(E,1+b.length,k);if(!O){S=!0;break}b.push(O)}if(!S)if(Array.isArray(y)&&y.length!==b.length)m.error(`Expected ${y.length} arguments, but found ${b.length} instead.`);else{for(let I=0;I<b.length;I++){const E=Array.isArray(y)?y[I]:y.type,k=b[I];m.concat(I+1).checkSubtype(E,k.type)}if(m.errors.length===0)return new Go(o,c,x,b)}}if(d.length===1)r.errors.push(...m.errors);else{const y=(d.length?d:p).map(([b])=>{return S=b,Array.isArray(S)?`(${S.map(O4).join(", ")})`:`(${O4(S.type)}...)`;var S}).join(" | "),x=[];for(let b=1;b<e.length;b++){const S=r.parse(e[b],1+x.length);if(!S)return null;x.push(O4(S.type))}r.error(`Expected arguments of type ${y}, but found (${x.join(", ")}) instead.`)}return null}static register(e,r){Go.definitions=r;for(const o in r)e[o]=Go}}var lo=Go;class jn{constructor(e,r,o){this.type=s4,this.locale=o,this.caseSensitive=e,this.diacriticSensitive=r}static parse(e,r){if(e.length!==2)return r.error("Expected one argument.");const o=e[1];if(typeof o!="object"||Array.isArray(o))return r.error("Collator options argument must be an object.");const a=r.parse(o["case-sensitive"]!==void 0&&o["case-sensitive"],1,Kt);if(!a)return null;const c=r.parse(o["diacritic-sensitive"]!==void 0&&o["diacritic-sensitive"],1,Kt);if(!c)return null;let p=null;return o.locale&&(p=r.parse(o.locale,1,t4),!p)?null:new jn(a,c,p)}evaluate(e){return new Is(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}serialize(){const e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]}}const co=8192;function M5(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.max(t[2],e[0]),t[3]=Math.max(t[3],e[1])}function cn(t,e){return!(t[0]<=e[0]||t[2]>=e[2]||t[1]<=e[1]||t[3]>=e[3])}function Gn(t,e){const r=(180+t[0])/360,o=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t[1]*Math.PI/360)))/360,a=Math.pow(2,e.z);return[Math.round(r*a*co),Math.round(o*a*co)]}function l3(t,e,r){const o=t[0]-e[0],a=t[1]-e[1],c=t[0]-r[0],p=t[1]-r[1];return o*p-c*a==0&&o*c<=0&&a*p<=0}function A5(t,e){let r=!1;for(let p=0,d=e.length;p<d;p++){const m=e[p];for(let y=0,x=m.length;y<x-1;y++){if(l3(t,m[y],m[y+1]))return!1;(a=m[y])[1]>(o=t)[1]!=(c=m[y+1])[1]>o[1]&&o[0]<(c[0]-a[0])*(o[1]-a[1])/(c[1]-a[1])+a[0]&&(r=!r)}}var o,a,c;return r}function Us(t,e){for(let r=0;r<e.length;r++)if(A5(t,e[r]))return!0;return!1}function zs(t,e,r,o){const a=o[0]-r[0],c=o[1]-r[1],p=(t[0]-r[0])*c-a*(t[1]-r[1]),d=(e[0]-r[0])*c-a*(e[1]-r[1]);return p>0&&d<0||p<0&&d>0}function un(t,e,r){for(const y of r)for(let x=0;x<y.length-1;++x)if((d=[(p=y[x+1])[0]-(c=y[x])[0],p[1]-c[1]])[0]*(m=[(a=e)[0]-(o=t)[0],a[1]-o[1]])[1]-d[1]*m[0]!=0&&zs(o,a,c,p)&&zs(c,p,o,a))return!0;var o,a,c,p,d,m;return!1}function w4(t,e){for(let r=0;r<t.length;++r)if(!A5(t[r],e))return!1;for(let r=0;r<t.length-1;++r)if(un(t[r],t[r+1],e))return!1;return!0}function Ga(t,e){for(let r=0;r<e.length;r++)if(w4(t,e[r]))return!0;return!1}function Rs(t,e,r){const o=[];for(let a=0;a<t.length;a++){const c=[];for(let p=0;p<t[a].length;p++){const d=Gn(t[a][p],r);M5(e,d),c.push(d)}o.push(c)}return o}function c3(t,e,r){const o=[];for(let a=0;a<t.length;a++){const c=Rs(t[a],e,r);o.push(c)}return o}function Bs(t,e,r,o){if(t[0]<r[0]||t[0]>r[2]){const a=.5*o;let c=t[0]-r[0]>a?-o:r[0]-t[0]>a?o:0;c===0&&(c=t[0]-r[2]>a?-o:r[2]-t[0]>a?o:0),t[0]+=c}M5(e,t)}function u3(t,e,r,o){const a=Math.pow(2,o.z)*co,c=[o.x*co,o.y*co],p=[];if(!t)return p;for(const d of t)for(const m of d){const y=[m.x+c[0],m.y+c[1]];Bs(y,e,r,a),p.push(y)}return p}function Ns(t,e,r,o){const a=Math.pow(2,o.z)*co,c=[o.x*co,o.y*co],p=[];if(!t)return p;for(const m of t){const y=[];for(const x of m){const b=[x.x+c[0],x.y+c[1]];M5(e,b),y.push(b)}p.push(y)}if(e[2]-e[0]<=a/2){(d=e)[0]=d[1]=1/0,d[2]=d[3]=-1/0;for(const m of p)for(const y of m)Bs(y,e,r,a)}var d;return p}class pn{constructor(e,r){this.type=Kt,this.geojson=e,this.geometries=r}static parse(e,r){if(e.length!==2)return r.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(On(e[1])){const o=e[1];if(o.type==="FeatureCollection")for(let a=0;a<o.features.length;++a){const c=o.features[a].geometry.type;if(c==="Polygon"||c==="MultiPolygon")return new pn(o,o.features[a].geometry)}else if(o.type==="Feature"){const a=o.geometry.type;if(a==="Polygon"||a==="MultiPolygon")return new pn(o,o.geometry)}else if(o.type==="Polygon"||o.type==="MultiPolygon")return new pn(o,o)}return r.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(e.geometry()!=null&&e.canonicalID()!=null){if(e.geometryType()==="Point")return function(r,o){const a=[1/0,1/0,-1/0,-1/0],c=[1/0,1/0,-1/0,-1/0],p=r.canonicalID();if(!p)return!1;if(o.type==="Polygon"){const d=Rs(o.coordinates,c,p),m=u3(r.geometry(),a,c,p);if(!cn(a,c))return!1;for(const y of m)if(!A5(y,d))return!1}if(o.type==="MultiPolygon"){const d=c3(o.coordinates,c,p),m=u3(r.geometry(),a,c,p);if(!cn(a,c))return!1;for(const y of m)if(!Us(y,d))return!1}return!0}(e,this.geometries);if(e.geometryType()==="LineString")return function(r,o){const a=[1/0,1/0,-1/0,-1/0],c=[1/0,1/0,-1/0,-1/0],p=r.canonicalID();if(!p)return!1;if(o.type==="Polygon"){const d=Rs(o.coordinates,c,p),m=Ns(r.geometry(),a,c,p);if(!cn(a,c))return!1;for(const y of m)if(!w4(y,d))return!1}if(o.type==="MultiPolygon"){const d=c3(o.coordinates,c,p),m=Ns(r.geometry(),a,c,p);if(!cn(a,c))return!1;for(const y of m)if(!Ga(y,d))return!1}return!0}(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var I5=pn;function hn(t){if(t instanceof lo&&(t.name==="get"&&t.args.length===1||t.name==="feature-state"||t.name==="has"&&t.args.length===1||t.name==="properties"||t.name==="geometry-type"||t.name==="id"||/^filter-/.test(t.name))||t instanceof I5)return!1;let e=!0;return t.eachChild(r=>{e&&!hn(r)&&(e=!1)}),e}function uo(t){if(t instanceof lo&&t.name==="feature-state")return!1;let e=!0;return t.eachChild(r=>{e&&!uo(r)&&(e=!1)}),e}function qo(t,e){if(t instanceof lo&&e.indexOf(t.name)>=0)return!1;let r=!0;return t.eachChild(o=>{r&&!qo(o,e)&&(r=!1)}),r}class E5{constructor(e,r){this.type=r.type,this.name=e,this.boundExpression=r}static parse(e,r){if(e.length!==2||typeof e[1]!="string")return r.error("'var' expression requires exactly one string literal argument.");const o=e[1];return r.scope.has(o)?new E5(o,r.scope.get(o)):r.error(`Unknown variable "${o}". Make sure "${o}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var p3=E5;class qn{constructor(e,r=[],o,a=new Vo,c=[]){this.registry=e,this.path=r,this.key=r.map(p=>`[${p}]`).join(""),this.scope=a,this.errors=c,this.expectedType=o}parse(e,r,o,a,c={}){return r?this.concat(r,o,a)._parse(e,c):this._parse(e,c)}_parse(e,r){function o(a,c,p){return p==="assert"?new ao(c,[a]):p==="coerce"?new ln(c,[a]):a}if(e!==null&&typeof e!="string"&&typeof e!="boolean"&&typeof e!="number"||(e=["literal",e]),Array.isArray(e)){if(e.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const a=e[0];if(typeof a!="string")return this.error(`Expression name must be a string, but found ${typeof a} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const c=this.registry[a];if(c){let p=c.parse(e,this);if(!p)return null;if(this.expectedType){const d=this.expectedType,m=p.type;if(d.kind!=="string"&&d.kind!=="number"&&d.kind!=="boolean"&&d.kind!=="object"&&d.kind!=="array"||m.kind!=="value")if(d.kind!=="color"&&d.kind!=="formatted"&&d.kind!=="resolvedImage"||m.kind!=="value"&&m.kind!=="string"){if(this.checkSubtype(d,m))return null}else p=o(p,d,r.typeAnnotation||"coerce");else p=o(p,d,r.typeAnnotation||"assert")}if(!(p instanceof jo)&&p.type.kind!=="resolvedImage"&&Vs(p)){const d=new ks;try{p=new jo(p.type,p.evaluate(d))}catch(m){return this.error(m.message),null}}return p}return this.error(`Unknown expression "${a}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(e===void 0?"'undefined' value invalid. Use null instead.":typeof e=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof e} instead.`)}concat(e,r,o){const a=typeof e=="number"?this.path.concat(e):this.path,c=o?this.scope.concat(o):this.scope;return new qn(this.registry,a,r||null,c,this.errors)}error(e,...r){const o=`${this.key}${r.map(a=>`[${a}]`).join("")}`;this.errors.push(new ri(o,e))}checkSubtype(e,r){const o=Mi(e,r);return o&&this.error(o),o}}var Os=qn;function Vs(t){if(t instanceof p3)return Vs(t.boundExpression);if(t instanceof lo&&t.name==="error"||t instanceof jn||t instanceof I5)return!1;const e=t instanceof ln||t instanceof ao;let r=!0;return t.eachChild(o=>{r=e?r&&Vs(o):r&&o instanceof jo}),!!r&&hn(t)&&qo(t,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function P5(t,e){const r=t.length-1;let o,a,c=0,p=r,d=0;for(;c<=p;)if(d=Math.floor((c+p)/2),o=t[d],a=t[d+1],o<=e){if(d===r||e<a)return d;c=d+1}else{if(!(o>e))throw new Hr("Input is not a number.");p=d-1}return 0}class T5{constructor(e,r,o){this.type=e,this.input=r,this.labels=[],this.outputs=[];for(const[a,c]of o)this.labels.push(a),this.outputs.push(c)}static parse(e,r){if(e.length-1<4)return r.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return r.error("Expected an even number of arguments.");const o=r.parse(e[1],1,pt);if(!o)return null;const a=[];let c=null;r.expectedType&&r.expectedType.kind!=="value"&&(c=r.expectedType);for(let p=1;p<e.length;p+=2){const d=p===1?-1/0:e[p],m=e[p+1],y=p,x=p+1;if(typeof d!="number")return r.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',y);if(a.length&&a[a.length-1][0]>=d)return r.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',y);const b=r.parse(m,x,c);if(!b)return null;c=c||b.type,a.push([d,b])}return new T5(c,o,a)}evaluate(e){const r=this.labels,o=this.outputs;if(r.length===1)return o[0].evaluate(e);const a=this.input.evaluate(e);if(a<=r[0])return o[0].evaluate(e);const c=r.length;return a>=r[c-1]?o[c-1].evaluate(e):o[P5(r,a)].evaluate(e)}eachChild(e){e(this.input);for(const r of this.outputs)e(r)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}serialize(){const e=["step",this.input.serialize()];for(let r=0;r<this.labels.length;r++)r>0&&e.push(this.labels[r]),e.push(this.outputs[r].serialize());return e}}var js=T5;function u4(t,e,r){return t*(1-r)+e*r}var Zn=Object.freeze({__proto__:null,array:function(t,e,r){return t.map((o,a)=>u4(o,e[a],r))},color:function(t,e,r){return new _r(u4(t.r,e.r,r),u4(t.g,e.g,r),u4(t.b,e.b,r),u4(t.a,e.a,r))},number:u4});const h3=.95047,Gs=1.08883,d3=4/29,Zo=6/29,qs=3*Zo*Zo,qa=Zo*Zo*Zo,Za=Math.PI/180,Wa=180/Math.PI;function Zs(t){return t>qa?Math.pow(t,1/3):t/qs+d3}function Ws(t){return t>Zo?t*t*t:qs*(t-d3)}function Hs(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function F5(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function f3(t){const e=F5(t.r),r=F5(t.g),o=F5(t.b),a=Zs((.4124564*e+.3575761*r+.1804375*o)/h3),c=Zs((.2126729*e+.7151522*r+.072175*o)/1);return{l:116*c-16,a:500*(a-c),b:200*(c-Zs((.0193339*e+.119192*r+.9503041*o)/Gs)),alpha:t.a}}function m3(t){let e=(t.l+16)/116,r=isNaN(t.a)?e:e+t.a/500,o=isNaN(t.b)?e:e-t.b/200;return e=1*Ws(e),r=h3*Ws(r),o=Gs*Ws(o),new _r(Hs(3.2404542*r-1.5371385*e-.4985314*o),Hs(-.969266*r+1.8760108*e+.041556*o),Hs(.0556434*r-.2040259*e+1.0572252*o),t.alpha)}function Ha(t,e,r){const o=e-t;return t+r*(o>180||o<-180?o-360*Math.round(o/360):o)}const Wn={forward:f3,reverse:m3,interpolate:function(t,e,r){return{l:u4(t.l,e.l,r),a:u4(t.a,e.a,r),b:u4(t.b,e.b,r),alpha:u4(t.alpha,e.alpha,r)}}},dn={forward:function(t){const{l:e,a:r,b:o}=f3(t),a=Math.atan2(o,r)*Wa;return{h:a<0?a+360:a,c:Math.sqrt(r*r+o*o),l:e,alpha:t.a}},reverse:function(t){const e=t.h*Za,r=t.c;return m3({l:t.l,a:Math.cos(e)*r,b:Math.sin(e)*r,alpha:t.alpha})},interpolate:function(t,e,r){return{h:Ha(t.h,e.h,r),c:u4(t.c,e.c,r),l:u4(t.l,e.l,r),alpha:u4(t.alpha,e.alpha,r)}}};var Xs=Object.freeze({__proto__:null,hcl:dn,lab:Wn});class Hn{constructor(e,r,o,a,c){this.type=e,this.operator=r,this.interpolation=o,this.input=a,this.labels=[],this.outputs=[];for(const[p,d]of c)this.labels.push(p),this.outputs.push(d)}static interpolationFactor(e,r,o,a){let c=0;if(e.name==="exponential")c=Ys(r,e.base,o,a);else if(e.name==="linear")c=Ys(r,1,o,a);else if(e.name==="cubic-bezier"){const p=e.controlPoints;c=new ut(p[0],p[1],p[2],p[3]).solve(Ys(r,1,o,a))}return c}static parse(e,r){let[o,a,c,...p]=e;if(!Array.isArray(a)||a.length===0)return r.error("Expected an interpolation type expression.",1);if(a[0]==="linear")a={name:"linear"};else if(a[0]==="exponential"){const y=a[1];if(typeof y!="number")return r.error("Exponential interpolation requires a numeric base.",1,1);a={name:"exponential",base:y}}else{if(a[0]!=="cubic-bezier")return r.error(`Unknown interpolation type ${String(a[0])}`,1,0);{const y=a.slice(1);if(y.length!==4||y.some(x=>typeof x!="number"||x<0||x>1))return r.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);a={name:"cubic-bezier",controlPoints:y}}}if(e.length-1<4)return r.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return r.error("Expected an even number of arguments.");if(c=r.parse(c,2,pt),!c)return null;const d=[];let m=null;o==="interpolate-hcl"||o==="interpolate-lab"?m=Zr:r.expectedType&&r.expectedType.kind!=="value"&&(m=r.expectedType);for(let y=0;y<p.length;y+=2){const x=p[y],b=p[y+1],S=y+3,I=y+4;if(typeof x!="number")return r.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',S);if(d.length&&d[d.length-1][0]>=x)return r.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',S);const E=r.parse(b,I,m);if(!E)return null;m=m||E.type,d.push([x,E])}return m.kind==="number"||m.kind==="color"||m.kind==="array"&&m.itemType.kind==="number"&&typeof m.N=="number"?new Hn(m,o,a,c,d):r.error(`Type ${O4(m)} is not interpolatable.`)}evaluate(e){const r=this.labels,o=this.outputs;if(r.length===1)return o[0].evaluate(e);const a=this.input.evaluate(e);if(a<=r[0])return o[0].evaluate(e);const c=r.length;if(a>=r[c-1])return o[c-1].evaluate(e);const p=P5(r,a),d=Hn.interpolationFactor(this.interpolation,a,r[p],r[p+1]),m=o[p].evaluate(e),y=o[p+1].evaluate(e);return this.operator==="interpolate"?Zn[this.type.kind.toLowerCase()](m,y,d):this.operator==="interpolate-hcl"?dn.reverse(dn.interpolate(dn.forward(m),dn.forward(y),d)):Wn.reverse(Wn.interpolate(Wn.forward(m),Wn.forward(y),d))}eachChild(e){e(this.input);for(const r of this.outputs)e(r)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}serialize(){let e;e=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const r=[this.operator,e,this.input.serialize()];for(let o=0;o<this.labels.length;o++)r.push(this.labels[o],this.outputs[o].serialize());return r}}function Ys(t,e,r,o){const a=o-r,c=t-r;return a===0?0:e===1?c/a:(Math.pow(e,c)-1)/(Math.pow(e,a)-1)}var Qi=Hn;class L5{constructor(e,r){this.type=e,this.args=r}static parse(e,r){if(e.length<2)return r.error("Expectected at least one argument.");let o=null;const a=r.expectedType;a&&a.kind!=="value"&&(o=a);const c=[];for(const d of e.slice(1)){const m=r.parse(d,1+c.length,o,void 0,{typeAnnotation:"omit"});if(!m)return null;o=o||m.type,c.push(m)}const p=a&&c.some(d=>Mi(a,d.type));return new L5(p?Ze:o,c)}evaluate(e){let r,o=null,a=0;for(const c of this.args){if(a++,o=c.evaluate(e),o&&o instanceof Ai&&!o.available&&(r||(r=o),o=null,a===this.args.length))return r;if(o!==null)break}return o}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){const e=["coalesce"];return this.eachChild(r=>{e.push(r.serialize())}),e}}var Ks=L5;class k5{constructor(e,r){this.type=r.type,this.bindings=[].concat(e),this.result=r}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const r of this.bindings)e(r[1]);e(this.result)}static parse(e,r){if(e.length<4)return r.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);const o=[];for(let c=1;c<e.length-1;c+=2){const p=e[c];if(typeof p!="string")return r.error(`Expected string, but found ${typeof p} instead.`,c);if(/[^a-zA-Z0-9_]/.test(p))return r.error("Variable names must contain only alphanumeric characters or '_'.",c);const d=r.parse(e[c+1],c+1);if(!d)return null;o.push([p,d])}const a=r.parse(e[e.length-1],e.length-1,r.expectedType,o);return a?new k5(o,a):null}outputDefined(){return this.result.outputDefined()}serialize(){const e=["let"];for(const[r,o]of this.bindings)e.push(r,o.serialize());return e.push(this.result.serialize()),e}}var y3=k5;class Js{constructor(e,r,o){this.type=e,this.index=r,this.input=o}static parse(e,r){if(e.length!==3)return r.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const o=r.parse(e[1],1,pt),a=r.parse(e[2],2,ir(r.expectedType||Ze));return o&&a?new Js(a.type.itemType,o,a):null}evaluate(e){const r=this.index.evaluate(e),o=this.input.evaluate(e);if(r<0)throw new Hr(`Array index out of bounds: ${r} < 0.`);if(r>=o.length)throw new Hr(`Array index out of bounds: ${r} > ${o.length-1}.`);if(r!==Math.floor(r))throw new Hr(`Array index must be an integer, but found ${r} instead.`);return o[r]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var Xa=Js;class $s{constructor(e,r){this.type=Kt,this.needle=e,this.haystack=r}static parse(e,r){if(e.length!==3)return r.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const o=r.parse(e[1],1,Ze),a=r.parse(e[2],2,Ze);return o&&a?Ao(o.type,[Kt,t4,pt,Ji,Ze])?new $s(o,a):r.error(`Expected first argument to be of type boolean, string, number or null, but found ${O4(o.type)} instead`):null}evaluate(e){const r=this.needle.evaluate(e),o=this.haystack.evaluate(e);if(o==null)return!1;if(!Io(r,["boolean","string","number","null"]))throw new Hr(`Expected first argument to be of type boolean, string, number or null, but found ${O4(pr(r))} instead.`);if(!Io(o,["string","array"]))throw new Hr(`Expected second argument to be of type array or string, but found ${O4(pr(o))} instead.`);return o.indexOf(r)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var U5=$s;class Xn{constructor(e,r,o){this.type=pt,this.needle=e,this.haystack=r,this.fromIndex=o}static parse(e,r){if(e.length<=2||e.length>=5)return r.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const o=r.parse(e[1],1,Ze),a=r.parse(e[2],2,Ze);if(!o||!a)return null;if(!Ao(o.type,[Kt,t4,pt,Ji,Ze]))return r.error(`Expected first argument to be of type boolean, string, number or null, but found ${O4(o.type)} instead`);if(e.length===4){const c=r.parse(e[3],3,pt);return c?new Xn(o,a,c):null}return new Xn(o,a)}evaluate(e){const r=this.needle.evaluate(e),o=this.haystack.evaluate(e);if(!Io(r,["boolean","string","number","null"]))throw new Hr(`Expected first argument to be of type boolean, string, number or null, but found ${O4(pr(r))} instead.`);if(!Io(o,["string","array"]))throw new Hr(`Expected second argument to be of type array or string, but found ${O4(pr(o))} instead.`);if(this.fromIndex){const a=this.fromIndex.evaluate(e);return o.indexOf(r,a)}return o.indexOf(r)}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var _3=Xn;class Qs{constructor(e,r,o,a,c,p){this.inputType=e,this.type=r,this.input=o,this.cases=a,this.outputs=c,this.otherwise=p}static parse(e,r){if(e.length<5)return r.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!=1)return r.error("Expected an even number of arguments.");let o,a;r.expectedType&&r.expectedType.kind!=="value"&&(a=r.expectedType);const c={},p=[];for(let y=2;y<e.length-1;y+=2){let x=e[y];const b=e[y+1];Array.isArray(x)||(x=[x]);const S=r.concat(y);if(x.length===0)return S.error("Expected at least one branch label.");for(const E of x){if(typeof E!="number"&&typeof E!="string")return S.error("Branch labels must be numbers or strings.");if(typeof E=="number"&&Math.abs(E)>Number.MAX_SAFE_INTEGER)return S.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof E=="number"&&Math.floor(E)!==E)return S.error("Numeric branch labels must be integer values.");if(o){if(S.checkSubtype(o,pr(E)))return null}else o=pr(E);if(c[String(E)]!==void 0)return S.error("Branch labels must be unique.");c[String(E)]=p.length}const I=r.parse(b,y,a);if(!I)return null;a=a||I.type,p.push(I)}const d=r.parse(e[1],1,Ze);if(!d)return null;const m=r.parse(e[e.length-1],e.length-1,a);return m?d.type.kind!=="value"&&r.concat(1).checkSubtype(o,d.type)?null:new Qs(o,a,d,c,p,m):null}evaluate(e){const r=this.input.evaluate(e);return(pr(r)===this.inputType&&this.outputs[this.cases[r]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every(e=>e.outputDefined())&&this.otherwise.outputDefined()}serialize(){const e=["match",this.input.serialize()],r=Object.keys(this.cases).sort(),o=[],a={};for(const p of r){const d=a[this.cases[p]];d===void 0?(a[this.cases[p]]=o.length,o.push([this.cases[p],[p]])):o[d][1].push(p)}const c=p=>this.inputType.kind==="number"?Number(p):p;for(const[p,d]of o)e.push(d.length===1?c(d[0]):d.map(c)),e.push(this.outputs[p].serialize());return e.push(this.otherwise.serialize()),e}}var Ya=Qs;class e7{constructor(e,r,o){this.type=e,this.branches=r,this.otherwise=o}static parse(e,r){if(e.length<4)return r.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!=0)return r.error("Expected an odd number of arguments.");let o;r.expectedType&&r.expectedType.kind!=="value"&&(o=r.expectedType);const a=[];for(let p=1;p<e.length-1;p+=2){const d=r.parse(e[p],p,Kt);if(!d)return null;const m=r.parse(e[p+1],p+1,o);if(!m)return null;a.push([d,m]),o=o||m.type}const c=r.parse(e[e.length-1],e.length-1,o);return c?new e7(o,a,c):null}evaluate(e){for(const[r,o]of this.branches)if(r.evaluate(e))return o.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[r,o]of this.branches)e(r),e(o);e(this.otherwise)}outputDefined(){return this.branches.every(([e,r])=>r.outputDefined())&&this.otherwise.outputDefined()}serialize(){const e=["case"];return this.eachChild(r=>{e.push(r.serialize())}),e}}var g3=e7;class Yn{constructor(e,r,o,a){this.type=e,this.input=r,this.beginIndex=o,this.endIndex=a}static parse(e,r){if(e.length<=2||e.length>=5)return r.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const o=r.parse(e[1],1,Ze),a=r.parse(e[2],2,pt);if(!o||!a)return null;if(!Ao(o.type,[ir(Ze),t4,Ze]))return r.error(`Expected first argument to be of type array or string, but found ${O4(o.type)} instead`);if(e.length===4){const c=r.parse(e[3],3,pt);return c?new Yn(o.type,o,a,c):null}return new Yn(o.type,o,a)}evaluate(e){const r=this.input.evaluate(e),o=this.beginIndex.evaluate(e);if(!Io(r,["string","array"]))throw new Hr(`Expected first argument to be of type array or string, but found ${O4(pr(r))} instead.`);if(this.endIndex){const a=this.endIndex.evaluate(e);return r.slice(o,a)}return r.slice(o)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var x3=Yn;function z5(t,e){return t==="=="||t==="!="?e.kind==="boolean"||e.kind==="string"||e.kind==="number"||e.kind==="null"||e.kind==="value":e.kind==="string"||e.kind==="number"||e.kind==="value"}function v3(t,e,r,o){return o.compare(e,r)===0}function fn(t,e,r){const o=t!=="=="&&t!=="!=";return class d0{constructor(c,p,d){this.type=Kt,this.lhs=c,this.rhs=p,this.collator=d,this.hasUntypedArgument=c.type.kind==="value"||p.type.kind==="value"}static parse(c,p){if(c.length!==3&&c.length!==4)return p.error("Expected two or three arguments.");const d=c[0];let m=p.parse(c[1],1,Ze);if(!m)return null;if(!z5(d,m.type))return p.concat(1).error(`"${d}" comparisons are not supported for type '${O4(m.type)}'.`);let y=p.parse(c[2],2,Ze);if(!y)return null;if(!z5(d,y.type))return p.concat(2).error(`"${d}" comparisons are not supported for type '${O4(y.type)}'.`);if(m.type.kind!==y.type.kind&&m.type.kind!=="value"&&y.type.kind!=="value")return p.error(`Cannot compare types '${O4(m.type)}' and '${O4(y.type)}'.`);o&&(m.type.kind==="value"&&y.type.kind!=="value"?m=new ao(y.type,[m]):m.type.kind!=="value"&&y.type.kind==="value"&&(y=new ao(m.type,[y])));let x=null;if(c.length===4){if(m.type.kind!=="string"&&y.type.kind!=="string"&&m.type.kind!=="value"&&y.type.kind!=="value")return p.error("Cannot use collator to compare non-string types.");if(x=p.parse(c[3],3,s4),!x)return null}return new d0(m,y,x)}evaluate(c){const p=this.lhs.evaluate(c),d=this.rhs.evaluate(c);if(o&&this.hasUntypedArgument){const m=pr(p),y=pr(d);if(m.kind!==y.kind||m.kind!=="string"&&m.kind!=="number")throw new Hr(`Expected arguments for "${t}" to be (string, string) or (number, number), but found (${m.kind}, ${y.kind}) instead.`)}if(this.collator&&!o&&this.hasUntypedArgument){const m=pr(p),y=pr(d);if(m.kind!=="string"||y.kind!=="string")return e(c,p,d)}return this.collator?r(c,p,d,this.collator.evaluate(c)):e(c,p,d)}eachChild(c){c(this.lhs),c(this.rhs),this.collator&&c(this.collator)}outputDefined(){return!0}serialize(){const c=[t];return this.eachChild(p=>{c.push(p.serialize())}),c}}}const Ka=fn("==",function(t,e,r){return e===r},v3),Ja=fn("!=",function(t,e,r){return e!==r},function(t,e,r,o){return!v3(0,e,r,o)}),$a=fn("<",function(t,e,r){return e<r},function(t,e,r,o){return o.compare(e,r)<0}),Qa=fn(">",function(t,e,r){return e>r},function(t,e,r,o){return o.compare(e,r)>0}),e1=fn("<=",function(t,e,r){return e<=r},function(t,e,r,o){return o.compare(e,r)<=0}),b3=fn(">=",function(t,e,r){return e>=r},function(t,e,r,o){return o.compare(e,r)>=0});class R5{constructor(e,r,o,a,c,p){this.type=t4,this.number=e,this.locale=r,this.currency=o,this.unit=a,this.minFractionDigits=c,this.maxFractionDigits=p}static parse(e,r){if(e.length!==3)return r.error("Expected two arguments.");const o=r.parse(e[1],1,pt);if(!o)return null;const a=e[2];if(typeof a!="object"||Array.isArray(a))return r.error("NumberFormat options argument must be an object.");let c=null;if(a.locale&&(c=r.parse(a.locale,1,t4),!c))return null;let p=null;if(a.currency&&(p=r.parse(a.currency,1,t4),!p))return null;let d=null;if(a.unit&&(d=r.parse(a.unit,1,t4),!d))return null;let m=null;if(a["min-fraction-digits"]&&(m=r.parse(a["min-fraction-digits"],1,pt),!m))return null;let y=null;return a["max-fraction-digits"]&&(y=r.parse(a["max-fraction-digits"],1,pt),!y)?null:new R5(o,c,p,d,m,y)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(e):void 0,unit:this.unit?this.unit.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.unit&&e(this.unit),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.unit&&(e.unit=this.unit.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]}}class mn{constructor(e){this.type=pt,this.input=e}static parse(e,r){if(e.length!==2)return r.error(`Expected 1 argument, but found ${e.length-1} instead.`);const o=r.parse(e[1],1);return o?o.type.kind!=="array"&&o.type.kind!=="string"&&o.type.kind!=="value"?r.error(`Expected argument of type string or array, but found ${O4(o.type)} instead.`):new mn(o):null}evaluate(e){const r=this.input.evaluate(e);if(typeof r=="string"||Array.isArray(r))return r.length;throw new Hr(`Expected value to be of type string or array, but found ${O4(pr(r))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){const e=["length"];return this.eachChild(r=>{e.push(r.serialize())}),e}}const C3={"==":Ka,"!=":Ja,">":Qa,"<":$a,">=":b3,"<=":e1,array:ao,at:Xa,boolean:ao,case:g3,coalesce:Ks,collator:jn,format:Eo,image:S5,in:U5,"index-of":_3,interpolate:Qi,"interpolate-hcl":Qi,"interpolate-lab":Qi,length:mn,let:y3,literal:jo,match:Ya,number:ao,"number-format":R5,object:ao,slice:x3,step:js,string:ao,"to-boolean":ln,"to-color":ln,"to-number":ln,"to-string":ln,var:p3,within:I5};function w3(t,[e,r,o,a]){e=e.evaluate(t),r=r.evaluate(t),o=o.evaluate(t);const c=a?a.evaluate(t):1,p=a3(e,r,o,c);if(p)throw new Hr(p);return new _r(e/255*c,r/255*c,o/255*c,c)}function po(t,e){return t in e}function B5(t,e){const r=e[t];return r===void 0?null:r}function Ii(t){return{type:t}}lo.register(C3,{error:[{kind:"error"},[t4],(t,[e])=>{throw new Hr(e.evaluate(t))}],typeof:[t4,[Ze],(t,[e])=>O4(pr(e.evaluate(t)))],"to-rgba":[ir(pt,4),[Zr],(t,[e])=>e.evaluate(t).toArray()],rgb:[Zr,[pt,pt,pt],w3],rgba:[Zr,[pt,pt,pt,pt],w3],has:{type:Kt,overloads:[[[t4],(t,[e])=>po(e.evaluate(t),t.properties())],[[t4,oe],(t,[e,r])=>po(e.evaluate(t),r.evaluate(t))]]},get:{type:Ze,overloads:[[[t4],(t,[e])=>B5(e.evaluate(t),t.properties())],[[t4,oe],(t,[e,r])=>B5(e.evaluate(t),r.evaluate(t))]]},"feature-state":[Ze,[t4],(t,[e])=>B5(e.evaluate(t),t.featureState||{})],properties:[oe,[],t=>t.properties()],"geometry-type":[t4,[],t=>t.geometryType()],id:[Ze,[],t=>t.id()],zoom:[pt,[],t=>t.globals.zoom],pitch:[pt,[],t=>t.globals.pitch||0],"distance-from-center":[pt,[],t=>t.distanceFromCenter()],"heatmap-density":[pt,[],t=>t.globals.heatmapDensity||0],"line-progress":[pt,[],t=>t.globals.lineProgress||0],"sky-radial-progress":[pt,[],t=>t.globals.skyRadialProgress||0],accumulated:[Ze,[],t=>t.globals.accumulated===void 0?null:t.globals.accumulated],"+":[pt,Ii(pt),(t,e)=>{let r=0;for(const o of e)r+=o.evaluate(t);return r}],"*":[pt,Ii(pt),(t,e)=>{let r=1;for(const o of e)r*=o.evaluate(t);return r}],"-":{type:pt,overloads:[[[pt,pt],(t,[e,r])=>e.evaluate(t)-r.evaluate(t)],[[pt],(t,[e])=>-e.evaluate(t)]]},"/":[pt,[pt,pt],(t,[e,r])=>e.evaluate(t)/r.evaluate(t)],"%":[pt,[pt,pt],(t,[e,r])=>e.evaluate(t)%r.evaluate(t)],ln2:[pt,[],()=>Math.LN2],pi:[pt,[],()=>Math.PI],e:[pt,[],()=>Math.E],"^":[pt,[pt,pt],(t,[e,r])=>Math.pow(e.evaluate(t),r.evaluate(t))],sqrt:[pt,[pt],(t,[e])=>Math.sqrt(e.evaluate(t))],log10:[pt,[pt],(t,[e])=>Math.log(e.evaluate(t))/Math.LN10],ln:[pt,[pt],(t,[e])=>Math.log(e.evaluate(t))],log2:[pt,[pt],(t,[e])=>Math.log(e.evaluate(t))/Math.LN2],sin:[pt,[pt],(t,[e])=>Math.sin(e.evaluate(t))],cos:[pt,[pt],(t,[e])=>Math.cos(e.evaluate(t))],tan:[pt,[pt],(t,[e])=>Math.tan(e.evaluate(t))],asin:[pt,[pt],(t,[e])=>Math.asin(e.evaluate(t))],acos:[pt,[pt],(t,[e])=>Math.acos(e.evaluate(t))],atan:[pt,[pt],(t,[e])=>Math.atan(e.evaluate(t))],min:[pt,Ii(pt),(t,e)=>Math.min(...e.map(r=>r.evaluate(t)))],max:[pt,Ii(pt),(t,e)=>Math.max(...e.map(r=>r.evaluate(t)))],abs:[pt,[pt],(t,[e])=>Math.abs(e.evaluate(t))],round:[pt,[pt],(t,[e])=>{const r=e.evaluate(t);return r<0?-Math.round(-r):Math.round(r)}],floor:[pt,[pt],(t,[e])=>Math.floor(e.evaluate(t))],ceil:[pt,[pt],(t,[e])=>Math.ceil(e.evaluate(t))],"filter-==":[Kt,[t4,Ze],(t,[e,r])=>t.properties()[e.value]===r.value],"filter-id-==":[Kt,[Ze],(t,[e])=>t.id()===e.value],"filter-type-==":[Kt,[t4],(t,[e])=>t.geometryType()===e.value],"filter-<":[Kt,[t4,Ze],(t,[e,r])=>{const o=t.properties()[e.value],a=r.value;return typeof o==typeof a&&o<a}],"filter-id-<":[Kt,[Ze],(t,[e])=>{const r=t.id(),o=e.value;return typeof r==typeof o&&r<o}],"filter->":[Kt,[t4,Ze],(t,[e,r])=>{const o=t.properties()[e.value],a=r.value;return typeof o==typeof a&&o>a}],"filter-id->":[Kt,[Ze],(t,[e])=>{const r=t.id(),o=e.value;return typeof r==typeof o&&r>o}],"filter-<=":[Kt,[t4,Ze],(t,[e,r])=>{const o=t.properties()[e.value],a=r.value;return typeof o==typeof a&&o<=a}],"filter-id-<=":[Kt,[Ze],(t,[e])=>{const r=t.id(),o=e.value;return typeof r==typeof o&&r<=o}],"filter->=":[Kt,[t4,Ze],(t,[e,r])=>{const o=t.properties()[e.value],a=r.value;return typeof o==typeof a&&o>=a}],"filter-id->=":[Kt,[Ze],(t,[e])=>{const r=t.id(),o=e.value;return typeof r==typeof o&&r>=o}],"filter-has":[Kt,[Ze],(t,[e])=>e.value in t.properties()],"filter-has-id":[Kt,[],t=>t.id()!==null&&t.id()!==void 0],"filter-type-in":[Kt,[ir(t4)],(t,[e])=>e.value.indexOf(t.geometryType())>=0],"filter-id-in":[Kt,[ir(Ze)],(t,[e])=>e.value.indexOf(t.id())>=0],"filter-in-small":[Kt,[t4,ir(Ze)],(t,[e,r])=>r.value.indexOf(t.properties()[e.value])>=0],"filter-in-large":[Kt,[t4,ir(Ze)],(t,[e,r])=>function(o,a,c,p){for(;c<=p;){const d=c+p>>1;if(a[d]===o)return!0;a[d]>o?p=d-1:c=d+1}return!1}(t.properties()[e.value],r.value,0,r.value.length-1)],all:{type:Kt,overloads:[[[Kt,Kt],(t,[e,r])=>e.evaluate(t)&&r.evaluate(t)],[Ii(Kt),(t,e)=>{for(const r of e)if(!r.evaluate(t))return!1;return!0}]]},any:{type:Kt,overloads:[[[Kt,Kt],(t,[e,r])=>e.evaluate(t)||r.evaluate(t)],[Ii(Kt),(t,e)=>{for(const r of e)if(r.evaluate(t))return!0;return!1}]]},"!":[Kt,[Kt],(t,[e])=>!e.evaluate(t)],"is-supported-script":[Kt,[t4],(t,[e])=>{const r=t.globals&&t.globals.isSupportedScript;return!r||r(e.evaluate(t))}],upcase:[t4,[t4],(t,[e])=>e.evaluate(t).toUpperCase()],downcase:[t4,[t4],(t,[e])=>e.evaluate(t).toLowerCase()],concat:[t4,Ii(Ze),(t,e)=>e.map(r=>Vn(r.evaluate(t))).join("")],"resolved-locale":[t4,[s4],(t,[e])=>e.evaluate(t).resolvedLocale()]});var Kn=C3;function D3(t){return{result:"success",value:t}}function Wo(t){return{result:"error",value:t}}function yn(t){return t["property-type"]==="data-driven"}function N5(t){return!!t.expression&&t.expression.parameters.indexOf("zoom")>-1}function O5(t){return!!t.expression&&t.expression.interpolated}function y4(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":t===null?"null":typeof t}function Jn(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function S3(t){return t}function V5(t,e){const r=e.type==="color",o=t.stops&&typeof t.stops[0][0]=="object",a=o||!(o||t.property!==void 0),c=t.type||(O5(e)?"exponential":"interval");if(r&&((t=ci({},t)).stops&&(t.stops=t.stops.map(y=>[y[0],_r.parse(y[1])])),t.default=_r.parse(t.default?t.default:e.default)),t.colorSpace&&t.colorSpace!=="rgb"&&!Xs[t.colorSpace])throw new Error(`Unknown color space: ${t.colorSpace}`);let p,d,m;if(c==="exponential")p=ho;else if(c==="interval")p=j5;else if(c==="categorical"){p=M3,d=Object.create(null);for(const y of t.stops)d[y[0]]=y[1];m=typeof t.stops[0][0]}else{if(c!=="identity")throw new Error(`Unknown function type "${c}"`);p=A3}if(o){const y={},x=[];for(let I=0;I<t.stops.length;I++){const E=t.stops[I],k=E[0].zoom;y[k]===void 0&&(y[k]={zoom:k,type:t.type,property:t.property,default:t.default,stops:[]},x.push(k)),y[k].stops.push([E[0].value,E[1]])}const b=[];for(const I of x)b.push([y[I].zoom,V5(y[I],e)]);const S={name:"linear"};return{kind:"composite",interpolationType:S,interpolationFactor:Qi.interpolationFactor.bind(void 0,S),zoomStops:b.map(I=>I[0]),evaluate:({zoom:I},E)=>ho({stops:b,base:t.base},e,I).evaluate(I,E)}}if(a){const y=c==="exponential"?{name:"exponential",base:t.base!==void 0?t.base:1}:null;return{kind:"camera",interpolationType:y,interpolationFactor:Qi.interpolationFactor.bind(void 0,y),zoomStops:t.stops.map(x=>x[0]),evaluate:({zoom:x})=>p(t,e,x,d,m)}}return{kind:"source",evaluate(y,x){const b=x&&x.properties?x.properties[t.property]:void 0;return b===void 0?_n(t.default,e.default):p(t,e,b,d,m)}}}function _n(t,e,r){return t!==void 0?t:e!==void 0?e:r!==void 0?r:void 0}function M3(t,e,r,o,a){return _n(typeof r===a?o[r]:void 0,t.default,e.default)}function j5(t,e,r){if(y4(r)!=="number")return _n(t.default,e.default);const o=t.stops.length;if(o===1||r<=t.stops[0][0])return t.stops[0][1];if(r>=t.stops[o-1][0])return t.stops[o-1][1];const a=P5(t.stops.map(c=>c[0]),r);return t.stops[a][1]}function ho(t,e,r){const o=t.base!==void 0?t.base:1;if(y4(r)!=="number")return _n(t.default,e.default);const a=t.stops.length;if(a===1||r<=t.stops[0][0])return t.stops[0][1];if(r>=t.stops[a-1][0])return t.stops[a-1][1];const c=P5(t.stops.map(x=>x[0]),r),p=function(x,b,S,I){const E=I-S,k=x-S;return E===0?0:b===1?k/E:(Math.pow(b,k)-1)/(Math.pow(b,E)-1)}(r,o,t.stops[c][0],t.stops[c+1][0]),d=t.stops[c][1],m=t.stops[c+1][1];let y=Zn[e.type]||S3;if(t.colorSpace&&t.colorSpace!=="rgb"){const x=Xs[t.colorSpace];y=(b,S)=>x.reverse(x.interpolate(x.forward(b),x.forward(S),p))}return typeof d.evaluate=="function"?{evaluate(...x){const b=d.evaluate.apply(void 0,x),S=m.evaluate.apply(void 0,x);if(b!==void 0&&S!==void 0)return y(b,S,p)}}:y(d,m,p)}function A3(t,e,r){return e.type==="color"?r=_r.parse(r):e.type==="formatted"?r=pi.fromString(r.toString()):e.type==="resolvedImage"?r=Ai.fromString(r.toString()):y4(r)===e.type||e.type==="enum"&&e.values[r]||(r=void 0),_n(r,t.default,e.default)}class G5{constructor(e,r){this.expression=e,this._warningHistory={},this._evaluator=new ks,this._defaultValue=r?function(o){return o.type==="color"&&(Jn(o.default)||Array.isArray(o.default))?new _r(0,0,0,0):o.type==="color"?_r.parse(o.default)||null:o.default===void 0?null:o.default}(r):null,this._enumValues=r&&r.type==="enum"?r.values:null}evaluateWithoutErrorHandling(e,r,o,a,c,p,d,m){return this._evaluator.globals=e,this._evaluator.feature=r,this._evaluator.featureState=o,this._evaluator.canonical=a||null,this._evaluator.availableImages=c||null,this._evaluator.formattedSection=p,this._evaluator.featureTileCoord=d||null,this._evaluator.featureDistanceData=m||null,this.expression.evaluate(this._evaluator)}evaluate(e,r,o,a,c,p,d,m){this._evaluator.globals=e,this._evaluator.feature=r||null,this._evaluator.featureState=o||null,this._evaluator.canonical=a||null,this._evaluator.availableImages=c||null,this._evaluator.formattedSection=p||null,this._evaluator.featureTileCoord=d||null,this._evaluator.featureDistanceData=m||null;try{const y=this.expression.evaluate(this._evaluator);if(y==null||typeof y=="number"&&y!=y)return this._defaultValue;if(this._enumValues&&!(y in this._enumValues))throw new Hr(`Expected value to be one of ${Object.keys(this._enumValues).map(x=>JSON.stringify(x)).join(", ")}, but found ${JSON.stringify(y)} instead.`);return y}catch(y){return this._warningHistory[y.message]||(this._warningHistory[y.message]=!0,typeof console<"u"&&console.warn(y.message)),this._defaultValue}}}function gn(t){return Array.isArray(t)&&t.length>0&&typeof t[0]=="string"&&t[0]in Kn}function xn(t,e){const r=new Os(Kn,[],e?function(a){const c={color:Zr,string:t4,number:pt,enum:t4,boolean:Kt,formatted:kr,resolvedImage:Wr};return a.type==="array"?ir(c[a.value]||Ze,a.length):c[a.type]}(e):void 0),o=r.parse(t,void 0,void 0,void 0,e&&e.type==="string"?{typeAnnotation:"coerce"}:void 0);return o?D3(new G5(o,e)):Wo(r.errors)}class t7{constructor(e,r){this.kind=e,this._styleExpression=r,this.isStateDependent=e!=="constant"&&!uo(r.expression)}evaluateWithoutErrorHandling(e,r,o,a,c,p){return this._styleExpression.evaluateWithoutErrorHandling(e,r,o,a,c,p)}evaluate(e,r,o,a,c,p){return this._styleExpression.evaluate(e,r,o,a,c,p)}}class $n{constructor(e,r,o,a){this.kind=e,this.zoomStops=o,this._styleExpression=r,this.isStateDependent=e!=="camera"&&!uo(r.expression),this.interpolationType=a}evaluateWithoutErrorHandling(e,r,o,a,c,p){return this._styleExpression.evaluateWithoutErrorHandling(e,r,o,a,c,p)}evaluate(e,r,o,a,c,p){return this._styleExpression.evaluate(e,r,o,a,c,p)}interpolationFactor(e,r,o){return this.interpolationType?Qi.interpolationFactor(this.interpolationType,e,r,o):0}}function Qn(t,e){if((t=xn(t,e)).result==="error")return t;const r=t.value.expression,o=hn(r);if(!o&&!yn(e))return Wo([new ri("","data expressions not supported")]);const a=qo(r,["zoom","pitch","distance-from-center"]);if(!a&&!N5(e))return Wo([new ri("","zoom expressions not supported")]);const c=Z5(r);return c||a?c instanceof ri?Wo([c]):c instanceof Qi&&!O5(e)?Wo([new ri("",'"interpolate" expressions cannot be used with this property')]):D3(c?new $n(o?"camera":"composite",t.value,c.labels,c instanceof Qi?c.interpolation:void 0):new t7(o?"constant":"source",t.value)):Wo([new ri("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class q5{constructor(e,r){this._parameters=e,this._specification=r,ci(this,V5(this._parameters,this._specification))}static deserialize(e){return new q5(e._parameters,e._specification)}static serialize(e){return{_parameters:e._parameters,_specification:e._specification}}}function Z5(t){let e=null;if(t instanceof y3)e=Z5(t.result);else if(t instanceof Ks){for(const r of t.args)if(e=Z5(r),e)break}else(t instanceof js||t instanceof Qi)&&t.input instanceof lo&&t.input.name==="zoom"&&(e=t);return e instanceof ri||t.eachChild(r=>{const o=Z5(r);o instanceof ri?e=o:!e&&o?e=new ri("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):e&&o&&e!==o&&(e=new ri("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),e}class yt{constructor(e,r,o,a){this.message=(e?`${e}: `:"")+o,a&&(this.identifier=a),r!=null&&r.__line__&&(this.line=r.__line__)}}function Vi(t){const e=t.key,r=t.value,o=t.valueSpec||{},a=t.objectElementValidators||{},c=t.style,p=t.styleSpec;let d=[];const m=y4(r);if(m!=="object")return[new yt(e,r,`object expected, ${m} found`)];for(const y in r){const x=y.split(".")[0];let b;a[x]?b=a[x]:o[x]?b=$r:a["*"]?b=a["*"]:o["*"]&&(b=$r),b?d=d.concat(b({key:(e&&`${e}.`)+y,value:r[y],valueSpec:o[x]||o["*"],style:c,styleSpec:p,object:r,objectKey:y},r)):d.push(new yt(e,r[y],`unknown property "${y}"`))}for(const y in o)a[y]||o[y].required&&o[y].default===void 0&&r[y]===void 0&&d.push(new yt(e,r,`missing required property "${y}"`));return d}function I3(t){const e=t.value,r=t.valueSpec,o=t.style,a=t.styleSpec,c=t.key,p=t.arrayElementValidator||$r;if(y4(e)!=="array")return[new yt(c,e,`array expected, ${y4(e)} found`)];if(r.length&&e.length!==r.length)return[new yt(c,e,`array length ${r.length} expected, length ${e.length} found`)];if(r["min-length"]&&e.length<r["min-length"])return[new yt(c,e,`array length at least ${r["min-length"]} expected, length ${e.length} found`)];let d={type:r.value,values:r.values,minimum:r.minimum,maximum:r.maximum,function:void 0};a.$version<7&&(d.function=r.function),y4(r.value)==="object"&&(d=r.value);let m=[];for(let y=0;y<e.length;y++)m=m.concat(p({array:e,arrayIndex:y,value:e[y],valueSpec:d,style:o,styleSpec:a,key:`${c}[${y}]`}));return m}function e5(t){const e=t.key,r=t.value,o=t.valueSpec;let a=y4(r);if(a==="number"&&r!=r&&(a="NaN"),a!=="number")return[new yt(e,r,`number expected, ${a} found`)];if("minimum"in o){let c=o.minimum;if(y4(o.minimum)==="array"&&(c=o.minimum[t.arrayIndex]),r<c)return[new yt(e,r,`${r} is less than the minimum value ${c}`)]}if("maximum"in o){let c=o.maximum;if(y4(o.maximum)==="array"&&(c=o.maximum[t.arrayIndex]),r>c)return[new yt(e,r,`${r} is greater than the maximum value ${c}`)]}return[]}function t5(t){const e=t.valueSpec,r=J4(t.value.type);let o,a,c,p={};const d=r!=="categorical"&&t.value.property===void 0,m=!d,y=y4(t.value.stops)==="array"&&y4(t.value.stops[0])==="array"&&y4(t.value.stops[0][0])==="object",x=Vi({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:function(I){if(r==="identity")return[new yt(I.key,I.value,'identity function may not have a "stops" property')];let E=[];const k=I.value;return E=E.concat(I3({key:I.key,value:k,valueSpec:I.valueSpec,style:I.style,styleSpec:I.styleSpec,arrayElementValidator:b})),y4(k)==="array"&&k.length===0&&E.push(new yt(I.key,k,"array must have at least one stop")),E},default:function(I){return $r({key:I.key,value:I.value,valueSpec:e,style:I.style,styleSpec:I.styleSpec})}}});return r==="identity"&&d&&x.push(new yt(t.key,t.value,'missing required property "property"')),r==="identity"||t.value.stops||x.push(new yt(t.key,t.value,'missing required property "stops"')),r==="exponential"&&t.valueSpec.expression&&!O5(t.valueSpec)&&x.push(new yt(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(m&&!yn(t.valueSpec)?x.push(new yt(t.key,t.value,"property functions not supported")):d&&!N5(t.valueSpec)&&x.push(new yt(t.key,t.value,"zoom functions not supported"))),r!=="categorical"&&!y||t.value.property!==void 0||x.push(new yt(t.key,t.value,'"property" property is required')),x;function b(I){let E=[];const k=I.value,O=I.key;if(y4(k)!=="array")return[new yt(O,k,`array expected, ${y4(k)} found`)];if(k.length!==2)return[new yt(O,k,`array length 2 expected, length ${k.length} found`)];if(y){if(y4(k[0])!=="object")return[new yt(O,k,`object expected, ${y4(k[0])} found`)];if(k[0].zoom===void 0)return[new yt(O,k,"object stop key must have zoom")];if(k[0].value===void 0)return[new yt(O,k,"object stop key must have value")];const H=J4(k[0].zoom);if(typeof H!="number")return[new yt(O,k[0].zoom,"stop zoom values must be numbers")];if(c&&c>H)return[new yt(O,k[0].zoom,"stop zoom values must appear in ascending order")];H!==c&&(c=H,a=void 0,p={}),E=E.concat(Vi({key:`${O}[0]`,value:k[0],valueSpec:{zoom:{}},style:I.style,styleSpec:I.styleSpec,objectElementValidators:{zoom:e5,value:S}}))}else E=E.concat(S({key:`${O}[0]`,value:k[0],valueSpec:{},style:I.style,styleSpec:I.styleSpec},k));return gn(ar(k[1]))?E.concat([new yt(`${O}[1]`,k[1],"expressions are not allowed in function stops.")]):E.concat($r({key:`${O}[1]`,value:k[1],valueSpec:e,style:I.style,styleSpec:I.styleSpec}))}function S(I,E){const k=y4(I.value),O=J4(I.value),H=I.value!==null?I.value:E;if(o){if(k!==o)return[new yt(I.key,H,`${k} stop domain type must match previous stop domain type ${o}`)]}else o=k;if(k!=="number"&&k!=="string"&&k!=="boolean"&&typeof O!="number"&&typeof O!="string"&&typeof O!="boolean")return[new yt(I.key,H,"stop domain value must be a number, string, or boolean")];if(k!=="number"&&r!=="categorical"){let re=`number expected, ${k} found`;return yn(e)&&r===void 0&&(re+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new yt(I.key,H,re)]}return r!=="categorical"||k!=="number"||typeof O=="number"&&isFinite(O)&&Math.floor(O)===O?r!=="categorical"&&k==="number"&&typeof O=="number"&&typeof a=="number"&&a!==void 0&&O<a?[new yt(I.key,H,"stop domain values must appear in ascending order")]:(a=O,r==="categorical"&&O in p?[new yt(I.key,H,"stop domain values must be unique")]:(p[O]=!0,[])):[new yt(I.key,H,`integer expected, found ${String(O)}`)]}}function Ur(t){const e=(t.expressionContext==="property"?Qn:xn)(ar(t.value),t.valueSpec);if(e.result==="error")return e.value.map(o=>new yt(`${t.key}${o.key}`,t.value,o.message));const r=e.value.expression||e.value._styleExpression.expression;if(t.expressionContext==="property"&&t.propertyKey==="text-font"&&!r.outputDefined())return[new yt(t.key,t.value,`Invalid data expression for "${t.propertyKey}". Output values must be contained as literals within the expression.`)];if(t.expressionContext==="property"&&t.propertyType==="layout"&&!uo(r))return[new yt(t.key,t.value,'"feature-state" data expressions are not supported with layout properties.')];if(t.expressionContext==="filter")return r5(r,t);if(t.expressionContext&&t.expressionContext.indexOf("cluster")===0){if(!qo(r,["zoom","feature-state"]))return[new yt(t.key,t.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(t.expressionContext==="cluster-initial"&&!hn(r))return[new yt(t.key,t.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function r5(t,e){const r=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(e.valueSpec&&e.valueSpec.expression)for(const a of e.valueSpec.expression.parameters)r.delete(a);if(r.size===0)return[];const o=[];return t instanceof lo&&r.has(t.name)?[new yt(e.key,e.value,`["${t.name}"] expression is not supported in a filter for a ${e.object.type} layer with id: ${e.object.id}`)]:(t.eachChild(a=>{o.push(...r5(a,e))}),o)}function W5(t){const e=t.key,r=t.value,o=t.valueSpec,a=[];return Array.isArray(o.values)?o.values.indexOf(J4(r))===-1&&a.push(new yt(e,r,`expected one of [${o.values.join(", ")}], ${JSON.stringify(r)} found`)):Object.keys(o.values).indexOf(J4(r))===-1&&a.push(new yt(e,r,`expected one of [${Object.keys(o.values).join(", ")}], ${JSON.stringify(r)} found`)),a}function r7(t){if(t===!0||t===!1)return!0;if(!Array.isArray(t)||t.length===0)return!1;switch(t[0]){case"has":return t.length>=2&&t[1]!=="$id"&&t[1]!=="$type";case"in":return t.length>=3&&(typeof t[1]!="string"||Array.isArray(t[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return t.length!==3||Array.isArray(t[1])||Array.isArray(t[2]);case"any":case"all":for(const e of t.slice(1))if(!r7(e)&&typeof e!="boolean")return!1;return!0;default:return!0}}function H5(t,e="fill"){if(t==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};r7(t)||(t=bn(t));const r=t;let o=!0;try{o=function(y){if(!vn(y))return y;let x=ar(y);return X5(x),x=E3(x),x}(r)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(r,null,2)}
        `)}const a=Ue[`filter_${e}`],c=xn(o,a);let p=null;if(c.result==="error")throw new Error(c.value.map(y=>`${y.key}: ${y.message}`).join(", "));p=(y,x,b)=>c.value.evaluate(y,x,{},b);let d=null,m=null;if(o!==r){const y=xn(r,a);if(y.result==="error")throw new Error(y.value.map(x=>`${x.key}: ${x.message}`).join(", "));d=(x,b,S,I,E)=>y.value.evaluate(x,b,{},S,void 0,void 0,I,E),m=!hn(y.value.expression)}return{filter:p,dynamicFilter:d||void 0,needGeometry:P3(o),needFeature:!!m}}function E3(t){if(!Array.isArray(t))return t;const e=function(r){if(i7.has(r[0])){for(let o=1;o<r.length;o++)if(vn(r[o]))return!0}return r}(t);return e===!0?e:e.map(r=>E3(r))}function X5(t){let e=!1;const r=[];if(t[0]==="case"){for(let o=1;o<t.length-1;o+=2)e=e||vn(t[o]),r.push(t[o+1]);r.push(t[t.length-1])}else if(t[0]==="match"){e=e||vn(t[1]);for(let o=2;o<t.length-1;o+=2)r.push(t[o+1]);r.push(t[t.length-1])}else if(t[0]==="step"){e=e||vn(t[1]);for(let o=1;o<t.length-1;o+=2)r.push(t[o+1])}e&&(t.length=0,t.push("any",...r));for(let o=1;o<t.length;o++)X5(t[o])}function vn(t){if(!Array.isArray(t))return!1;if((e=t[0])==="pitch"||e==="distance-from-center")return!0;var e;for(let r=1;r<t.length;r++)if(vn(t[r]))return!0;return!1}const i7=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function t1(t,e){return t<e?-1:t>e?1:0}function P3(t){if(!Array.isArray(t))return!1;if(t[0]==="within")return!0;for(let e=1;e<t.length;e++)if(P3(t[e]))return!0;return!1}function bn(t){if(!t)return!0;const e=t[0];return t.length<=1?e!=="any":e==="=="?o7(t[1],t[2],"=="):e==="!="?Y5(o7(t[1],t[2],"==")):e==="<"||e===">"||e==="<="||e===">="?o7(t[1],t[2],e):e==="any"?(r=t.slice(1),["any"].concat(r.map(bn))):e==="all"?["all"].concat(t.slice(1).map(bn)):e==="none"?["all"].concat(t.slice(1).map(bn).map(Y5)):e==="in"?n7(t[1],t.slice(2)):e==="!in"?Y5(n7(t[1],t.slice(2))):e==="has"?s7(t[1]):e==="!has"?Y5(s7(t[1])):e!=="within"||t;var r}function o7(t,e,r){switch(t){case"$type":return[`filter-type-${r}`,e];case"$id":return[`filter-id-${r}`,e];default:return[`filter-${r}`,t,e]}}function n7(t,e){if(e.length===0)return!1;switch(t){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some(r=>typeof r!=typeof e[0])?["filter-in-large",t,["literal",e.sort(t1)]]:["filter-in-small",t,["literal",e]]}}function s7(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function Y5(t){return["!",t]}function i5(t){return r7(ar(t.value))?Ur(ci({},t,{expressionContext:"filter",valueSpec:t.styleSpec[`filter_${t.layerType||"fill"}`]})):o5(t)}function o5(t){const e=t.value,r=t.key;if(y4(e)!=="array")return[new yt(r,e,`array expected, ${y4(e)} found`)];const o=t.styleSpec;let a,c=[];if(e.length<1)return[new yt(r,e,"filter array must have at least 1 element")];switch(c=c.concat(W5({key:`${r}[0]`,value:e[0],valueSpec:o.filter_operator,style:t.style,styleSpec:t.styleSpec})),J4(e[0])){case"<":case"<=":case">":case">=":e.length>=2&&J4(e[1])==="$type"&&c.push(new yt(r,e,`"$type" cannot be use with operator "${e[0]}"`));case"==":case"!=":e.length!==3&&c.push(new yt(r,e,`filter array for operator "${e[0]}" must have 3 elements`));case"in":case"!in":e.length>=2&&(a=y4(e[1]),a!=="string"&&c.push(new yt(`${r}[1]`,e[1],`string expected, ${a} found`)));for(let p=2;p<e.length;p++)a=y4(e[p]),J4(e[1])==="$type"?c=c.concat(W5({key:`${r}[${p}]`,value:e[p],valueSpec:o.geometry_type,style:t.style,styleSpec:t.styleSpec})):a!=="string"&&a!=="number"&&a!=="boolean"&&c.push(new yt(`${r}[${p}]`,e[p],`string, number, or boolean expected, ${a} found`));break;case"any":case"all":case"none":for(let p=1;p<e.length;p++)c=c.concat(o5({key:`${r}[${p}]`,value:e[p],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":a=y4(e[1]),e.length!==2?c.push(new yt(r,e,`filter array for "${e[0]}" operator must have 2 elements`)):a!=="string"&&c.push(new yt(`${r}[1]`,e[1],`string expected, ${a} found`));break;case"within":a=y4(e[1]),e.length!==2?c.push(new yt(r,e,`filter array for "${e[0]}" operator must have 2 elements`)):a!=="object"&&c.push(new yt(`${r}[1]`,e[1],`object expected, ${a} found`))}return c}function a7(t,e){const r=t.key,o=t.style,a=t.styleSpec,c=t.value,p=t.objectKey,d=a[`${e}_${t.layerType}`];if(!d)return[];const m=p.match(/^(.*)-transition$/);if(e==="paint"&&m&&d[m[1]]&&d[m[1]].transition)return $r({key:r,value:c,valueSpec:a.transition,style:o,styleSpec:a});const y=t.valueSpec||d[p];if(!y)return[new yt(r,c,`unknown property "${p}"`)];let x;if(y4(c)==="string"&&yn(y)&&!y.tokens&&(x=/^{([^}]+)}$/.exec(c))){const S=`\`{ "type": "identity", "property": ${x?JSON.stringify(x[1]):'"_"'} }\``;return[new yt(r,c,`"${p}" does not support interpolation syntax
Use an identity property function instead: ${S}.`)]}const b=[];return t.layerType==="symbol"&&(p==="text-field"&&o&&!o.glyphs&&b.push(new yt(r,c,'use of "text-field" requires a style "glyphs" property')),p==="text-font"&&Jn(ar(c))&&J4(c.type)==="identity"&&b.push(new yt(r,c,'"text-font" does not support identity functions'))),b.concat($r({key:t.key,value:c,valueSpec:y,style:o,styleSpec:a,expressionContext:"property",propertyType:e,propertyKey:p}))}function T3(t){return a7(t,"paint")}function l7(t){return a7(t,"layout")}function F3(t){let e=[];const r=t.value,o=t.key,a=t.style,c=t.styleSpec;r.type||r.ref||e.push(new yt(o,r,'either "type" or "ref" is required'));let p=J4(r.type);const d=J4(r.ref);if(r.id){const m=J4(r.id);for(let y=0;y<t.arrayIndex;y++){const x=a.layers[y];J4(x.id)===m&&e.push(new yt(o,r.id,`duplicate layer id "${r.id}", previously used at line ${x.id.__line__}`))}}if("ref"in r){let m;["type","source","source-layer","filter","layout"].forEach(y=>{y in r&&e.push(new yt(o,r[y],`"${y}" is prohibited for ref layers`))}),a.layers.forEach(y=>{J4(y.id)===d&&(m=y)}),m?m.ref?e.push(new yt(o,r.ref,"ref cannot reference another ref layer")):p=J4(m.type):typeof d=="string"&&e.push(new yt(o,r.ref,`ref layer "${d}" not found`))}else if(p!=="background"&&p!=="sky")if(r.source){const m=a.sources&&a.sources[r.source],y=m&&J4(m.type);m?y==="vector"&&p==="raster"?e.push(new yt(o,r.source,`layer "${r.id}" requires a raster source`)):y==="raster"&&p!=="raster"?e.push(new yt(o,r.source,`layer "${r.id}" requires a vector source`)):y!=="vector"||r["source-layer"]?y==="raster-dem"&&p!=="hillshade"?e.push(new yt(o,r.source,"raster-dem source can only be used with layer type 'hillshade'.")):p!=="line"||!r.paint||!r.paint["line-gradient"]&&!r.paint["line-trim-offset"]||y==="geojson"&&m.lineMetrics||e.push(new yt(o,r,`layer "${r.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):e.push(new yt(o,r,`layer "${r.id}" must specify a "source-layer"`)):e.push(new yt(o,r.source,`source "${r.source}" not found`))}else e.push(new yt(o,r,'missing required property "source"'));return e=e.concat(Vi({key:o,value:r,valueSpec:c.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":()=>[],type:()=>$r({key:`${o}.type`,value:r.type,valueSpec:c.layer.type,style:t.style,styleSpec:t.styleSpec,object:r,objectKey:"type"}),filter:m=>i5(ci({layerType:p},m)),layout:m=>Vi({layer:r,key:m.key,value:m.value,valueSpec:{},style:m.style,styleSpec:m.styleSpec,objectElementValidators:{"*":y=>l7(ci({layerType:p},y))}}),paint:m=>Vi({layer:r,key:m.key,value:m.value,valueSpec:{},style:m.style,styleSpec:m.styleSpec,objectElementValidators:{"*":y=>T3(ci({layerType:p},y))}})}})),e}function Po(t){const e=t.value,r=t.key,o=y4(e);return o!=="string"?[new yt(r,e,`string expected, ${o} found`)]:[]}const L3={promoteId:function({key:t,value:e}){if(y4(e)==="string")return Po({key:t,value:e});{const r=[];for(const o in e)r.push(...Po({key:`${t}.${o}`,value:e[o]}));return r}}};function k3(t){const e=t.value,r=t.key,o=t.styleSpec,a=t.style;if(!e.type)return[new yt(r,e,'"type" is required')];const c=J4(e.type);let p;switch(c){case"vector":case"raster":case"raster-dem":return p=Vi({key:r,value:e,valueSpec:o[`source_${c.replace("-","_")}`],style:t.style,styleSpec:o,objectElementValidators:L3}),p;case"geojson":if(p=Vi({key:r,value:e,valueSpec:o.source_geojson,style:a,styleSpec:o,objectElementValidators:L3}),e.cluster)for(const d in e.clusterProperties){const[m,y]=e.clusterProperties[d],x=typeof m=="string"?[m,["accumulated"],["get",d]]:m;p.push(...Ur({key:`${r}.${d}.map`,value:y,expressionContext:"cluster-map"})),p.push(...Ur({key:`${r}.${d}.reduce`,value:x,expressionContext:"cluster-reduce"}))}return p;case"video":return Vi({key:r,value:e,valueSpec:o.source_video,style:a,styleSpec:o});case"image":return Vi({key:r,value:e,valueSpec:o.source_image,style:a,styleSpec:o});case"canvas":return[new yt(r,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return W5({key:`${r}.type`,value:e.type,valueSpec:{values:r1(o)},style:a,styleSpec:o})}}function r1(t){return t.source.reduce((e,r)=>{const o=t[r];return o.type.type==="enum"&&(e=e.concat(Object.keys(o.type.values))),e},[])}function U3(t){const e=t.value,r=t.styleSpec,o=r.light,a=t.style;let c=[];const p=y4(e);if(e===void 0)return c;if(p!=="object")return c=c.concat([new yt("light",e,`object expected, ${p} found`)]),c;for(const d in e){const m=d.match(/^(.*)-transition$/);c=c.concat(m&&o[m[1]]&&o[m[1]].transition?$r({key:d,value:e[d],valueSpec:r.transition,style:a,styleSpec:r}):o[d]?$r({key:d,value:e[d],valueSpec:o[d],style:a,styleSpec:r}):[new yt(d,e[d],`unknown property "${d}"`)])}return c}function c7(t){const e=t.value,r=t.key,o=t.style,a=t.styleSpec,c=a.terrain;let p=[];const d=y4(e);if(e===void 0)return p;if(d!=="object")return p=p.concat([new yt("terrain",e,`object expected, ${d} found`)]),p;for(const m in e){const y=m.match(/^(.*)-transition$/);p=p.concat(y&&c[y[1]]&&c[y[1]].transition?$r({key:m,value:e[m],valueSpec:a.transition,style:o,styleSpec:a}):c[m]?$r({key:m,value:e[m],valueSpec:c[m],style:o,styleSpec:a}):[new yt(m,e[m],`unknown property "${m}"`)])}if(e.source){const m=o.sources&&o.sources[e.source],y=m&&J4(m.type);m?y!=="raster-dem"&&p.push(new yt(r,e.source,`terrain cannot be used with a source of type ${String(y)}, it only be used with a "raster-dem" source type`)):p.push(new yt(r,e.source,`source "${e.source}" not found`))}else p.push(new yt(r,e,'terrain is missing required property "source"'));return p}function z3(t){const e=t.value,r=t.style,o=t.styleSpec,a=o.fog;let c=[];const p=y4(e);if(e===void 0)return c;if(p!=="object")return c=c.concat([new yt("fog",e,`object expected, ${p} found`)]),c;for(const d in e){const m=d.match(/^(.*)-transition$/);c=c.concat(m&&a[m[1]]&&a[m[1]].transition?$r({key:d,value:e[d],valueSpec:o.transition,style:r,styleSpec:o}):a[d]?$r({key:d,value:e[d],valueSpec:a[d],style:r,styleSpec:o}):[new yt(d,e[d],`unknown property "${d}"`)])}return c}const R3={"*":()=>[],array:I3,boolean:function(t){const e=t.value,r=t.key,o=y4(e);return o!=="boolean"?[new yt(r,e,`boolean expected, ${o} found`)]:[]},number:e5,color:function(t){const e=t.key,r=t.value,o=y4(r);return o!=="string"?[new yt(e,r,`color expected, ${o} found`)]:As(r)===null?[new yt(e,r,`color expected, "${r}" found`)]:[]},enum:W5,filter:i5,function:t5,layer:F3,object:Vi,source:k3,light:U3,terrain:c7,fog:z3,string:Po,formatted:function(t){return Po(t).length===0?[]:Ur(t)},resolvedImage:function(t){return Po(t).length===0?[]:Ur(t)},projection:function(t){const e=t.value,r=t.styleSpec,o=r.projection,a=t.style;let c=[];const p=y4(e);if(p==="object")for(const d in e)c=c.concat($r({key:d,value:e[d],valueSpec:o[d],style:a,styleSpec:r}));else p!=="string"&&(c=c.concat([new yt("projection",e,`object or string expected, ${p} found`)]));return c}};function $r(t){const e=t.value,r=t.valueSpec,o=t.styleSpec;return r.expression&&Jn(J4(e))?t5(t):r.expression&&gn(ar(e))?Ur(t):r.type&&R3[r.type]?R3[r.type](t):Vi(ci({},t,{valueSpec:r.type?o[r.type]:r}))}function i1(t){const e=t.value,r=t.key,o=Po(t);return o.length||(e.indexOf("{fontstack}")===-1&&o.push(new yt(r,e,'"glyphs" url must include a "{fontstack}" token')),e.indexOf("{range}")===-1&&o.push(new yt(r,e,'"glyphs" url must include a "{range}" token'))),o}function B3(t,e=Ue){return Ei($r({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:i1,"*":()=>[]}}))}const o1=t=>Ei(T3(t)),n1=t=>Ei(l7(t));function Ei(t){return t.slice().sort((e,r)=>e.line&&r.line?e.line-r.line:0)}function N3(t,e){let r=!1;if(e&&e.length)for(const o of e)t.fire(new xr(new Error(o.message))),r=!0;return r}var s1=eo,ji=3;function eo(t,e,r){var o=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var a=new Int32Array(this.arrayBuffer);t=a[0],this.d=(e=a[1])+2*(r=a[2]);for(var c=0;c<this.d*this.d;c++){var p=a[ji+c],d=a[ji+c+1];o.push(p===d?null:a.subarray(p,d))}var m=a[ji+o.length+1];this.keys=a.subarray(a[ji+o.length],m),this.bboxes=a.subarray(m),this.insert=this._insertReadonly}else{this.d=e+2*r;for(var y=0;y<this.d*this.d;y++)o.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=t,this.padding=r,this.scale=e/t,this.uid=0;var x=r/e*t;this.min=-x,this.max=t+x}eo.prototype.insert=function(t,e,r,o,a){this._forEachCell(e,r,o,a,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(r),this.bboxes.push(o),this.bboxes.push(a)},eo.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},eo.prototype._insertCell=function(t,e,r,o,a,c){this.cells[a].push(c)},eo.prototype.query=function(t,e,r,o,a){var c=this.min,p=this.max;if(t<=c&&e<=c&&p<=r&&p<=o&&!a)return Array.prototype.slice.call(this.keys);var d=[];return this._forEachCell(t,e,r,o,this._queryCell,d,{},a),d},eo.prototype._queryCell=function(t,e,r,o,a,c,p,d){var m=this.cells[a];if(m!==null)for(var y=this.keys,x=this.bboxes,b=0;b<m.length;b++){var S=m[b];if(p[S]===void 0){var I=4*S;(d?d(x[I+0],x[I+1],x[I+2],x[I+3]):t<=x[I+2]&&e<=x[I+3]&&r>=x[I+0]&&o>=x[I+1])?(p[S]=!0,c.push(y[S])):p[S]=!1}}},eo.prototype._forEachCell=function(t,e,r,o,a,c,p,d){for(var m=this._convertToCellCoord(t),y=this._convertToCellCoord(e),x=this._convertToCellCoord(r),b=this._convertToCellCoord(o),S=m;S<=x;S++)for(var I=y;I<=b;I++){var E=this.d*I+S;if((!d||d(this._convertFromCellCoord(S),this._convertFromCellCoord(I),this._convertFromCellCoord(S+1),this._convertFromCellCoord(I+1)))&&a.call(this,t,e,r,o,E,c,p,d))return}},eo.prototype._convertFromCellCoord=function(t){return(t-this.padding)/this.scale},eo.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},eo.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,e=ji+this.cells.length+1+1,r=0,o=0;o<this.cells.length;o++)r+=this.cells[o].length;var a=new Int32Array(e+r+this.keys.length+this.bboxes.length);a[0]=this.extent,a[1]=this.n,a[2]=this.padding;for(var c=e,p=0;p<t.length;p++){var d=t[p];a[ji+p]=c,a.set(d,c),c+=d.length}return a[ji+t.length]=c,a.set(this.keys,c),a[ji+t.length+1]=c+=this.keys.length,a.set(this.bboxes,c),c+=this.bboxes.length,a.buffer};var Ho=He(s1);const K5={};function Ct(t,e,r={}){Object.defineProperty(t,"_classRegistryKey",{value:e,writeable:!1}),K5[e]={klass:t,omit:r.omit||[]}}Ct(Object,"Object"),Ho.serialize=function(t,e){const r=t.toArrayBuffer();return e&&e.push(r),{buffer:r}},Ho.deserialize=function(t){return new Ho(t.buffer)},Object.defineProperty(Ho,"name",{value:"Grid"}),Ct(Ho,"Grid"),Ct(_r,"Color"),Ct(Error,"Error"),Ct(li,"AJAXError"),Ct(Ai,"ResolvedImage"),Ct(q5,"StylePropertyFunction"),Ct(G5,"StyleExpression",{omit:["_evaluator"]}),Ct($n,"ZoomDependentExpression"),Ct(t7,"ZoomConstantExpression"),Ct(lo,"CompoundExpression",{omit:["_evaluate"]});for(const t in Kn)K5[Kn[t]._classRegistryKey]||Ct(Kn[t],`Expression${t}`);function u7(t){return t&&typeof ArrayBuffer<"u"&&(t instanceof ArrayBuffer||t.constructor&&t.constructor.name==="ArrayBuffer")}function p7(t){return G.ImageBitmap&&t instanceof G.ImageBitmap}function Cn(t,e){if(t==null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp)return t;if(u7(t)||p7(t))return e&&e.push(t),t;if(ArrayBuffer.isView(t)){const r=t;return e&&e.push(r.buffer),r}if(t instanceof G.ImageData)return e&&e.push(t.data.buffer),t;if(Array.isArray(t)){const r=[];for(const o of t)r.push(Cn(o,e));return r}if(typeof t=="object"){const r=t.constructor,o=r._classRegistryKey;if(!o)throw new Error(`can't serialize object of unregistered class ${o}`);const a=r.serialize?r.serialize(t,e):{};if(!r.serialize){for(const c in t)t.hasOwnProperty(c)&&(K5[o].omit.indexOf(c)>=0||(a[c]=Cn(t[c],e)));t instanceof Error&&(a.message=t.message)}if(a.$name)throw new Error("$name property is reserved for worker serialization logic.");return o!=="Object"&&(a.$name=o),a}throw new Error("can't serialize object of type "+typeof t)}function Xo(t){if(t==null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||u7(t)||p7(t)||ArrayBuffer.isView(t)||t instanceof G.ImageData)return t;if(Array.isArray(t))return t.map(Xo);if(typeof t=="object"){const e=t.$name||"Object",{klass:r}=K5[e];if(!r)throw new Error(`can't deserialize unregistered class ${e}`);if(r.deserialize)return r.deserialize(t);const o=Object.create(r.prototype);for(const a of Object.keys(t))a!=="$name"&&(o[a]=Xo(t[a]));return o}throw new Error("can't deserialize object of type "+typeof t)}const ft={"Latin-1 Supplement":t=>t>=128&&t<=255,Arabic:t=>t>=1536&&t<=1791,"Arabic Supplement":t=>t>=1872&&t<=1919,"Arabic Extended-A":t=>t>=2208&&t<=2303,"Hangul Jamo":t=>t>=4352&&t<=4607,"Unified Canadian Aboriginal Syllabics":t=>t>=5120&&t<=5759,Khmer:t=>t>=6016&&t<=6143,"Unified Canadian Aboriginal Syllabics Extended":t=>t>=6320&&t<=6399,"General Punctuation":t=>t>=8192&&t<=8303,"Letterlike Symbols":t=>t>=8448&&t<=8527,"Number Forms":t=>t>=8528&&t<=8591,"Miscellaneous Technical":t=>t>=8960&&t<=9215,"Control Pictures":t=>t>=9216&&t<=9279,"Optical Character Recognition":t=>t>=9280&&t<=9311,"Enclosed Alphanumerics":t=>t>=9312&&t<=9471,"Geometric Shapes":t=>t>=9632&&t<=9727,"Miscellaneous Symbols":t=>t>=9728&&t<=9983,"Miscellaneous Symbols and Arrows":t=>t>=11008&&t<=11263,"CJK Radicals Supplement":t=>t>=11904&&t<=12031,"Kangxi Radicals":t=>t>=12032&&t<=12255,"Ideographic Description Characters":t=>t>=12272&&t<=12287,"CJK Symbols and Punctuation":t=>t>=12288&&t<=12351,Hiragana:t=>t>=12352&&t<=12447,Katakana:t=>t>=12448&&t<=12543,Bopomofo:t=>t>=12544&&t<=12591,"Hangul Compatibility Jamo":t=>t>=12592&&t<=12687,Kanbun:t=>t>=12688&&t<=12703,"Bopomofo Extended":t=>t>=12704&&t<=12735,"CJK Strokes":t=>t>=12736&&t<=12783,"Katakana Phonetic Extensions":t=>t>=12784&&t<=12799,"Enclosed CJK Letters and Months":t=>t>=12800&&t<=13055,"CJK Compatibility":t=>t>=13056&&t<=13311,"CJK Unified Ideographs Extension A":t=>t>=13312&&t<=19903,"Yijing Hexagram Symbols":t=>t>=19904&&t<=19967,"CJK Unified Ideographs":t=>t>=19968&&t<=40959,"Yi Syllables":t=>t>=40960&&t<=42127,"Yi Radicals":t=>t>=42128&&t<=42191,"Hangul Jamo Extended-A":t=>t>=43360&&t<=43391,"Hangul Syllables":t=>t>=44032&&t<=55215,"Hangul Jamo Extended-B":t=>t>=55216&&t<=55295,"Private Use Area":t=>t>=57344&&t<=63743,"CJK Compatibility Ideographs":t=>t>=63744&&t<=64255,"Arabic Presentation Forms-A":t=>t>=64336&&t<=65023,"Vertical Forms":t=>t>=65040&&t<=65055,"CJK Compatibility Forms":t=>t>=65072&&t<=65103,"Small Form Variants":t=>t>=65104&&t<=65135,"Arabic Presentation Forms-B":t=>t>=65136&&t<=65279,"Halfwidth and Fullwidth Forms":t=>t>=65280&&t<=65519};function h7(t){for(const e of t)if(d7(e.charCodeAt(0)))return!0;return!1}function a1(t){for(const e of t)if(!O3(e.charCodeAt(0)))return!1;return!0}function O3(t){return!(ft.Arabic(t)||ft["Arabic Supplement"](t)||ft["Arabic Extended-A"](t)||ft["Arabic Presentation Forms-A"](t)||ft["Arabic Presentation Forms-B"](t))}function d7(t){return!(t!==746&&t!==747&&(t<4352||!(ft["Bopomofo Extended"](t)||ft.Bopomofo(t)||ft["CJK Compatibility Forms"](t)&&!(t>=65097&&t<=65103)||ft["CJK Compatibility Ideographs"](t)||ft["CJK Compatibility"](t)||ft["CJK Radicals Supplement"](t)||ft["CJK Strokes"](t)||!(!ft["CJK Symbols and Punctuation"](t)||t>=12296&&t<=12305||t>=12308&&t<=12319||t===12336)||ft["CJK Unified Ideographs Extension A"](t)||ft["CJK Unified Ideographs"](t)||ft["Enclosed CJK Letters and Months"](t)||ft["Hangul Compatibility Jamo"](t)||ft["Hangul Jamo Extended-A"](t)||ft["Hangul Jamo Extended-B"](t)||ft["Hangul Jamo"](t)||ft["Hangul Syllables"](t)||ft.Hiragana(t)||ft["Ideographic Description Characters"](t)||ft.Kanbun(t)||ft["Kangxi Radicals"](t)||ft["Katakana Phonetic Extensions"](t)||ft.Katakana(t)&&t!==12540||!(!ft["Halfwidth and Fullwidth Forms"](t)||t===65288||t===65289||t===65293||t>=65306&&t<=65310||t===65339||t===65341||t===65343||t>=65371&&t<=65503||t===65507||t>=65512&&t<=65519)||!(!ft["Small Form Variants"](t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||ft["Unified Canadian Aboriginal Syllabics"](t)||ft["Unified Canadian Aboriginal Syllabics Extended"](t)||ft["Vertical Forms"](t)||ft["Yijing Hexagram Symbols"](t)||ft["Yi Syllables"](t)||ft["Yi Radicals"](t))))}function V3(t){return!(d7(t)||function(e){return!!(ft["Latin-1 Supplement"](e)&&(e===167||e===169||e===174||e===177||e===188||e===189||e===190||e===215||e===247)||ft["General Punctuation"](e)&&(e===8214||e===8224||e===8225||e===8240||e===8241||e===8251||e===8252||e===8258||e===8263||e===8264||e===8265||e===8273)||ft["Letterlike Symbols"](e)||ft["Number Forms"](e)||ft["Miscellaneous Technical"](e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||e===9003||e>=9085&&e<=9114||e>=9150&&e<=9165||e===9167||e>=9169&&e<=9179||e>=9186&&e<=9215)||ft["Control Pictures"](e)&&e!==9251||ft["Optical Character Recognition"](e)||ft["Enclosed Alphanumerics"](e)||ft["Geometric Shapes"](e)||ft["Miscellaneous Symbols"](e)&&!(e>=9754&&e<=9759)||ft["Miscellaneous Symbols and Arrows"](e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||ft["CJK Symbols and Punctuation"](e)||ft.Katakana(e)||ft["Private Use Area"](e)||ft["CJK Compatibility Forms"](e)||ft["Small Form Variants"](e)||ft["Halfwidth and Fullwidth Forms"](e)||e===8734||e===8756||e===8757||e>=9984&&e<=10087||e>=10102&&e<=10131||e===65532||e===65533)}(t))}function j3(t){return t>=1424&&t<=2303||ft["Arabic Presentation Forms-A"](t)||ft["Arabic Presentation Forms-B"](t)}function l1(t,e){return!(!e&&j3(t)||t>=2304&&t<=3583||t>=3840&&t<=4255||ft.Khmer(t))}function c1(t){for(const e of t)if(j3(e.charCodeAt(0)))return!0;return!1}const f7="deferred",m7="loading",y7="loaded";let wn=null,l="unavailable",i=null;const s=function(t){t&&typeof t=="string"&&t.indexOf("NetworkError")>-1&&(l="error"),wn&&wn(t)};function u(){h.fire(new Si("pluginStateChange",{pluginStatus:l,pluginURL:i}))}const h=new Ki,f=function(){return l},_=function(){if(l!==f7||!i)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");l=m7,u(),i&&Di({url:i},t=>{t?s(t):(l=y7,u())})},g={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>l===y7||g.applyArabicShaping!=null,isLoading:()=>l===m7,setState(t){l=t.pluginStatus,i=t.pluginURL},isParsed:()=>g.applyArabicShaping!=null&&g.processBidirectionalText!=null&&g.processStyledBidirectionalText!=null,getPluginURL:()=>i};class v{constructor(e,r){this.zoom=e,r?(this.now=r.now,this.fadeDuration=r.fadeDuration,this.transition=r.transition,this.pitch=r.pitch):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0)}isSupportedScript(e){return function(r,o){for(const a of r)if(!l1(a.charCodeAt(0),o))return!1;return!0}(e,g.isLoaded())}}class A{constructor(e,r){this.property=e,this.value=r,this.expression=function(o,a){if(Jn(o))return new q5(o,a);if(gn(o)){const c=Qn(o,a);if(c.result==="error")throw new Error(c.value.map(p=>`${p.key}: ${p.message}`).join(", "));return c.value}{let c=o;return typeof o=="string"&&a.type==="color"&&(c=_r.parse(o)),{kind:"constant",evaluate:()=>c}}}(r===void 0?e.specification.default:r,e.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(e,r,o){return this.property.possiblyEvaluate(this,e,r,o)}}class M{constructor(e){this.property=e,this.value=new A(e,void 0)}transitioned(e,r){return new N(this.property,this.value,r,a4({},e.transition,this.transition),e.now)}untransitioned(){return new N(this.property,this.value,null,{},0)}}class F{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)}getValue(e){return Y4(this._values[e].value.value)}setValue(e,r){this._values.hasOwnProperty(e)||(this._values[e]=new M(this._values[e].property)),this._values[e].value=new A(this._values[e].property,r===null?void 0:Y4(r))}getTransition(e){return Y4(this._values[e].transition)}setTransition(e,r){this._values.hasOwnProperty(e)||(this._values[e]=new M(this._values[e].property)),this._values[e].transition=Y4(r)||void 0}serialize(){const e={};for(const r of Object.keys(this._values)){const o=this.getValue(r);o!==void 0&&(e[r]=o);const a=this.getTransition(r);a!==void 0&&(e[`${r}-transition`]=a)}return e}transitioned(e,r){const o=new j(this._properties);for(const a of Object.keys(this._values))o._values[a]=this._values[a].transitioned(e,r._values[a]);return o}untransitioned(){const e=new j(this._properties);for(const r of Object.keys(this._values))e._values[r]=this._values[r].untransitioned();return e}}class N{constructor(e,r,o,a,c){const p=a.delay||0,d=a.duration||0;c=c||0,this.property=e,this.value=r,this.begin=c+p,this.end=this.begin+d,e.specification.transition&&(a.delay||a.duration)&&(this.prior=o)}possiblyEvaluate(e,r,o){const a=e.now||0,c=this.value.possiblyEvaluate(e,r,o),p=this.prior;if(p){if(a>this.end)return this.prior=null,c;if(this.value.isDataDriven())return this.prior=null,c;if(a<this.begin)return p.possiblyEvaluate(e,r,o);{const d=(a-this.begin)/(this.end-this.begin);return this.property.interpolate(p.possiblyEvaluate(e,r,o),c,Pt(d))}}return c}}class j{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)}possiblyEvaluate(e,r,o){const a=new W(this._properties);for(const c of Object.keys(this._values))a._values[c]=this._values[c].possiblyEvaluate(e,r,o);return a}hasTransition(){for(const e of Object.keys(this._values))if(this._values[e].prior)return!0;return!1}}class Z{constructor(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)}getValue(e){return Y4(this._values[e].value)}setValue(e,r){this._values[e]=new A(this._values[e].property,r===null?void 0:Y4(r))}serialize(){const e={};for(const r of Object.keys(this._values)){const o=this.getValue(r);o!==void 0&&(e[r]=o)}return e}possiblyEvaluate(e,r,o){const a=new W(this._properties);for(const c of Object.keys(this._values))a._values[c]=this._values[c].possiblyEvaluate(e,r,o);return a}}class q{constructor(e,r,o){this.property=e,this.value=r,this.parameters=o}isConstant(){return this.value.kind==="constant"}constantOr(e){return this.value.kind==="constant"?this.value.value:e}evaluate(e,r,o,a){return this.property.evaluate(this.value,this.parameters,e,r,o,a)}}class W{constructor(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)}get(e){return this._values[e]}}class L{constructor(e){this.specification=e}possiblyEvaluate(e,r){return e.expression.evaluate(r)}interpolate(e,r,o){const a=Zn[this.specification.type];return a?a(e,r,o):e}}class V{constructor(e,r){this.specification=e,this.overrides=r}possiblyEvaluate(e,r,o,a){return new q(this,e.expression.kind==="constant"||e.expression.kind==="camera"?{kind:"constant",value:e.expression.evaluate(r,null,{},o,a)}:e.expression,r)}interpolate(e,r,o){if(e.value.kind!=="constant"||r.value.kind!=="constant")return e;if(e.value.value===void 0||r.value.value===void 0)return new q(this,{kind:"constant",value:void 0},e.parameters);const a=Zn[this.specification.type];return a?new q(this,{kind:"constant",value:a(e.value.value,r.value.value,o)},e.parameters):e}evaluate(e,r,o,a,c,p){return e.kind==="constant"?e.value:e.evaluate(r,o,a,c,p)}}class K{constructor(e){this.specification=e}possiblyEvaluate(e,r,o,a){return!!e.expression.evaluate(r,null,{},o,a)}interpolate(){return!1}}class ${constructor(e){this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const r=new v(0,{});for(const o in e){const a=e[o];a.specification.overridable&&this.overridableProperties.push(o);const c=this.defaultPropertyValues[o]=new A(a,void 0),p=this.defaultTransitionablePropertyValues[o]=new M(a);this.defaultTransitioningPropertyValues[o]=p.untransitioned(),this.defaultPossiblyEvaluatedValues[o]=c.possiblyEvaluate(r)}}}function ce(t,e){return 256*(t=gt(Math.floor(t),0,255))+gt(Math.floor(e),0,255)}Ct(V,"DataDrivenProperty"),Ct(L,"DataConstantProperty"),Ct(K,"ColorRampProperty");const pe={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class ue{constructor(e,r){this._structArray=e,this._pos1=r*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class ge{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(e,r){return e._trim(),r&&(e.isTransferred=!0,r.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}}static deserialize(e){const r=Object.create(this.prototype);return r.arrayBuffer=e.arrayBuffer,r.length=e.length,r.capacity=e.arrayBuffer.byteLength/r.bytesPerElement,r._refreshViews(),r}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(e){this.reserve(e),this.length=e}reserve(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const r=this.uint8;this._refreshViews(),r&&this.uint8.set(r)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function _e(t,e=1){let r=0,o=0;return{members:t.map(a=>{const c=pe[a.type].BYTES_PER_ELEMENT,p=r=Ee(r,Math.max(e,c)),d=a.components||1;return o=Math.max(o,c),r+=c*d,{name:a.name,type:a.type,components:d,offset:p}}),size:Ee(r,Math.max(o,e)),alignment:e}}function Ee(t,e){return Math.ceil(t/e)*e}class et extends ge{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,r){const o=this.length;return this.resize(o+1),this.emplace(o,e,r)}emplace(e,r,o){const a=2*e;return this.int16[a+0]=r,this.int16[a+1]=o,e}}et.prototype.bytesPerElement=4,Ct(et,"StructArrayLayout2i4");class De extends ge{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,r,o){const a=this.length;return this.resize(a+1),this.emplace(a,e,r,o)}emplace(e,r,o,a){const c=3*e;return this.int16[c+0]=r,this.int16[c+1]=o,this.int16[c+2]=a,e}}De.prototype.bytesPerElement=6,Ct(De,"StructArrayLayout3i6");class Ve extends ge{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,r,o,a){const c=this.length;return this.resize(c+1),this.emplace(c,e,r,o,a)}emplace(e,r,o,a,c){const p=4*e;return this.int16[p+0]=r,this.int16[p+1]=o,this.int16[p+2]=a,this.int16[p+3]=c,e}}Ve.prototype.bytesPerElement=8,Ct(Ve,"StructArrayLayout4i8");class Fe extends ge{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,r,o,a,c,p,d){const m=this.length;return this.resize(m+1),this.emplace(m,e,r,o,a,c,p,d)}emplace(e,r,o,a,c,p,d,m){const y=6*e,x=12*e,b=3*e;return this.int16[y+0]=r,this.int16[y+1]=o,this.uint8[x+4]=a,this.uint8[x+5]=c,this.uint8[x+6]=p,this.uint8[x+7]=d,this.float32[b+2]=m,e}}Fe.prototype.bytesPerElement=12,Ct(Fe,"StructArrayLayout2i4ub1f12");class Je extends ge{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,r,o,a){const c=this.length;return this.resize(c+1),this.emplace(c,e,r,o,a)}emplace(e,r,o,a,c){const p=4*e;return this.float32[p+0]=r,this.float32[p+1]=o,this.float32[p+2]=a,this.float32[p+3]=c,e}}Je.prototype.bytesPerElement=16,Ct(Je,"StructArrayLayout4f16");class Ie extends ge{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,r,o,a,c){const p=this.length;return this.resize(p+1),this.emplace(p,e,r,o,a,c)}emplace(e,r,o,a,c,p){const d=6*e,m=3*e;return this.uint16[d+0]=r,this.uint16[d+1]=o,this.uint16[d+2]=a,this.uint16[d+3]=c,this.float32[m+2]=p,e}}Ie.prototype.bytesPerElement=12,Ct(Ie,"StructArrayLayout4ui1f12");class Oe extends ge{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,r,o,a){const c=this.length;return this.resize(c+1),this.emplace(c,e,r,o,a)}emplace(e,r,o,a,c){const p=4*e;return this.uint16[p+0]=r,this.uint16[p+1]=o,this.uint16[p+2]=a,this.uint16[p+3]=c,e}}Oe.prototype.bytesPerElement=8,Ct(Oe,"StructArrayLayout4ui8");class it extends ge{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,r,o,a,c,p){const d=this.length;return this.resize(d+1),this.emplace(d,e,r,o,a,c,p)}emplace(e,r,o,a,c,p,d){const m=6*e;return this.int16[m+0]=r,this.int16[m+1]=o,this.int16[m+2]=a,this.int16[m+3]=c,this.int16[m+4]=p,this.int16[m+5]=d,e}}it.prototype.bytesPerElement=12,Ct(it,"StructArrayLayout6i12");class We extends ge{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,r,o,a,c,p,d,m,y,x,b,S){const I=this.length;return this.resize(I+1),this.emplace(I,e,r,o,a,c,p,d,m,y,x,b,S)}emplace(e,r,o,a,c,p,d,m,y,x,b,S,I){const E=12*e;return this.int16[E+0]=r,this.int16[E+1]=o,this.int16[E+2]=a,this.int16[E+3]=c,this.uint16[E+4]=p,this.uint16[E+5]=d,this.uint16[E+6]=m,this.uint16[E+7]=y,this.int16[E+8]=x,this.int16[E+9]=b,this.int16[E+10]=S,this.int16[E+11]=I,e}}We.prototype.bytesPerElement=24,Ct(We,"StructArrayLayout4i4ui4i24");class nt extends ge{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,r,o,a,c,p){const d=this.length;return this.resize(d+1),this.emplace(d,e,r,o,a,c,p)}emplace(e,r,o,a,c,p,d){const m=10*e,y=5*e;return this.int16[m+0]=r,this.int16[m+1]=o,this.int16[m+2]=a,this.float32[y+2]=c,this.float32[y+3]=p,this.float32[y+4]=d,e}}nt.prototype.bytesPerElement=20,Ct(nt,"StructArrayLayout3i3f20");class Ft extends ge{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e){const r=this.length;return this.resize(r+1),this.emplace(r,e)}emplace(e,r){return this.uint32[1*e+0]=r,e}}Ft.prototype.bytesPerElement=4,Ct(Ft,"StructArrayLayout1ul4");class qt extends ge{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,r,o,a,c,p,d,m,y,x,b,S,I){const E=this.length;return this.resize(E+1),this.emplace(E,e,r,o,a,c,p,d,m,y,x,b,S,I)}emplace(e,r,o,a,c,p,d,m,y,x,b,S,I,E){const k=20*e,O=10*e;return this.int16[k+0]=r,this.int16[k+1]=o,this.int16[k+2]=a,this.int16[k+3]=c,this.int16[k+4]=p,this.float32[O+3]=d,this.float32[O+4]=m,this.float32[O+5]=y,this.float32[O+6]=x,this.int16[k+14]=b,this.uint32[O+8]=S,this.uint16[k+18]=I,this.uint16[k+19]=E,e}}qt.prototype.bytesPerElement=40,Ct(qt,"StructArrayLayout5i4f1i1ul2ui40");class St extends ge{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,r,o,a,c,p,d){const m=this.length;return this.resize(m+1),this.emplace(m,e,r,o,a,c,p,d)}emplace(e,r,o,a,c,p,d,m){const y=8*e;return this.int16[y+0]=r,this.int16[y+1]=o,this.int16[y+2]=a,this.int16[y+4]=c,this.int16[y+5]=p,this.int16[y+6]=d,this.int16[y+7]=m,e}}St.prototype.bytesPerElement=16,Ct(St,"StructArrayLayout3i2i2i16");class Rt extends ge{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,r,o,a,c){const p=this.length;return this.resize(p+1),this.emplace(p,e,r,o,a,c)}emplace(e,r,o,a,c,p){const d=4*e,m=8*e;return this.float32[d+0]=r,this.float32[d+1]=o,this.float32[d+2]=a,this.int16[m+6]=c,this.int16[m+7]=p,e}}Rt.prototype.bytesPerElement=16,Ct(Rt,"StructArrayLayout2f1f2i16");class n4 extends ge{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,r,o,a){const c=this.length;return this.resize(c+1),this.emplace(c,e,r,o,a)}emplace(e,r,o,a,c){const p=12*e,d=3*e;return this.uint8[p+0]=r,this.uint8[p+1]=o,this.float32[d+1]=a,this.float32[d+2]=c,e}}n4.prototype.bytesPerElement=12,Ct(n4,"StructArrayLayout2ub2f12");class r4 extends ge{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,r,o){const a=this.length;return this.resize(a+1),this.emplace(a,e,r,o)}emplace(e,r,o,a){const c=3*e;return this.float32[c+0]=r,this.float32[c+1]=o,this.float32[c+2]=a,e}}r4.prototype.bytesPerElement=12,Ct(r4,"StructArrayLayout3f12");class Tt extends ge{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,r,o){const a=this.length;return this.resize(a+1),this.emplace(a,e,r,o)}emplace(e,r,o,a){const c=3*e;return this.uint16[c+0]=r,this.uint16[c+1]=o,this.uint16[c+2]=a,e}}Tt.prototype.bytesPerElement=6,Ct(Tt,"StructArrayLayout3ui6");class A4 extends ge{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e,r,o,a,c,p,d,m,y,x,b,S,I,E,k,O,H,re,X,te,le){const ae=this.length;return this.resize(ae+1),this.emplace(ae,e,r,o,a,c,p,d,m,y,x,b,S,I,E,k,O,H,re,X,te,le)}emplace(e,r,o,a,c,p,d,m,y,x,b,S,I,E,k,O,H,re,X,te,le,ae){const Pe=30*e,Se=15*e,Ne=60*e;return this.int16[Pe+0]=r,this.int16[Pe+1]=o,this.int16[Pe+2]=a,this.float32[Se+2]=c,this.float32[Se+3]=p,this.uint16[Pe+8]=d,this.uint16[Pe+9]=m,this.uint32[Se+5]=y,this.uint32[Se+6]=x,this.uint32[Se+7]=b,this.uint16[Pe+16]=S,this.uint16[Pe+17]=I,this.uint16[Pe+18]=E,this.float32[Se+10]=k,this.float32[Se+11]=O,this.uint8[Ne+48]=H,this.uint8[Ne+49]=re,this.uint8[Ne+50]=X,this.uint32[Se+13]=te,this.int16[Pe+28]=le,this.uint8[Ne+58]=ae,e}}A4.prototype.bytesPerElement=60,Ct(A4,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class F4 extends ge{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e,r,o,a,c,p,d,m,y,x,b,S,I,E,k,O,H,re,X,te,le,ae,Pe,Se,Ne,tt,Le,je,Ge,Ye){const st=this.length;return this.resize(st+1),this.emplace(st,e,r,o,a,c,p,d,m,y,x,b,S,I,E,k,O,H,re,X,te,le,ae,Pe,Se,Ne,tt,Le,je,Ge,Ye)}emplace(e,r,o,a,c,p,d,m,y,x,b,S,I,E,k,O,H,re,X,te,le,ae,Pe,Se,Ne,tt,Le,je,Ge,Ye,st){const Be=38*e,ht=19*e;return this.int16[Be+0]=r,this.int16[Be+1]=o,this.int16[Be+2]=a,this.float32[ht+2]=c,this.float32[ht+3]=p,this.int16[Be+8]=d,this.int16[Be+9]=m,this.int16[Be+10]=y,this.int16[Be+11]=x,this.int16[Be+12]=b,this.int16[Be+13]=S,this.uint16[Be+14]=I,this.uint16[Be+15]=E,this.uint16[Be+16]=k,this.uint16[Be+17]=O,this.uint16[Be+18]=H,this.uint16[Be+19]=re,this.uint16[Be+20]=X,this.uint16[Be+21]=te,this.uint16[Be+22]=le,this.uint16[Be+23]=ae,this.uint16[Be+24]=Pe,this.uint16[Be+25]=Se,this.uint16[Be+26]=Ne,this.uint16[Be+27]=tt,this.uint16[Be+28]=Le,this.uint32[ht+15]=je,this.float32[ht+16]=Ge,this.float32[ht+17]=Ye,this.float32[ht+18]=st,e}}F4.prototype.bytesPerElement=76,Ct(F4,"StructArrayLayout3i2f6i15ui1ul3f76");class L4 extends ge{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e){const r=this.length;return this.resize(r+1),this.emplace(r,e)}emplace(e,r){return this.float32[1*e+0]=r,e}}L4.prototype.bytesPerElement=4,Ct(L4,"StructArrayLayout1f4");class k4 extends ge{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,r,o,a,c){const p=this.length;return this.resize(p+1),this.emplace(p,e,r,o,a,c)}emplace(e,r,o,a,c,p){const d=5*e;return this.float32[d+0]=r,this.float32[d+1]=o,this.float32[d+2]=a,this.float32[d+3]=c,this.float32[d+4]=p,e}}k4.prototype.bytesPerElement=20,Ct(k4,"StructArrayLayout5f20");class Qr extends ge{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,r,o,a){const c=this.length;return this.resize(c+1),this.emplace(c,e,r,o,a)}emplace(e,r,o,a,c){const p=6*e;return this.uint32[3*e+0]=r,this.uint16[p+2]=o,this.uint16[p+3]=a,this.uint16[p+4]=c,e}}Qr.prototype.bytesPerElement=12,Ct(Qr,"StructArrayLayout1ul3ui12");class zr extends ge{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,r){const o=this.length;return this.resize(o+1),this.emplace(o,e,r)}emplace(e,r,o){const a=2*e;return this.uint16[a+0]=r,this.uint16[a+1]=o,e}}zr.prototype.bytesPerElement=4,Ct(zr,"StructArrayLayout2ui4");class Pi extends ge{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e){const r=this.length;return this.resize(r+1),this.emplace(r,e)}emplace(e,r){return this.uint16[1*e+0]=r,e}}Pi.prototype.bytesPerElement=2,Ct(Pi,"StructArrayLayout1ui2");class to extends ge{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,r){const o=this.length;return this.resize(o+1),this.emplace(o,e,r)}emplace(e,r,o){const a=2*e;return this.float32[a+0]=r,this.float32[a+1]=o,e}}to.prototype.bytesPerElement=8,Ct(to,"StructArrayLayout2f8");class $4 extends ue{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}$4.prototype.size=40;class U4 extends qt{get(e){return new $4(this,e)}}Ct(U4,"CollisionBoxArray");class x4 extends ue{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(e){this._structArray.uint8[this._pos1+49]=e}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(e){this._structArray.uint8[this._pos1+50]=e}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(e){this._structArray.uint32[this._pos4+13]=e}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(e){this._structArray.uint8[this._pos1+58]=e}}x4.prototype.size=60;class vr extends A4{get(e){return new x4(this,e)}}Ct(vr,"PlacedSymbolArray");class ii extends ue{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(e){this._structArray.uint32[this._pos4+15]=e}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}ii.prototype.size=76;class X4 extends F4{get(e){return new ii(this,e)}}Ct(X4,"SymbolInstanceArray");class hi extends L4{getoffsetX(e){return this.float32[1*e+0]}}Ct(hi,"GlyphOffsetArray");class J5 extends et{getx(e){return this.int16[2*e+0]}gety(e){return this.int16[2*e+1]}}Ct(J5,"SymbolLineVertexArray");class Yo extends ue{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}Yo.prototype.size=12;class n5 extends Qr{get(e){return new Yo(this,e)}}Ct(n5,"FeatureIndexArray");class fo extends zr{geta_centroid_pos0(e){return this.uint16[2*e+0]}geta_centroid_pos1(e){return this.uint16[2*e+1]}}Ct(fo,"FillExtrusionCentroidArray");const To=_e([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),Ko=_e([{name:"a_dash",components:4,type:"Uint16"}]);var $5={exports:{}},s5={exports:{}};s5.exports=function(t,e){var r,o,a,c,p,d,m,y;for(o=t.length-(r=3&t.length),a=e,p=3432918353,d=461845907,y=0;y<o;)m=255&t.charCodeAt(y)|(255&t.charCodeAt(++y))<<8|(255&t.charCodeAt(++y))<<16|(255&t.charCodeAt(++y))<<24,++y,a=27492+(65535&(c=5*(65535&(a=(a^=m=(65535&(m=(m=(65535&m)*p+(((m>>>16)*p&65535)<<16)&4294967295)<<15|m>>>17))*d+(((m>>>16)*d&65535)<<16)&4294967295)<<13|a>>>19))+((5*(a>>>16)&65535)<<16)&4294967295))+((58964+(c>>>16)&65535)<<16);switch(m=0,r){case 3:m^=(255&t.charCodeAt(y+2))<<16;case 2:m^=(255&t.charCodeAt(y+1))<<8;case 1:a^=m=(65535&(m=(m=(65535&(m^=255&t.charCodeAt(y)))*p+(((m>>>16)*p&65535)<<16)&4294967295)<<15|m>>>17))*d+(((m>>>16)*d&65535)<<16)&4294967295}return a^=t.length,a=2246822507*(65535&(a^=a>>>16))+((2246822507*(a>>>16)&65535)<<16)&4294967295,a=3266489909*(65535&(a^=a>>>13))+((3266489909*(a>>>16)&65535)<<16)&4294967295,(a^=a>>>16)>>>0};var _7=s5.exports,I9={exports:{}};I9.exports=function(t,e){for(var r,o=t.length,a=e^o,c=0;o>=4;)r=1540483477*(65535&(r=255&t.charCodeAt(c)|(255&t.charCodeAt(++c))<<8|(255&t.charCodeAt(++c))<<16|(255&t.charCodeAt(++c))<<24))+((1540483477*(r>>>16)&65535)<<16),a=1540483477*(65535&a)+((1540483477*(a>>>16)&65535)<<16)^(r=1540483477*(65535&(r^=r>>>24))+((1540483477*(r>>>16)&65535)<<16)),o-=4,++c;switch(o){case 3:a^=(255&t.charCodeAt(c+2))<<16;case 2:a^=(255&t.charCodeAt(c+1))<<8;case 1:a=1540483477*(65535&(a^=255&t.charCodeAt(c)))+((1540483477*(a>>>16)&65535)<<16)}return a=1540483477*(65535&(a^=a>>>13))+((1540483477*(a>>>16)&65535)<<16),(a^=a>>>15)>>>0};var E9=_7,m0=I9.exports;$5.exports=E9,$5.exports.murmur3=E9,$5.exports.murmur2=m0;var u1=He($5.exports);class G3{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(e,r,o,a){this.ids.push(P9(e)),this.positions.push(r,o,a)}getPositions(e){const r=P9(e);let o=0,a=this.ids.length-1;for(;o<a;){const p=o+a>>1;this.ids[p]>=r?a=p:o=p+1}const c=[];for(;this.ids[o]===r;)c.push({index:this.positions[3*o],start:this.positions[3*o+1],end:this.positions[3*o+2]}),o++;return c}static serialize(e,r){const o=new Float64Array(e.ids),a=new Uint32Array(e.positions);return p1(o,a,0,o.length-1),r&&r.push(o.buffer,a.buffer),{ids:o,positions:a}}static deserialize(e){const r=new G3;return r.ids=e.ids,r.positions=e.positions,r.indexed=!0,r}}function P9(t){const e=+t;return!isNaN(e)&&Number.MIN_SAFE_INTEGER<=e&&e<=Number.MAX_SAFE_INTEGER?e:u1(String(t))}function p1(t,e,r,o){for(;r<o;){const a=t[r+o>>1];let c=r-1,p=o+1;for(;;){do c++;while(t[c]<a);do p--;while(t[p]>a);if(c>=p)break;q3(t,c,p),q3(e,3*c,3*p),q3(e,3*c+1,3*p+1),q3(e,3*c+2,3*p+2)}p-r<o-p?(p1(t,e,r,p),r=p+1):(p1(t,e,p+1,o),o=p)}}function q3(t,e,r){const o=t[e];t[e]=t[r],t[r]=o}Ct(G3,"FeaturePositionMap");class Jo{constructor(e){this.gl=e.gl,this.initialized=!1}fetchUniformLocation(e,r){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(e,r),this.initialized=!0),!!this.location}}class Z3 extends Jo{constructor(e){super(e),this.current=0}set(e,r,o){this.fetchUniformLocation(e,r)&&this.current!==o&&(this.current=o,this.gl.uniform1f(this.location,o))}}class T9 extends Jo{constructor(e){super(e),this.current=[0,0,0,0]}set(e,r,o){this.fetchUniformLocation(e,r)&&(o[0]===this.current[0]&&o[1]===this.current[1]&&o[2]===this.current[2]&&o[3]===this.current[3]||(this.current=o,this.gl.uniform4f(this.location,o[0],o[1],o[2],o[3])))}}class F9 extends Jo{constructor(e){super(e),this.current=_r.transparent}set(e,r,o){this.fetchUniformLocation(e,r)&&(o.r===this.current.r&&o.g===this.current.g&&o.b===this.current.b&&o.a===this.current.a||(this.current=o,this.gl.uniform4f(this.location,o.r,o.g,o.b,o.a)))}}const y0=new Float32Array(16),_0=new Float32Array(9),g0=new Float32Array(4);function h1(t){return[ce(255*t.r,255*t.g),ce(255*t.b,255*t.a)]}class g7{constructor(e,r,o){this.value=e,this.uniformNames=r.map(a=>`u_${a}`),this.type=o}setUniform(e,r,o,a,c){r.set(e,c,a.constantOr(this.value))}getBinding(e,r){return this.type==="color"?new F9(e):new Z3(e)}}class Q5{constructor(e,r){this.uniformNames=r.map(o=>`u_${o}`),this.pattern=null,this.pixelRatio=1}setConstantPatternPositions(e){this.pixelRatio=e.pixelRatio||1,this.pattern=e.tl.concat(e.br)}setUniform(e,r,o,a,c){const p=c==="u_pattern"||c==="u_dash"?this.pattern:c==="u_pixel_ratio"?this.pixelRatio:null;p&&r.set(e,c,p)}getBinding(e,r){return r==="u_pattern"||r==="u_dash"?new T9(e):new Z3(e)}}class $o{constructor(e,r,o,a){this.expression=e,this.type=o,this.maxValue=0,this.paintVertexAttributes=r.map(c=>({name:`a_${c}`,type:"Float32",components:o==="color"?2:1,offset:0})),this.paintVertexArray=new a}populatePaintArray(e,r,o,a,c,p){const d=this.paintVertexArray.length,m=this.expression.evaluate(new v(0),r,{},c,a,p);this.paintVertexArray.resize(e),this._setPaintValue(d,e,m)}updatePaintArray(e,r,o,a,c){const p=this.expression.evaluate({zoom:0},o,a,void 0,c);this._setPaintValue(e,r,p)}_setPaintValue(e,r,o){if(this.type==="color"){const a=h1(o);for(let c=e;c<r;c++)this.paintVertexArray.emplace(c,a[0],a[1])}else{for(let a=e;a<r;a++)this.paintVertexArray.emplace(a,o);this.maxValue=Math.max(this.maxValue,Math.abs(o))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class mo{constructor(e,r,o,a,c,p){this.expression=e,this.uniformNames=r.map(d=>`u_${d}_t`),this.type=o,this.useIntegerZoom=a,this.zoom=c,this.maxValue=0,this.paintVertexAttributes=r.map(d=>({name:`a_${d}`,type:"Float32",components:o==="color"?4:2,offset:0})),this.paintVertexArray=new p}populatePaintArray(e,r,o,a,c,p){const d=this.expression.evaluate(new v(this.zoom),r,{},c,a,p),m=this.expression.evaluate(new v(this.zoom+1),r,{},c,a,p),y=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(y,e,d,m)}updatePaintArray(e,r,o,a,c){const p=this.expression.evaluate({zoom:this.zoom},o,a,void 0,c),d=this.expression.evaluate({zoom:this.zoom+1},o,a,void 0,c);this._setPaintValue(e,r,p,d)}_setPaintValue(e,r,o,a){if(this.type==="color"){const c=h1(o),p=h1(a);for(let d=e;d<r;d++)this.paintVertexArray.emplace(d,c[0],c[1],p[0],p[1])}else{for(let c=e;c<r;c++)this.paintVertexArray.emplace(c,o,a);this.maxValue=Math.max(this.maxValue,Math.abs(o),Math.abs(a))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(e,r,o,a,c){const p=this.useIntegerZoom?Math.floor(o.zoom):o.zoom,d=gt(this.expression.interpolationFactor(p,this.zoom,this.zoom+1),0,1);r.set(e,c,d)}getBinding(e,r){return new Z3(e)}}class Dn{constructor(e,r,o,a,c){this.expression=e,this.layerId=c,this.paintVertexAttributes=(o==="array"?Ko:To).members;for(let p=0;p<r.length;++p);this.paintVertexArray=new a}populatePaintArray(e,r,o){const a=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValues(a,e,r.patterns&&r.patterns[this.layerId],o)}updatePaintArray(e,r,o,a,c,p){this._setPaintValues(e,r,o.patterns&&o.patterns[this.layerId],p)}_setPaintValues(e,r,o,a){if(!a||!o)return;const c=a[o];if(!c)return;const{tl:p,br:d,pixelRatio:m}=c;for(let y=e;y<r;y++)this.paintVertexArray.emplace(y,p[0],p[1],d[0],d[1],m)}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Sn{constructor(e,r,o=()=>!0){this.binders={},this._buffers=[];const a=[];for(const c in e.paint._values){if(!o(c))continue;const p=e.paint.get(c);if(!(p instanceof q&&yn(p.property.specification)))continue;const d=v0(c,e.type),m=p.value,y=p.property.specification.type,x=!!p.property.useIntegerZoom,b=c==="line-dasharray"||c.endsWith("pattern"),S=c==="line-dasharray"&&e.layout.get("line-cap").value.kind!=="constant";if(m.kind!=="constant"||S)if(m.kind==="source"||S||b){const I=L9(c,y,"source");this.binders[c]=b?new Dn(m,d,y,I,e.id):new $o(m,d,y,I),a.push(`/a_${c}`)}else{const I=L9(c,y,"composite");this.binders[c]=new mo(m,d,y,x,r,I),a.push(`/z_${c}`)}else this.binders[c]=b?new Q5(m.value,d):new g7(m.value,d,y),a.push(`/u_${c}`)}this.cacheKey=a.sort().join("")}getMaxValue(e){const r=this.binders[e];return r instanceof $o||r instanceof mo?r.maxValue:0}populatePaintArrays(e,r,o,a,c,p){for(const d in this.binders){const m=this.binders[d];(m instanceof $o||m instanceof mo||m instanceof Dn)&&m.populatePaintArray(e,r,o,a,c,p)}}setConstantPatternPositions(e){for(const r in this.binders){const o=this.binders[r];o instanceof Q5&&o.setConstantPatternPositions(e)}}updatePaintArrays(e,r,o,a,c,p){let d=!1;for(const m in e){const y=r.getPositions(m);for(const x of y){const b=o.feature(x.index);for(const S in this.binders){const I=this.binders[S];if((I instanceof $o||I instanceof mo||I instanceof Dn)&&I.expression.isStateDependent===!0){const E=a.paint.get(S);I.expression=E.value,I.updatePaintArray(x.start,x.end,b,e[m],c,p),d=!0}}}}return d}defines(){const e=[];for(const r in this.binders){const o=this.binders[r];(o instanceof g7||o instanceof Q5)&&e.push(...o.uniformNames.map(a=>`#define HAS_UNIFORM_${a}`))}return e}getBinderAttributes(){const e=[];for(const r in this.binders){const o=this.binders[r];if(o instanceof $o||o instanceof mo||o instanceof Dn)for(let a=0;a<o.paintVertexAttributes.length;a++)e.push(o.paintVertexAttributes[a].name)}return e}getBinderUniforms(){const e=[];for(const r in this.binders){const o=this.binders[r];if(o instanceof g7||o instanceof Q5||o instanceof mo)for(const a of o.uniformNames)e.push(a)}return e}getPaintVertexBuffers(){return this._buffers}getUniforms(e){const r=[];for(const o in this.binders){const a=this.binders[o];if(a instanceof g7||a instanceof Q5||a instanceof mo)for(const c of a.uniformNames)r.push({name:c,property:o,binding:a.getBinding(e,c)})}return r}setUniforms(e,r,o,a,c){for(const{name:p,property:d,binding:m}of o)this.binders[d].setUniform(e,m,c,a.get(d),p)}updatePaintBuffers(){this._buffers=[];for(const e in this.binders){const r=this.binders[e];(r instanceof $o||r instanceof mo||r instanceof Dn)&&r.paintVertexBuffer&&this._buffers.push(r.paintVertexBuffer)}}upload(e){for(const r in this.binders){const o=this.binders[r];(o instanceof $o||o instanceof mo||o instanceof Dn)&&o.upload(e)}this.updatePaintBuffers()}destroy(){for(const e in this.binders){const r=this.binders[e];(r instanceof $o||r instanceof mo||r instanceof Dn)&&r.destroy()}}}class a5{constructor(e,r,o=()=>!0){this.programConfigurations={};for(const a of e)this.programConfigurations[a.id]=new Sn(a,r,o);this.needsUpload=!1,this._featureMap=new G3,this._bufferOffset=0}populatePaintArrays(e,r,o,a,c,p,d){for(const m in this.programConfigurations)this.programConfigurations[m].populatePaintArrays(e,r,a,c,p,d);r.id!==void 0&&this._featureMap.add(r.id,o,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0}updatePaintArrays(e,r,o,a,c){for(const p of o)this.needsUpload=this.programConfigurations[p.id].updatePaintArrays(e,this._featureMap,r,p,a,c)||this.needsUpload}get(e){return this.programConfigurations[e]}upload(e){if(this.needsUpload){for(const r in this.programConfigurations)this.programConfigurations[r].upload(e);this.needsUpload=!1}}destroy(){for(const e in this.programConfigurations)this.programConfigurations[e].destroy()}}const x0={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function v0(t,e){return x0[t]||[t.replace(`${e}-`,"").replace(/-/g,"_")]}const b0={"line-pattern":{source:Ie,composite:Ie},"fill-pattern":{source:Ie,composite:Ie},"fill-extrusion-pattern":{source:Ie,composite:Ie},"line-dasharray":{source:Oe,composite:Oe}},C0={color:{source:to,composite:Je},number:{source:L4,composite:to}};function L9(t,e,r){const o=b0[t];return o&&o[r]||C0[e][r]}Ct(g7,"ConstantBinder"),Ct(Q5,"PatternConstantBinder"),Ct($o,"SourceExpressionBinder"),Ct(Dn,"PatternCompositeBinder"),Ct(mo,"CompositeExpressionBinder"),Ct(Sn,"ProgramConfiguration",{omit:["_buffers"]}),Ct(a5,"ProgramConfigurationSet");const k9="-transition";class yo extends Ki{constructor(e,r){if(super(),this.id=e.id,this.type=e.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,e.type!=="custom"&&(this.metadata=e.metadata,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,e.type!=="background"&&e.type!=="sky"&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),r.layout&&(this._unevaluatedLayout=new Z(r.layout)),r.paint)){this._transitionablePaint=new F(r.paint);for(const o in e.paint)this.setPaintProperty(o,e.paint[o],{validate:!1});for(const o in e.layout)this.setLayoutProperty(o,e.layout[o],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new W(r.paint)}}getLayoutProperty(e){return e==="visibility"?this.visibility:this._unevaluatedLayout.getValue(e)}setLayoutProperty(e,r,o={}){r!=null&&this._validate(n1,`layers.${this.id}.layout.${e}`,e,r,o)||(e!=="visibility"?this._unevaluatedLayout.setValue(e,r):this.visibility=r)}getPaintProperty(e){return jr(e,k9)?this._transitionablePaint.getTransition(e.slice(0,-11)):this._transitionablePaint.getValue(e)}setPaintProperty(e,r,o={}){if(r!=null&&this._validate(o1,`layers.${this.id}.paint.${e}`,e,r,o))return!1;if(jr(e,k9))return this._transitionablePaint.setTransition(e.slice(0,-11),r||void 0),!1;{const a=this._transitionablePaint._values[e],c=a.value.isDataDriven(),p=a.value;this._transitionablePaint.setValue(e,r),this._handleSpecialPaintPropertyUpdate(e);const d=this._transitionablePaint._values[e].value,m=d.isDataDriven(),y=jr(e,"pattern")||e==="line-dasharray";return m||c||y||this._handleOverridablePaintPropertyUpdate(e,p,d)}}_handleSpecialPaintPropertyUpdate(e){}getProgramIds(){return null}getProgramConfiguration(e){return null}_handleOverridablePaintPropertyUpdate(e,r,o){return!1}isHidden(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||this.visibility==="none"}updateTransitions(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(e,r){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,r)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,r)}serialize(){const e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),si(e,(r,o)=>!(r===void 0||o==="layout"&&!Object.keys(r).length||o==="paint"&&!Object.keys(r).length))}_validate(e,r,o,a,c={}){return(!c||c.validate!==!1)&&N3(this,e.call(B3,{key:r,layerType:this.type,objectKey:o,value:a,styleSpec:Ue,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const e in this.paint._values){const r=this.paint.get(e);if(r instanceof q&&yn(r.property.specification)&&(r.value.kind==="source"||r.value.kind==="composite")&&r.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=H5(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const w0=_e([{name:"a_pos",components:2,type:"Int16"}],4),D0=_e([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class br{constructor(e=[]){this.segments=e}prepareSegment(e,r,o,a){let c=this.segments[this.segments.length-1];return e>br.MAX_VERTEX_ARRAY_LENGTH&&g4(`Max vertices per segment is ${br.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${e}`),(!c||c.vertexLength+e>br.MAX_VERTEX_ARRAY_LENGTH||c.sortKey!==a)&&(c={vertexOffset:r.length,primitiveOffset:o.length,vertexLength:0,primitiveLength:0},a!==void 0&&(c.sortKey=a),this.segments.push(c)),c}get(){return this.segments}destroy(){for(const e of this.segments)for(const r in e.vaos)e.vaos[r].destroy()}static simpleSegment(e,r,o,a){return new br([{vertexOffset:e,primitiveOffset:r,vertexLength:o,primitiveLength:a,vaos:{},sortKey:0}])}}br.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Ct(br,"SegmentVector");var zt=8192;class Mn{constructor(e,r){e&&(r?this.setSouthWest(e).setNorthEast(r):e.length===4?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))}setNorthEast(e){return this._ne=e instanceof z4?new z4(e.lng,e.lat):z4.convert(e),this}setSouthWest(e){return this._sw=e instanceof z4?new z4(e.lng,e.lat):z4.convert(e),this}extend(e){const r=this._sw,o=this._ne;let a,c;if(e instanceof z4)a=e,c=e;else{if(!(e instanceof Mn))return Array.isArray(e)?e.length===4||e.every(Array.isArray)?this.extend(Mn.convert(e)):this.extend(z4.convert(e)):typeof e=="object"&&e!==null&&e.hasOwnProperty("lat")&&(e.hasOwnProperty("lon")||e.hasOwnProperty("lng"))?this.extend(z4.convert(e)):this;if(a=e._sw,c=e._ne,!a||!c)return this}return r||o?(r.lng=Math.min(a.lng,r.lng),r.lat=Math.min(a.lat,r.lat),o.lng=Math.max(c.lng,o.lng),o.lat=Math.max(c.lat,o.lat)):(this._sw=new z4(a.lng,a.lat),this._ne=new z4(c.lng,c.lat)),this}getCenter(){return new z4((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new z4(this.getWest(),this.getNorth())}getSouthEast(){return new z4(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(e){const{lng:r,lat:o}=z4.convert(e);let a=this._sw.lng<=r&&r<=this._ne.lng;return this._sw.lng>this._ne.lng&&(a=this._sw.lng>=r&&r>=this._ne.lng),this._sw.lat<=o&&o<=this._ne.lat&&a}static convert(e){return!e||e instanceof Mn?e:new Mn(e)}}var W3=1e-6,Ti=typeof Float32Array<"u"?Float32Array:Array;function U9(){var t=new Ti(9);return Ti!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function z9(t,e,r){var o=e[0],a=e[1],c=e[2],p=e[3],d=e[4],m=e[5],y=e[6],x=e[7],b=e[8],S=r[0],I=r[1],E=r[2],k=r[3],O=r[4],H=r[5],re=r[6],X=r[7],te=r[8];return t[0]=S*o+I*p+E*y,t[1]=S*a+I*d+E*x,t[2]=S*c+I*m+E*b,t[3]=k*o+O*p+H*y,t[4]=k*a+O*d+H*x,t[5]=k*c+O*m+H*b,t[6]=re*o+X*p+te*y,t[7]=re*a+X*d+te*x,t[8]=re*c+X*m+te*b,t}function _o(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function d1(t,e){var r=e[0],o=e[1],a=e[2],c=e[3],p=e[4],d=e[5],m=e[6],y=e[7],x=e[8],b=e[9],S=e[10],I=e[11],E=e[12],k=e[13],O=e[14],H=e[15],re=r*d-o*p,X=r*m-a*p,te=r*y-c*p,le=o*m-a*d,ae=o*y-c*d,Pe=a*y-c*m,Se=x*k-b*E,Ne=x*O-S*E,tt=x*H-I*E,Le=b*O-S*k,je=b*H-I*k,Ge=S*H-I*O,Ye=re*Ge-X*je+te*Le+le*tt-ae*Ne+Pe*Se;return Ye?(t[0]=(d*Ge-m*je+y*Le)*(Ye=1/Ye),t[1]=(a*je-o*Ge-c*Le)*Ye,t[2]=(k*Pe-O*ae+H*le)*Ye,t[3]=(S*ae-b*Pe-I*le)*Ye,t[4]=(m*tt-p*Ge-y*Ne)*Ye,t[5]=(r*Ge-a*tt+c*Ne)*Ye,t[6]=(O*te-E*Pe-H*X)*Ye,t[7]=(x*Pe-S*te+I*X)*Ye,t[8]=(p*je-d*tt+y*Se)*Ye,t[9]=(o*tt-r*je-c*Se)*Ye,t[10]=(E*ae-k*te+H*re)*Ye,t[11]=(b*te-x*ae-I*re)*Ye,t[12]=(d*Ne-p*Le-m*Se)*Ye,t[13]=(r*Le-o*Ne+a*Se)*Ye,t[14]=(k*X-E*le-O*re)*Ye,t[15]=(x*le-b*X+S*re)*Ye,t):null}function l5(t,e,r){var o=e[0],a=e[1],c=e[2],p=e[3],d=e[4],m=e[5],y=e[6],x=e[7],b=e[8],S=e[9],I=e[10],E=e[11],k=e[12],O=e[13],H=e[14],re=e[15],X=r[0],te=r[1],le=r[2],ae=r[3];return t[0]=X*o+te*d+le*b+ae*k,t[1]=X*a+te*m+le*S+ae*O,t[2]=X*c+te*y+le*I+ae*H,t[3]=X*p+te*x+le*E+ae*re,t[4]=(X=r[4])*o+(te=r[5])*d+(le=r[6])*b+(ae=r[7])*k,t[5]=X*a+te*m+le*S+ae*O,t[6]=X*c+te*y+le*I+ae*H,t[7]=X*p+te*x+le*E+ae*re,t[8]=(X=r[8])*o+(te=r[9])*d+(le=r[10])*b+(ae=r[11])*k,t[9]=X*a+te*m+le*S+ae*O,t[10]=X*c+te*y+le*I+ae*H,t[11]=X*p+te*x+le*E+ae*re,t[12]=(X=r[12])*o+(te=r[13])*d+(le=r[14])*b+(ae=r[15])*k,t[13]=X*a+te*m+le*S+ae*O,t[14]=X*c+te*y+le*I+ae*H,t[15]=X*p+te*x+le*E+ae*re,t}function x7(t,e,r){var o,a,c,p,d,m,y,x,b,S,I,E,k=r[0],O=r[1],H=r[2];return e===t?(t[12]=e[0]*k+e[4]*O+e[8]*H+e[12],t[13]=e[1]*k+e[5]*O+e[9]*H+e[13],t[14]=e[2]*k+e[6]*O+e[10]*H+e[14],t[15]=e[3]*k+e[7]*O+e[11]*H+e[15]):(a=e[1],c=e[2],p=e[3],d=e[4],m=e[5],y=e[6],x=e[7],b=e[8],S=e[9],I=e[10],E=e[11],t[0]=o=e[0],t[1]=a,t[2]=c,t[3]=p,t[4]=d,t[5]=m,t[6]=y,t[7]=x,t[8]=b,t[9]=S,t[10]=I,t[11]=E,t[12]=o*k+d*O+b*H+e[12],t[13]=a*k+m*O+S*H+e[13],t[14]=c*k+y*O+I*H+e[14],t[15]=p*k+x*O+E*H+e[15]),t}function c5(t,e,r){var o=r[0],a=r[1],c=r[2];return t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t[3]=e[3]*o,t[4]=e[4]*a,t[5]=e[5]*a,t[6]=e[6]*a,t[7]=e[7]*a,t[8]=e[8]*c,t[9]=e[9]*c,t[10]=e[10]*c,t[11]=e[11]*c,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function f1(t,e,r){var o=Math.sin(r),a=Math.cos(r),c=e[4],p=e[5],d=e[6],m=e[7],y=e[8],x=e[9],b=e[10],S=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=c*a+y*o,t[5]=p*a+x*o,t[6]=d*a+b*o,t[7]=m*a+S*o,t[8]=y*a-c*o,t[9]=x*a-p*o,t[10]=b*a-d*o,t[11]=S*a-m*o,t}function H3(t,e,r){var o=Math.sin(r),a=Math.cos(r),c=e[0],p=e[1],d=e[2],m=e[3],y=e[8],x=e[9],b=e[10],S=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=c*a-y*o,t[1]=p*a-x*o,t[2]=d*a-b*o,t[3]=m*a-S*o,t[8]=c*o+y*a,t[9]=p*o+x*a,t[10]=d*o+b*a,t[11]=m*o+S*a,t}function R9(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function B9(t,e,r){var o,a,c,p=r[0],d=r[1],m=r[2],y=Math.hypot(p,d,m);return y<W3?null:(p*=y=1/y,d*=y,m*=y,o=Math.sin(e),a=Math.cos(e),t[0]=p*p*(c=1-a)+a,t[1]=d*p*c+m*o,t[2]=m*p*c-d*o,t[3]=0,t[4]=p*d*c-m*o,t[5]=d*d*c+a,t[6]=m*d*c+p*o,t[7]=0,t[8]=p*m*c+d*o,t[9]=d*m*c-p*o,t[10]=m*m*c+a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var S0=l5;function m1(){var t=new Ti(3);return Ti!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function N9(t){var e=new Ti(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function v7(t){return Math.hypot(t[0],t[1],t[2])}function es(t,e,r){var o=new Ti(3);return o[0]=t,o[1]=e,o[2]=r,o}function Qo(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}function y1(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function O9(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}function b7(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t}function C7(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t}function Gi(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}function w7(t,e,r,o){return t[0]=e[0]+r[0]*o,t[1]=e[1]+r[1]*o,t[2]=e[2]+r[2]*o,t}function di(t,e){var r=e[0],o=e[1],a=e[2],c=r*r+o*o+a*a;return c>0&&(c=1/Math.sqrt(c)),t[0]=e[0]*c,t[1]=e[1]*c,t[2]=e[2]*c,t}function ro(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function _1(t,e,r){var o=e[0],a=e[1],c=e[2],p=r[0],d=r[1],m=r[2];return t[0]=a*m-c*d,t[1]=c*p-o*m,t[2]=o*d-a*p,t}function gr(t,e,r){var o=e[0],a=e[1],c=e[2],p=r[3]*o+r[7]*a+r[11]*c+r[15];return t[0]=(r[0]*o+r[4]*a+r[8]*c+r[12])/(p=p||1),t[1]=(r[1]*o+r[5]*a+r[9]*c+r[13])/p,t[2]=(r[2]*o+r[6]*a+r[10]*c+r[14])/p,t}function V9(t,e,r){var o=r[0],a=r[1],c=r[2],p=e[0],d=e[1],m=e[2],y=a*m-c*d,x=c*p-o*m,b=o*d-a*p,S=a*b-c*x,I=c*y-o*b,E=o*x-a*y,k=2*r[3];return x*=k,b*=k,I*=2,E*=2,t[0]=p+(y*=k)+(S*=2),t[1]=d+x+I,t[2]=m+b+E,t}var D7,go=y1,M0=O9,A0=v7;function j9(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function G9(t,e){var r=e[0],o=e[1],a=e[2],c=e[3],p=r*r+o*o+a*a+c*c;return p>0&&(p=1/Math.sqrt(p)),t[0]=r*p,t[1]=o*p,t[2]=a*p,t[3]=c*p,t}function u5(t,e,r){var o=e[0],a=e[1],c=e[2],p=e[3];return t[0]=r[0]*o+r[4]*a+r[8]*c+r[12]*p,t[1]=r[1]*o+r[5]*a+r[9]*c+r[13]*p,t[2]=r[2]*o+r[6]*a+r[10]*c+r[14]*p,t[3]=r[3]*o+r[7]*a+r[11]*c+r[15]*p,t}function q9(){var t=new Ti(4);return Ti!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function Z9(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function W9(t,e,r){r*=.5;var o=e[0],a=e[1],c=e[2],p=e[3],d=Math.sin(r),m=Math.cos(r);return t[0]=o*m+p*d,t[1]=a*m+c*d,t[2]=c*m-a*d,t[3]=p*m-o*d,t}function H9(t,e,r){r*=.5;var o=e[0],a=e[1],c=e[2],p=e[3],d=Math.sin(r),m=Math.cos(r);return t[0]=o*m-c*d,t[1]=a*m+p*d,t[2]=c*m+o*d,t[3]=p*m-a*d,t}m1(),D7=new Ti(4),Ti!=Float32Array&&(D7[0]=0,D7[1]=0,D7[2]=0,D7[3]=0);var I0=G9;m1(),es(1,0,0),es(0,1,0),q9(),q9(),U9();const E0=_e([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:X9}=E0,Y9=_e([{name:"a_pos_3",components:3,type:"Int16"}]);var S7=_e([{name:"a_pos",type:"Int16",components:2}]);class g1{constructor(e,r){this.pos=e,this.dir=r}intersectsPlane(e,r,o){const a=ro(r,this.dir);if(Math.abs(a)<1e-6)return!1;const c=((e[0]-this.pos[0])*r[0]+(e[1]-this.pos[1])*r[1]+(e[2]-this.pos[2])*r[2])/a;return o[0]=this.pos[0]+this.dir[0]*c,o[1]=this.pos[1]+this.dir[1]*c,o[2]=this.pos[2]+this.dir[2]*c,!0}closestPointOnSphere(e,r,o){if(function(I,E){var k=I[0],O=I[1],H=I[2],re=E[0],X=E[1],te=E[2];return Math.abs(k-re)<=W3*Math.max(1,Math.abs(k),Math.abs(re))&&Math.abs(O-X)<=W3*Math.max(1,Math.abs(O),Math.abs(X))&&Math.abs(H-te)<=W3*Math.max(1,Math.abs(H),Math.abs(te))}(this.pos,e)||r===0)return o[0]=o[1]=o[2]=0,!1;const[a,c,p]=this.dir,d=this.pos[0]-e[0],m=this.pos[1]-e[1],y=this.pos[2]-e[2],x=a*a+c*c+p*p,b=2*(d*a+m*c+y*p),S=b*b-4*x*(d*d+m*m+y*y-r*r);if(S<0){const I=Math.max(-b/2,0),E=d+a*I,k=m+c*I,O=y+p*I,H=Math.hypot(E,k,O);return o[0]=E*r/H,o[1]=k*r/H,o[2]=O*r/H,!1}{const I=(-b-Math.sqrt(S))/(2*x);if(I<0){const E=Math.hypot(d,m,y);return o[0]=d*r/E,o[1]=m*r/E,o[2]=y*r/E,!1}return o[0]=d+a*I,o[1]=m+c*I,o[2]=y+p*I,!0}}}class x1{constructor(e,r,o,a,c){this.TL=e,this.TR=r,this.BR=o,this.BL=a,this.horizon=c}static fromInvProjectionMatrix(e,r,o){const a=[-1,1,1],c=[1,1,1],p=[1,-1,1],d=[-1,-1,1],m=gr(a,a,e),y=gr(c,c,e),x=gr(p,p,e),b=gr(d,d,e);return new x1(m,y,x,b,r/o)}}class v1{constructor(e,r){this.points=e,this.planes=r}static fromInvProjectionMatrix(e,r,o,a){const c=Math.pow(2,o),p=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(m=>{const y=u5([],m,e),x=1/y[3]/r*c;return function(b,S,I){return b[0]=S[0]*I[0],b[1]=S[1]*I[1],b[2]=S[2]*I[2],b[3]=S[3]*I[3],b}(y,y,[x,x,a?1/y[3]:x,x])}),d=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(m=>{const y=di([],_1([],go([],p[m[0]],p[m[1]]),go([],p[m[2]],p[m[1]]))),x=-ro(y,p[m[1]]);return y.concat(x)});return new v1(p,d)}}class fi{static fromPoints(e){const r=[1/0,1/0,1/0],o=[-1/0,-1/0,-1/0];for(const a of e)b7(r,r,a),C7(o,o,a);return new fi(r,o)}static applyTransform(e,r){const o=e.getCorners();for(let a=0;a<o.length;++a)gr(o[a],o[a],r);return fi.fromPoints(o)}constructor(e,r){this.min=e,this.max=r,this.center=Gi([],Qo([],this.min,this.max),.5)}quadrant(e){const r=[e%2==0,e<2],o=N9(this.min),a=N9(this.max);for(let c=0;c<r.length;c++)o[c]=r[c]?this.min[c]:this.center[c],a[c]=r[c]?this.center[c]:this.max[c];return a[2]=this.max[2],new fi(o,a)}distanceX(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]}distanceY(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]}distanceZ(e){return Math.max(Math.min(this.max[2],e[2]),this.min[2])-e[2]}getCorners(){const e=this.min,r=this.max;return[[e[0],e[1],e[2]],[r[0],e[1],e[2]],[r[0],r[1],e[2]],[e[0],r[1],e[2]],[e[0],e[1],r[2]],[r[0],e[1],r[2]],[r[0],r[1],r[2]],[e[0],r[1],r[2]]]}intersects(e){const r=this.getCorners();let o=!0;for(let a=0;a<e.planes.length;a++){const c=e.planes[a];let p=0;for(let d=0;d<r.length;d++)p+=ro(c,r[d])+c[3]>=0;if(p===0)return 0;p!==r.length&&(o=!1)}if(o)return 2;for(let a=0;a<3;a++){let c=Number.MAX_VALUE,p=-Number.MAX_VALUE;for(let d=0;d<e.points.length;d++){const m=e.points[d][a]-this.min[a];c=Math.min(c,m),p=Math.max(p,m)}if(p<0||c>this.max[a]-this.min[a])return 0}return 1}}const b1=5,K9=6,Fo=zt/Math.PI/2,P0=16383,p5=64,M7=[p5,32,16],io=-Fo,oo=Fo,T0=[new fi([io,io,io],[oo,oo,oo]),new fi([io,io,io],[0,0,oo]),new fi([0,io,io],[oo,0,oo]),new fi([io,0,io],[0,oo,oo]),new fi([0,0,io],[oo,oo,oo])];function X3(t){return t*Fo/E7}function J9(t,e,r,o=!0){const a=Gi([],t._camera.position,t.worldSize),c=[e,r,1,1];u5(c,c,t.pixelMatrixInverse),j9(c,c,1/c[3]);const p=di([],go([],c,a)),d=t.globeMatrix,m=[d[12],d[13],d[14]],y=go([],m,a),x=v7(y),b=di([],y),S=t.worldSize/(2*Math.PI),I=ro(b,p),E=Math.asin(S/x);if(E<Math.acos(I)){if(!o)return null;const tt=[],Le=[];Gi(tt,p,x/I),di(Le,go(Le,tt,y)),di(p,Qo(p,y,Gi(p,Le,Math.tan(E)*x)))}const k=[];new g1(a,p).closestPointOnSphere(m,S,k);const O=di([],l4(d,0)),H=di([],l4(d,1)),re=di([],l4(d,2)),X=ro(O,k),te=ro(H,k),le=ro(re,k),ae=ct(Math.asin(-te/S));let Pe=ct(Math.atan2(X,le));Pe=t.center.lng+function(tt,Le){const je=(Le-tt+180)%360-180;return je<-180?je+360:je}(t.center.lng,Pe);const Se=ko(Pe),Ne=gt(Uo(ae),0,1);return new os(Se,Ne)}class F0{constructor(e,r,o){this.a=go([],e,o),this.b=go([],r,o),this.center=o;const a=di([],this.a),c=di([],this.b);this.angle=Math.acos(ro(a,c))}}function C1(t,e){if(t.angle===0)return null;let r;return r=t.a[e]===0?1/t.angle*.5*Math.PI:1/t.angle*Math.atan(t.b[e]/t.a[e]/Math.sin(t.angle)-1/Math.tan(t.angle)),r<0||r>1?null:function(o,a,c,p){const d=Math.sin(c);return o*(Math.sin((1-p)*c)/d)+a*(Math.sin(p*c)/d)}(t.a[e],t.b[e],t.angle,gt(r,0,1))+t.center[e]}function Lo(t){if(t.z<=1)return T0[t.z+2*t.y+t.x];const e=w1(Y3(t));return fi.fromPoints(e)}function h5(t,e,r){return Gi(t,t,1-r),w7(t,t,e,r)}function $9(t,e){const r=is(e.zoom);if(r===0)return Lo(t);const o=Y3(t),a=w1(o),c=ko(o.getWest())*e.worldSize,p=ko(o.getEast())*e.worldSize,d=Uo(o.getNorth())*e.worldSize,m=Uo(o.getSouth())*e.worldSize,y=[c,d,0],x=[p,d,0],b=[c,m,0],S=[p,m,0],I=d1([],e.globeMatrix);return gr(y,y,I),gr(x,x,I),gr(b,b,I),gr(S,S,I),a[0]=h5(a[0],b,r),a[1]=h5(a[1],S,r),a[2]=h5(a[2],x,r),a[3]=h5(a[3],y,r),fi.fromPoints(a)}function Q9(t,e,r){for(const o of t)gr(o,o,e),Gi(o,o,r)}function L0(t,e,r){const o=e/t.worldSize,a=t.globeMatrix;if(r.z<=1){const Se=Lo(r).getCorners();return Q9(Se,a,o),fi.fromPoints(Se)}const c=Y3(r),p=w1(c);Q9(p,a,o);const d=Number.MAX_VALUE,m=[-d,-d,-d],y=[d,d,d];if(c.contains(t.center)){for(const tt of p)b7(y,y,tt),C7(m,m,tt);m[2]=0;const Se=t.point,Ne=[Se.x*o,Se.y*o,0];return b7(y,y,Ne),C7(m,m,Ne),new fi(y,m)}const x=[a[12]*o,a[13]*o,a[14]*o],b=c.getCenter(),S=gt(t.center.lat,-ti,ti),I=gt(b.lat,-ti,ti),E=ko(t.center.lng),k=Uo(S);let O=E-ko(b.lng);const H=k-Uo(I);O>.5?O-=1:O<-.5&&(O+=1);let re=0;Math.abs(O)>Math.abs(H)?re=O>=0?1:3:(re=H>=0?0:2,w7(x,x,[a[4]*o,a[5]*o,a[6]*o],-Math.sin(qe(H>=0?c.getSouth():c.getNorth()))*Fo));const X=p[re],te=p[(re+1)%4],le=new F0(X,te,x),ae=[C1(le,0)||X[0],C1(le,1)||X[1],C1(le,2)||X[2]],Pe=is(t.zoom);if(Pe>0){const Se=function({x:tt,y:Le,z:je},Ge,Ye,st,Be){const ht=1/(1<<je);let Mt=tt*ht,dt=Mt+ht,Ht=Le*ht,at=Ht+ht,Lt=0;const Xt=(Mt+dt)/2-st;return Xt>.5?Lt=-1:Xt<-.5&&(Lt=1),Mt=((Mt+Lt)*Ge-(st*=Ge))*Ye+st,dt=((dt+Lt)*Ge-st)*Ye+st,Ht=(Ht*Ge-(Be*=Ge))*Ye+Be,at=(at*Ge-Be)*Ye+Be,[[Mt,at,0],[dt,at,0],[dt,Ht,0],[Mt,Ht,0]]}(r,e,t._pixelsPerMercatorPixel,E,k);for(let tt=0;tt<p.length;tt++)h5(p[tt],Se[tt],Pe);const Ne=Qo([],Se[re],Se[(re+1)%4]);Gi(Ne,Ne,.5),h5(ae,Ne,Pe)}for(const Se of p)b7(y,y,Se),C7(m,m,Se);return y[2]=Math.min(X[2],te[2]),b7(y,y,ae),C7(m,m,ae),new fi(y,m)}function Y3({x:t,y:e,z:r}){const o=1/(1<<r),a=new z4(qi(t*o),ei((e+1)*o)),c=new z4(qi((t+1)*o),ei(e*o));return new Mn(a,c)}function w1(t){const e=qe(t.getNorth()),r=qe(t.getSouth()),o=Math.cos(e),a=Math.cos(r),c=Math.sin(e),p=Math.sin(r),d=t.getWest(),m=t.getEast();return[ts(a,p,d),ts(a,p,m),ts(o,c,m),ts(o,c,d)]}function ts(t,e,r,o=Fo){return r=qe(r),[t*Math.sin(r)*o,-e*o,t*Math.cos(r)*o]}function rs(t,e,r){return ts(Math.cos(qe(t)),Math.sin(qe(t)),e,r)}function A7(t,e,r,o){const a=1<<r.z,c=(t/zt+r.x)/a;return rs(ei((e/zt+r.y)/a),qi(c),o)}function K3({min:t,max:e}){return P0/Math.max(e[0]-t[0],e[1]-t[1],e[2]-t[2])}const e6=new Float64Array(16);function I7(t){const e=K3(t),r=R9(e6,[e,e,e]);return x7(r,r,((o=[])[0]=-(a=t.min)[0],o[1]=-a[1],o[2]=-a[2],o));var o,a}function D1(t){const e=(o=t.min,(r=e6)[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=o[0],r[13]=o[1],r[14]=o[2],r[15]=1,r);var r,o;const a=1/K3(t);return c5(e,e,[a,a,a])}function t6(t,e,r,o,a){const c=function(m){const y=zt/(2*Math.PI);return m/(2*Math.PI)/y}(r),p=[t,e,-r/(2*Math.PI)],d=_o(new Float64Array(16));return x7(d,d,p),c5(d,d,[c,c,c]),f1(d,d,qe(-a)),H3(d,d,qe(-o)),d}function is(t){return _t(b1,K9,t)}function r6(t,e){const r=rs(e.lat,e.lng),o=function(E){const k=rs(E._center.lat,E._center.lng);let O=_1([],es(0,1,0),k);const H=B9([],-E.angle,k);O=gr(O,O,H),B9(H,-E._pitch,O);const re=di([],k);return Gi(re,re,X3(E.cameraToCenterDistance/E.pixelsPerMeter)),gr(re,re,H),Qo([],k,re)}(t);return p=(a=y1([],o,r))[0],d=a[1],m=a[2],y=(c=r)[0],x=c[1],b=c[2],I=(S=Math.sqrt(p*p+d*d+m*m)*Math.sqrt(y*y+x*x+b*b))&&ro(a,c)/S,Math.acos(Math.min(Math.max(I,-1),1));var a,c,p,d,m,y,x,b,S,I}function S1(t,e){return r6(t,e)>Math.PI/2*1.01}const i6=qe(85),k0=Math.cos(i6),U0=Math.sin(i6),E7=63710088e-1,o6=2*Math.PI*E7;class An{constructor(e,r){if(isNaN(e)||isNaN(r))throw new Error(`Invalid LngLat object: (${e}, ${r})`);if(this.lng=+e,this.lat=+r,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new An(xt(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(e){const r=Math.PI/180,o=this.lat*r,a=e.lat*r,c=Math.sin(o)*Math.sin(a)+Math.cos(o)*Math.cos(a)*Math.cos((e.lng-this.lng)*r);return E7*Math.acos(Math.min(c,1))}toBounds(e=0){const r=360*e/40075017,o=r/Math.cos(Math.PI/180*this.lat);return new Mn(new An(this.lng-o,this.lat-r),new An(this.lng+o,this.lat+r))}toEcef(e){const r=X3(e);return rs(this.lat,this.lng,Fo+r)}static convert(e){if(e instanceof An)return e;if(Array.isArray(e)&&(e.length===2||e.length===3))return new An(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&typeof e=="object"&&e!==null)return new An(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}var z4=An;function M1(t){return o6*Math.cos(t*Math.PI/180)}function ko(t){return(180+t)/360}function Uo(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360}function xo(t,e){return t/M1(e)}function qi(t){return 360*t-180}function ei(t){return 360/Math.PI*Math.atan(Math.exp((180-360*t)*Math.PI/180))-90}function n6(t,e){return t*M1(ei(e))}const ti=85.051129;function s6(t){return 1/Math.cos(t*Math.PI/180)}class os{constructor(e,r,o=0){this.x=+e,this.y=+r,this.z=+o}static fromLngLat(e,r=0){const o=z4.convert(e);return new os(ko(o.lng),Uo(o.lat),xo(r,o.lat))}toLngLat(){return new z4(qi(this.x),ei(this.y))}toAltitude(){return n6(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/o6*s6(ei(this.y))}}function A1(t,e,r,o,a,c,p,d,m){const y=(e+o)/2,x=(r+a)/2,b=new Te(y,x);d(b),function(S,I,E,k,O,H){const re=E-O,X=k-H;return Math.abs((k-I)*re-(E-S)*X)/Math.hypot(re,X)}(b.x,b.y,c.x,c.y,p.x,p.y)>=m?(A1(t,e,r,y,x,c,b,d,m),A1(t,y,x,o,a,b,p,d,m)):t.push(p)}function a6(t,e,r){let o=t[0],a=o.x,c=o.y;e(o);const p=[o];for(let d=1;d<t.length;d++){const m=t[d],{x:y,y:x}=m;e(m),A1(p,a,c,y,x,o,m,e,r),a=y,c=x,o=m}return p}function I1(t,e,r,o){if(o(e,r)){const a=e.add(r)._mult(.5);I1(t,e,a,o),I1(t,a,r,o)}else t.push(r)}function z0(t,e){let r=t[0];const o=[r];for(let a=1;a<t.length;a++){const c=t[a];I1(o,r,c,e),r=c}return o}const E1=Math.pow(2,14)-1,l6=-E1-1;function R0(t,e){const r=Math.round(t.x*e),o=Math.round(t.y*e);return t.x=gt(r,l6,E1),t.y=gt(o,l6,E1),(r<t.x||r>t.x+1||o<t.y||o>t.y+1)&&g4("Geometry exceeds allowed extent, reduce your vector tile buffer size"),t}function en(t,e,r){const o=t.loadGeometry(),a=t.extent,c=zt/a;if(e&&r&&r.projection.isReprojectedInTileSpace){const p=1<<e.z,{scale:d,x:m,y,projection:x}=r,b=S=>{const I=qi((e.x+S.x/a)/p),E=ei((e.y+S.y/a)/p),k=x.project(I,E);S.x=(k.x*d-m)*a,S.y=(k.y*d-y)*a};for(let S=0;S<o.length;S++)if(t.type!==1)o[S]=a6(o[S],b,1);else{const I=[];for(const E of o[S])E.x<0||E.x>=a||E.y<0||E.y>=a||(b(E),I.push(E));o[S]=I}}for(const p of o)for(const d of p)R0(d,c);return o}function d5(t,e){return{type:t.type,id:t.id,properties:t.properties,geometry:e?en(t):[]}}function J3(t,e,r,o,a){t.emplaceBack(2*e+(o+1)/2,2*r+(a+1)/2)}function $3(t,e,r){t.emplaceBack(e.x,e.y,e.z,r[0]*16384,r[1]*16384,r[2]*16384)}class P1{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(r=>r.id),this.index=e.index,this.hasPattern=!1,this.projection=e.projection,this.layoutVertexArray=new et,this.indexArray=new Tt,this.segments=new br,this.programConfigurations=new a5(e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter(r=>r.isStateDependent()).map(r=>r.id)}populate(e,r,o,a){const c=this.layers[0],p=[];let d=null;c.type==="circle"&&(d=c.layout.get("circle-sort-key"));for(const{feature:y,id:x,index:b,sourceLayerIndex:S}of e){const I=this.layers[0]._featureFilter.needGeometry,E=d5(y,I);if(!this.layers[0]._featureFilter.filter(new v(this.zoom),E,o))continue;const k=d?d.evaluate(E,{},o):void 0,O={id:x,properties:y.properties,type:y.type,sourceLayerIndex:S,index:b,geometry:I?E.geometry:en(y,o,a),patterns:{},sortKey:k};p.push(O)}d&&p.sort((y,x)=>y.sortKey-x.sortKey);let m=null;a.projection.name==="globe"&&(this.globeExtVertexArray=new it,m=a.projection);for(const y of p){const{geometry:x,index:b,sourceLayerIndex:S}=y,I=e[b].feature;this.addFeature(y,x,b,r.availableImages,o,m),r.featureIndex.insert(I,x,b,S,this.index)}}update(e,r,o,a){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,r,this.stateDependentLayers,o,a)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,w0.members),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=e.createVertexBuffer(this.globeExtVertexArray,D0.members))),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(e,r,o,a,c,p){for(const d of r)for(const m of d){const y=m.x,x=m.y;if(y<0||y>=zt||x<0||x>=zt)continue;if(p){const I=p.projectTilePoint(y,x,c),E=p.upVector(c,y,x),k=this.globeExtVertexArray;$3(k,I,E),$3(k,I,E),$3(k,I,E),$3(k,I,E)}const b=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),S=b.vertexLength;J3(this.layoutVertexArray,y,x,-1,-1),J3(this.layoutVertexArray,y,x,1,-1),J3(this.layoutVertexArray,y,x,1,1),J3(this.layoutVertexArray,y,x,-1,1),this.indexArray.emplaceBack(S,S+1,S+2),this.indexArray.emplaceBack(S,S+2,S+3),b.vertexLength+=4,b.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,o,{},a,c)}}function c6(t,e){for(let r=0;r<t.length;r++)if(f5(e,t[r]))return!0;for(let r=0;r<e.length;r++)if(f5(t,e[r]))return!0;return!!T1(t,e)}function B0(t,e,r){return!!f5(t,e)||!!F1(e,t,r)}function u6(t,e){if(t.length===1)return h6(e,t[0]);for(let r=0;r<e.length;r++){const o=e[r];for(let a=0;a<o.length;a++)if(f5(t,o[a]))return!0}for(let r=0;r<t.length;r++)if(h6(e,t[r]))return!0;for(let r=0;r<e.length;r++)if(T1(t,e[r]))return!0;return!1}function N0(t,e,r){if(t.length>1){if(T1(t,e))return!0;for(let o=0;o<e.length;o++)if(F1(e[o],t,r))return!0}for(let o=0;o<t.length;o++)if(F1(t[o],e,r))return!0;return!1}function T1(t,e){if(t.length===0||e.length===0)return!1;for(let r=0;r<t.length-1;r++){const o=t[r],a=t[r+1];for(let c=0;c<e.length-1;c++)if(O0(o,a,e[c],e[c+1]))return!0}return!1}function O0(t,e,r,o){return er(t,r,o)!==er(e,r,o)&&er(t,e,r)!==er(t,e,o)}function F1(t,e,r){const o=r*r;if(e.length===1)return t.distSqr(e[0])<o;for(let a=1;a<e.length;a++)if(p6(t,e[a-1],e[a])<o)return!0;return!1}function p6(t,e,r){const o=e.distSqr(r);if(o===0)return t.distSqr(e);const a=((t.x-e.x)*(r.x-e.x)+(t.y-e.y)*(r.y-e.y))/o;return t.distSqr(a<0?e:a>1?r:r.sub(e)._mult(a)._add(e))}function h6(t,e){let r,o,a,c=!1;for(let p=0;p<t.length;p++){r=t[p];for(let d=0,m=r.length-1;d<r.length;m=d++)o=r[d],a=r[m],o.y>e.y!=a.y>e.y&&e.x<(a.x-o.x)*(e.y-o.y)/(a.y-o.y)+o.x&&(c=!c)}return c}function f5(t,e){let r=!1;for(let o=0,a=t.length-1;o<t.length;a=o++){const c=t[o],p=t[a];c.y>e.y!=p.y>e.y&&e.x<(p.x-c.x)*(e.y-c.y)/(p.y-c.y)+c.x&&(r=!r)}return r}function d6(t,e,r,o,a){for(const p of t)if(e<=p.x&&r<=p.y&&o>=p.x&&a>=p.y)return!0;const c=[new Te(e,r),new Te(e,a),new Te(o,a),new Te(o,r)];if(t.length>2){for(const p of c)if(f5(t,p))return!0}for(let p=0;p<t.length-1;p++)if(V0(t[p],t[p+1],c))return!0;return!1}function V0(t,e,r){const o=r[0],a=r[2];if(t.x<o.x&&e.x<o.x||t.x>a.x&&e.x>a.x||t.y<o.y&&e.y<o.y||t.y>a.y&&e.y>a.y)return!1;const c=er(t,e,r[0]);return c!==er(t,e,r[1])||c!==er(t,e,r[2])||c!==er(t,e,r[3])}function ns(t,e,r){const o=e.paint.get(t).value;return o.kind==="constant"?o.value:r.programConfigurations.get(e.id).getMaxValue(t)}function Q3(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function f6(t,e,r,o,a){if(!e[0]&&!e[1])return t;const c=Te.convert(e)._mult(a);r==="viewport"&&c._rotate(-o);const p=[];for(let d=0;d<t.length;d++)p.push(t[d].sub(c));return p}function m6(t,e,r,o){const a=Te.convert(t)._mult(o);return e==="viewport"&&a._rotate(-r),a}Ct(P1,"CircleBucket",{omit:["layers"]});const j0=new $({"circle-sort-key":new V(Ue.layout_circle["circle-sort-key"])});var G0={paint:new $({"circle-radius":new V(Ue.paint_circle["circle-radius"]),"circle-color":new V(Ue.paint_circle["circle-color"]),"circle-blur":new V(Ue.paint_circle["circle-blur"]),"circle-opacity":new V(Ue.paint_circle["circle-opacity"]),"circle-translate":new L(Ue.paint_circle["circle-translate"]),"circle-translate-anchor":new L(Ue.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new L(Ue.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new L(Ue.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new V(Ue.paint_circle["circle-stroke-width"]),"circle-stroke-color":new V(Ue.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new V(Ue.paint_circle["circle-stroke-opacity"])}),layout:j0};function y6(t,e,r,o,a,c,p,d,m){if(c&&t.queryGeometry.isAboveHorizon)return!1;c&&(m*=t.pixelToTileUnitsFactor);const y=t.tileID.canonical,x=r.projection.upVectorScale(y,r.center.lat,r.worldSize).metersToTile;for(const b of e)for(const S of b){const I=S.add(d),E=a&&r.elevation?r.elevation.exaggeration()*a.getElevationAt(I.x,I.y,!0):0,k=r.projection.projectTilePoint(I.x,I.y,y);if(E>0){const X=r.projection.upVector(y,I.x,I.y);k.x+=X[0]*x*E,k.y+=X[1]*x*E,k.z+=X[2]*x*E}const O=c?I:q0(k.x,k.y,k.z,o),H=c?t.tilespaceRays.map(X=>W0(X,E)):t.queryGeometry.screenGeometry,re=u5([],[k.x,k.y,k.z,1],o);if(!p&&c?m*=re[3]/r.cameraToCenterDistance:p&&!c&&(m*=r.cameraToCenterDistance/re[3]),c){const X=ei((S.y/zt+y.y)/(1<<y.z));m/=r.projection.pixelsPerMeter(X,1)/xo(1,X)}if(B0(H,O,m))return!0}return!1}function q0(t,e,r,o){const a=u5([],[t,e,r,1],o);return new Te(a[0]/a[3],a[1]/a[3])}const _6=es(0,0,0),Z0=es(0,0,1);function W0(t,e){const r=m1();return _6[2]=e,t.intersectsPlane(_6,Z0,r),new Te(r[0],r[1])}class g6 extends P1{}function x6(t,{width:e,height:r},o,a){if(a){if(a instanceof Uint8ClampedArray)a=new Uint8Array(a.buffer);else if(a.length!==e*r*o)throw new RangeError("mismatched image size")}else a=new Uint8Array(e*r*o);return t.width=e,t.height=r,t.data=a,t}function v6(t,e,r){const{width:o,height:a}=e;o===t.width&&a===t.height||(L1(t,e,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,o),height:Math.min(t.height,a)},r),t.width=o,t.height=a,t.data=e.data)}function L1(t,e,r,o,a,c){if(a.width===0||a.height===0)return e;if(a.width>t.width||a.height>t.height||r.x>t.width-a.width||r.y>t.height-a.height)throw new RangeError("out of range source coordinates for image copy");if(a.width>e.width||a.height>e.height||o.x>e.width-a.width||o.y>e.height-a.height)throw new RangeError("out of range destination coordinates for image copy");const p=t.data,d=e.data;for(let m=0;m<a.height;m++){const y=((r.y+m)*t.width+r.x)*c,x=((o.y+m)*e.width+o.x)*c;for(let b=0;b<a.width*c;b++)d[x+b]=p[y+b]}return e}Ct(g6,"HeatmapBucket",{omit:["layers"]});class tn{constructor(e,r){x6(this,e,1,r)}resize(e){v6(this,new tn(e),1)}clone(){return new tn({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,r,o,a,c){L1(e,r,o,a,c,1)}}class Fi{constructor(e,r){x6(this,e,4,r)}resize(e){v6(this,new Fi(e),4)}replace(e,r){r?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e}clone(){return new Fi({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,r,o,a,c){L1(e,r,o,a,c,4)}}Ct(tn,"AlphaImage"),Ct(Fi,"RGBAImage");var H0={paint:new $({"heatmap-radius":new V(Ue.paint_heatmap["heatmap-radius"]),"heatmap-weight":new V(Ue.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new L(Ue.paint_heatmap["heatmap-intensity"]),"heatmap-color":new K(Ue.paint_heatmap["heatmap-color"]),"heatmap-opacity":new L(Ue.paint_heatmap["heatmap-opacity"])})};function k1(t){const e={},r=t.resolution||256,o=t.clips?t.clips.length:1,a=t.image||new Fi({width:r,height:o}),c=(p,d,m)=>{e[t.evaluationKey]=m;const y=t.expression.evaluate(e);a.data[p+d+0]=Math.floor(255*y.r/y.a),a.data[p+d+1]=Math.floor(255*y.g/y.a),a.data[p+d+2]=Math.floor(255*y.b/y.a),a.data[p+d+3]=Math.floor(255*y.a)};if(t.clips)for(let p=0,d=0;p<o;++p,d+=4*r)for(let m=0,y=0;m<r;m++,y+=4){const x=m/(r-1),{start:b,end:S}=t.clips[p];c(d,y,b*(1-x)+S*x)}else for(let p=0,d=0;p<r;p++,d+=4)c(0,d,p/(r-1));return a}var X0={paint:new $({"hillshade-illumination-direction":new L(Ue.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new L(Ue.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new L(Ue.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new L(Ue.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new L(Ue.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new L(Ue.paint_hillshade["hillshade-accent-color"])})};const Y0=_e([{name:"a_pos",components:2,type:"Int16"}],4),{members:K0}=Y0;var U1={exports:{}};function ea(t,e,r){r=r||2;var o,a,c,p,d,m,y,x=e&&e.length,b=x?e[0]*r:t.length,S=b6(t,0,b,r,!0),I=[];if(!S||S.next===S.prev)return I;if(x&&(S=function(k,O,H,re){var X,te,le,ae=[];for(X=0,te=O.length;X<te;X++)(le=b6(k,O[X]*re,X<te-1?O[X+1]*re:k.length,re,!1))===le.next&&(le.steiner=!0),ae.push(oc(le));for(ae.sort(tc),X=0;X<ae.length;X++)H=rc(ae[X],H);return H}(t,e,S,r)),t.length>80*r){o=c=t[0],a=p=t[1];for(var E=r;E<b;E+=r)(d=t[E])<o&&(o=d),(m=t[E+1])<a&&(a=m),d>c&&(c=d),m>p&&(p=m);y=(y=Math.max(c-o,p-a))!==0?32767/y:0}return P7(S,I,r,o,a,y,0),I}function b6(t,e,r,o,a){var c,p;if(a===B1(t,e,r,o)>0)for(c=e;c<r;c+=o)p=D6(c,t[c],t[c+1],p);else for(c=r-o;c>=e;c-=o)p=D6(c,t[c],t[c+1],p);return p&&ta(p,p.next)&&(F7(p),p=p.next),p}function m5(t,e){if(!t)return t;e||(e=t);var r,o=t;do if(r=!1,o.steiner||!ta(o,o.next)&&Cr(o.prev,o,o.next)!==0)o=o.next;else{if(F7(o),(o=e=o.prev)===o.next)break;r=!0}while(r||o!==e);return e}function P7(t,e,r,o,a,c,p){if(t){!p&&c&&function(x,b,S,I){var E=x;do E.z===0&&(E.z=z1(E.x,E.y,b,S,I)),E.prevZ=E.prev,E.nextZ=E.next,E=E.next;while(E!==x);E.prevZ.nextZ=null,E.prevZ=null,function(k){var O,H,re,X,te,le,ae,Pe,Se=1;do{for(H=k,k=null,te=null,le=0;H;){for(le++,re=H,ae=0,O=0;O<Se&&(ae++,re=re.nextZ);O++);for(Pe=Se;ae>0||Pe>0&&re;)ae!==0&&(Pe===0||!re||H.z<=re.z)?(X=H,H=H.nextZ,ae--):(X=re,re=re.nextZ,Pe--),te?te.nextZ=X:k=X,X.prevZ=te,te=X;H=re}te.nextZ=null,Se*=2}while(le>1)}(E)}(t,o,a,c);for(var d,m,y=t;t.prev!==t.next;)if(d=t.prev,m=t.next,c?$0(t,o,a,c):J0(t))e.push(d.i/r|0),e.push(t.i/r|0),e.push(m.i/r|0),F7(t),t=m.next,y=m.next;else if((t=m)===y){p?p===1?P7(t=Q0(m5(t),e,r),e,r,o,a,c,2):p===2&&ec(t,e,r,o,a,c):P7(m5(t),e,r,o,a,c,1);break}}}function J0(t){var e=t.prev,r=t,o=t.next;if(Cr(e,r,o)>=0)return!1;for(var a=e.x,c=r.x,p=o.x,d=e.y,m=r.y,y=o.y,x=a<c?a<p?a:p:c<p?c:p,b=d<m?d<y?d:y:m<y?m:y,S=a>c?a>p?a:p:c>p?c:p,I=d>m?d>y?d:y:m>y?m:y,E=o.next;E!==e;){if(E.x>=x&&E.x<=S&&E.y>=b&&E.y<=I&&ss(a,d,c,m,p,y,E.x,E.y)&&Cr(E.prev,E,E.next)>=0)return!1;E=E.next}return!0}function $0(t,e,r,o){var a=t.prev,c=t,p=t.next;if(Cr(a,c,p)>=0)return!1;for(var d=a.x,m=c.x,y=p.x,x=a.y,b=c.y,S=p.y,I=d<m?d<y?d:y:m<y?m:y,E=x<b?x<S?x:S:b<S?b:S,k=d>m?d>y?d:y:m>y?m:y,O=x>b?x>S?x:S:b>S?b:S,H=z1(I,E,e,r,o),re=z1(k,O,e,r,o),X=t.prevZ,te=t.nextZ;X&&X.z>=H&&te&&te.z<=re;){if(X.x>=I&&X.x<=k&&X.y>=E&&X.y<=O&&X!==a&&X!==p&&ss(d,x,m,b,y,S,X.x,X.y)&&Cr(X.prev,X,X.next)>=0||(X=X.prevZ,te.x>=I&&te.x<=k&&te.y>=E&&te.y<=O&&te!==a&&te!==p&&ss(d,x,m,b,y,S,te.x,te.y)&&Cr(te.prev,te,te.next)>=0))return!1;te=te.nextZ}for(;X&&X.z>=H;){if(X.x>=I&&X.x<=k&&X.y>=E&&X.y<=O&&X!==a&&X!==p&&ss(d,x,m,b,y,S,X.x,X.y)&&Cr(X.prev,X,X.next)>=0)return!1;X=X.prevZ}for(;te&&te.z<=re;){if(te.x>=I&&te.x<=k&&te.y>=E&&te.y<=O&&te!==a&&te!==p&&ss(d,x,m,b,y,S,te.x,te.y)&&Cr(te.prev,te,te.next)>=0)return!1;te=te.nextZ}return!0}function Q0(t,e,r){var o=t;do{var a=o.prev,c=o.next.next;!ta(a,c)&&C6(a,o,o.next,c)&&T7(a,c)&&T7(c,a)&&(e.push(a.i/r|0),e.push(o.i/r|0),e.push(c.i/r|0),F7(o),F7(o.next),o=t=c),o=o.next}while(o!==t);return m5(o)}function ec(t,e,r,o,a,c){var p=t;do{for(var d=p.next.next;d!==p.prev;){if(p.i!==d.i&&nc(p,d)){var m=w6(p,d);return p=m5(p,p.next),m=m5(m,m.next),P7(p,e,r,o,a,c,0),void P7(m,e,r,o,a,c,0)}d=d.next}p=p.next}while(p!==t)}function tc(t,e){return t.x-e.x}function rc(t,e){var r=function(a,c){var p,d=c,m=a.x,y=a.y,x=-1/0;do{if(y<=d.y&&y>=d.next.y&&d.next.y!==d.y){var b=d.x+(y-d.y)*(d.next.x-d.x)/(d.next.y-d.y);if(b<=m&&b>x&&(x=b,p=d.x<d.next.x?d:d.next,b===m))return p}d=d.next}while(d!==c);if(!p)return null;var S,I=p,E=p.x,k=p.y,O=1/0;d=p;do m>=d.x&&d.x>=E&&m!==d.x&&ss(y<k?m:x,y,E,k,y<k?x:m,y,d.x,d.y)&&(S=Math.abs(y-d.y)/(m-d.x),T7(d,a)&&(S<O||S===O&&(d.x>p.x||d.x===p.x&&ic(p,d)))&&(p=d,O=S)),d=d.next;while(d!==I);return p}(t,e);if(!r)return e;var o=w6(r,t);return m5(o,o.next),m5(r,r.next)}function ic(t,e){return Cr(t.prev,t,e.prev)<0&&Cr(e.next,t,t.next)<0}function z1(t,e,r,o,a){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*a|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-o)*a|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function oc(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function ss(t,e,r,o,a,c,p,d){return(a-p)*(e-d)>=(t-p)*(c-d)&&(t-p)*(o-d)>=(r-p)*(e-d)&&(r-p)*(c-d)>=(a-p)*(o-d)}function nc(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(r,o){var a=r;do{if(a.i!==r.i&&a.next.i!==r.i&&a.i!==o.i&&a.next.i!==o.i&&C6(a,a.next,r,o))return!0;a=a.next}while(a!==r);return!1}(t,e)&&(T7(t,e)&&T7(e,t)&&function(r,o){var a=r,c=!1,p=(r.x+o.x)/2,d=(r.y+o.y)/2;do a.y>d!=a.next.y>d&&a.next.y!==a.y&&p<(a.next.x-a.x)*(d-a.y)/(a.next.y-a.y)+a.x&&(c=!c),a=a.next;while(a!==r);return c}(t,e)&&(Cr(t.prev,t,e.prev)||Cr(t,e.prev,e))||ta(t,e)&&Cr(t.prev,t,t.next)>0&&Cr(e.prev,e,e.next)>0)}function Cr(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function ta(t,e){return t.x===e.x&&t.y===e.y}function C6(t,e,r,o){var a=ia(Cr(t,e,r)),c=ia(Cr(t,e,o)),p=ia(Cr(r,o,t)),d=ia(Cr(r,o,e));return a!==c&&p!==d||!(a!==0||!ra(t,r,e))||!(c!==0||!ra(t,o,e))||!(p!==0||!ra(r,t,o))||!(d!==0||!ra(r,e,o))}function ra(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function ia(t){return t>0?1:t<0?-1:0}function T7(t,e){return Cr(t.prev,t,t.next)<0?Cr(t,e,t.next)>=0&&Cr(t,t.prev,e)>=0:Cr(t,e,t.prev)<0||Cr(t,t.next,e)<0}function w6(t,e){var r=new R1(t.i,t.x,t.y),o=new R1(e.i,e.x,e.y),a=t.next,c=e.prev;return t.next=e,e.prev=t,r.next=a,a.prev=r,o.next=r,r.prev=o,c.next=o,o.prev=c,o}function D6(t,e,r,o){var a=new R1(t,e,r);return o?(a.next=o.next,a.prev=o,o.next.prev=a,o.next=a):(a.prev=a,a.next=a),a}function F7(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function R1(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function B1(t,e,r,o){for(var a=0,c=e,p=r-o;c<r;c+=o)a+=(t[p]-t[c])*(t[c+1]+t[p+1]),p=c;return a}U1.exports=ea,U1.exports.default=ea,ea.deviation=function(t,e,r,o){var a=e&&e.length,c=Math.abs(B1(t,0,a?e[0]*r:t.length,r));if(a)for(var p=0,d=e.length;p<d;p++)c-=Math.abs(B1(t,e[p]*r,p<d-1?e[p+1]*r:t.length,r));var m=0;for(p=0;p<o.length;p+=3){var y=o[p]*r,x=o[p+1]*r,b=o[p+2]*r;m+=Math.abs((t[y]-t[b])*(t[x+1]-t[y+1])-(t[y]-t[x])*(t[b+1]-t[y+1]))}return c===0&&m===0?0:Math.abs((m-c)/c)},ea.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},o=0,a=0;a<t.length;a++){for(var c=0;c<t[a].length;c++)for(var p=0;p<e;p++)r.vertices.push(t[a][c][p]);a>0&&r.holes.push(o+=t[a-1].length)}return r};var N1=He(U1.exports);function sc(t,e,r,o,a){S6(t,e,r||0,o||t.length-1,a||ac)}function S6(t,e,r,o,a){for(;o>r;){if(o-r>600){var c=o-r+1,p=e-r+1,d=Math.log(c),m=.5*Math.exp(2*d/3),y=.5*Math.sqrt(d*m*(c-m)/c)*(p-c/2<0?-1:1);S6(t,e,Math.max(r,Math.floor(e-p*m/c+y)),Math.min(o,Math.floor(e+(c-p)*m/c+y)),a)}var x=t[e],b=r,S=o;for(L7(t,r,e),a(t[o],x)>0&&L7(t,r,o);b<S;){for(L7(t,b,S),b++,S--;a(t[b],x)<0;)b++;for(;a(t[S],x)>0;)S--}a(t[r],x)===0?L7(t,r,S):L7(t,++S,o),S<=e&&(r=S+1),e<=S&&(o=S-1)}}function L7(t,e,r){var o=t[e];t[e]=t[r],t[r]=o}function ac(t,e){return t<e?-1:t>e?1:0}function O1(t,e){const r=t.length;if(r<=1)return[t];const o=[];let a,c;for(let p=0;p<r;p++){const d=K4(t[p]);d!==0&&(t[p].area=Math.abs(d),c===void 0&&(c=d<0),c===d<0?(a&&o.push(a),a=[t[p]]):a.push(t[p]))}if(a&&o.push(a),e>1)for(let p=0;p<o.length;p++)o[p].length<=e||(sc(o[p],e,1,o[p].length-1,lc),o[p]=o[p].slice(0,e));return o}function lc(t,e){return e.area-t.area}function V1(t,e,r){const o=r.patternDependencies;let a=!1;for(const c of e){const p=c.paint.get(`${t}-pattern`);p.isConstant()||(a=!0);const d=p.constantOr(null);d&&(a=!0,o[d]=!0)}return a}function j1(t,e,r,o,a){const c=a.patternDependencies;for(const p of e){const d=p.paint.get(`${t}-pattern`).value;if(d.kind!=="constant"){let m=d.evaluate({zoom:o},r,{},a.availableImages);m=m&&m.name?m.name:m,c[m]=!0,r.patterns[p.id]=m}}return r}class oa{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(r=>r.id),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new et,this.indexArray=new Tt,this.indexArray2=new zr,this.programConfigurations=new a5(e.layers,e.zoom),this.segments=new br,this.segments2=new br,this.stateDependentLayerIds=this.layers.filter(r=>r.isStateDependent()).map(r=>r.id),this.projection=e.projection}populate(e,r,o,a){this.hasPattern=V1("fill",this.layers,r);const c=this.layers[0].layout.get("fill-sort-key"),p=[];for(const{feature:d,id:m,index:y,sourceLayerIndex:x}of e){const b=this.layers[0]._featureFilter.needGeometry,S=d5(d,b);if(!this.layers[0]._featureFilter.filter(new v(this.zoom),S,o))continue;const I=c?c.evaluate(S,{},o,r.availableImages):void 0,E={id:m,properties:d.properties,type:d.type,sourceLayerIndex:x,index:y,geometry:b?S.geometry:en(d,o,a),patterns:{},sortKey:I};p.push(E)}c&&p.sort((d,m)=>d.sortKey-m.sortKey);for(const d of p){const{geometry:m,index:y,sourceLayerIndex:x}=d;if(this.hasPattern){const b=j1("fill",this.layers,d,this.zoom,r);this.patternFeatures.push(b)}else this.addFeature(d,m,y,o,{},r.availableImages);r.featureIndex.insert(e[y].feature,m,y,x,this.index)}}update(e,r,o,a){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,r,this.stateDependentLayers,o,a)}addFeatures(e,r,o,a,c){for(const p of this.patternFeatures)this.addFeature(p,p.geometry,p.index,r,o,a)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,K0),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(e,r,o,a,c,p=[]){for(const d of O1(r,500)){let m=0;for(const E of d)m+=E.length;const y=this.segments.prepareSegment(m,this.layoutVertexArray,this.indexArray),x=y.vertexLength,b=[],S=[];for(const E of d){if(E.length===0)continue;E!==d[0]&&S.push(b.length/2);const k=this.segments2.prepareSegment(E.length,this.layoutVertexArray,this.indexArray2),O=k.vertexLength;this.layoutVertexArray.emplaceBack(E[0].x,E[0].y),this.indexArray2.emplaceBack(O+E.length-1,O),b.push(E[0].x),b.push(E[0].y);for(let H=1;H<E.length;H++)this.layoutVertexArray.emplaceBack(E[H].x,E[H].y),this.indexArray2.emplaceBack(O+H-1,O+H),b.push(E[H].x),b.push(E[H].y);k.vertexLength+=E.length,k.primitiveLength+=E.length}const I=N1(b,S);for(let E=0;E<I.length;E+=3)this.indexArray.emplaceBack(x+I[E],x+I[E+1],x+I[E+2]);y.vertexLength+=m,y.primitiveLength+=I.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,o,c,p,a)}}Ct(oa,"FillBucket",{omit:["layers","patternFeatures"]});const cc=new $({"fill-sort-key":new V(Ue.layout_fill["fill-sort-key"])});var uc={paint:new $({"fill-antialias":new L(Ue.paint_fill["fill-antialias"]),"fill-opacity":new V(Ue.paint_fill["fill-opacity"]),"fill-color":new V(Ue.paint_fill["fill-color"]),"fill-outline-color":new V(Ue.paint_fill["fill-outline-color"]),"fill-translate":new L(Ue.paint_fill["fill-translate"]),"fill-translate-anchor":new L(Ue.paint_fill["fill-translate-anchor"]),"fill-pattern":new V(Ue.paint_fill["fill-pattern"])}),layout:cc};const pc=_e([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),hc=_e([{name:"a_centroid_pos",components:2,type:"Uint16"}]),dc=_e([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:fc}=pc;var na={},mc=Xe,M6=as;function as(t,e,r,o,a){this.properties={},this.extent=r,this.type=0,this._pbf=t,this._geometry=-1,this._keys=o,this._values=a,t.readFields(yc,this,e)}function yc(t,e,r){t==1?e.id=r.readVarint():t==2?function(o,a){for(var c=o.readVarint()+o.pos;o.pos<c;){var p=a._keys[o.readVarint()],d=a._values[o.readVarint()];a.properties[p]=d}}(r,e):t==3?e.type=r.readVarint():t==4&&(e._geometry=r.pos)}function _c(t){for(var e,r,o=0,a=0,c=t.length,p=c-1;a<c;p=a++)o+=((r=t[p]).x-(e=t[a]).x)*(e.y+r.y);return o}as.types=["Unknown","Point","LineString","Polygon"],as.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,r=t.readVarint()+t.pos,o=1,a=0,c=0,p=0,d=[];t.pos<r;){if(a<=0){var m=t.readVarint();o=7&m,a=m>>3}if(a--,o===1||o===2)c+=t.readSVarint(),p+=t.readSVarint(),o===1&&(e&&d.push(e),e=[]),e.push(new mc(c,p));else{if(o!==7)throw new Error("unknown command "+o);e&&e.push(e[0].clone())}}return e&&d.push(e),d},as.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,r=1,o=0,a=0,c=0,p=1/0,d=-1/0,m=1/0,y=-1/0;t.pos<e;){if(o<=0){var x=t.readVarint();r=7&x,o=x>>3}if(o--,r===1||r===2)(a+=t.readSVarint())<p&&(p=a),a>d&&(d=a),(c+=t.readSVarint())<m&&(m=c),c>y&&(y=c);else if(r!==7)throw new Error("unknown command "+r)}return[p,m,d,y]},as.prototype.toGeoJSON=function(t,e,r){var o,a,c=this.extent*Math.pow(2,r),p=this.extent*t,d=this.extent*e,m=this.loadGeometry(),y=as.types[this.type];function x(I){for(var E=0;E<I.length;E++){var k=I[E];I[E]=[360*(k.x+p)/c-180,360/Math.PI*Math.atan(Math.exp((180-360*(k.y+d)/c)*Math.PI/180))-90]}}switch(this.type){case 1:var b=[];for(o=0;o<m.length;o++)b[o]=m[o][0];x(m=b);break;case 2:for(o=0;o<m.length;o++)x(m[o]);break;case 3:for(m=function(I){var E=I.length;if(E<=1)return[I];for(var k,O,H=[],re=0;re<E;re++){var X=_c(I[re]);X!==0&&(O===void 0&&(O=X<0),O===X<0?(k&&H.push(k),k=[I[re]]):k.push(I[re]))}return k&&H.push(k),H}(m),o=0;o<m.length;o++)for(a=0;a<m[o].length;a++)x(m[o][a])}m.length===1?m=m[0]:y="Multi"+y;var S={type:"Feature",geometry:{type:y,coordinates:m},properties:this.properties};return"id"in this&&(S.id=this.id),S};var gc=M6,A6=I6;function I6(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(xc,this,e),this.length=this._features.length}function xc(t,e,r){t===15?e.version=r.readVarint():t===1?e.name=r.readString():t===5?e.extent=r.readVarint():t===2?e._features.push(r.pos):t===3?e._keys.push(r.readString()):t===4&&e._values.push(function(o){for(var a=null,c=o.readVarint()+o.pos;o.pos<c;){var p=o.readVarint()>>3;a=p===1?o.readString():p===2?o.readFloat():p===3?o.readDouble():p===4?o.readVarint64():p===5?o.readVarint():p===6?o.readSVarint():p===7?o.readBoolean():null}return a}(r))}I6.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new gc(this._pbf,e,this.extent,this._keys,this._values)};var vc=A6;function bc(t,e,r){if(t===3){var o=new vc(r,r.readVarint()+r.pos);o.length&&(e[o.name]=o)}}var G1=na.VectorTile=function(t,e){this.layers=t.readFields(bc,{},e)},sa=na.VectorTileFeature=M6;function aa(t,e,r,o){const a=[],c=o===0?(p,d,m,y,x,b)=>{p.push(new Te(b,m+(b-d)/(y-d)*(x-m)))}:(p,d,m,y,x,b)=>{p.push(new Te(d+(b-m)/(x-m)*(y-d),b))};for(const p of t){const d=[];for(const m of p){if(m.length<=2)continue;const y=[];for(let S=0;S<m.length-1;S++){const I=m[S].x,E=m[S].y,k=m[S+1].x,O=m[S+1].y,H=o===0?I:E,re=o===0?k:O;H<e?re>e&&c(y,I,E,k,O,e):H>r?re<r&&c(y,I,E,k,O,r):y.push(m[S]),re<e&&H>=e&&c(y,I,E,k,O,e),re>r&&H<=r&&c(y,I,E,k,O,r)}let x=m[m.length-1];const b=o===0?x.x:x.y;b>=e&&b<=r&&y.push(x),y.length&&(x=y[y.length-1],y[0].x===x.x&&y[0].y===x.y||y.push(y[0]),d.push(y))}d.length&&a.push(d)}return a}na.VectorTileLayer=A6;const Cc=sa.types,wc=Math.pow(2,13);function k7(t,e,r,o,a,c,p,d){t.emplaceBack((e<<1)+p,(r<<1)+c,(Math.floor(o*wc)<<1)+a,Math.round(d))}function U7(t,e,r){t.emplaceBack(e.x,e.y,e.z,r[0]*16384,r[1]*16384,r[2]*16384)}class E6{constructor(){this.acc=new Te(0,0),this.polyCount=[]}startRing(e){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new Te(e.x,e.y),this.max=new Te(e.x,e.y))}append(e,r){this.currentPolyCount.edges++,this.acc._add(e);const o=this.min,a=this.max;e.x<o.x?o.x=e.x:e.x>a.x&&(a.x=e.x),e.y<o.y?o.y=e.y:e.y>a.y&&(a.y=e.y),((e.x===0||e.x===zt)&&e.x===r.x)!=((e.y===0||e.y===zt)&&e.y===r.y)&&this.processBorderOverlap(e,r),r.x<0!=e.x<0&&this.addBorderIntersection(0,u4(r.y,e.y,(0-r.x)/(e.x-r.x))),r.x>zt!=e.x>zt&&this.addBorderIntersection(1,u4(r.y,e.y,(zt-r.x)/(e.x-r.x))),r.y<0!=e.y<0&&this.addBorderIntersection(2,u4(r.x,e.x,(0-r.y)/(e.y-r.y))),r.y>zt!=e.y>zt&&this.addBorderIntersection(3,u4(r.x,e.x,(zt-r.y)/(e.y-r.y)))}addBorderIntersection(e,r){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const o=this.borders[e];r<o[0]&&(o[0]=r),r>o[1]&&(o[1]=r)}processBorderOverlap(e,r){if(e.x===r.x){if(e.y===r.y)return;const o=e.x===0?0:1;this.addBorderIntersection(o,r.y),this.addBorderIntersection(o,e.y)}else{const o=e.y===0?2:3;this.addBorderIntersection(o,r.x),this.addBorderIntersection(o,e.x)}}centroid(){const e=this.polyCount.reduce((r,o)=>r+o.edges,0);return e!==0?this.acc.div(e)._round():new Te(0,0)}span(){return new Te(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((e,r)=>e+ +(r[0]!==Number.MAX_VALUE),0)}}class z7{constructor(e){this.zoom=e.zoom,this.canonical=e.canonical,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(r=>r.id),this.index=e.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=e.projection,this.layoutVertexArray=new Ve,this.centroidVertexArray=new fo,this.indexArray=new Tt,this.programConfigurations=new a5(e.layers,e.zoom),this.segments=new br,this.stateDependentLayerIds=this.layers.filter(r=>r.isStateDependent()).map(r=>r.id),this.enableTerrain=e.enableTerrain}populate(e,r,o,a){this.features=[],this.hasPattern=V1("fill-extrusion",this.layers,r),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(c){const p=Math.exp(Math.PI*(1-c.y/(1<<c.z)*2));return 80150034*p/(p*p+1)/zt/(1<<c.z)}(o),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter;for(const{feature:c,id:p,index:d,sourceLayerIndex:m}of e){const y=this.layers[0]._featureFilter.needGeometry,x=d5(c,y);if(!this.layers[0]._featureFilter.filter(new v(this.zoom),x,o))continue;const b={id:p,sourceLayerIndex:m,index:d,geometry:y?x.geometry:en(c,o,a),properties:c.properties,type:c.type,patterns:{}},S=this.layoutVertexArray.length;this.hasPattern?this.features.push(j1("fill-extrusion",this.layers,b,this.zoom,r)):this.addFeature(b,b.geometry,d,o,{},r.availableImages,a),r.featureIndex.insert(c,b.geometry,d,m,this.index,S)}this.sortBorders()}addFeatures(e,r,o,a,c){for(const p of this.features){const{geometry:d}=p;this.addFeature(p,d,p.index,r,o,a,c)}this.sortBorders()}update(e,r,o,a){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,r,this.stateDependentLayers,o,a)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,fc),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=e.createVertexBuffer(this.layoutVertexExtArray,dc.members,!0))),this.programConfigurations.upload(e),this.uploaded=!0}uploadCentroid(e){this.centroidVertexArray.length!==0&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=e.createVertexBuffer(this.centroidVertexArray,hc.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(e,r,o,a,c,p,d){const m=[new Te(0,0),new Te(zt,zt)],y=d.projection,x=y.name==="globe",b=this.enableTerrain&&!x?new E6:null,S=Cc[e.type]==="Polygon";x&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new it);const I=O1(r,500);for(let H=I.length-1;H>=0;H--){const re=I[H];(re.length===0||(E=re[0]).every(X=>X.x<=0)||E.every(X=>X.x>=zt)||E.every(X=>X.y<=0)||E.every(X=>X.y>=zt))&&I.splice(H,1)}var E;let k;if(x)k=z6(I,m,a);else{k=[];for(const H of I)k.push({polygon:H,bounds:m})}const O=S?this.edgeRadius:0;for(const{polygon:H,bounds:re}of k){let X=0,te=0;for(const ae of H)S&&!ae[0].equals(ae[ae.length-1])&&ae.push(ae[0]),te+=S?ae.length-1:ae.length;const le=this.segments.prepareSegment((S?5:4)*te,this.layoutVertexArray,this.indexArray);if(S){const ae=[],Pe=[];X=le.vertexLength;for(const Ne of H){let tt,Le;Ne.length&&Ne!==H[0]&&Pe.push(ae.length/2),tt=Ne[1].sub(Ne[0])._perp()._unit();for(let je=1;je<Ne.length;je++){const Ge=Ne[je],Ye=Ne[je===Ne.length-1?1:je+1];let{x:st,y:Be}=Ge;if(O){Le=Ye.sub(Ge)._perp()._unit();const ht=tt.add(Le)._unit(),Mt=O*Math.min(4,1/(tt.x*ht.x+tt.y*ht.y));st+=Mt*ht.x,Be+=Mt*ht.y,tt=Le}k7(this.layoutVertexArray,st,Be,0,0,1,1,0),le.vertexLength++,ae.push(Ge.x,Ge.y),x&&U7(this.layoutVertexExtArray,y.projectTilePoint(st,Be,a),y.upVector(a,st,Be))}}const Se=N1(ae,Pe);for(let Ne=0;Ne<Se.length;Ne+=3)this.indexArray.emplaceBack(X+Se[Ne],X+Se[Ne+2],X+Se[Ne+1]),le.primitiveLength++}for(const ae of H){b&&ae.length&&b.startRing(ae[0]);let Pe,Se,Ne,tt=ae.length>4&&L6(ae[ae.length-2],ae[0],ae[1]),Le=O?Dc(ae[ae.length-2],ae[0],ae[1],O):0;Se=ae[1].sub(ae[0])._perp()._unit();let je=!0;for(let Ge=1,Ye=0;Ge<ae.length;Ge++){let st=ae[Ge-1],Be=ae[Ge];const ht=ae[Ge===ae.length-1?1:Ge+1];if(b&&S&&b.currentPolyCount.top++,F6(Be,st,re)){O&&(Se=ht.sub(Be)._perp()._unit(),je=!je);continue}b&&b.append(Be,st);const Mt=Be.sub(st)._perp(),dt=Mt.x/(Math.abs(Mt.x)+Math.abs(Mt.y)),Ht=Mt.y>0?1:0,at=st.dist(Be);if(Ye+at>32768&&(Ye=0),O){Ne=ht.sub(Be)._perp()._unit();let Yt=T6(st,Be,ht,P6(Se,Ne),O);isNaN(Yt)&&(Yt=0);const Bt=Be.sub(st)._unit();st=st.add(Bt.mult(Le))._round(),Be=Be.add(Bt.mult(-Yt))._round(),Le=Yt,Se=Ne}const Lt=le.vertexLength,Xt=ae.length>4&&L6(st,Be,ht);let _4=k6(Ye,tt,je);if(k7(this.layoutVertexArray,st.x,st.y,dt,Ht,0,0,_4),k7(this.layoutVertexArray,st.x,st.y,dt,Ht,0,1,_4),Ye+=at,_4=k6(Ye,Xt,!je),tt=Xt,k7(this.layoutVertexArray,Be.x,Be.y,dt,Ht,0,0,_4),k7(this.layoutVertexArray,Be.x,Be.y,dt,Ht,0,1,_4),le.vertexLength+=4,this.indexArray.emplaceBack(Lt+0,Lt+1,Lt+2),this.indexArray.emplaceBack(Lt+1,Lt+3,Lt+2),le.primitiveLength+=2,O){const Yt=X+(Ge===1?ae.length-2:Ge-2),Bt=Ge===1?X:Yt+1;if(this.indexArray.emplaceBack(Lt+1,Yt,Lt+3),this.indexArray.emplaceBack(Yt,Bt,Lt+3),le.primitiveLength+=2,Pe===void 0&&(Pe=Lt),!F6(ht,ae[Ge],re)){const Z4=Ge===ae.length-1?Pe:le.vertexLength;this.indexArray.emplaceBack(Lt+2,Lt+3,Z4),this.indexArray.emplaceBack(Lt+3,Z4+1,Z4),this.indexArray.emplaceBack(Lt+3,Bt,Z4+1),le.primitiveLength+=3}je=!je}if(x){const Yt=this.layoutVertexExtArray,Bt=y.projectTilePoint(st.x,st.y,a),Z4=y.projectTilePoint(Be.x,Be.y,a),Jt=y.upVector(a,st.x,st.y),$t=y.upVector(a,Be.x,Be.y);U7(Yt,Bt,Jt),U7(Yt,Bt,Jt),U7(Yt,Z4,$t),U7(Yt,Z4,$t)}}S&&(X+=ae.length-1)}}if(b&&b.polyCount.length>0){if(b.borders){b.vertexArrayOffset=this.centroidVertexArray.length;const H=b.borders,re=this.featuresOnBorder.push(b)-1;for(let X=0;X<4;X++)H[X][0]!==Number.MAX_VALUE&&this.borders[X].push(re)}this.encodeCentroid(b.borders?void 0:b.centroid(),b)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,o,c,p,a)}sortBorders(){for(let e=0;e<4;e++)this.borders[e].sort((r,o)=>this.featuresOnBorder[r].borders[e][0]-this.featuresOnBorder[o].borders[e][0])}encodeCentroid(e,r,o=!0){let a,c;if(e)if(e.y!==0){const d=r.span()._mult(this.tileToMeter);a=(Math.max(e.x,1)<<3)+Math.min(7,Math.round(d.x/10)),c=(Math.max(e.y,1)<<3)+Math.min(7,Math.round(d.y/10))}else a=Math.ceil(7*(e.x+450)),c=0;else a=0,c=+o;let p=o?this.centroidVertexArray.length:r.vertexArrayOffset;for(const d of r.polyCount){o&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*d.edges+d.top);for(let m=0;m<d.top;m++)this.centroidVertexArray.emplace(p++,a,c);for(let m=0;m<2*d.edges;m++)this.centroidVertexArray.emplace(p++,0,c),this.centroidVertexArray.emplace(p++,a,c)}}}function P6(t,e){const r=t.add(e)._unit();return t.x*r.x+t.y*r.y}function Dc(t,e,r,o){const a=e.sub(t)._perp()._unit(),c=r.sub(e)._perp()._unit();return T6(t,e,r,P6(a,c),o)}function T6(t,e,r,o,a){const c=Math.sqrt(1-o*o);return Math.min(t.dist(e)/3,e.dist(r)/3,a*c/o)}function F6(t,e,r){return t.x<r[0].x&&e.x<r[0].x||t.x>r[1].x&&e.x>r[1].x||t.y<r[0].y&&e.y<r[0].y||t.y>r[1].y&&e.y>r[1].y}function L6(t,e,r){if(t.x<0||t.x>=zt||e.x<0||e.x>=zt||r.x<0||r.x>=zt)return!1;const o=r.sub(e),a=o.perp(),c=t.sub(e);return(o.x*c.x+o.y*c.y)/Math.sqrt((o.x*o.x+o.y*o.y)*(c.x*c.x+c.y*c.y))>-.866&&a.x*c.x+a.y*c.y<0}function k6(t,e,r){const o=e?2|t:-3&t;return r?1|o:-2&o}function U6(){const t=Math.PI/32,e=Math.tan(t),r=E7;return r*Math.sqrt(1+2*e*e)-r}function z6(t,e,r){const o=1<<r.z,a=qi(r.x/o),c=qi((r.x+1)/o),p=ei(r.y/o),d=ei((r.y+1)/o);return function(m,y,x,b,S=0,I){const E=[];if(!m.length||!x||!b)return E;const k=(ae,Pe)=>{for(const Se of ae)E.push({polygon:Se,bounds:Pe})},O=Math.ceil(Math.log2(x)),H=Math.ceil(Math.log2(b)),re=O-H,X=[];for(let ae=0;ae<Math.abs(re);ae++)X.push(re>0?0:1);for(let ae=0;ae<Math.min(O,H);ae++)X.push(0),X.push(1);let te=m;if(te=aa(te,y[0].y-S,y[1].y+S,1),te=aa(te,y[0].x-S,y[1].x+S,0),!te.length)return E;const le=[];for(X.length?le.push({polygons:te,bounds:y,depth:0}):k(te,y);le.length;){const ae=le.pop(),Pe=ae.depth,Se=X[Pe],Ne=ae.bounds[0],tt=ae.bounds[1],Le=Se===0?Ne.x:Ne.y,je=Se===0?tt.x:tt.y,Ge=I?I(Se,Le,je):.5*(Le+je),Ye=aa(ae.polygons,Le-S,Ge+S,Se),st=aa(ae.polygons,Ge-S,je+S,Se);if(Ye.length){const Be=[Ne,new Te(Se===0?Ge:tt.x,Se===1?Ge:tt.y)];X.length>Pe+1?le.push({polygons:Ye,bounds:Be,depth:Pe+1}):k(Ye,Be)}if(st.length){const Be=[new Te(Se===0?Ge:Ne.x,Se===1?Ge:Ne.y),tt];X.length>Pe+1?le.push({polygons:st,bounds:Be,depth:Pe+1}):k(st,Be)}}return E}(t,e,Math.ceil((c-a)/11.25),Math.ceil((p-d)/11.25),1,(m,y,x)=>{if(m===0)return .5*(y+x);{const b=ei((r.y+y/zt)/o);return(Uo(.5*(ei((r.y+x/zt)/o)+b))*o-r.y)*zt}})}Ct(z7,"FillExtrusionBucket",{omit:["layers","features"]}),Ct(E6,"PartMetadata");const Sc=new $({"fill-extrusion-edge-radius":new L(Ue["layout_fill-extrusion"]["fill-extrusion-edge-radius"])});var Mc={paint:new $({"fill-extrusion-opacity":new L(Ue["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new V(Ue["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new L(Ue["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new L(Ue["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new V(Ue["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new V(Ue["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new V(Ue["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new L(Ue["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new L(Ue["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new L(Ue["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"]),"fill-extrusion-rounded-roof":new L(Ue["paint_fill-extrusion"]["fill-extrusion-rounded-roof"])}),layout:Sc};function R6(t,e,r){var o=2*Math.PI*6378137/256/Math.pow(2,r);return[t*o-2*Math.PI*6378137/2,e*o-2*Math.PI*6378137/2]}class la{constructor(e,r,o){this.z=e,this.x=r,this.y=o,this.key=R7(0,e,e,r,o)}equals(e){return this.z===e.z&&this.x===e.x&&this.y===e.y}url(e,r){const o=function(c,p,d){var m=R6(256*c,256*(p=Math.pow(2,d)-p-1),d),y=R6(256*(c+1),256*(p+1),d);return m[0]+","+m[1]+","+y[0]+","+y[1]}(this.x,this.y,this.z),a=function(c,p,d){let m,y="";for(let x=c;x>0;x--)m=1<<x-1,y+=(p&m?1:0)+(d&m?2:0);return y}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(r==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",a).replace("{bbox-epsg-3857}",o)}toString(){return`${this.z}/${this.x}/${this.y}`}}class B6{constructor(e,r){this.wrap=e,this.canonical=r,this.key=R7(e,r.z,r.z,r.x,r.y)}}class mi{constructor(e,r,o,a,c){this.overscaledZ=e,this.wrap=r,this.canonical=new la(o,+a,+c),this.key=r===0&&e===o?this.canonical.key:R7(r,e,o,a,c)}equals(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)}scaledTo(e){const r=this.canonical.z-e;return e>this.canonical.z?new mi(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new mi(e,this.wrap,e,this.canonical.x>>r,this.canonical.y>>r)}calculateScaledKey(e,r=!0){if(this.overscaledZ===e&&r)return this.key;if(e>this.canonical.z)return R7(this.wrap*+r,e,this.canonical.z,this.canonical.x,this.canonical.y);{const o=this.canonical.z-e;return R7(this.wrap*+r,e,e,this.canonical.x>>o,this.canonical.y>>o)}}isChildOf(e){if(e.wrap!==this.wrap)return!1;const r=this.canonical.z-e.canonical.z;return e.overscaledZ===0||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>r&&e.canonical.y===this.canonical.y>>r}children(e){if(this.overscaledZ>=e)return[new mi(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const r=this.canonical.z+1,o=2*this.canonical.x,a=2*this.canonical.y;return[new mi(r,this.wrap,r,o,a),new mi(r,this.wrap,r,o+1,a),new mi(r,this.wrap,r,o,a+1),new mi(r,this.wrap,r,o+1,a+1)]}isLessThan(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))}wrapped(){return new mi(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(e){return new mi(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new B6(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function R7(t,e,r,o,a){const c=1<<Math.min(r,22);let p=c*(a%c)+o%c;return t&&r<22&&(p+=c*c*((t<0?-2*t-1:2*t)%(1<<2*(22-r)))),16*(32*p+r)+(e-r)}Ct(la,"CanonicalTileID"),Ct(mi,"OverscaledTileID",{omit:["projMatrix"]});class ls extends Te{constructor(e,r,o){super(e,r),this.z=o}}function B7(t,e){return t.x*e.x+t.y*e.y}function N6(t,e){if(t.length===1){let r=0;const o=e[r++];let a;for(;!a||o.equals(a);)if(a=e[r++],!a)return 1/0;for(;r<e.length;r++){const c=e[r],p=t[0],d=a.sub(o),m=c.sub(o),y=p.sub(o),x=B7(d,d),b=B7(d,m),S=B7(m,m),I=B7(y,d),E=B7(y,m),k=x*S-b*b,O=(S*I-b*E)/k,H=(x*E-b*I)/k,re=o.z*(1-O-H)+a.z*O+c.z*H;if(isFinite(re))return re}return 1/0}{let r=1/0;for(const o of e)r=Math.min(r,o.z);return r}}function O6(t,e,r,o,a,c,p,d){const m=p*a.getElevationAt(t,e,!0,!0),y=c[0]!==0,x=y?c[1]===0?p*(c[0]/7-450):p*function(b,S,I){const E=Math.floor(S[0]/8),k=Math.floor(S[1]/8),O=10*(S[0]-8*E),H=10*(S[1]-8*k),re=b.getElevationAt(E,k,!0,!0),X=b.getMeterToDEM(I),te=Math.floor(.5*(O*X-1)),le=Math.floor(.5*(H*X-1)),ae=b.tileCoordToPixel(E,k),Pe=2*te+1,Se=2*le+1,Ne=function(st,Be,ht,Mt,dt){return[st.getElevationAtPixel(Be,ht,!0),st.getElevationAtPixel(Be+dt,ht,!0),st.getElevationAtPixel(Be,ht+dt,!0),st.getElevationAtPixel(Be+Mt,ht+dt,!0)]}(b,ae.x-te,ae.y-le,Pe,Se),tt=Math.abs(Ne[0]-Ne[1]),Le=Math.abs(Ne[2]-Ne[3]),je=Math.abs(Ne[0]-Ne[2])+Math.abs(Ne[1]-Ne[3]),Ge=Math.min(.25,.5*X*(tt+Le)/Pe),Ye=Math.min(.25,.5*X*je/Se);return re+Math.max(Ge*O,Ye*H)}(a,c,d):m;return{base:m+(r===0)?-1:r,top:y?Math.max(x+o,m+r+2):m+o}}const Ac=_e([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:Ic}=Ac,Ec=_e([{name:"a_packed",components:4,type:"Float32"}]),{members:Pc}=Ec,Tc=sa.types,Fc=Math.cos(Math.PI/180*37.5);class ca{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(r=>r.id),this.index=e.index,this.projection=e.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(r=>{this.gradients[r.id]={}}),this.layoutVertexArray=new Fe,this.layoutVertexArray2=new Je,this.indexArray=new Tt,this.programConfigurations=new a5(e.layers,e.zoom),this.segments=new br,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(r=>r.isStateDependent()).map(r=>r.id)}populate(e,r,o,a){this.hasPattern=V1("line",this.layers,r);const c=this.layers[0].layout.get("line-sort-key"),p=[];for(const{feature:x,id:b,index:S,sourceLayerIndex:I}of e){const E=this.layers[0]._featureFilter.needGeometry,k=d5(x,E);if(!this.layers[0]._featureFilter.filter(new v(this.zoom),k,o))continue;const O=c?c.evaluate(k,{},o):void 0,H={id:b,properties:x.properties,type:x.type,sourceLayerIndex:I,index:S,geometry:E?k.geometry:en(x,o,a),patterns:{},sortKey:O};p.push(H)}c&&p.sort((x,b)=>x.sortKey-b.sortKey);const{lineAtlas:d,featureIndex:m}=r,y=this.addConstantDashes(d);for(const x of p){const{geometry:b,index:S,sourceLayerIndex:I}=x;if(y&&this.addFeatureDashes(x,d),this.hasPattern){const E=j1("line",this.layers,x,this.zoom,r);this.patternFeatures.push(E)}else this.addFeature(x,b,S,o,d.positions,r.availableImages);m.insert(e[S].feature,b,S,I,this.index)}}addConstantDashes(e){let r=!1;for(const o of this.layers){const a=o.paint.get("line-dasharray").value,c=o.layout.get("line-cap").value;if(a.kind!=="constant"||c.kind!=="constant")r=!0;else{const p=c.value,d=a.value;if(!d)continue;e.addDash(d,p)}}return r}addFeatureDashes(e,r){const o=this.zoom;for(const a of this.layers){const c=a.paint.get("line-dasharray").value,p=a.layout.get("line-cap").value;if(c.kind==="constant"&&p.kind==="constant")continue;let d,m;if(c.kind==="constant"){if(d=c.value,!d)continue}else d=c.evaluate({zoom:o},e);m=p.kind==="constant"?p.value:p.evaluate({zoom:o},e),r.addDash(d,m),e.patterns[a.id]=r.getKey(d,m)}}update(e,r,o,a){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,r,this.stateDependentLayers,o,a)}addFeatures(e,r,o,a,c){for(const p of this.patternFeatures)this.addFeature(p,p.geometry,p.index,r,o,a)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,Pc)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Ic),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(e){if(e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}}addFeature(e,r,o,a,c,p){const d=this.layers[0].layout,m=d.get("line-join").evaluate(e,{}),y=d.get("line-cap").evaluate(e,{}),x=d.get("line-miter-limit"),b=d.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);for(const S of r)this.addLine(S,e,m,y,x,b);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,o,c,p,a)}addLine(e,r,o,a,c,p){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let H=0;H<e.length-1;H++)this.totalDistance+=e[H].dist(e[H+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const d=Tc[r.type]==="Polygon";let m=e.length;for(;m>=2&&e[m-1].equals(e[m-2]);)m--;let y=0;for(;y<m-1&&e[y].equals(e[y+1]);)y++;if(m<(d?3:2))return;o==="bevel"&&(c=1.05);const x=this.overscaling<=16?15*zt/(512*this.overscaling):0,b=this.segments.prepareSegment(10*m,this.layoutVertexArray,this.indexArray);let S,I,E,k,O;this.e1=this.e2=-1,d&&(S=e[m-2],O=e[y].sub(S)._unit()._perp());for(let H=y;H<m;H++){if(E=H===m-1?d?e[y+1]:void 0:e[H+1],E&&e[H].equals(E))continue;O&&(k=O),S&&(I=S),S=e[H],O=E?E.sub(S)._unit()._perp():k,k=k||O;let re=k.add(O);re.x===0&&re.y===0||re._unit();const X=k.x*O.x+k.y*O.y,te=re.x*O.x+re.y*O.y,le=te!==0?1/te:1/0,ae=2*Math.sqrt(2-2*te),Pe=te<Fc&&I&&E,Se=k.x*O.y-k.y*O.x>0;if(Pe&&H>y){const Le=S.dist(I);if(Le>2*x){const je=S.sub(S.sub(I)._mult(x/Le)._round());this.updateDistance(I,je),this.addCurrentVertex(je,k,0,0,b),I=je}}const Ne=I&&E;let tt=Ne?o:d?"butt":a;if(Ne&&tt==="round"&&(le<p?tt="miter":le<=2&&(tt="fakeround")),tt==="miter"&&le>c&&(tt="bevel"),tt==="bevel"&&(le>2&&(tt="flipbevel"),le<c&&(tt="miter")),I&&this.updateDistance(I,S),tt==="miter")re._mult(le),this.addCurrentVertex(S,re,0,0,b);else if(tt==="flipbevel"){if(le>100)re=O.mult(-1);else{const Le=le*k.add(O).mag()/k.sub(O).mag();re._perp()._mult(Le*(Se?-1:1))}this.addCurrentVertex(S,re,0,0,b),this.addCurrentVertex(S,re.mult(-1),0,0,b)}else if(tt==="bevel"||tt==="fakeround"){const Le=-Math.sqrt(le*le-1),je=Se?Le:0,Ge=Se?0:Le;if(I&&this.addCurrentVertex(S,k,je,Ge,b),tt==="fakeround"){const Ye=Math.round(180*ae/Math.PI/20);for(let st=1;st<Ye;st++){let Be=st/Ye;if(Be!==.5){const Mt=Be-.5;Be+=Be*Mt*(Be-1)*((1.0904+X*(X*(3.55645-1.43519*X)-3.2452))*Mt*Mt+(.848013+X*(.215638*X-1.06021)))}const ht=O.sub(k)._mult(Be)._add(k)._unit()._mult(Se?-1:1);this.addHalfVertex(S,ht.x,ht.y,!1,Se,0,b)}}E&&this.addCurrentVertex(S,O,-je,-Ge,b)}else if(tt==="butt")this.addCurrentVertex(S,re,0,0,b);else if(tt==="square"){const Le=I?1:-1;I||this.addCurrentVertex(S,re,Le,Le,b),this.addCurrentVertex(S,re,0,0,b),I&&this.addCurrentVertex(S,re,Le,Le,b)}else tt==="round"&&(I&&(this.addCurrentVertex(S,k,0,0,b),this.addCurrentVertex(S,k,1,1,b,!0)),E&&(this.addCurrentVertex(S,O,-1,-1,b,!0),this.addCurrentVertex(S,O,0,0,b)));if(Pe&&H<m-1){const Le=S.dist(E);if(Le>2*x){const je=S.add(E.sub(S)._mult(x/Le)._round());this.updateDistance(S,je),this.addCurrentVertex(je,O,0,0,b),S=je}}}}addCurrentVertex(e,r,o,a,c,p=!1){const d=r.y*a-r.x,m=-r.y-r.x*a;this.addHalfVertex(e,r.x+r.y*o,r.y-r.x*o,p,!1,o,c),this.addHalfVertex(e,d,m,p,!0,-a,c)}addHalfVertex({x:e,y:r},o,a,c,p,d,m){this.layoutVertexArray.emplaceBack((e<<1)+(c?1:0),(r<<1)+(p?1:0),Math.round(63*o)+128,Math.round(63*a)+128,1+(d===0?0:d<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const y=m.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,y),m.primitiveLength++),p?this.e2=y:this.e1=y}updateScaledDistance(){if(this.lineClips){const e=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=e*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(e,r){this.distance+=e.dist(r),this.updateScaledDistance()}}Ct(ca,"LineBucket",{omit:["layers","patternFeatures"]});const Lc=new $({"line-cap":new V(Ue.layout_line["line-cap"]),"line-join":new V(Ue.layout_line["line-join"]),"line-miter-limit":new L(Ue.layout_line["line-miter-limit"]),"line-round-limit":new L(Ue.layout_line["line-round-limit"]),"line-sort-key":new V(Ue.layout_line["line-sort-key"])});var V6={paint:new $({"line-opacity":new V(Ue.paint_line["line-opacity"]),"line-color":new V(Ue.paint_line["line-color"]),"line-translate":new L(Ue.paint_line["line-translate"]),"line-translate-anchor":new L(Ue.paint_line["line-translate-anchor"]),"line-width":new V(Ue.paint_line["line-width"]),"line-gap-width":new V(Ue.paint_line["line-gap-width"]),"line-offset":new V(Ue.paint_line["line-offset"]),"line-blur":new V(Ue.paint_line["line-blur"]),"line-dasharray":new V(Ue.paint_line["line-dasharray"]),"line-pattern":new V(Ue.paint_line["line-pattern"]),"line-gradient":new K(Ue.paint_line["line-gradient"]),"line-trim-offset":new L(Ue.paint_line["line-trim-offset"])}),layout:Lc};const j6=new class extends V{possiblyEvaluate(t,e){return e=new v(Math.floor(e.zoom),{now:e.now,fadeDuration:e.fadeDuration,transition:e.transition}),super.possiblyEvaluate(t,e)}evaluate(t,e,r,o){return e=a4({},e,{zoom:Math.floor(e.zoom)}),super.evaluate(t,e,r,o)}}(V6.paint.properties["line-width"].specification);function G6(t,e){return e>0?e+2*t:t}j6.useIntegerZoom=!0;const kc=_e([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Uc=_e([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),zc=_e([{name:"a_projected_pos",components:4,type:"Float32"}],4);_e([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const Rc=_e([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),Bc=_e([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);_e([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const q6=_e([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),Nc=_e([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);_e([{name:"triangle",components:3,type:"Uint16"}]),_e([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),_e([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),_e([{type:"Float32",name:"offsetX"}]),_e([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);var Xr=24;const vo=128;function q1(t,e){const{expression:r}=e;if(r.kind==="constant")return{kind:"constant",layoutSize:r.evaluate(new v(t+1))};if(r.kind==="source")return{kind:"source"};{const{zoomStops:o,interpolationType:a}=r;let c=0;for(;c<o.length&&o[c]<=t;)c++;c=Math.max(0,c-1);let p=c;for(;p<o.length&&o[p]<t+1;)p++;p=Math.min(o.length-1,p);const d=o[c],m=o[p];return r.kind==="composite"?{kind:"composite",minZoom:d,maxZoom:m,interpolationType:a}:{kind:"camera",minZoom:d,maxZoom:m,minSize:r.evaluate(new v(d)),maxSize:r.evaluate(new v(m)),interpolationType:a}}}function ua(t,{uSize:e,uSizeT:r},{lowerSize:o,upperSize:a}){return t.kind==="source"?o/vo:t.kind==="composite"?u4(o/vo,a/vo,r):e}function cs(t,e){let r=0,o=0;if(t.kind==="constant")o=t.layoutSize;else if(t.kind!=="source"){const{interpolationType:a,minZoom:c,maxZoom:p}=t,d=a?gt(Qi.interpolationFactor(a,e,c,p),0,1):0;t.kind==="camera"?o=u4(t.minSize,t.maxSize,d):r=d}return{uSizeT:r,uSize:o}}var Oc=Object.freeze({__proto__:null,SIZE_PACK_FACTOR:vo,evaluateSizeForFeature:ua,evaluateSizeForZoom:cs,getSizeData:q1});function Vc(t,e,r){return t.sections.forEach(o=>{o.text=function(a,c,p){const d=c.layout.get("text-transform").evaluate(p,{});return d==="uppercase"?a=a.toLocaleUpperCase():d==="lowercase"&&(a=a.toLocaleLowerCase()),g.applyArabicShaping&&(a=g.applyArabicShaping(a)),a}(o.text,e,r)}),t}const N7={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂","←":"↑","→":"↓"};function jc(t){return t==="︶"||t==="﹈"||t==="︸"||t==="﹄"||t==="﹂"||t==="︾"||t==="︼"||t==="︺"||t==="︘"||t==="﹀"||t==="︐"||t==="︓"||t==="︔"||t==="｀"||t==="￣"||t==="︑"||t==="︒"}function Gc(t){return t==="︵"||t==="﹇"||t==="︷"||t==="﹃"||t==="﹁"||t==="︽"||t==="︻"||t==="︹"||t==="︗"||t==="︿"}var Z6=V4,W6=function(t,e,r,o,a){var c,p,d=8*a-o-1,m=(1<<d)-1,y=m>>1,x=-7,b=r?a-1:0,S=r?-1:1,I=t[e+b];for(b+=S,c=I&(1<<-x)-1,I>>=-x,x+=d;x>0;c=256*c+t[e+b],b+=S,x-=8);for(p=c&(1<<-x)-1,c>>=-x,x+=o;x>0;p=256*p+t[e+b],b+=S,x-=8);if(c===0)c=1-y;else{if(c===m)return p?NaN:1/0*(I?-1:1);p+=Math.pow(2,o),c-=y}return(I?-1:1)*p*Math.pow(2,c-o)},H6=function(t,e,r,o,a,c){var p,d,m,y=8*c-a-1,x=(1<<y)-1,b=x>>1,S=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,I=o?0:c-1,E=o?1:-1,k=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(d=isNaN(e)?1:0,p=x):(p=Math.floor(Math.log(e)/Math.LN2),e*(m=Math.pow(2,-p))<1&&(p--,m*=2),(e+=p+b>=1?S/m:S*Math.pow(2,1-b))*m>=2&&(p++,m/=2),p+b>=x?(d=0,p=x):p+b>=1?(d=(e*m-1)*Math.pow(2,a),p+=b):(d=e*Math.pow(2,b-1)*Math.pow(2,a),p=0));a>=8;t[r+I]=255&d,I+=E,d/=256,a-=8);for(p=p<<a|d,y+=a;y>0;t[r+I]=255&p,I+=E,p/=256,y-=8);t[r+I-E]|=128*k};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */function V4(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}V4.Varint=0,V4.Fixed64=1,V4.Bytes=2,V4.Fixed32=5;var Z1=4294967296,X6=1/Z1,Y6=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function rn(t){return t.type===V4.Bytes?t.readVarint()+t.pos:t.pos+1}function us(t,e,r){return r?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function K6(t,e,r){var o=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));r.realloc(o);for(var a=r.pos-1;a>=t;a--)r.buf[a+o]=r.buf[a]}function qc(t,e){for(var r=0;r<t.length;r++)e.writeVarint(t[r])}function Zc(t,e){for(var r=0;r<t.length;r++)e.writeSVarint(t[r])}function Wc(t,e){for(var r=0;r<t.length;r++)e.writeFloat(t[r])}function Hc(t,e){for(var r=0;r<t.length;r++)e.writeDouble(t[r])}function Xc(t,e){for(var r=0;r<t.length;r++)e.writeBoolean(t[r])}function Yc(t,e){for(var r=0;r<t.length;r++)e.writeFixed32(t[r])}function Kc(t,e){for(var r=0;r<t.length;r++)e.writeSFixed32(t[r])}function Jc(t,e){for(var r=0;r<t.length;r++)e.writeFixed64(t[r])}function $c(t,e){for(var r=0;r<t.length;r++)e.writeSFixed64(t[r])}function pa(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function ps(t,e,r){t[r]=e,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24}function J6(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}V4.prototype={destroy:function(){this.buf=null},readFields:function(t,e,r){for(r=r||this.length;this.pos<r;){var o=this.readVarint(),a=o>>3,c=this.pos;this.type=7&o,t(a,e,this),this.pos===c&&this.skip(o)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=pa(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=J6(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=pa(this.buf,this.pos)+pa(this.buf,this.pos+4)*Z1;return this.pos+=8,t},readSFixed64:function(){var t=pa(this.buf,this.pos)+J6(this.buf,this.pos+4)*Z1;return this.pos+=8,t},readFloat:function(){var t=W6(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=W6(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,r,o=this.buf;return e=127&(r=o[this.pos++]),r<128?e:(e|=(127&(r=o[this.pos++]))<<7,r<128?e:(e|=(127&(r=o[this.pos++]))<<14,r<128?e:(e|=(127&(r=o[this.pos++]))<<21,r<128?e:function(a,c,p){var d,m,y=p.buf;if(d=(112&(m=y[p.pos++]))>>4,m<128||(d|=(127&(m=y[p.pos++]))<<3,m<128)||(d|=(127&(m=y[p.pos++]))<<10,m<128)||(d|=(127&(m=y[p.pos++]))<<17,m<128)||(d|=(127&(m=y[p.pos++]))<<24,m<128)||(d|=(1&(m=y[p.pos++]))<<31,m<128))return us(a,d,c);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(r=o[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=12&&Y6?function(r,o,a){return Y6.decode(r.subarray(o,a))}(this.buf,e,t):function(r,o,a){for(var c="",p=o;p<a;){var d,m,y,x=r[p],b=null,S=x>239?4:x>223?3:x>191?2:1;if(p+S>a)break;S===1?x<128&&(b=x):S===2?(192&(d=r[p+1]))==128&&(b=(31&x)<<6|63&d)<=127&&(b=null):S===3?(m=r[p+2],(192&(d=r[p+1]))==128&&(192&m)==128&&((b=(15&x)<<12|(63&d)<<6|63&m)<=2047||b>=55296&&b<=57343)&&(b=null)):S===4&&(m=r[p+2],y=r[p+3],(192&(d=r[p+1]))==128&&(192&m)==128&&(192&y)==128&&((b=(15&x)<<18|(63&d)<<12|(63&m)<<6|63&y)<=65535||b>=1114112)&&(b=null)),b===null?(b=65533,S=1):b>65535&&(b-=65536,c+=String.fromCharCode(b>>>10&1023|55296),b=56320|1023&b),c+=String.fromCharCode(b),p+=S}return c}(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==V4.Bytes)return t.push(this.readVarint(e));var r=rn(this);for(t=t||[];this.pos<r;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==V4.Bytes)return t.push(this.readSVarint());var e=rn(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==V4.Bytes)return t.push(this.readBoolean());var e=rn(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==V4.Bytes)return t.push(this.readFloat());var e=rn(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==V4.Bytes)return t.push(this.readDouble());var e=rn(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==V4.Bytes)return t.push(this.readFixed32());var e=rn(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==V4.Bytes)return t.push(this.readSFixed32());var e=rn(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==V4.Bytes)return t.push(this.readFixed64());var e=rn(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==V4.Bytes)return t.push(this.readSFixed64());var e=rn(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===V4.Varint)for(;this.buf[this.pos++]>127;);else if(e===V4.Bytes)this.pos=this.readVarint()+this.pos;else if(e===V4.Fixed32)this.pos+=4;else{if(e!==V4.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var r=new Uint8Array(e);r.set(this.buf),this.buf=r,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),ps(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),ps(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),ps(this.buf,-1&t,this.pos),ps(this.buf,Math.floor(t*X6),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),ps(this.buf,-1&t,this.pos),ps(this.buf,Math.floor(t*X6),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(e,r){var o,a;if(e>=0?(o=e%4294967296|0,a=e/4294967296|0):(a=~(-e/4294967296),4294967295^(o=~(-e%4294967296))?o=o+1|0:(o=0,a=a+1|0)),e>=18446744073709552e3||e<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");r.realloc(10),function(c,p,d){d.buf[d.pos++]=127&c|128,c>>>=7,d.buf[d.pos++]=127&c|128,c>>>=7,d.buf[d.pos++]=127&c|128,c>>>=7,d.buf[d.pos++]=127&c|128,d.buf[d.pos]=127&(c>>>=7)}(o,0,r),function(c,p){var d=(7&c)<<4;p.buf[p.pos++]|=d|((c>>>=3)?128:0),c&&(p.buf[p.pos++]=127&c|((c>>>=7)?128:0),c&&(p.buf[p.pos++]=127&c|((c>>>=7)?128:0),c&&(p.buf[p.pos++]=127&c|((c>>>=7)?128:0),c&&(p.buf[p.pos++]=127&c|((c>>>=7)?128:0),c&&(p.buf[p.pos++]=127&c)))))}(a,r)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(!!t)},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(o,a,c){for(var p,d,m=0;m<a.length;m++){if((p=a.charCodeAt(m))>55295&&p<57344){if(!d){p>56319||m+1===a.length?(o[c++]=239,o[c++]=191,o[c++]=189):d=p;continue}if(p<56320){o[c++]=239,o[c++]=191,o[c++]=189,d=p;continue}p=d-55296<<10|p-56320|65536,d=null}else d&&(o[c++]=239,o[c++]=191,o[c++]=189,d=null);p<128?o[c++]=p:(p<2048?o[c++]=p>>6|192:(p<65536?o[c++]=p>>12|224:(o[c++]=p>>18|240,o[c++]=p>>12&63|128),o[c++]=p>>6&63|128),o[c++]=63&p|128)}return c}(this.buf,t,this.pos);var r=this.pos-e;r>=128&&K6(e,r,this),this.pos=e-1,this.writeVarint(r),this.pos+=r},writeFloat:function(t){this.realloc(4),H6(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),H6(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var r=0;r<e;r++)this.buf[this.pos++]=t[r]},writeRawMessage:function(t,e){this.pos++;var r=this.pos;t(e,this);var o=this.pos-r;o>=128&&K6(r,o,this),this.pos=r-1,this.writeVarint(o),this.pos+=o},writeMessage:function(t,e,r){this.writeTag(t,V4.Bytes),this.writeRawMessage(e,r)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,qc,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,Zc,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,Xc,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,Wc,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,Hc,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,Yc,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,Kc,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,Jc,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,$c,e)},writeBytesField:function(t,e){this.writeTag(t,V4.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,V4.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,V4.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,V4.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,V4.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,V4.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,V4.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,V4.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,V4.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,V4.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,!!e)}};var ha=He(Z6);const W1=3;function Qc(t,e,r){e.glyphs=[],t===1&&r.readMessage(e8,e)}function e8(t,e,r){if(t===3){const{id:o,bitmap:a,width:c,height:p,left:d,top:m,advance:y}=r.readMessage(t8,{});e.glyphs.push({id:o,bitmap:new tn({width:c+2*W1,height:p+2*W1},a),metrics:{width:c,height:p,left:d,top:m,advance:y}})}else t===4?e.ascender=r.readSVarint():t===5&&(e.descender=r.readSVarint())}function t8(t,e,r){t===1?e.id=r.readVarint():t===2?e.bitmap=r.readBytes():t===3?e.width=r.readVarint():t===4?e.height=r.readVarint():t===5?e.left=r.readSVarint():t===6?e.top=r.readSVarint():t===7&&(e.advance=r.readVarint())}const $6=W1;function H1(t){let e=0,r=0;for(const p of t)e+=p.w*p.h,r=Math.max(r,p.w);t.sort((p,d)=>d.h-p.h);const o=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(e/.95)),r),h:1/0}];let a=0,c=0;for(const p of t)for(let d=o.length-1;d>=0;d--){const m=o[d];if(!(p.w>m.w||p.h>m.h)){if(p.x=m.x,p.y=m.y,c=Math.max(c,p.y+p.h),a=Math.max(a,p.x+p.w),p.w===m.w&&p.h===m.h){const y=o.pop();d<o.length&&(o[d]=y)}else p.h===m.h?(m.x+=p.w,m.w-=p.w):p.w===m.w?(m.y+=p.h,m.h-=p.h):(o.push({x:m.x+p.w,y:m.y,w:m.w-p.w,h:p.h}),m.y+=p.h,m.h-=p.h);break}}return{w:a,h:c,fill:e/(a*c)||0}}const Ci=1;class X1{constructor(e,{pixelRatio:r,version:o,stretchX:a,stretchY:c,content:p}){this.paddedRect=e,this.pixelRatio=r,this.stretchX=a,this.stretchY=c,this.content=p,this.version=o}get tl(){return[this.paddedRect.x+Ci,this.paddedRect.y+Ci]}get br(){return[this.paddedRect.x+this.paddedRect.w-Ci,this.paddedRect.y+this.paddedRect.h-Ci]}get displaySize(){return[(this.paddedRect.w-2*Ci)/this.pixelRatio,(this.paddedRect.h-2*Ci)/this.pixelRatio]}}class Q6{constructor(e,r){const o={},a={};this.haveRenderCallbacks=[];const c=[];this.addImages(e,o,c),this.addImages(r,a,c);const{w:p,h:d}=H1(c),m=new Fi({width:p||1,height:d||1});for(const y in e){const x=e[y],b=o[y].paddedRect;Fi.copy(x.data,m,{x:0,y:0},{x:b.x+Ci,y:b.y+Ci},x.data)}for(const y in r){const x=r[y],b=a[y].paddedRect,S=b.x+Ci,I=b.y+Ci,E=x.data.width,k=x.data.height;Fi.copy(x.data,m,{x:0,y:0},{x:S,y:I},x.data),Fi.copy(x.data,m,{x:0,y:k-1},{x:S,y:I-1},{width:E,height:1}),Fi.copy(x.data,m,{x:0,y:0},{x:S,y:I+k},{width:E,height:1}),Fi.copy(x.data,m,{x:E-1,y:0},{x:S-1,y:I},{width:1,height:k}),Fi.copy(x.data,m,{x:0,y:0},{x:S+E,y:I},{width:1,height:k})}this.image=m,this.iconPositions=o,this.patternPositions=a}addImages(e,r,o){for(const a in e){const c=e[a],p={x:0,y:0,w:c.data.width+2*Ci,h:c.data.height+2*Ci};o.push(p),r[a]=new X1(p,c),c.hasRenderCallback&&this.haveRenderCallbacks.push(a)}}patchUpdatedImages(e,r){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(o=>e.hasImage(o)),e.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const o in e.updatedImages)this.patchUpdatedImage(this.iconPositions[o],e.getImage(o),r),this.patchUpdatedImage(this.patternPositions[o],e.getImage(o),r)}patchUpdatedImage(e,r,o){if(!e||!r||e.version===r.version)return;e.version=r.version;const[a,c]=e.tl;o.update(r.data,void 0,{x:a,y:c})}}Ct(X1,"ImagePosition"),Ct(Q6,"ImageAtlas");const Zi={horizontal:1,vertical:2,horizontalOnly:3},el=-17;class O7{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(e,r){const o=new O7;return o.scale=e||1,o.fontStack=r,o}static forImage(e){const r=new O7;return r.imageName=e,r}}class hs{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(e,r){const o=new hs;for(let a=0;a<e.sections.length;a++){const c=e.sections[a];c.image?o.addImageSection(c):o.addTextSection(c,r)}return o}length(){return this.text.length}getSection(e){return this.sections[this.sectionIndex[e]]}getSections(){return this.sections}getSectionIndex(e){return this.sectionIndex[e]}getCharCode(e){return this.text.charCodeAt(e)}verticalizePunctuation(e){this.text=function(r,o){let a="";for(let c=0;c<r.length;c++){const p=r.charCodeAt(c+1)||null,d=r.charCodeAt(c-1)||null;a+=!o&&(p&&V3(p)&&!N7[r[c+1]]||d&&V3(d)&&!N7[r[c-1]])||!N7[r[c]]?r[c]:N7[r[c]]}return a}(this.text,e)}trim(){let e=0;for(let o=0;o<this.text.length&&da[this.text.charCodeAt(o)];o++)e++;let r=this.text.length;for(let o=this.text.length-1;o>=0&&o>=e&&da[this.text.charCodeAt(o)];o--)r--;this.text=this.text.substring(e,r),this.sectionIndex=this.sectionIndex.slice(e,r)}substring(e,r){const o=new hs;return o.text=this.text.substring(e,r),o.sectionIndex=this.sectionIndex.slice(e,r),o.sections=this.sections,o}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((e,r)=>Math.max(e,this.sections[r].scale),0)}addTextSection(e,r){this.text+=e.text,this.sections.push(O7.forText(e.scale,e.fontStack||r));const o=this.sections.length-1;for(let a=0;a<e.text.length;++a)this.sectionIndex.push(o)}addImageSection(e){const r=e.image?e.image.name:"";if(r.length===0)return void g4("Can't add FormattedSection with an empty image.");const o=this.getNextImageSectionCharCode();o?(this.text+=String.fromCharCode(o),this.sections.push(O7.forImage(r)),this.sectionIndex.push(this.sections.length-1)):g4("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Y1(t,e,r,o,a,c,p,d,m,y,x,b,S,I,E){const k=hs.fromFeature(t,a);b===Zi.vertical&&k.verticalizePunctuation(S);let O=[];const H=function(ae,Pe,Se,Ne,tt,Le){if(!ae)return[];const je=[],Ge=function(ht,Mt,dt,Ht,at,Lt){let Xt=0;for(let _4=0;_4<ht.length();_4++){const Yt=ht.getSection(_4);Xt+=tl(ht.getCharCode(_4),Yt,Ht,at,Mt,Lt)}return Xt/Math.max(1,Math.ceil(Xt/dt))}(ae,Pe,Se,Ne,tt,Le),Ye=ae.text.indexOf("​")>=0;let st=0;for(let ht=0;ht<ae.length();ht++){const Mt=ae.getSection(ht),dt=ae.getCharCode(ht);if(da[dt]||(st+=tl(dt,Mt,Ne,tt,Pe,Le)),ht<ae.length()-1){const Ht=!((Be=dt)<11904||!(ft["Bopomofo Extended"](Be)||ft.Bopomofo(Be)||ft["CJK Compatibility Forms"](Be)||ft["CJK Compatibility Ideographs"](Be)||ft["CJK Compatibility"](Be)||ft["CJK Radicals Supplement"](Be)||ft["CJK Strokes"](Be)||ft["CJK Symbols and Punctuation"](Be)||ft["CJK Unified Ideographs Extension A"](Be)||ft["CJK Unified Ideographs"](Be)||ft["Enclosed CJK Letters and Months"](Be)||ft["Halfwidth and Fullwidth Forms"](Be)||ft.Hiragana(Be)||ft["Ideographic Description Characters"](Be)||ft["Kangxi Radicals"](Be)||ft["Katakana Phonetic Extensions"](Be)||ft.Katakana(Be)||ft["Vertical Forms"](Be)||ft["Yi Radicals"](Be)||ft["Yi Syllables"](Be)));(r8[dt]||Ht||Mt.imageName)&&je.push(il(ht+1,st,Ge,je,i8(dt,ae.getCharCode(ht+1),Ht&&Ye),!1))}}var Be;return ol(il(ae.length(),st,Ge,je,0,!0))}(k,y,c,e,o,I),{processBidirectionalText:re,processStyledBidirectionalText:X}=g;if(re&&k.sections.length===1){const ae=re(k.toString(),H);for(const Pe of ae){const Se=new hs;Se.text=Pe,Se.sections=k.sections;for(let Ne=0;Ne<Pe.length;Ne++)Se.sectionIndex.push(0);O.push(Se)}}else if(X){const ae=X(k.text,k.sectionIndex,H);for(const Pe of ae){const Se=new hs;Se.text=Pe[0],Se.sectionIndex=Pe[1],Se.sections=k.sections,O.push(Se)}}else O=function(ae,Pe){const Se=[],Ne=ae.text;let tt=0;for(const Le of Pe)Se.push(ae.substring(tt,Le)),tt=Le;return tt<Ne.length&&Se.push(ae.substring(tt,Ne.length)),Se}(k,H);const te=[],le={positionedLines:te,text:k.toString(),top:x[1],bottom:x[1],left:x[0],right:x[0],writingMode:b,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(ae,Pe,Se,Ne,tt,Le,je,Ge,Ye,st,Be,ht){let Mt=0,dt=0,Ht=0;const at=Ge==="right"?1:Ge==="left"?0:.5;let Lt=!1;for(const Jt of tt){const $t=Jt.getSections();for(const R4 of $t){if(R4.imageName)continue;const j4=Pe[R4.fontStack];if(j4&&(Lt=j4.ascender!==void 0&&j4.descender!==void 0,!Lt))break}if(!Lt)break}let Xt=0;for(const Jt of tt){Jt.trim();const $t=Jt.getMaxScale(),R4=($t-1)*Xr,j4={positionedGlyphs:[],lineOffset:0};ae.positionedLines[Xt]=j4;const G4=j4.positionedGlyphs;let B4=0;if(!Jt.length()){dt+=Le,++Xt;continue}let or=0,hr=0;for(let N4=0;N4<Jt.length();N4++){const Ar=Jt.getSection(N4),Dr=Jt.getSectionIndex(N4),lr=Jt.getCharCode(N4);let v4=Ar.scale,Sr=null,q4=null,yi=null,Mr=Xr,Yr=0;const Rr=!(Ye===Zi.horizontal||!Be&&!d7(lr)||Be&&(da[lr]||(_4=lr,ft.Arabic(_4)||ft["Arabic Supplement"](_4)||ft["Arabic Extended-A"](_4)||ft["Arabic Presentation Forms-A"](_4)||ft["Arabic Presentation Forms-B"](_4))));if(Ar.imageName){const _i=Ne[Ar.imageName];if(!_i)continue;yi=Ar.imageName,ae.iconsInText=ae.iconsInText||!0,q4=_i.paddedRect;const Br=_i.displaySize;v4=v4*Xr/ht,Sr={width:Br[0],height:Br[1],left:Ci,top:-$6,advance:Rr?Br[1]:Br[0],localGlyph:!1},Yr=Lt?-Sr.height*v4:el+$t*Xr-Br[1]*v4,Mr=Sr.advance;const wo=(Rr?Br[0]:Br[1])*v4-Xr*$t;wo>0&&wo>B4&&(B4=wo)}else{const _i=Se[Ar.fontStack];if(!_i)continue;_i[lr]&&(q4=_i[lr]);const Br=Pe[Ar.fontStack];if(!Br)continue;const wo=Br.glyphs[lr];if(!wo)continue;if(Sr=wo.metrics,Mr=lr!==8203?Xr:0,Lt){const xs=Br.ascender!==void 0?Math.abs(Br.ascender):0,K7=Br.descender!==void 0?Math.abs(Br.descender):0,J7=(xs+K7)*v4;or<J7&&(or=J7,hr=(xs-K7)/2*v4),Yr=-xs*v4}else Yr=el+($t-v4)*Xr}Rr?(ae.verticalizable=!0,G4.push({glyph:lr,imageName:yi,x:Mt,y:dt+Yr,vertical:Rr,scale:v4,localGlyph:Sr.localGlyph,fontStack:Ar.fontStack,sectionIndex:Dr,metrics:Sr,rect:q4}),Mt+=Mr*v4+st):(G4.push({glyph:lr,imageName:yi,x:Mt,y:dt+Yr,vertical:Rr,scale:v4,localGlyph:Sr.localGlyph,fontStack:Ar.fontStack,sectionIndex:Dr,metrics:Sr,rect:q4}),Mt+=Sr.advance*v4+st)}G4.length!==0&&(Ht=Math.max(Mt-st,Ht),Lt?nl(G4,at,B4,hr,Le*$t/2):nl(G4,at,B4,0,Le/2)),Mt=0;const wr=Le*$t+B4;j4.lineOffset=Math.max(B4,R4),dt+=wr,++Xt}var _4;const Yt=dt,{horizontalAlign:Bt,verticalAlign:Z4}=K1(je);(function(Jt,$t,R4,j4,G4,B4){const or=($t-R4)*G4,hr=-B4*j4;for(const wr of Jt)for(const N4 of wr.positionedGlyphs)N4.x+=or,N4.y+=hr})(ae.positionedLines,at,Bt,Z4,Ht,Yt),ae.top+=-Z4*Yt,ae.bottom=ae.top+Yt,ae.left+=-Bt*Ht,ae.right=ae.left+Ht,ae.hasBaseline=Lt}(le,e,r,o,O,p,d,m,b,y,S,E),!function(ae){for(const Pe of ae)if(Pe.positionedGlyphs.length!==0)return!1;return!0}(te)&&le}const da={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},r8={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function tl(t,e,r,o,a,c){if(e.imageName){const p=o[e.imageName];return p?p.displaySize[0]*e.scale*Xr/c+a:0}{const p=r[e.fontStack],d=p&&p.glyphs[t];return d?d.metrics.advance*e.scale+a:0}}function rl(t,e,r,o){const a=Math.pow(t-e,2);return o?t<e?a/2:2*a:a+Math.abs(r)*r}function i8(t,e,r){let o=0;return t===10&&(o-=1e4),r&&(o+=150),t!==40&&t!==65288||(o+=50),e!==41&&e!==65289||(o+=50),o}function il(t,e,r,o,a,c){let p=null,d=rl(e,r,a,c);for(const m of o){const y=rl(e-m.x,r,a,c)+m.badness;y<=d&&(p=m,d=y)}return{index:t,x:e,priorBreak:p,badness:d}}function ol(t){return t?ol(t.priorBreak).concat(t.index):[]}function K1(t){let e=.5,r=.5;switch(t){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0}switch(t){case"bottom":case"bottom-right":case"bottom-left":r=1;break;case"top":case"top-right":case"top-left":r=0}return{horizontalAlign:e,verticalAlign:r}}function nl(t,e,r,o,a){if(!(e||r||o||a))return;const c=t.length-1,p=t[c],d=(p.x+p.metrics.advance*p.scale)*e;for(let m=0;m<=c;m++)t[m].x-=d,t[m].y+=r+o+a}function o8(t,e,r){const{horizontalAlign:o,verticalAlign:a}=K1(r),c=e[0]-t.displaySize[0]*o,p=e[1]-t.displaySize[1]*a;return{image:t,top:p,bottom:p+t.displaySize[1],left:c,right:c+t.displaySize[0]}}function sl(t,e,r,o,a,c){const p=t.image;let d;if(p.content){const O=p.content,H=p.pixelRatio||1;d=[O[0]/H,O[1]/H,p.displaySize[0]-O[2]/H,p.displaySize[1]-O[3]/H]}const m=e.left*c,y=e.right*c;let x,b,S,I;r==="width"||r==="both"?(I=a[0]+m-o[3],b=a[0]+y+o[1]):(I=a[0]+(m+y-p.displaySize[0])/2,b=I+p.displaySize[0]);const E=e.top*c,k=e.bottom*c;return r==="height"||r==="both"?(x=a[1]+E-o[0],S=a[1]+k+o[2]):(x=a[1]+(E+k-p.displaySize[1])/2,S=x+p.displaySize[1]),{image:p,top:x,right:b,bottom:S,left:I,collisionPadding:d}}class on extends Te{constructor(e,r,o,a,c){super(e,r),this.angle=a,this.z=o,c!==void 0&&(this.segment=c)}clone(){return new on(this.x,this.y,this.z,this.angle,this.segment)}}function al(t,e,r,o,a){if(e.segment===void 0)return!0;let c=e,p=e.segment+1,d=0;for(;d>-r/2;){if(p--,p<0)return!1;d-=t[p].dist(c),c=t[p]}d+=t[p].dist(t[p+1]),p++;const m=[];let y=0;for(;d<r/2;){const x=t[p],b=t[p+1];if(!b)return!1;let S=t[p-1].angleTo(x)-x.angleTo(b);for(S=Math.abs((S+3*Math.PI)%(2*Math.PI)-Math.PI),m.push({distance:d,angleDelta:S}),y+=S;d-m[0].distance>o;)y-=m.shift().angleDelta;if(y>a)return!1;p++,d+=x.dist(b)}return!0}function ll(t){let e=0;for(let r=0;r<t.length-1;r++)e+=t[r].dist(t[r+1]);return e}function cl(t,e,r){return t?.6*e*r:0}function ul(t,e){return Math.max(t?t.right-t.left:0,e?e.right-e.left:0)}function n8(t,e,r,o,a,c){const p=cl(r,a,c),d=ul(r,o)*c;let m=0;const y=ll(t)/2;for(let x=0;x<t.length-1;x++){const b=t[x],S=t[x+1],I=b.dist(S);if(m+I>y){const E=(y-m)/I,k=u4(b.x,S.x,E),O=u4(b.y,S.y,E),H=new on(k,O,0,S.angleTo(b),x);return!p||al(t,H,d,p,e)?H:void 0}m+=I}}function s8(t,e,r,o,a,c,p,d,m){const y=cl(o,c,p),x=ul(o,a),b=x*p,S=t[0].x===0||t[0].x===m||t[0].y===0||t[0].y===m;return e-b<e/4&&(e=b+e/4),pl(t,S?e/2*d%e:(x/2+2*c)*p*d%e,e,y,r,b,S,!1,m)}function pl(t,e,r,o,a,c,p,d,m){const y=c/2,x=ll(t);let b=0,S=e-r,I=[];for(let E=0;E<t.length-1;E++){const k=t[E],O=t[E+1],H=k.dist(O),re=O.angleTo(k);for(;S+r<b+H;){S+=r;const X=(S-b)/H,te=u4(k.x,O.x,X),le=u4(k.y,O.y,X);if(te>=0&&te<m&&le>=0&&le<m&&S-y>=0&&S+y<=x){const ae=new on(te,le,0,re,E);ae._round(),o&&!al(t,ae,c,o,a)||I.push(ae)}}b+=H}return d||I.length||p||(I=pl(t,b/2,r,o,a,c,p,!0,m)),I}function hl(t,e,r,o,a){const c=[];for(let p=0;p<t.length;p++){const d=t[p];let m;for(let y=0;y<d.length-1;y++){let x=d[y],b=d[y+1];x.x<e&&b.x<e||(x.x<e?x=new Te(e,x.y+(e-x.x)/(b.x-x.x)*(b.y-x.y))._round():b.x<e&&(b=new Te(e,x.y+(e-x.x)/(b.x-x.x)*(b.y-x.y))._round()),x.y<r&&b.y<r||(x.y<r?x=new Te(x.x+(r-x.y)/(b.y-x.y)*(b.x-x.x),r)._round():b.y<r&&(b=new Te(x.x+(r-x.y)/(b.y-x.y)*(b.x-x.x),r)._round()),x.x>=o&&b.x>=o||(x.x>=o?x=new Te(o,x.y+(o-x.x)/(b.x-x.x)*(b.y-x.y))._round():b.x>=o&&(b=new Te(o,x.y+(o-x.x)/(b.x-x.x)*(b.y-x.y))._round()),x.y>=a&&b.y>=a||(x.y>=a?x=new Te(x.x+(a-x.y)/(b.y-x.y)*(b.x-x.x),a)._round():b.y>=a&&(b=new Te(x.x+(a-x.y)/(b.y-x.y)*(b.x-x.x),a)._round()),m&&x.equals(m[m.length-1])||(m=[x],c.push(m)),m.push(b)))))}}return c}Ct(on,"Anchor");const V7=1e20;function dl(t,e,r,o,a,c,p,d,m){for(let y=e;y<e+o;y++)fl(t,r*c+y,c,a,p,d,m);for(let y=r;y<r+a;y++)fl(t,y*c+e,1,o,p,d,m)}function fl(t,e,r,o,a,c,p){c[0]=0,p[0]=-V7,p[1]=V7,a[0]=t[e];for(let d=1,m=0,y=0;d<o;d++){a[d]=t[e+d*r];const x=d*d;do{const b=c[m];y=(a[d]-a[b]+x-b*b)/(d-b)/2}while(y<=p[m]&&--m>-1);m++,c[m]=d,p[m]=y,p[m+1]=V7}for(let d=0,m=0;d<o;d++){for(;p[m+1]<d;)m++;const y=c[m],x=d-y;t[e+d*r]=a[y]+x*x}}const bo=2,J1={none:0,ideographs:1,all:2};class ds{constructor(e,r,o){this.requestManager=e,this.localGlyphMode=r,this.localFontFamily=o,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(e){this.url=e}getGlyphs(e,r){const o=[];for(const a in e)for(const c of e[a])o.push({stack:a,id:c});Zt(o,({stack:a,id:c},p)=>{let d=this.entries[a];d||(d=this.entries[a]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let m=d.glyphs[c];if(m!==void 0)return void p(null,{stack:a,id:c,glyph:m});if(m=this._tinySDF(d,a,c),m)return d.glyphs[c]=m,void p(null,{stack:a,id:c,glyph:m});const y=Math.floor(c/256);if(256*y>65535)return void p(new Error("glyphs > 65535 not supported"));if(d.ranges[y])return void p(null,{stack:a,id:c,glyph:m});let x=d.requests[y];x||(x=d.requests[y]=[],ds.loadGlyphRange(a,y,this.url,this.requestManager,(b,S)=>{if(S){d.ascender=S.ascender,d.descender=S.descender;for(const I in S.glyphs)this._doesCharSupportLocalGlyph(+I)||(d.glyphs[+I]=S.glyphs[+I]);d.ranges[y]=!0}for(const I of x)I(b,S);delete d.requests[y]})),x.push((b,S)=>{b?p(b):S&&p(null,{stack:a,id:c,glyph:S.glyphs[c]||null})})},(a,c)=>{if(a)r(a);else if(c){const p={};for(const{stack:d,id:m,glyph:y}of c)p[d]===void 0&&(p[d]={}),p[d].glyphs===void 0&&(p[d].glyphs={}),p[d].glyphs[m]=y&&{id:y.id,bitmap:y.bitmap.clone(),metrics:y.metrics},p[d].ascender=this.entries[d].ascender,p[d].descender=this.entries[d].descender;r(null,p)}})}_doesCharSupportLocalGlyph(e){return this.localGlyphMode!==J1.none&&(this.localGlyphMode===J1.all?!!this.localFontFamily:!!this.localFontFamily&&(ft["CJK Unified Ideographs"](e)||ft["Hangul Syllables"](e)||ft.Hiragana(e)||ft.Katakana(e)||ft["CJK Symbols and Punctuation"](e)))}_tinySDF(e,r,o){const a=this.localFontFamily;if(!a||!this._doesCharSupportLocalGlyph(o))return;let c=e.tinySDF;if(!c){let k="400";/bold/i.test(r)?k="900":/medium/i.test(r)?k="500":/light/i.test(r)&&(k="200"),c=e.tinySDF=new ds.TinySDF({fontFamily:a,fontWeight:k,fontSize:24*bo,buffer:3*bo,radius:8*bo}),c.fontWeight=k}if(this.localGlyphs[c.fontWeight][o])return this.localGlyphs[c.fontWeight][o];const p=String.fromCharCode(o),{data:d,width:m,height:y,glyphWidth:x,glyphHeight:b,glyphLeft:S,glyphTop:I,glyphAdvance:E}=c.draw(p);return this.localGlyphs[c.fontWeight][o]={id:o,bitmap:new tn({width:m,height:y},d),metrics:{width:x/bo,height:b/bo,left:S/bo,top:I/bo-27,advance:E/bo,localGlyph:!0}}}}ds.loadGlyphRange=function(t,e,r,o,a){const c=256*e,p=c+255,d=o.transformRequest(o.normalizeGlyphsURL(r).replace("{fontstack}",t).replace("{range}",`${c}-${p}`),Er.Glyphs);Di(d,(m,y)=>{if(m)a(m);else if(y){const x={},b=function(S){return new ha(S).readFields(Qc,{})}(y);for(const S of b.glyphs)x[S.id]=S;a(null,{glyphs:x,ascender:b.ascender,descender:b.descender})}})},ds.TinySDF=class{constructor({fontSize:t=24,buffer:e=3,radius:r=8,cutoff:o=.25,fontFamily:a="sans-serif",fontWeight:c="normal",fontStyle:p="normal"}={}){this.buffer=e,this.cutoff=o,this.radius=r;const d=this.size=t+4*e,m=this._createCanvas(d),y=this.ctx=m.getContext("2d",{willReadFrequently:!0});y.font=`${p} ${c} ${t}px ${a}`,y.textBaseline="alphabetic",y.textAlign="left",y.fillStyle="black",this.gridOuter=new Float64Array(d*d),this.gridInner=new Float64Array(d*d),this.f=new Float64Array(d),this.z=new Float64Array(d+1),this.v=new Uint16Array(d)}_createCanvas(t){const e=document.createElement("canvas");return e.width=e.height=t,e}draw(t){const{width:e,actualBoundingBoxAscent:r,actualBoundingBoxDescent:o,actualBoundingBoxLeft:a,actualBoundingBoxRight:c}=this.ctx.measureText(t),p=Math.ceil(r),d=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(c-a))),m=Math.min(this.size-this.buffer,p+Math.ceil(o)),y=d+2*this.buffer,x=m+2*this.buffer,b=Math.max(y*x,0),S=new Uint8ClampedArray(b),I={data:S,width:y,height:x,glyphWidth:d,glyphHeight:m,glyphTop:p,glyphLeft:0,glyphAdvance:e};if(d===0||m===0)return I;const{ctx:E,buffer:k,gridInner:O,gridOuter:H}=this;E.clearRect(k,k,d,m),E.fillText(t,k,k+p);const re=E.getImageData(k,k,d,m);H.fill(V7,0,b),O.fill(0,0,b);for(let X=0;X<m;X++)for(let te=0;te<d;te++){const le=re.data[4*(X*d+te)+3]/255;if(le===0)continue;const ae=(X+k)*y+te+k;if(le===1)H[ae]=0,O[ae]=V7;else{const Pe=.5-le;H[ae]=Pe>0?Pe*Pe:0,O[ae]=Pe<0?Pe*Pe:0}}dl(H,0,0,y,x,y,this.f,this.v,this.z),dl(O,k,k,d,m,y,this.f,this.v,this.z);for(let X=0;X<b;X++){const te=Math.sqrt(H[X])-Math.sqrt(O[X]);S[X]=Math.round(255-255*(te/this.radius+this.cutoff))}return I}};const fs=Ci;function ml(t,e,r,o){const a=[],c=t.image,p=c.pixelRatio,d=c.paddedRect.w-2*fs,m=c.paddedRect.h-2*fs,y=t.right-t.left,x=t.bottom-t.top,b=c.stretchX||[[0,d]],S=c.stretchY||[[0,m]],I=(Le,je)=>Le+je[1]-je[0],E=b.reduce(I,0),k=S.reduce(I,0),O=d-E,H=m-k;let re=0,X=E,te=0,le=k,ae=0,Pe=O,Se=0,Ne=H;if(c.content&&o){const Le=c.content;re=fa(b,0,Le[0]),te=fa(S,0,Le[1]),X=fa(b,Le[0],Le[2]),le=fa(S,Le[1],Le[3]),ae=Le[0]-re,Se=Le[1]-te,Pe=Le[2]-Le[0]-X,Ne=Le[3]-Le[1]-le}const tt=(Le,je,Ge,Ye)=>{const st=ma(Le.stretch-re,X,y,t.left),Be=ya(Le.fixed-ae,Pe,Le.stretch,E),ht=ma(je.stretch-te,le,x,t.top),Mt=ya(je.fixed-Se,Ne,je.stretch,k),dt=ma(Ge.stretch-re,X,y,t.left),Ht=ya(Ge.fixed-ae,Pe,Ge.stretch,E),at=ma(Ye.stretch-te,le,x,t.top),Lt=ya(Ye.fixed-Se,Ne,Ye.stretch,k),Xt=new Te(st,ht),_4=new Te(dt,ht),Yt=new Te(dt,at),Bt=new Te(st,at),Z4=new Te(Be/p,Mt/p),Jt=new Te(Ht/p,Lt/p),$t=e*Math.PI/180;if($t){const G4=Math.sin($t),B4=Math.cos($t),or=[B4,-G4,G4,B4];Xt._matMult(or),_4._matMult(or),Bt._matMult(or),Yt._matMult(or)}const R4=Le.stretch+Le.fixed,j4=je.stretch+je.fixed;return{tl:Xt,tr:_4,bl:Bt,br:Yt,tex:{x:c.paddedRect.x+fs+R4,y:c.paddedRect.y+fs+j4,w:Ge.stretch+Ge.fixed-R4,h:Ye.stretch+Ye.fixed-j4},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Z4,pixelOffsetBR:Jt,minFontScaleX:Pe/p/y,minFontScaleY:Ne/p/x,isSDF:r}};if(o&&(c.stretchX||c.stretchY)){const Le=yl(b,O,E),je=yl(S,H,k);for(let Ge=0;Ge<Le.length-1;Ge++){const Ye=Le[Ge],st=Le[Ge+1];for(let Be=0;Be<je.length-1;Be++)a.push(tt(Ye,je[Be],st,je[Be+1]))}}else a.push(tt({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:d+1},{fixed:0,stretch:m+1}));return a}function fa(t,e,r){let o=0;for(const a of t)o+=Math.max(e,Math.min(r,a[1]))-Math.max(e,Math.min(r,a[0]));return o}function yl(t,e,r){const o=[{fixed:-fs,stretch:0}];for(const[a,c]of t){const p=o[o.length-1];o.push({fixed:a-p.stretch,stretch:p.stretch}),o.push({fixed:a-p.stretch,stretch:p.stretch+(c-a)})}return o.push({fixed:e+fs,stretch:r}),o}function ma(t,e,r,o){return t/e*r+o}function ya(t,e,r,o){return t-e*r/o}function a8(t,e,r,o){const a=e+t.positionedLines[o].lineOffset;return o===0?r+a/2:r+(a+(e+t.positionedLines[o-1].lineOffset))/2}class l8{constructor(e=[],r=c8){if(this.data=e,this.length=this.data.length,this.compare=r,this.length>0)for(let o=(this.length>>1)-1;o>=0;o--)this._down(o)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const e=this.data[0],r=this.data.pop();return this.length--,this.length>0&&(this.data[0]=r,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:r,compare:o}=this,a=r[e];for(;e>0;){const c=e-1>>1,p=r[c];if(o(a,p)>=0)break;r[e]=p,e=c}r[e]=a}_down(e){const{data:r,compare:o}=this,a=this.length>>1,c=r[e];for(;e<a;){let p=1+(e<<1),d=r[p];const m=p+1;if(m<this.length&&o(r[m],d)<0&&(p=m,d=r[m]),o(d,c)>=0)break;r[e]=d,e=p}r[e]=c}}function c8(t,e){return t<e?-1:t>e?1:0}function u8(t,e=1,r=!1){let o=1/0,a=1/0,c=-1/0,p=-1/0;const d=t[0];for(let I=0;I<d.length;I++){const E=d[I];(!I||E.x<o)&&(o=E.x),(!I||E.y<a)&&(a=E.y),(!I||E.x>c)&&(c=E.x),(!I||E.y>p)&&(p=E.y)}const m=Math.min(c-o,p-a);let y=m/2;const x=new l8([],p8);if(m===0)return new Te(o,a);for(let I=o;I<c;I+=m)for(let E=a;E<p;E+=m)x.push(new ms(I+y,E+y,y,t));let b=function(I){let E=0,k=0,O=0;const H=I[0];for(let re=0,X=H.length,te=X-1;re<X;te=re++){const le=H[re],ae=H[te],Pe=le.x*ae.y-ae.x*le.y;k+=(le.x+ae.x)*Pe,O+=(le.y+ae.y)*Pe,E+=3*Pe}return new ms(k/E,O/E,0,I)}(t),S=x.length;for(;x.length;){const I=x.pop();(I.d>b.d||!b.d)&&(b=I,r&&console.log("found best %d after %d probes",Math.round(1e4*I.d)/1e4,S)),I.max-b.d<=e||(y=I.h/2,x.push(new ms(I.p.x-y,I.p.y-y,y,t)),x.push(new ms(I.p.x+y,I.p.y-y,y,t)),x.push(new ms(I.p.x-y,I.p.y+y,y,t)),x.push(new ms(I.p.x+y,I.p.y+y,y,t)),S+=4)}return r&&(console.log(`num probes: ${S}`),console.log(`best distance: ${b.d}`)),b.p}function p8(t,e){return e.max-t.max}class ms{constructor(e,r,o,a){this.p=new Te(e,r),this.h=o,this.d=function(c,p){let d=!1,m=1/0;for(let y=0;y<p.length;y++){const x=p[y];for(let b=0,S=x.length,I=S-1;b<S;I=b++){const E=x[b],k=x[I];E.y>c.y!=k.y>c.y&&c.x<(k.x-E.x)*(c.y-E.y)/(k.y-E.y)+E.x&&(d=!d),m=Math.min(m,p6(c,E,k))}}return(d?1:-1)*Math.sqrt(m)}(this.p,a),this.max=this.d+this.h*Math.SQRT2}}const ys=7,$1=Number.POSITIVE_INFINITY,h8=Math.sqrt(2);function _l(t,[e,r]){let o=0,a=0;if(r===$1){e<0&&(e=0);const c=e/h8;switch(t){case"top-right":case"top-left":a=c-ys;break;case"bottom-right":case"bottom-left":a=-c+ys;break;case"bottom":a=-e+ys;break;case"top":a=e-ys}switch(t){case"top-right":case"bottom-right":o=-c;break;case"top-left":case"bottom-left":o=c;break;case"left":o=e;break;case"right":o=-e}}else{switch(e=Math.abs(e),r=Math.abs(r),t){case"top-right":case"top-left":case"top":a=r-ys;break;case"bottom-right":case"bottom-left":case"bottom":a=-r+ys}switch(t){case"top-right":case"bottom-right":case"right":o=-e;break;case"top-left":case"bottom-left":case"left":o=e}}return[o,a]}function d8(t,e,r,o,a,c,p,d,m,y){t.createArrays(),t.tilePixelRatio=zt/(512*t.overscaling),t.compareText={},t.iconsNeedLinear=!1;const x=t.layers[0].layout,b=t.layers[0]._unevaluatedLayout._values,S={};if(t.textSizeData.kind==="composite"){const{minZoom:k,maxZoom:O}=t.textSizeData;S.compositeTextSizes=[b["text-size"].possiblyEvaluate(new v(k),d),b["text-size"].possiblyEvaluate(new v(O),d)]}if(t.iconSizeData.kind==="composite"){const{minZoom:k,maxZoom:O}=t.iconSizeData;S.compositeIconSizes=[b["icon-size"].possiblyEvaluate(new v(k),d),b["icon-size"].possiblyEvaluate(new v(O),d)]}S.layoutTextSize=b["text-size"].possiblyEvaluate(new v(m+1),d),S.layoutIconSize=b["icon-size"].possiblyEvaluate(new v(m+1),d),S.textMaxSize=b["text-size"].possiblyEvaluate(new v(18),d);const I=x.get("text-rotation-alignment")==="map"&&x.get("symbol-placement")!=="point",E=x.get("text-size");for(const k of t.features){const O=x.get("text-font").evaluate(k,{},d).join(","),H=E.evaluate(k,{},d),re=S.layoutTextSize.evaluate(k,{},d),X=(S.layoutIconSize.evaluate(k,{},d),{horizontal:{},vertical:void 0}),te=k.text;let le,ae=[0,0];if(te){const Ne=te.toString(),tt=x.get("text-letter-spacing").evaluate(k,{},d)*Xr,Le=x.get("text-line-height").evaluate(k,{},d)*Xr,je=a1(Ne)?tt:0,Ge=x.get("text-anchor").evaluate(k,{},d),Ye=x.get("text-variable-anchor");if(!Ye){const dt=x.get("text-radial-offset").evaluate(k,{},d);ae=dt?_l(Ge,[dt*Xr,$1]):x.get("text-offset").evaluate(k,{},d).map(Ht=>Ht*Xr)}let st=I?"center":x.get("text-justify").evaluate(k,{},d);const Be=x.get("symbol-placement")==="point",ht=Be?x.get("text-max-width").evaluate(k,{},d)*Xr:1/0,Mt=dt=>{t.allowVerticalPlacement&&h7(Ne)&&(X.vertical=Y1(te,e,r,a,O,ht,Le,Ge,dt,je,ae,Zi.vertical,!0,re,H))};if(!I&&Ye){const dt=st==="auto"?Ye.map(at=>Q1(at)):[st];let Ht=!1;for(let at=0;at<dt.length;at++){const Lt=dt[at];if(!X.horizontal[Lt])if(Ht)X.horizontal[Lt]=X.horizontal[0];else{const Xt=Y1(te,e,r,a,O,ht,Le,"center",Lt,je,ae,Zi.horizontal,!1,re,H);Xt&&(X.horizontal[Lt]=Xt,Ht=Xt.positionedLines.length===1)}}Mt("left")}else{if(st==="auto"&&(st=Q1(Ge)),Be||x.get("text-writing-mode").indexOf("horizontal")>=0||!h7(Ne)){const dt=Y1(te,e,r,a,O,ht,Le,Ge,st,je,ae,Zi.horizontal,!1,re,H);dt&&(X.horizontal[st]=dt)}Mt(Be?"left":st)}}let Pe=!1;if(k.icon&&k.icon.name){const Ne=o[k.icon.name];Ne&&(le=o8(a[k.icon.name],x.get("icon-offset").evaluate(k,{},d),x.get("icon-anchor").evaluate(k,{},d)),Pe=Ne.sdf,t.sdfIcons===void 0?t.sdfIcons=Ne.sdf:t.sdfIcons!==Ne.sdf&&g4("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Ne.pixelRatio!==t.pixelRatio||x.get("icon-rotate").constantOr(1)!==0)&&(t.iconsNeedLinear=!0))}const Se=xl(X.horizontal)||X.vertical;t.iconsInText||(t.iconsInText=!!Se&&Se.iconsInText),(Se||le)&&f8(t,k,X,le,o,S,re,0,ae,Pe,p,d,y)}c&&t.generateCollisionDebugBuffers(m,t.collisionBoxArray)}function Q1(t){switch(t){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function f8(t,e,r,o,a,c,p,d,m,y,x,b,S){let I=c.textMaxSize.evaluate(e,{},b);I===void 0&&(I=p);const E=t.layers[0].layout,k=E.get("icon-offset").evaluate(e,{},b),O=xl(r.horizontal)||r.vertical,H=S.name==="globe",re=Xr,X=p/re,te=t.tilePixelRatio*I/re,le=(Ge=t.overscaling,t.zoom>18&&Ge>2&&(Ge>>=1),Math.max(zt/(512*Ge),1)*E.get("symbol-spacing")),ae=E.get("text-padding")*t.tilePixelRatio,Pe=E.get("icon-padding")*t.tilePixelRatio,Se=qe(E.get("text-max-angle")),Ne=E.get("text-rotation-alignment")==="map"&&E.get("symbol-placement")!=="point",tt=E.get("icon-rotation-alignment")==="map"&&E.get("symbol-placement")!=="point",Le=E.get("symbol-placement"),je=le/2;var Ge;const Ye=E.get("icon-text-fit");let st;o&&Ye!=="none"&&(t.allowVerticalPlacement&&r.vertical&&(st=sl(o,r.vertical,Ye,E.get("icon-text-fit-padding"),k,X)),O&&(o=sl(o,O,Ye,E.get("icon-text-fit-padding"),k,X)));const Be=(ht,Mt,dt)=>{if(Mt.x<0||Mt.x>=zt||Mt.y<0||Mt.y>=zt)return;let Ht=null;if(H){const{x:at,y:Lt,z:Xt}=S.projectTilePoint(Mt.x,Mt.y,dt);Ht={anchor:new on(at,Lt,Xt,0,void 0),up:S.upVector(dt,Mt.x,Mt.y)}}(function(at,Lt,Xt,_4,Yt,Bt,Z4,Jt,$t,R4,j4,G4,B4,or,hr,wr,N4,Ar,Dr,lr,v4,Sr,q4,yi,Mr){const Yr=at.addToLineVertexArray(Lt,_4);let Rr,_i,Br,wo,xs,K7,J7,$l=0,Ql=0,e2=0,t2=0,f9=-1,m9=-1;const No={};let r2=u1("");const g5=Xt?Xt.anchor:Lt;let y9=0,_9=0;if($t._unevaluatedLayout.getValue("text-radial-offset")===void 0?[y9,_9]=$t.layout.get("text-offset").evaluate(v4,{},Mr).map(Li=>Li*Xr):(y9=$t.layout.get("text-radial-offset").evaluate(v4,{},Mr)*Xr,_9=$1),at.allowVerticalPlacement&&Yt.vertical){const Li=Yt.vertical;if(hr)K7=e9(Li),Jt&&(J7=e9(Jt));else{const ki=$t.layout.get("text-rotate").evaluate(v4,{},Mr)+90;Br=_a(R4,g5,Lt,j4,G4,B4,Li,or,ki,wr),Jt&&(wo=_a(R4,g5,Lt,j4,G4,B4,Jt,Ar,ki))}}if(Bt){const Li=$t.layout.get("icon-rotate").evaluate(v4,{},Mr),ki=$t.layout.get("icon-text-fit")!=="none",$7=ml(Bt,Li,q4,ki),x9=Jt?ml(Jt,Li,q4,ki):void 0;_i=_a(R4,g5,Lt,j4,G4,B4,Bt,Ar,Li),$l=4*$7.length;const i2=at.iconSizeData;let x5=null;i2.kind==="source"?(x5=[vo*$t.layout.get("icon-size").evaluate(v4,{},Mr)],x5[0]>In&&g4(`${at.layerIds[0]}: Value for "icon-size" is >= ${j7}. Reduce your "icon-size".`)):i2.kind==="composite"&&(x5=[vo*Sr.compositeIconSizes[0].evaluate(v4,{},Mr),vo*Sr.compositeIconSizes[1].evaluate(v4,{},Mr)],(x5[0]>In||x5[1]>In)&&g4(`${at.layerIds[0]}: Value for "icon-size" is >= ${j7}. Reduce your "icon-size".`)),at.addSymbols(at.icon,$7,x5,lr,Dr,v4,!1,Xt,Lt,Yr.lineStartIndex,Yr.lineLength,-1,yi,Mr),f9=at.icon.placedSymbolArray.length-1,x9&&(Ql=4*x9.length,at.addSymbols(at.icon,x9,x5,lr,Dr,v4,Zi.vertical,Xt,Lt,Yr.lineStartIndex,Yr.lineLength,-1,yi,Mr),m9=at.icon.placedSymbolArray.length-1)}for(const Li in Yt.horizontal){const ki=Yt.horizontal[Li];Rr||(r2=u1(ki.text),hr?xs=e9(ki):Rr=_a(R4,g5,Lt,j4,G4,B4,ki,or,$t.layout.get("text-rotate").evaluate(v4,{},Mr),wr));const $7=ki.positionedLines.length===1;if(e2+=gl(at,Xt,Lt,ki,Z4,$t,hr,v4,wr,Yr,Yt.vertical?Zi.horizontal:Zi.horizontalOnly,$7?Object.keys(Yt.horizontal):[Li],No,f9,Sr,yi,Mr),$7)break}Yt.vertical&&(t2+=gl(at,Xt,Lt,Yt.vertical,Z4,$t,hr,v4,wr,Yr,Zi.vertical,["vertical"],No,m9,Sr,yi,Mr));let kn=-1;const g9=(Li,ki)=>Li?Math.max(Li,ki):ki;kn=g9(xs,kn),kn=g9(K7,kn),kn=g9(J7,kn);const j8=kn>-1?1:0;at.glyphOffsetArray.length>=Pn.MAX_GLYPHS&&g4("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),v4.sortKey!==void 0&&at.addToSortKeyRanges(at.symbolInstances.length,v4.sortKey),at.symbolInstances.emplaceBack(g5.x,g5.y,g5.z,Lt.x,Lt.y,No.right>=0?No.right:-1,No.center>=0?No.center:-1,No.left>=0?No.left:-1,No.vertical>=0?No.vertical:-1,f9,m9,r2,Rr!==void 0?Rr:at.collisionBoxArray.length,Rr!==void 0?Rr+1:at.collisionBoxArray.length,Br!==void 0?Br:at.collisionBoxArray.length,Br!==void 0?Br+1:at.collisionBoxArray.length,_i!==void 0?_i:at.collisionBoxArray.length,_i!==void 0?_i+1:at.collisionBoxArray.length,wo||at.collisionBoxArray.length,wo?wo+1:at.collisionBoxArray.length,j4,e2,t2,$l,Ql,j8,0,y9,_9,kn)})(t,Mt,Ht,ht,r,o,a,st,t.layers[0],t.collisionBoxArray,e.index,e.sourceLayerIndex,t.index,ae,Ne,m,0,Pe,tt,k,e,c,y,x,b)};if(Le==="line")for(const ht of hl(e.geometry,0,0,zt,zt)){const Mt=s8(ht,le,Se,r.vertical||O,o,re,te,t.overscaling,zt);for(const dt of Mt)O&&m8(t,O.text,je,dt)||Be(ht,dt,b)}else if(Le==="line-center"){for(const ht of e.geometry)if(ht.length>1){const Mt=n8(ht,Se,r.vertical||O,o,re,te);Mt&&Be(ht,Mt,b)}}else if(e.type==="Polygon")for(const ht of O1(e.geometry,0)){const Mt=u8(ht,16);Be(ht[0],new on(Mt.x,Mt.y,0,0,void 0),b)}else if(e.type==="LineString")for(const ht of e.geometry)Be(ht,new on(ht[0].x,ht[0].y,0,0,void 0),b);else if(e.type==="Point")for(const ht of e.geometry)for(const Mt of ht)Be([Mt],new on(Mt.x,Mt.y,0,0,void 0),b)}const j7=255,In=j7*vo;function gl(t,e,r,o,a,c,p,d,m,y,x,b,S,I,E,k,O){const H=function(te,le,ae,Pe,Se,Ne,tt,Le){const je=[];if(le.positionedLines.length===0)return je;const Ge=Pe.layout.get("text-rotate").evaluate(Ne,{})*Math.PI/180,Ye=function(dt){const Ht=dt[0],at=dt[1],Lt=Ht*at;return Lt>0?[Ht,-at]:Lt<0?[-Ht,at]:Ht===0?[at,Ht]:[at,-Ht]}(ae);let st=Math.abs(le.top-le.bottom);for(const dt of le.positionedLines)st-=dt.lineOffset;const Be=le.positionedLines.length,ht=st/Be;let Mt=le.top-ae[1];for(let dt=0;dt<Be;++dt){const Ht=le.positionedLines[dt];Mt=a8(le,ht,Mt,dt);for(const at of Ht.positionedGlyphs){if(!at.rect)continue;const Lt=at.rect||{};let Xt=$6+1,_4=!0,Yt=1,Bt=0;if(at.imageName){const q4=tt[at.imageName];if(!q4)continue;if(q4.sdf){g4("SDF images are not supported in formatted text and will be ignored.");continue}_4=!1,Yt=q4.pixelRatio,Xt=Ci/Yt}const Z4=(Se||Le)&&at.vertical,Jt=at.metrics.advance*at.scale/2,$t=at.metrics,R4=at.rect;if(R4===null)continue;Le&&le.verticalizable&&(Bt=at.imageName?Jt-at.metrics.width*at.scale/2:0);const j4=Se?[at.x+Jt,at.y]:[0,0];let G4=[0,0],B4=[0,0],or=!1;Se||(Z4?(B4=[at.x+Jt+Ye[0],at.y+Ye[1]-Bt],or=!0):G4=[at.x+Jt+ae[0],at.y+ae[1]-Bt]);const hr=R4.w*at.scale/(Yt*(at.localGlyph?bo:1)),wr=R4.h*at.scale/(Yt*(at.localGlyph?bo:1));let N4,Ar,Dr,lr;if(Z4){const q4=at.y-Mt,yi=new Te(-Jt,Jt-q4),Mr=-Math.PI/2,Yr=new Te(...B4);N4=new Te(-Jt+G4[0],G4[1]),N4._rotateAround(Mr,yi)._add(Yr),N4.x+=-q4+Jt,N4.y-=($t.left-Xt)*at.scale;const Rr=at.imageName?$t.advance*at.scale:Xr*at.scale,_i=String.fromCharCode(at.glyph);jc(_i)?N4.x+=(1-Xt)*at.scale:Gc(_i)?N4.x+=Rr-$t.height*at.scale+(-Xt-1)*at.scale:N4.x+=at.imageName||$t.width+2*Xt===R4.w&&$t.height+2*Xt===R4.h?(Rr-wr)/2:(Rr-($t.height+2*Xt)*at.scale)/2,Ar=new Te(N4.x,N4.y-hr),Dr=new Te(N4.x+wr,N4.y),lr=new Te(N4.x+wr,N4.y-hr)}else{const q4=($t.left-Xt)*at.scale-Jt+G4[0],yi=(-$t.top-Xt)*at.scale+G4[1],Mr=q4+hr,Yr=yi+wr;N4=new Te(q4,yi),Ar=new Te(Mr,yi),Dr=new Te(q4,Yr),lr=new Te(Mr,Yr)}if(Ge){let q4;q4=Se?new Te(0,0):or?new Te(Ye[0],Ye[1]):new Te(ae[0],ae[1]),N4._rotateAround(Ge,q4),Ar._rotateAround(Ge,q4),Dr._rotateAround(Ge,q4),lr._rotateAround(Ge,q4)}const v4=new Te(0,0),Sr=new Te(0,0);je.push({tl:N4,tr:Ar,bl:Dr,br:lr,tex:Lt,writingMode:le.writingMode,glyphOffset:j4,sectionIndex:at.sectionIndex,isSDF:_4,pixelOffsetTL:v4,pixelOffsetBR:Sr,minFontScaleX:0,minFontScaleY:0})}}return je}(0,o,m,c,p,d,a,t.allowVerticalPlacement),re=t.textSizeData;let X=null;re.kind==="source"?(X=[vo*c.layout.get("text-size").evaluate(d,{},O)],X[0]>In&&g4(`${t.layerIds[0]}: Value for "text-size" is >= ${j7}. Reduce your "text-size".`)):re.kind==="composite"&&(X=[vo*E.compositeTextSizes[0].evaluate(d,{},O),vo*E.compositeTextSizes[1].evaluate(d,{},O)],(X[0]>In||X[1]>In)&&g4(`${t.layerIds[0]}: Value for "text-size" is >= ${j7}. Reduce your "text-size".`)),t.addSymbols(t.text,H,X,m,p,d,x,e,r,y.lineStartIndex,y.lineLength,I,k,O);for(const te of b)S[te]=t.text.placedSymbolArray.length-1;return 4*H.length}function xl(t){for(const e in t)return t[e];return null}function _a(t,e,r,o,a,c,p,d,m,y){let x=p.top,b=p.bottom,S=p.left,I=p.right;const E=p.collisionPadding;if(E&&(S-=E[0],x-=E[1],I+=E[2],b+=E[3]),m){const k=new Te(S,x),O=new Te(I,x),H=new Te(S,b),re=new Te(I,b),X=qe(m);let te=new Te(0,0);y&&(te=new Te(y[0],y[1])),k._rotateAround(X,te),O._rotateAround(X,te),H._rotateAround(X,te),re._rotateAround(X,te),S=Math.min(k.x,O.x,H.x,re.x),I=Math.max(k.x,O.x,H.x,re.x),x=Math.min(k.y,O.y,H.y,re.y),b=Math.max(k.y,O.y,H.y,re.y)}return t.emplaceBack(e.x,e.y,e.z,r.x,r.y,S,x,I,b,d,o,a,c),t.length-1}function e9(t){t.collisionPadding&&(t.top-=t.collisionPadding[1],t.bottom+=t.collisionPadding[3]);const e=t.bottom-t.top;return e>0?Math.max(10,e):null}function m8(t,e,r,o){const a=t.compareText;if(e in a){const c=a[e];for(let p=c.length-1;p>=0;p--)if(o.dist(c[p])<r)return!0}else a[e]=[];return a[e].push(o),!1}function vl(t,e){const r=t.fovAboveCenter,o=t.elevation?t.elevation.getMinElevationBelowMSL()*e:0,a=(t._camera.position[2]*t.worldSize-o)/Math.cos(t._pitch),c=Math.sin(r)*a/Math.sin(Math.max(Math.PI/2-t._pitch-r,.01)),p=Math.sin(t._pitch)*c+a;return Math.min(1.01*p,a*(1/t._horizonShift))}function y5(t,e){if(!e.isReprojectedInTileSpace)return{scale:1<<t.z,x:t.x,y:t.y,x2:t.x+1,y2:t.y+1,projection:e};const r=Math.pow(2,-t.z),o=t.x*r,a=(t.x+1)*r,c=t.y*r,p=(t.y+1)*r,d=qi(o),m=qi(a),y=ei(c),x=ei(p),b=e.project(d,y),S=e.project(m,y),I=e.project(m,x),E=e.project(d,x);let k=Math.min(b.x,S.x,I.x,E.x),O=Math.min(b.y,S.y,I.y,E.y),H=Math.max(b.x,S.x,I.x,E.x),re=Math.max(b.y,S.y,I.y,E.y);const X=r/16;function te(ae,Pe,Se,Ne,tt,Le){const je=(Se+tt)/2,Ge=(Ne+Le)/2,Ye=e.project(qi(je),ei(Ge)),st=Math.max(0,k-Ye.x,O-Ye.y,Ye.x-H,Ye.y-re);k=Math.min(k,Ye.x),H=Math.max(H,Ye.x),O=Math.min(O,Ye.y),re=Math.max(re,Ye.y),st>X&&(te(ae,Ye,Se,Ne,je,Ge),te(Ye,Pe,je,Ge,tt,Le))}te(b,S,o,c,a,c),te(S,I,a,c,a,p),te(I,E,a,p,o,p),te(E,b,o,p,o,c),k-=X,O-=X,H+=X,re+=X;const le=1/Math.max(H-k,re-O);return{scale:le,x:k*le,y:O*le,x2:H*le,y2:re*le,projection:e}}const y8=_o(new Float32Array(16));class En{constructor(e){this.spec=e,this.name=e.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(e,r){return{x:0,y:0,z:0}}unproject(e,r){return new z4(0,0)}projectTilePoint(e,r,o){return{x:e,y:r,z:0}}locationPoint(e,r,o=!0){return e._coordinatePoint(e.locationCoordinate(r),o)}pixelsPerMeter(e,r){return xo(1,e)*r}pixelSpaceConversion(e,r,o){return 1}farthestPixelDistance(e){return vl(e,e.pixelsPerMeter)}pointCoordinate(e,r,o,a){const c=e.horizonLineFromTop(!1),p=new Te(r,Math.max(c,o));return e.rayIntersectionCoordinate(e.pointRayIntersection(p,a))}pointCoordinate3D(e,r,o){const a=new Te(r,o);if(e.elevation)return e.elevation.pointCoordinate(a);{const c=this.pointCoordinate(e,a.x,a.y,0);return[c.x,c.y,c.z]}}isPointAboveHorizon(e,r){if(e.elevation)return!this.pointCoordinate3D(e,r.x,r.y);const o=e.horizonLineFromTop();return r.y<o}createInversionMatrix(e,r){return y8}createTileMatrix(e,r,o){let a,c,p;const d=o.canonical,m=_o(new Float64Array(16));if(this.isReprojectedInTileSpace){const y=y5(d,this);a=1,c=y.x+o.wrap*y.scale,p=y.y,c5(m,m,[a/y.scale,a/y.scale,e.pixelsPerMeter/r])}else a=r/e.zoomScale(d.z),c=(d.x+Math.pow(2,d.z)*o.wrap)*a,p=d.y*a;return x7(m,m,[c,p,0]),c5(m,m,[a/zt,a/zt,1]),m}upVector(e,r,o){return[0,0,1]}upVectorScale(e,r,o){return{metersToTile:1}}}class _8 extends En{constructor(e){super(e),this.range=[4,7],this.center=e.center||[-96,37.5];const[r,o]=this.parallels=e.parallels||[29.5,45.5],a=Math.sin(qe(r));this.n=(a+Math.sin(qe(o)))/2,this.c=1+a*(2*this.n-a),this.r0=Math.sqrt(this.c)/this.n}project(e,r){const{n:o,c:a,r0:c}=this,p=qe(e-this.center[0]),d=qe(r),m=Math.sqrt(a-2*o*Math.sin(d))/o;return{x:m*Math.sin(p*o),y:m*Math.cos(p*o)-c,z:0}}unproject(e,r){const{n:o,c:a,r0:c}=this,p=c+r;let d=Math.atan2(e,Math.abs(p))*Math.sign(p);p*o<0&&(d-=Math.PI*Math.sign(e)*Math.sign(p));const m=qe(this.center[0])*o;d=xt(d,-Math.PI-m,Math.PI-m);const y=gt(ct(d/o)+this.center[0],-180,180),x=Math.asin(gt((a-(e*e+p*p)*o*o)/(2*o),-1,1)),b=gt(ct(x),-ti,ti);return new z4(y,b)}}const G7=1.340264,q7=-.081106,Z7=893e-6,W7=.003796,ga=Math.sqrt(3)/2;class g8 extends En{project(e,r){r=r/180*Math.PI,e=e/180*Math.PI;const o=Math.asin(ga*Math.sin(r)),a=o*o,c=a*a*a;return{x:.5*(e*Math.cos(o)/(ga*(G7+3*q7*a+c*(7*Z7+9*W7*a)))/Math.PI+.5),y:1-.5*(o*(G7+q7*a+c*(Z7+W7*a))/Math.PI+1),z:0}}unproject(e,r){e=(2*e-.5)*Math.PI;let o=r=(2*(1-r)-1)*Math.PI,a=o*o,c=a*a*a;for(let x,b,S,I=0;I<12&&(b=o*(G7+q7*a+c*(Z7+W7*a))-r,S=G7+3*q7*a+c*(7*Z7+9*W7*a),x=b/S,o=gt(o-x,-Math.PI/3,Math.PI/3),a=o*o,c=a*a*a,!(Math.abs(x)<1e-12));++I);const p=ga*e*(G7+3*q7*a+c*(7*Z7+9*W7*a))/Math.cos(o),d=Math.asin(Math.sin(o)/ga),m=gt(180*p/Math.PI,-180,180),y=gt(180*d/Math.PI,-ti,ti);return new z4(m,y)}}class x8 extends En{constructor(e){super(e),this.wrap=!0,this.supportsWorldCopies=!0}project(e,r){return{x:.5+e/360,y:.5-r/360,z:0}}unproject(e,r){const o=360*(e-.5),a=gt(360*(.5-r),-ti,ti);return new z4(o,a)}}const _s=Math.PI/2;function xa(t){return Math.tan((_s+t)/2)}class v8 extends En{constructor(e){super(e),this.center=e.center||[0,30];const[r,o]=this.parallels=e.parallels||[30,30];let a=qe(r),c=qe(o);this.southernCenter=a+c<0,this.southernCenter&&(a=-a,c=-c);const p=Math.cos(a),d=xa(a);this.n=a===c?Math.sin(a):Math.log(p/Math.cos(c))/Math.log(xa(c)/d),this.f=p*Math.pow(xa(a),this.n)/this.n}project(e,r){r=qe(r),this.southernCenter&&(r=-r),e=qe(e-this.center[0]);const o=1e-6,{n:a,f:c}=this;c>0?r<-_s+o&&(r=-_s+o):r>_s-o&&(r=_s-o);const p=c/Math.pow(xa(r),a);let d=p*Math.sin(a*e),m=c-p*Math.cos(a*e);return d=.5*(d/Math.PI+.5),m=.5*(m/Math.PI+.5),{x:d,y:this.southernCenter?m:1-m,z:0}}unproject(e,r){e=(2*e-.5)*Math.PI,this.southernCenter&&(r=1-r),r=(2*(1-r)-.5)*Math.PI;const{n:o,f:a}=this,c=a-r,p=Math.sign(c),d=Math.sign(o)*Math.sqrt(e*e+c*c);let m=Math.atan2(e,Math.abs(c))*p;c*o<0&&(m-=Math.PI*Math.sign(e)*p);const y=gt(ct(m/o)+this.center[0],-180,180),x=gt(ct(2*Math.atan(Math.pow(a/d,1/o))-_s),-ti,ti);return new z4(y,this.southernCenter?-x:x)}}class bl extends En{constructor(e){super(e),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(e,r){return{x:ko(e),y:Uo(r),z:0}}unproject(e,r){const o=qi(e),a=ei(r);return new z4(o,a)}}const Cl=qe(ti);class b8 extends En{project(e,r){const o=(r=qe(r))*r,a=o*o;return{x:.5*((e=qe(e))*(.8707-.131979*o+a*(a*(.003971*o-.001529*a)-.013791))/Math.PI+.5),y:1-.5*(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))/Math.PI+1),z:0}}unproject(e,r){e=(2*e-.5)*Math.PI;let o=r=(2*(1-r)-1)*Math.PI,a=25,c=0,p=o*o;do{p=o*o;const y=p*p;c=(o*(1.007226+p*(.015085+y*(.028874*p-.044475-.005916*y)))-r)/(1.007226+p*(.045255+y*(.259866*p-.311325-.005916*11*y))),o=gt(o-c,-Cl,Cl)}while(Math.abs(c)>1e-6&&--a>0);p=o*o;const d=gt(ct(e/(.8707+p*(p*(p*p*p*(.003971-.001529*p)-.013791)-.131979))),-180,180),m=ct(o);return new z4(d,m)}}const wl=qe(ti);class C8 extends En{project(e,r){r=qe(r),e=qe(e);const o=Math.cos(r),a=2/Math.PI,c=Math.acos(o*Math.cos(e/2)),p=Math.sin(c)/c,d=.5*(e*a+2*o*Math.sin(e/2)/p)||0,m=.5*(r+Math.sin(r)/p)||0;return{x:.5*(d/Math.PI+.5),y:1-.5*(m/Math.PI+1),z:0}}unproject(e,r){let o=e=(2*e-.5)*Math.PI,a=r=(2*(1-r)-1)*Math.PI,c=25;const p=1e-6;let d=0,m=0;do{const y=Math.cos(a),x=Math.sin(a),b=2*x*y,S=x*x,I=y*y,E=Math.cos(o/2),k=Math.sin(o/2),O=2*E*k,H=k*k,re=1-I*E*E,X=re?1/re:0,te=re?Math.acos(y*E)*Math.sqrt(1/re):0,le=.5*(2*te*y*k+2*o/Math.PI)-e,ae=.5*(te*x+a)-r,Pe=.5*X*(I*H+te*y*E*S)+1/Math.PI,Se=X*(O*b/4-te*x*k),Ne=.125*X*(b*k-te*x*I*O),tt=.5*X*(S*E+te*H*y)+.5,Le=Se*Ne-tt*Pe;d=(ae*Se-le*tt)/Le,m=(le*Ne-ae*Pe)/Le,o=gt(o-d,-Math.PI,Math.PI),a=gt(a-m,-wl,wl)}while((Math.abs(d)>p||Math.abs(m)>p)&&--c>0);return new z4(ct(o),ct(a))}}class Dl extends En{constructor(e){super(e),this.center=e.center||[0,0],this.parallels=e.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(qe(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(e,r){const{scale:o,cosPhi:a}=this;return{x:qe(e)*a*o+.5,y:-Math.sin(qe(r))/a*o+.5,z:0}}unproject(e,r){const{scale:o,cosPhi:a}=this,c=-(r-.5)/o,p=gt(ct((e-.5)/o)/a,-180,180),d=Math.asin(gt(c*a,-1,1)),m=gt(ct(d),-ti,ti);return new z4(p,m)}}class w8 extends bl{constructor(e){super(e),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug"],this.range=[3,5]}projectTilePoint(e,r,o){const a=A7(e,r,o);return gr(a,a,I7(Lo(o))),{x:a[0],y:a[1],z:a[2]}}locationPoint(e,r){const o=rs(r.lat,r.lng),a=di([],o),c=e.elevation?e.elevation.getAtPointOrZero(e.locationCoordinate(r),e._centerAltitude):e._centerAltitude;w7(o,o,a,xo(1,0)*zt*c);const p=_o(new Float64Array(16));return l5(p,e.pixelMatrix,e.globeMatrix),gr(o,o,p),new Te(o[0],o[1])}pixelsPerMeter(e,r){return xo(1,0)*r}pixelSpaceConversion(e,r,o){const a=xo(1,e)*r,c=u4(xo(1,45)*r,a,o);return this.pixelsPerMeter(e,r)/c}createTileMatrix(e,r,o){const a=D1(Lo(o.canonical));return l5(new Float64Array(16),e.globeMatrix,a)}createInversionMatrix(e,r){const{center:o}=e,a=I7(Lo(r));return H3(a,a,qe(o.lng)),f1(a,a,qe(o.lat)),c5(a,a,[e._pixelsPerMercatorPixel,e._pixelsPerMercatorPixel,1]),Float32Array.from(a)}pointCoordinate(e,r,o,a){return J9(e,r,o,!0)||new os(0,0)}pointCoordinate3D(e,r,o){const a=this.pointCoordinate(e,r,o,0);return[a.x,a.y,a.z]}isPointAboveHorizon(e,r){return!J9(e,r.x,r.y,!1)}farthestPixelDistance(e){const r=function(a,c){const p=a.cameraToCenterDistance,d=a._centerAltitude*c,m=a._camera,y=a._camera.forward(),x=Qo([],Gi([],y,-p),[0,0,d]),b=a.worldSize/(2*Math.PI),S=[0,0,-b],I=a.width/a.height,E=Math.tan(a.fovAboveCenter),k=Gi([],m.up(),E),O=Gi([],m.right(),E*I),H=di([],Qo([],Qo([],y,k),O)),re=[];let X;if(new g1(x,H).closestPointOnSphere(S,b,re)){const te=Qo([],re,S),le=go([],te,x);X=Math.cos(a.fovAboveCenter)*v7(le)}else{const te=go([],x,S),le=go([],S,x);di(le,le);const ae=v7(te)-b;X=Math.sqrt(ae*(ae+2*b));const Pe=Math.acos(X/(b+ae))-Math.acos(ro(y,le));X*=Math.cos(Pe)}return 1.01*X}(e,this.pixelsPerMeter(e.center.lat,e.worldSize)),o=is(e.zoom);if(o>0){const a=vl(e,xo(1,e.center.lat)*e.worldSize),c=e.worldSize/(2*Math.PI),p=Math.max(e.width,e.height)/e.worldSize*Math.PI;return u4(r,a+c*(1-Math.cos(p)),Math.pow(o,10))}return r}upVector(e,r,o){return A7(r,o,e,1)}upVectorScale(e){return{metersToTile:X3(K3(Lo(e)))}}}function Sl(t){const e=t.parallels,r=!!e&&Math.abs(e[0]+e[1])<.01;switch(t.name){case"mercator":return new bl(t);case"equirectangular":return new x8(t);case"naturalEarth":return new b8(t);case"equalEarth":return new g8(t);case"winkelTripel":return new C8(t);case"albers":return r?new Dl(t):new _8(t);case"lambertConformalConic":return r?new Dl(t):new v8(t);case"globe":return new w8(t)}throw new Error(`Invalid projection name: ${t.name}`)}const D8=sa.types,S8=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function va(t,e,r,o,a,c,p,d,m,y,x,b,S){const I=d?Math.min(In,Math.round(d[0])):0,E=d?Math.min(In,Math.round(d[1])):0;t.emplaceBack(e,r,Math.round(32*o),Math.round(32*a),c,p,(I<<1)+(m?1:0),E,16*y,16*x,256*b,256*S)}function ba(t,e,r,o,a,c,p){t.emplaceBack(e,r,o,a,c,p)}function Ca(t,e,r,o,a){t.emplaceBack(e,r,o,a),t.emplaceBack(e,r,o,a),t.emplaceBack(e,r,o,a),t.emplaceBack(e,r,o,a)}function M8(t){for(const e of t.sections)if(c1(e.text))return!0;return!1}class t9{constructor(e){this.layoutVertexArray=new We,this.indexArray=new Tt,this.programConfigurations=e,this.segments=new br,this.dynamicLayoutVertexArray=new Je,this.opacityVertexArray=new Ft,this.placedSymbolArray=new vr,this.globeExtVertexArray=new nt}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(e,r,o,a){this.isEmpty()||(o&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,kc.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,r),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,zc.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,S8,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=e.createVertexBuffer(this.globeExtVertexArray,Uc.members,!0)),this.opacityVertexBuffer.itemSize=1),(o||a)&&this.programConfigurations.upload(e))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}}Ct(t9,"SymbolBuffers");class r9{constructor(e,r,o){this.layoutVertexArray=new e,this.layoutAttributes=r,this.indexArray=new o,this.segments=new br,this.collisionVertexArray=new n4,this.collisionVertexArrayExt=new r4}upload(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,Rc.members,!0),this.collisionVertexBufferExt=e.createVertexBuffer(this.collisionVertexArrayExt,Bc.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}Ct(r9,"CollisionBuffers");class Pn{constructor(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(p=>p.id),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=_o([]),this.placementViewportMatrix=_o([]);const r=this.layers[0]._unevaluatedLayout._values;this.textSizeData=q1(this.zoom,r["text-size"]),this.iconSizeData=q1(this.zoom,r["icon-size"]);const o=this.layers[0].layout,a=o.get("symbol-sort-key"),c=o.get("symbol-z-order");this.canOverlap=o.get("text-allow-overlap")||o.get("icon-allow-overlap")||o.get("text-ignore-placement")||o.get("icon-ignore-placement"),this.sortFeaturesByKey=c!=="viewport-y"&&a.constantOr(1)!==void 0,this.sortFeaturesByY=(c==="viewport-y"||c==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=o.get("text-writing-mode").map(p=>Zi[p]),this.stateDependentLayerIds=this.layers.filter(p=>p.isStateDependent()).map(p=>p.id),this.sourceID=e.sourceID,this.projection=e.projection}createArrays(){this.text=new t9(new a5(this.layers,this.zoom,e=>/^text/.test(e))),this.icon=new t9(new a5(this.layers,this.zoom,e=>/^icon/.test(e))),this.glyphOffsetArray=new hi,this.lineVertexArray=new J5,this.symbolInstances=new X4}calculateGlyphDependencies(e,r,o,a,c){for(let p=0;p<e.length;p++)if(r[e.charCodeAt(p)]=!0,a&&c){const d=N7[e.charAt(p)];d&&(r[d.charCodeAt(0)]=!0)}}populate(e,r,o,a){const c=this.layers[0],p=c.layout,d=this.projection.name==="globe",m=p.get("text-font"),y=p.get("text-field"),x=p.get("icon-image"),b=(y.value.kind!=="constant"||y.value.value instanceof pi&&!y.value.value.isEmpty()||y.value.value.toString().length>0)&&(m.value.kind!=="constant"||m.value.value.length>0),S=x.value.kind!=="constant"||!!x.value.value||Object.keys(x.parameters).length>0,I=p.get("symbol-sort-key");if(this.features=[],!b&&!S)return;const E=r.iconDependencies,k=r.glyphDependencies,O=r.availableImages,H=new v(this.zoom);for(const{feature:re,id:X,index:te,sourceLayerIndex:le}of e){const ae=c._featureFilter.needGeometry,Pe=d5(re,ae);if(!c._featureFilter.filter(H,Pe,o))continue;if(ae||(Pe.geometry=en(re,o,a)),d&&re.type!==1&&o.z<=5){const Le=Pe.geometry,je=.98078528056,Ge=(Ye,st)=>ro(A7(Ye.x,Ye.y,o,1),A7(st.x,st.y,o,1))<je;for(let Ye=0;Ye<Le.length;Ye++)Le[Ye]=z0(Le[Ye],Ge)}let Se,Ne;if(b){const Le=c.getValueAndResolveTokens("text-field",Pe,o,O),je=pi.factory(Le);M8(je)&&(this.hasRTLText=!0),(!this.hasRTLText||f()==="unavailable"||this.hasRTLText&&g.isParsed())&&(Se=Vc(je,c,Pe))}if(S){const Le=c.getValueAndResolveTokens("icon-image",Pe,o,O);Ne=Le instanceof Ai?Le:Ai.fromString(Le)}if(!Se&&!Ne)continue;const tt=this.sortFeaturesByKey?I.evaluate(Pe,{},o):void 0;if(this.features.push({id:X,text:Se,icon:Ne,index:te,sourceLayerIndex:le,geometry:Pe.geometry,properties:re.properties,type:D8[re.type],sortKey:tt}),Ne&&(E[Ne.name]=!0),Se){const Le=m.evaluate(Pe,{},o).join(","),je=p.get("text-rotation-alignment")==="map"&&p.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Zi.vertical)>=0;for(const Ge of Se.sections)if(Ge.image)E[Ge.image.name]=!0;else{const Ye=h7(Se.toString()),st=Ge.fontStack||Le,Be=k[st]=k[st]||{};this.calculateGlyphDependencies(Ge.text,Be,je,this.allowVerticalPlacement,Ye)}}}p.get("symbol-placement")==="line"&&(this.features=function(re){const X={},te={},le=[];let ae=0;function Pe(Le){le.push(re[Le]),ae++}function Se(Le,je,Ge){const Ye=te[Le];return delete te[Le],te[je]=Ye,le[Ye].geometry[0].pop(),le[Ye].geometry[0]=le[Ye].geometry[0].concat(Ge[0]),Ye}function Ne(Le,je,Ge){const Ye=X[je];return delete X[je],X[Le]=Ye,le[Ye].geometry[0].shift(),le[Ye].geometry[0]=Ge[0].concat(le[Ye].geometry[0]),Ye}function tt(Le,je,Ge){const Ye=Ge?je[0][je[0].length-1]:je[0][0];return`${Le}:${Ye.x}:${Ye.y}`}for(let Le=0;Le<re.length;Le++){const je=re[Le],Ge=je.geometry,Ye=je.text?je.text.toString():null;if(!Ye){Pe(Le);continue}const st=tt(Ye,Ge),Be=tt(Ye,Ge,!0);if(st in te&&Be in X&&te[st]!==X[Be]){const ht=Ne(st,Be,Ge),Mt=Se(st,Be,le[ht].geometry);delete X[st],delete te[Be],te[tt(Ye,le[Mt].geometry,!0)]=Mt,le[ht].geometry=null}else st in te?Se(st,Be,Ge):Be in X?Ne(st,Be,Ge):(Pe(Le),X[st]=ae-1,te[Be]=ae-1)}return le.filter(Le=>Le.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((re,X)=>re.sortKey-X.sortKey)}update(e,r,o,a){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,r,this.layers,o,a),this.icon.programConfigurations.updatePaintArrays(e,r,this.layers,o,a))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=Sl(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(e,r){const o=this.lineVertexArray.length;if(e.segment!==void 0)for(const{x:a,y:c}of r)this.lineVertexArray.emplaceBack(a,c);return{lineStartIndex:o,lineLength:this.lineVertexArray.length-o}}addSymbols(e,r,o,a,c,p,d,m,y,x,b,S,I,E){const k=e.indexArray,O=e.layoutVertexArray,H=e.globeExtVertexArray,re=e.segments.prepareSegment(4*r.length,O,k,this.canOverlap?p.sortKey:void 0),X=this.glyphOffsetArray.length,te=re.vertexLength,le=this.allowVerticalPlacement&&d===Zi.vertical?Math.PI/2:0,ae=p.text&&p.text.sections;for(let Se=0;Se<r.length;Se++){const{tl:Ne,tr:tt,bl:Le,br:je,tex:Ge,pixelOffsetTL:Ye,pixelOffsetBR:st,minFontScaleX:Be,minFontScaleY:ht,glyphOffset:Mt,isSDF:dt,sectionIndex:Ht}=r[Se],at=re.vertexLength,Lt=Mt[1];if(va(O,y.x,y.y,Ne.x,Lt+Ne.y,Ge.x,Ge.y,o,dt,Ye.x,Ye.y,Be,ht),va(O,y.x,y.y,tt.x,Lt+tt.y,Ge.x+Ge.w,Ge.y,o,dt,st.x,Ye.y,Be,ht),va(O,y.x,y.y,Le.x,Lt+Le.y,Ge.x,Ge.y+Ge.h,o,dt,Ye.x,st.y,Be,ht),va(O,y.x,y.y,je.x,Lt+je.y,Ge.x+Ge.w,Ge.y+Ge.h,o,dt,st.x,st.y,Be,ht),m){const{x:Xt,y:_4,z:Yt}=m.anchor,[Bt,Z4,Jt]=m.up;ba(H,Xt,_4,Yt,Bt,Z4,Jt),ba(H,Xt,_4,Yt,Bt,Z4,Jt),ba(H,Xt,_4,Yt,Bt,Z4,Jt),ba(H,Xt,_4,Yt,Bt,Z4,Jt),Ca(e.dynamicLayoutVertexArray,Xt,_4,Yt,le)}else Ca(e.dynamicLayoutVertexArray,y.x,y.y,y.z,le);k.emplaceBack(at,at+1,at+2),k.emplaceBack(at+1,at+2,at+3),re.vertexLength+=4,re.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Mt[0]),Se!==r.length-1&&Ht===r[Se+1].sectionIndex||e.programConfigurations.populatePaintArrays(O.length,p,p.index,{},I,E,ae&&ae[Ht])}const Pe=m?m.anchor:y;e.placedSymbolArray.emplaceBack(Pe.x,Pe.y,Pe.z,y.x,y.y,X,this.glyphOffsetArray.length-X,te,x,b,y.segment,o?o[0]:0,o?o[1]:0,a[0],a[1],d,0,!1,0,S,0)}_commitLayoutVertex(e,r,o,a,c,p,d){e.emplaceBack(r,o,a,c,p,Math.round(d.x),Math.round(d.y))}_addCollisionDebugVertices(e,r,o,a,c,p,d){const m=o.segments.prepareSegment(4,o.layoutVertexArray,o.indexArray),y=m.vertexLength,x=d.tileAnchorX,b=d.tileAnchorY;for(let I=0;I<4;I++)o.collisionVertexArray.emplaceBack(0,0,0,0);o.collisionVertexArrayExt.emplaceBack(r,-e.padding,-e.padding),o.collisionVertexArrayExt.emplaceBack(r,e.padding,-e.padding),o.collisionVertexArrayExt.emplaceBack(r,e.padding,e.padding),o.collisionVertexArrayExt.emplaceBack(r,-e.padding,e.padding),this._commitLayoutVertex(o.layoutVertexArray,a,c,p,x,b,new Te(e.x1,e.y1)),this._commitLayoutVertex(o.layoutVertexArray,a,c,p,x,b,new Te(e.x2,e.y1)),this._commitLayoutVertex(o.layoutVertexArray,a,c,p,x,b,new Te(e.x2,e.y2)),this._commitLayoutVertex(o.layoutVertexArray,a,c,p,x,b,new Te(e.x1,e.y2)),m.vertexLength+=4;const S=o.indexArray;S.emplaceBack(y,y+1),S.emplaceBack(y+1,y+2),S.emplaceBack(y+2,y+3),S.emplaceBack(y+3,y),m.primitiveLength+=4}_addTextDebugCollisionBoxes(e,r,o,a,c,p){for(let d=a;d<c;d++){const m=o.get(d),y=this.getSymbolInstanceTextSize(e,p,r,d);this._addCollisionDebugVertices(m,y,this.textCollisionBox,m.projectedAnchorX,m.projectedAnchorY,m.projectedAnchorZ,p)}}_addIconDebugCollisionBoxes(e,r,o,a,c,p){for(let d=a;d<c;d++){const m=o.get(d),y=this.getSymbolInstanceIconSize(e,r,p.placedIconSymbolIndex);this._addCollisionDebugVertices(m,y,this.iconCollisionBox,m.projectedAnchorX,m.projectedAnchorY,m.projectedAnchorZ,p)}}generateCollisionDebugBuffers(e,r){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new r9(St,q6.members,zr),this.iconCollisionBox=new r9(St,q6.members,zr);const o=cs(this.iconSizeData,e),a=cs(this.textSizeData,e);for(let c=0;c<this.symbolInstances.length;c++){const p=this.symbolInstances.get(c);this._addTextDebugCollisionBoxes(a,e,r,p.textBoxStartIndex,p.textBoxEndIndex,p),this._addTextDebugCollisionBoxes(a,e,r,p.verticalTextBoxStartIndex,p.verticalTextBoxEndIndex,p),this._addIconDebugCollisionBoxes(o,e,r,p.iconBoxStartIndex,p.iconBoxEndIndex,p),this._addIconDebugCollisionBoxes(o,e,r,p.verticalIconBoxStartIndex,p.verticalIconBoxEndIndex,p)}}getSymbolInstanceTextSize(e,r,o,a){const c=this.text.placedSymbolArray.get(r.rightJustifiedTextSymbolIndex>=0?r.rightJustifiedTextSymbolIndex:r.centerJustifiedTextSymbolIndex>=0?r.centerJustifiedTextSymbolIndex:r.leftJustifiedTextSymbolIndex>=0?r.leftJustifiedTextSymbolIndex:r.verticalPlacedTextSymbolIndex>=0?r.verticalPlacedTextSymbolIndex:a),p=ua(this.textSizeData,e,c)/Xr;return this.tilePixelRatio*p}getSymbolInstanceIconSize(e,r,o){const a=this.icon.placedSymbolArray.get(o),c=ua(this.iconSizeData,e,a);return this.tilePixelRatio*c}_commitDebugCollisionVertexUpdate(e,r,o){e.emplaceBack(r,-o,-o),e.emplaceBack(r,o,-o),e.emplaceBack(r,o,o),e.emplaceBack(r,-o,o)}_updateTextDebugCollisionBoxes(e,r,o,a,c,p){for(let d=a;d<c;d++){const m=o.get(d),y=this.getSymbolInstanceTextSize(e,p,r,d);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,y,m.padding)}}_updateIconDebugCollisionBoxes(e,r,o,a,c,p){for(let d=a;d<c;d++){const m=o.get(d),y=this.getSymbolInstanceIconSize(e,r,p);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,y,m.padding)}}updateCollisionDebugBuffers(e,r){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const o=cs(this.iconSizeData,e),a=cs(this.textSizeData,e);for(let c=0;c<this.symbolInstances.length;c++){const p=this.symbolInstances.get(c);this._updateTextDebugCollisionBoxes(a,e,r,p.textBoxStartIndex,p.textBoxEndIndex,p),this._updateTextDebugCollisionBoxes(a,e,r,p.verticalTextBoxStartIndex,p.verticalTextBoxEndIndex,p),this._updateIconDebugCollisionBoxes(o,e,r,p.iconBoxStartIndex,p.iconBoxEndIndex,p.placedIconSymbolIndex),this._updateIconDebugCollisionBoxes(o,e,r,p.verticalIconBoxStartIndex,p.verticalIconBoxEndIndex,p.placedIconSymbolIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(e,r,o,a,c,p,d,m,y){const x={};if(r<o){const{x1:b,y1:S,x2:I,y2:E,padding:k,projectedAnchorX:O,projectedAnchorY:H,projectedAnchorZ:re,tileAnchorX:X,tileAnchorY:te,featureIndex:le}=e.get(r);x.textBox={x1:b,y1:S,x2:I,y2:E,padding:k,projectedAnchorX:O,projectedAnchorY:H,projectedAnchorZ:re,tileAnchorX:X,tileAnchorY:te},x.textFeatureIndex=le}if(a<c){const{x1:b,y1:S,x2:I,y2:E,padding:k,projectedAnchorX:O,projectedAnchorY:H,projectedAnchorZ:re,tileAnchorX:X,tileAnchorY:te,featureIndex:le}=e.get(a);x.verticalTextBox={x1:b,y1:S,x2:I,y2:E,padding:k,projectedAnchorX:O,projectedAnchorY:H,projectedAnchorZ:re,tileAnchorX:X,tileAnchorY:te},x.verticalTextFeatureIndex=le}if(p<d){const{x1:b,y1:S,x2:I,y2:E,padding:k,projectedAnchorX:O,projectedAnchorY:H,projectedAnchorZ:re,tileAnchorX:X,tileAnchorY:te,featureIndex:le}=e.get(p);x.iconBox={x1:b,y1:S,x2:I,y2:E,padding:k,projectedAnchorX:O,projectedAnchorY:H,projectedAnchorZ:re,tileAnchorX:X,tileAnchorY:te},x.iconFeatureIndex=le}if(m<y){const{x1:b,y1:S,x2:I,y2:E,padding:k,projectedAnchorX:O,projectedAnchorY:H,projectedAnchorZ:re,tileAnchorX:X,tileAnchorY:te,featureIndex:le}=e.get(m);x.verticalIconBox={x1:b,y1:S,x2:I,y2:E,padding:k,projectedAnchorX:O,projectedAnchorY:H,projectedAnchorZ:re,tileAnchorX:X,tileAnchorY:te},x.verticalIconFeatureIndex=le}return x}deserializeCollisionBoxes(e){this.collisionArrays=[];for(let r=0;r<this.symbolInstances.length;r++){const o=this.symbolInstances.get(r);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,o.textBoxStartIndex,o.textBoxEndIndex,o.verticalTextBoxStartIndex,o.verticalTextBoxEndIndex,o.iconBoxStartIndex,o.iconBoxEndIndex,o.verticalIconBoxStartIndex,o.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(e,r){const o=e.placedSymbolArray.get(r),a=o.vertexStartIndex+4*o.numGlyphs;for(let c=o.vertexStartIndex;c<a;c+=4)e.indexArray.emplaceBack(c,c+1,c+2),e.indexArray.emplaceBack(c+1,c+2,c+3)}getSortedSymbolIndexes(e){if(this.sortedAngle===e&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const r=Math.sin(e),o=Math.cos(e),a=[],c=[],p=[];for(let d=0;d<this.symbolInstances.length;++d){p.push(d);const m=this.symbolInstances.get(d);a.push(0|Math.round(r*m.tileAnchorX+o*m.tileAnchorY)),c.push(m.featureIndex)}return p.sort((d,m)=>a[d]-a[m]||c[m]-c[d]),p}addToSortKeyRanges(e,r){const o=this.sortKeyRanges[this.sortKeyRanges.length-1];o&&o.sortKey===r?o.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:r,symbolInstanceStart:e,symbolInstanceEnd:e+1})}sortFeatures(e){if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const r of this.symbolInstanceIndexes){const o=this.symbolInstances.get(r);this.featureSortOrder.push(o.featureIndex);const{rightJustifiedTextSymbolIndex:a,centerJustifiedTextSymbolIndex:c,leftJustifiedTextSymbolIndex:p,verticalPlacedTextSymbolIndex:d,placedIconSymbolIndex:m,verticalPlacedIconSymbolIndex:y}=o;a>=0&&this.addIndicesForPlacedSymbol(this.text,a),c>=0&&c!==a&&this.addIndicesForPlacedSymbol(this.text,c),p>=0&&p!==c&&p!==a&&this.addIndicesForPlacedSymbol(this.text,p),d>=0&&this.addIndicesForPlacedSymbol(this.text,d),m>=0&&this.addIndicesForPlacedSymbol(this.icon,m),y>=0&&this.addIndicesForPlacedSymbol(this.icon,y)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}Ct(Pn,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),Pn.MAX_GLYPHS=65535,Pn.addDynamicAttributes=Ca;const A8=new $({"symbol-placement":new L(Ue.layout_symbol["symbol-placement"]),"symbol-spacing":new L(Ue.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new L(Ue.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new V(Ue.layout_symbol["symbol-sort-key"]),"symbol-z-order":new L(Ue.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new L(Ue.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new L(Ue.layout_symbol["icon-ignore-placement"]),"icon-optional":new L(Ue.layout_symbol["icon-optional"]),"icon-rotation-alignment":new L(Ue.layout_symbol["icon-rotation-alignment"]),"icon-size":new V(Ue.layout_symbol["icon-size"]),"icon-text-fit":new L(Ue.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new L(Ue.layout_symbol["icon-text-fit-padding"]),"icon-image":new V(Ue.layout_symbol["icon-image"]),"icon-rotate":new V(Ue.layout_symbol["icon-rotate"]),"icon-padding":new L(Ue.layout_symbol["icon-padding"]),"icon-keep-upright":new L(Ue.layout_symbol["icon-keep-upright"]),"icon-offset":new V(Ue.layout_symbol["icon-offset"]),"icon-anchor":new V(Ue.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new L(Ue.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new L(Ue.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new L(Ue.layout_symbol["text-rotation-alignment"]),"text-field":new V(Ue.layout_symbol["text-field"]),"text-font":new V(Ue.layout_symbol["text-font"]),"text-size":new V(Ue.layout_symbol["text-size"]),"text-max-width":new V(Ue.layout_symbol["text-max-width"]),"text-line-height":new V(Ue.layout_symbol["text-line-height"]),"text-letter-spacing":new V(Ue.layout_symbol["text-letter-spacing"]),"text-justify":new V(Ue.layout_symbol["text-justify"]),"text-radial-offset":new V(Ue.layout_symbol["text-radial-offset"]),"text-variable-anchor":new L(Ue.layout_symbol["text-variable-anchor"]),"text-anchor":new V(Ue.layout_symbol["text-anchor"]),"text-max-angle":new L(Ue.layout_symbol["text-max-angle"]),"text-writing-mode":new L(Ue.layout_symbol["text-writing-mode"]),"text-rotate":new V(Ue.layout_symbol["text-rotate"]),"text-padding":new L(Ue.layout_symbol["text-padding"]),"text-keep-upright":new L(Ue.layout_symbol["text-keep-upright"]),"text-transform":new V(Ue.layout_symbol["text-transform"]),"text-offset":new V(Ue.layout_symbol["text-offset"]),"text-allow-overlap":new L(Ue.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new L(Ue.layout_symbol["text-ignore-placement"]),"text-optional":new L(Ue.layout_symbol["text-optional"])});var i9={paint:new $({"icon-opacity":new V(Ue.paint_symbol["icon-opacity"]),"icon-color":new V(Ue.paint_symbol["icon-color"]),"icon-halo-color":new V(Ue.paint_symbol["icon-halo-color"]),"icon-halo-width":new V(Ue.paint_symbol["icon-halo-width"]),"icon-halo-blur":new V(Ue.paint_symbol["icon-halo-blur"]),"icon-translate":new L(Ue.paint_symbol["icon-translate"]),"icon-translate-anchor":new L(Ue.paint_symbol["icon-translate-anchor"]),"text-opacity":new V(Ue.paint_symbol["text-opacity"]),"text-color":new V(Ue.paint_symbol["text-color"],{runtimeType:Zr,getOverride:t=>t.textColor,hasOverride:t=>!!t.textColor}),"text-halo-color":new V(Ue.paint_symbol["text-halo-color"]),"text-halo-width":new V(Ue.paint_symbol["text-halo-width"]),"text-halo-blur":new V(Ue.paint_symbol["text-halo-blur"]),"text-translate":new L(Ue.paint_symbol["text-translate"]),"text-translate-anchor":new L(Ue.paint_symbol["text-translate-anchor"])}),layout:A8};class Ml{constructor(e){this.type=e.property.overrides?e.property.overrides.runtimeType:Ji,this.defaultValue=e}evaluate(e){if(e.formattedSection){const r=this.defaultValue.property.overrides;if(r&&r.hasOverride(e.formattedSection))return r.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default}eachChild(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Ct(Ml,"FormatSectionOverride",{omit:["defaultValue"]});class wa extends yo{constructor(e){super(e,i9)}recalculate(e,r){super.recalculate(e,r),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const o=this.layout.get("text-writing-mode");if(o){const a=[];for(const c of o)a.indexOf(c)<0&&a.push(c);this.layout._values["text-writing-mode"]=a}else this.layout._values["text-writing-mode"]=this.layout.get("symbol-placement")==="point"?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(e,r,o,a){const c=this.layout.get(e).evaluate(r,{},o,a),p=this._unevaluatedLayout._values[e];return p.isDataDriven()||gn(p.value)||!c?c:function(d,m){return m.replace(/{([^{}]+)}/g,(y,x)=>x in d?String(d[x]):"")}(r.properties,c)}createBucket(e){return new Pn(e)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const e of i9.paint.overridableProperties){if(!wa.hasPaintOverride(this.layout,e))continue;const r=this.paint.get(e),o=new Ml(r),a=new G5(o,r.property.specification);let c=null;c=r.value.kind==="constant"||r.value.kind==="source"?new t7("source",a):new $n("composite",a,r.value.zoomStops,r.value._interpolationType),this.paint._values[e]=new q(r.property,c,r.parameters)}}_handleOverridablePaintPropertyUpdate(e,r,o){return!(!this.layout||r.isDataDriven()||o.isDataDriven())&&wa.hasPaintOverride(this.layout,e)}static hasPaintOverride(e,r){const o=e.get("text-field"),a=i9.paint.properties[r];let c=!1;const p=d=>{for(const m of d)if(a.overrides&&a.overrides.hasOverride(m))return void(c=!0)};if(o.value.kind==="constant"&&o.value.value instanceof pi)p(o.value.value.sections);else if(o.value.kind==="source"){const d=y=>{c||(y instanceof jo&&pr(y.value)===kr?p(y.value.sections):y instanceof Eo?p(y.sections):y.eachChild(d))},m=o.value;m._styleExpression&&d(m._styleExpression.expression)}return c}getProgramConfiguration(e){return new Sn(this,e)}}var I8={paint:new $({"background-color":new L(Ue.paint_background["background-color"]),"background-pattern":new L(Ue.paint_background["background-pattern"]),"background-opacity":new L(Ue.paint_background["background-opacity"])})},E8={paint:new $({"raster-opacity":new L(Ue.paint_raster["raster-opacity"]),"raster-hue-rotate":new L(Ue.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new L(Ue.paint_raster["raster-brightness-min"]),"raster-brightness-max":new L(Ue.paint_raster["raster-brightness-max"]),"raster-saturation":new L(Ue.paint_raster["raster-saturation"]),"raster-contrast":new L(Ue.paint_raster["raster-contrast"]),"raster-resampling":new L(Ue.paint_raster["raster-resampling"]),"raster-fade-duration":new L(Ue.paint_raster["raster-fade-duration"])})};class P8 extends yo{constructor(e){super(e,{}),this.implementation=e}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}isLayerDraped(){return this.implementation.renderToTile!==void 0}shouldRedrape(){return!!this.implementation.shouldRerenderTiles&&this.implementation.shouldRerenderTiles()}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(e){this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)}onRemove(e){this.implementation.onRemove&&this.implementation.onRemove(e,e.painter.context.gl)}}var T8={paint:new $({"sky-type":new L(Ue.paint_sky["sky-type"]),"sky-atmosphere-sun":new L(Ue.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new L(Ue.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new L(Ue.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new L(Ue.paint_sky["sky-gradient-radius"]),"sky-gradient":new K(Ue.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new L(Ue.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new L(Ue.paint_sky["sky-atmosphere-color"]),"sky-opacity":new L(Ue.paint_sky["sky-opacity"])})};function o9(t,e,r){const o=[0,0,1],a=Z9([]);return H9(a,a,r?-qe(t)+Math.PI:qe(t)),W9(a,a,-qe(e)),V9(o,o,a),di(o,o)}const F8={circle:class extends yo{constructor(t){super(t,G0)}createBucket(t){return new P1(t)}queryRadius(t){const e=t;return ns("circle-radius",this,e)+ns("circle-stroke-width",this,e)+Q3(this.paint.get("circle-translate"))}queryIntersectsFeature(t,e,r,o,a,c,p,d){const m=m6(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),c.angle,t.pixelToTileUnitsFactor),y=this.paint.get("circle-radius").evaluate(e,r)+this.paint.get("circle-stroke-width").evaluate(e,r);return y6(t,o,c,p,d,this.paint.get("circle-pitch-alignment")==="map",this.paint.get("circle-pitch-scale")==="map",m,y)}getProgramIds(){return["circle"]}getProgramConfiguration(t){return new Sn(this,t)}},heatmap:class extends yo{createBucket(t){return new g6(t)}constructor(t){super(t,H0),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(t){t==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=k1({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(t){return ns("heatmap-radius",this,t)}queryIntersectsFeature(t,e,r,o,a,c,p,d){const m=this.paint.get("heatmap-radius").evaluate(e,r);return y6(t,o,c,p,d,!0,!0,new Te(0,0),m)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(t){return new Sn(this,t)}},hillshade:class extends yo{constructor(t){super(t,X0)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}getProgramIds(){return["hillshade","hillshadePrepare"]}},fill:class extends yo{constructor(t){super(t,uc)}getProgramIds(){const t=this.paint.get("fill-pattern"),e=t&&t.constantOr(1),r=[e?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&r.push(e&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),r}getProgramConfiguration(t){return new Sn(this,t)}recalculate(t,e){super.recalculate(t,e);const r=this.paint._values["fill-outline-color"];r.value.kind==="constant"&&r.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(t){return new oa(t)}queryRadius(){return Q3(this.paint.get("fill-translate"))}queryIntersectsFeature(t,e,r,o,a,c){return!t.queryGeometry.isAboveHorizon&&u6(f6(t.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),c.angle,t.pixelToTileUnitsFactor),o)}isTileClipped(){return!0}},"fill-extrusion":class extends yo{constructor(t){super(t,Mc)}createBucket(t){return new z7(t)}queryRadius(){return Q3(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(t){return new Sn(this,t)}queryIntersectsFeature(t,e,r,o,a,c,p,d,m){const y=m6(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),c.angle,t.pixelToTileUnitsFactor),x=this.paint.get("fill-extrusion-height").evaluate(e,r),b=this.paint.get("fill-extrusion-base").evaluate(e,r),S=[0,0],I=d&&c.elevation,E=c.elevation?c.elevation.exaggeration():1,k=t.tile.getBucket(this);if(I&&k instanceof z7){const te=k.centroidVertexArray,le=m+1;le<te.length&&(S[0]=te.geta_centroid_pos0(le),S[1]=te.geta_centroid_pos1(le))}if(S[0]===0&&S[1]===1)return!1;c.projection.name==="globe"&&(o=z6([o],[new Te(0,0),new Te(zt,zt)],t.tileID.canonical).map(te=>te.polygon).flat());const O=I?d:null,[H,re]=function(te,le,ae,Pe,Se,Ne,tt,Le,je,Ge,Ye){return te.projection.name==="globe"?function(st,Be,ht,Mt,dt,Ht,at,Lt,Xt,_4,Yt){const Bt=[],Z4=[],Jt=st.projection.upVectorScale(Yt,st.center.lat,st.worldSize).metersToTile,$t=[0,0,0,1],R4=[0,0,0,1],j4=(B4,or,hr,wr)=>{B4[0]=or,B4[1]=hr,B4[2]=wr,B4[3]=1},G4=U6();ht>0&&(ht+=G4),Mt+=G4;for(const B4 of Be){const or=[],hr=[];for(const wr of B4){const N4=wr.x+dt.x,Ar=wr.y+dt.y,Dr=st.projection.projectTilePoint(N4,Ar,Yt),lr=st.projection.upVector(Yt,wr.x,wr.y);let v4=ht,Sr=Mt;if(at){const q4=O6(N4,Ar,ht,Mt,at,Lt,Xt,_4);v4+=q4.base,Sr+=q4.top}ht!==0?j4($t,Dr.x+lr[0]*Jt*v4,Dr.y+lr[1]*Jt*v4,Dr.z+lr[2]*Jt*v4):j4($t,Dr.x,Dr.y,Dr.z),j4(R4,Dr.x+lr[0]*Jt*Sr,Dr.y+lr[1]*Jt*Sr,Dr.z+lr[2]*Jt*Sr),gr($t,$t,Ht),gr(R4,R4,Ht),or.push(new ls($t[0],$t[1],$t[2])),hr.push(new ls(R4[0],R4[1],R4[2]))}Bt.push(or),Z4.push(hr)}return[Bt,Z4]}(te,le,ae,Pe,Se,Ne,tt,Le,je,Ge,Ye):tt?function(st,Be,ht,Mt,dt,Ht,at,Lt,Xt){const _4=[],Yt=[],Bt=[0,0,0,1];for(const Z4 of st){const Jt=[],$t=[];for(const R4 of Z4){const j4=R4.x+Mt.x,G4=R4.y+Mt.y,B4=O6(j4,G4,Be,ht,Ht,at,Lt,Xt);Bt[0]=j4,Bt[1]=G4,Bt[2]=B4.base,Bt[3]=1,u5(Bt,Bt,dt),Bt[3]=Math.max(Bt[3],1e-5);const or=new ls(Bt[0]/Bt[3],Bt[1]/Bt[3],Bt[2]/Bt[3]);Bt[0]=j4,Bt[1]=G4,Bt[2]=B4.top,Bt[3]=1,u5(Bt,Bt,dt),Bt[3]=Math.max(Bt[3],1e-5);const hr=new ls(Bt[0]/Bt[3],Bt[1]/Bt[3],Bt[2]/Bt[3]);Jt.push(or),$t.push(hr)}_4.push(Jt),Yt.push($t)}return[_4,Yt]}(le,ae,Pe,Se,Ne,tt,Le,je,Ge):function(st,Be,ht,Mt,dt){const Ht=[],at=[],Lt=dt[8]*Be,Xt=dt[9]*Be,_4=dt[10]*Be,Yt=dt[11]*Be,Bt=dt[8]*ht,Z4=dt[9]*ht,Jt=dt[10]*ht,$t=dt[11]*ht;for(const R4 of st){const j4=[],G4=[];for(const B4 of R4){const or=B4.x+Mt.x,hr=B4.y+Mt.y,wr=dt[0]*or+dt[4]*hr+dt[12],N4=dt[1]*or+dt[5]*hr+dt[13],Ar=dt[2]*or+dt[6]*hr+dt[14],Dr=dt[3]*or+dt[7]*hr+dt[15],lr=wr+Lt,v4=N4+Xt,Sr=Ar+_4,q4=Math.max(Dr+Yt,1e-5),yi=wr+Bt,Mr=N4+Z4,Yr=Ar+Jt,Rr=Math.max(Dr+$t,1e-5);j4.push(new ls(lr/q4,v4/q4,Sr/q4)),G4.push(new ls(yi/Rr,Mr/Rr,Yr/Rr))}Ht.push(j4),at.push(G4)}return[Ht,at]}(le,ae,Pe,Se,Ne)}(c,o,b,x,y,p,O,S,E,c.center.lat,t.tileID.canonical),X=t.queryGeometry;return function(te,le,ae){let Pe=1/0;u6(ae,le)&&(Pe=N6(ae,le[0]));for(let Se=0;Se<le.length;Se++){const Ne=le[Se],tt=te[Se];for(let Le=0;Le<Ne.length-1;Le++){const je=Ne[Le],Ge=[je,Ne[Le+1],tt[Le+1],tt[Le],je];c6(ae,Ge)&&(Pe=Math.min(Pe,N6(ae,Ge)))}}return Pe!==1/0&&Pe}(H,re,X.isPointQuery()?X.screenBounds:X.screenGeometry)}},line:class extends yo{constructor(t){super(t,V6),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(t){if(t==="line-gradient"){const e=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=e._styleExpression&&e._styleExpression.expression instanceof js,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}widthExpression(){return this._transitionablePaint._values["line-width"].value.expression}recalculate(t,e){super.recalculate(t,e),this.paint._values["line-floorwidth"]=j6.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,t)}createBucket(t){return new ca(t)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(t){return new Sn(this,t)}queryRadius(t){const e=t,r=G6(ns("line-width",this,e),ns("line-gap-width",this,e)),o=ns("line-offset",this,e);return r/2+Math.abs(o)+Q3(this.paint.get("line-translate"))}queryIntersectsFeature(t,e,r,o,a,c){if(t.queryGeometry.isAboveHorizon)return!1;const p=f6(t.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),c.angle,t.pixelToTileUnitsFactor),d=t.pixelToTileUnitsFactor/2*G6(this.paint.get("line-width").evaluate(e,r),this.paint.get("line-gap-width").evaluate(e,r)),m=this.paint.get("line-offset").evaluate(e,r);return m&&(o=function(y,x){const b=[],S=new Te(0,0);for(let I=0;I<y.length;I++){const E=y[I],k=[];for(let O=0;O<E.length;O++){const H=E[O],re=E[O+1],X=O===0?S:H.sub(E[O-1])._unit()._perp(),te=O===E.length-1?S:re.sub(H)._unit()._perp(),le=X._add(te)._unit();le._mult(1/(le.x*te.x+le.y*te.y)),k.push(le._mult(x)._add(H))}b.push(k)}return b}(o,m*t.pixelToTileUnitsFactor)),function(y,x,b){for(let S=0;S<x.length;S++){const I=x[S];if(y.length>=3){for(let E=0;E<I.length;E++)if(f5(y,I[E]))return!0}if(N0(y,I,b))return!0}return!1}(p,o,d)}isTileClipped(){return!0}},symbol:wa,background:class extends yo{constructor(t){super(t,I8)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends yo{constructor(t){super(t,E8)}getProgramIds(){return["raster"]}},sky:class extends yo{constructor(t){super(t,T8),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(t){t==="sky-gradient"?this._updateColorRamp():t!=="sky-atmosphere-sun"&&t!=="sky-atmosphere-halo-color"&&t!=="sky-atmosphere-color"&&t!=="sky-atmosphere-sun-intensity"||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=k1({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(t){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const e=t.style.light.properties.get("position");return this._lightPosition.azimuthal!==e.azimuthal||this._lightPosition.polar!==e.polar}return!1}getCenter(t,e){if(this.paint.get("sky-type")==="atmosphere"){const o=this.paint.get("sky-atmosphere-sun"),a=!o,c=t.style.light,p=c.properties.get("position");return a&&c.properties.get("anchor")==="viewport"&&g4("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),a?o9(p.azimuthal,90-p.polar,e):o9(o[0],90-o[1],e)}const r=this.paint.get("sky-gradient-center");return o9(r[0],90-r[1],e)}is3D(){return!1}isSky(){return!0}markSkyboxValid(t){this._skyboxInvalidated=!1,this._lightPosition=t.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const t=this.paint.get("sky-type");return t==="atmosphere"?["skyboxCapture","skybox"]:t==="gradient"?["skyboxGradient"]:null}}};class H7{constructor(e,r,o,a){this.context=e,this.format=o,this.texture=e.gl.createTexture(),this.update(r,a)}update(e,r,o){const{width:a,height:c}=e,{context:p}=this,{gl:d}=p,{HTMLImageElement:m,HTMLCanvasElement:y,HTMLVideoElement:x,ImageData:b,ImageBitmap:S}=G;if(d.bindTexture(d.TEXTURE_2D,this.texture),p.pixelStoreUnpackFlipY.set(!1),p.pixelStoreUnpack.set(1),p.pixelStoreUnpackPremultiplyAlpha.set(this.format===d.RGBA&&(!r||r.premultiply!==!1)),o||this.size&&this.size[0]===a&&this.size[1]===c){const{x:I,y:E}=o||{x:0,y:0};e instanceof m||e instanceof y||e instanceof x||e instanceof b||S&&e instanceof S?d.texSubImage2D(d.TEXTURE_2D,0,I,E,d.RGBA,d.UNSIGNED_BYTE,e):d.texSubImage2D(d.TEXTURE_2D,0,I,E,a,c,d.RGBA,d.UNSIGNED_BYTE,e.data)}else this.size=[a,c],e instanceof m||e instanceof y||e instanceof x||e instanceof b||S&&e instanceof S?d.texImage2D(d.TEXTURE_2D,0,this.format,this.format,d.UNSIGNED_BYTE,e):d.texImage2D(d.TEXTURE_2D,0,this.format,a,c,0,this.format,d.UNSIGNED_BYTE,e.data);this.useMipmap=!!(r&&r.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&d.generateMipmap(d.TEXTURE_2D)}bind(e,r){const{context:o}=this,{gl:a}=o;a.bindTexture(a.TEXTURE_2D,this.texture),e!==this.filter&&(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,e),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,this.useMipmap?e===a.NEAREST?a.NEAREST_MIPMAP_NEAREST:a.LINEAR_MIPMAP_NEAREST:e),this.filter=e),r!==this.wrap&&(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,r),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,r),this.wrap=r)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:e}=this.context;e.deleteTexture(this.texture),this.texture=null}}class L8{constructor(e){this._callback=e,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class k8{constructor(){this.tasks={},this.taskQueue=[],Kr(["process"],this),this.invoker=new L8(this.process),this.nextId=0}add(e,r){const o=this.nextId++,a=function({type:c,isSymbolTile:p,zoom:d}){return d=d||0,c==="message"?0:c!=="maybePrepare"||p?c!=="parseTile"||p?c==="parseTile"&&p?300-d:c==="maybePrepare"&&p?400-d:500:200-d:100-d}(r);if(a===0){Jr();try{e()}finally{}return{cancel:()=>{}}}return this.tasks[o]={fn:e,metadata:r,priority:a,id:o},this.taskQueue.push(o),this.invoker.trigger(),{cancel:()=>{delete this.tasks[o]}}}process(){Jr();try{if(this.taskQueue=this.taskQueue.filter(o=>!!this.tasks[o]),!this.taskQueue.length)return;const e=this.pick();if(e===null)return;const r=this.tasks[e];if(delete this.tasks[e],this.taskQueue.length&&this.invoker.trigger(),!r)return;r.fn()}finally{}}pick(){let e=null,r=1/0;for(let a=0;a<this.taskQueue.length;a++){const c=this.tasks[this.taskQueue[a]];c.priority<r&&(r=c.priority,e=a)}if(e===null)return null;const o=this.taskQueue[e];return this.taskQueue.splice(e,1),o}remove(){this.invoker.remove()}}class Al{constructor(e){this._stringToNumber={},this._numberToString=[];for(let r=0;r<e.length;r++){const o=e[r];this._stringToNumber[o]=r,this._numberToString[r]=o}}encode(e){return this._stringToNumber[e]}decode(e){return this._numberToString[e]}}const U8=["tile","layer","source","sourceLayer","state"];class Il{constructor(e,r,o,a,c){this.type="Feature",this._vectorTileFeature=e,this._z=r,this._x=o,this._y=a,this.properties=e.properties,this.id=c}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(e){this._geometry=e}toJSON(){const e={type:"Feature",state:void 0,geometry:this.geometry,properties:this.properties};this.id!==void 0&&(e.id=this.id);for(const r of U8)this[r]!==void 0&&(e[r]=this[r]);return e}}const no=32,zo=33,Tn=new Uint16Array(8184);for(let t=0;t<2046;t++){let e=t+2,r=0,o=0,a=0,c=0,p=0,d=0;for(1&e?a=c=p=no:r=o=d=no;(e>>=1)>1;){const y=r+a>>1,x=o+c>>1;1&e?(a=r,c=o,r=p,o=d):(r=a,o=c,a=p,c=d),p=y,d=x}const m=4*t;Tn[m+0]=r,Tn[m+1]=o,Tn[m+2]=a,Tn[m+3]=c}const Ro=new Uint16Array(2178),Fn=new Uint8Array(1089),Da=new Uint16Array(1089);function El(t){return t===0?-.03125:t===32?.03125:0}var Pl=_e([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);const Tl={type:2,extent:zt,loadGeometry:()=>[[new Te(0,0),new Te(zt+1,0),new Te(zt+1,zt+1),new Te(0,zt+1),new Te(0,0)]]};class n9{constructor(e,r,o,a,c){this.tileID=e,this.uid=ni(),this.uses=0,this.tileSize=r,this.tileZoom=o,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=c,this.expiredRequestCount=0,this.state="loading",a&&a.transform&&(this.projection=a.transform.projection)}registerFadeDuration(e){const r=e+this.timeAdded;r<Fr.now()||this.fadeEndTime&&r<this.fadeEndTime||(this.fadeEndTime=r)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}get tileTransform(){return this._tileTransform||(this._tileTransform=y5(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(e,r,o){if(this.unloadVectorData(),this.state="loaded",e){e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(a,c){const p={};if(!c)return p;for(const d of a){const m=d.layerIds.map(y=>c.getLayer(y)).filter(Boolean);if(m.length!==0){d.layers=m,d.stateDependentLayerIds&&(d.stateDependentLayers=d.stateDependentLayerIds.map(y=>m.filter(x=>x.id===y)[0]));for(const y of m)p[y.id]=d}}return p}(e.buckets,r.style),this.hasSymbolBuckets=!1;for(const a in this.buckets){const c=this.buckets[a];if(c instanceof Pn){if(this.hasSymbolBuckets=!0,!o)break;c.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const a in this.buckets){const c=this.buckets[a];if(c instanceof Pn&&c.hasRTLText){this.hasRTLText=!0,g.isLoading()||g.isLoaded()||f()!=="deferred"||_();break}}this.queryPadding=0;for(const a in this.buckets){const c=this.buckets[a];this.queryPadding=Math.max(this.queryPadding,r.style.getLayer(a).queryRadius(c))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage),e.lineAtlas&&(this.lineAtlas=e.lineAtlas)}else this.collisionBoxArray=new U4}unloadVectorData(){if(this.hasData()){for(const e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(e){return this.buckets[e.id]}upload(e){for(const o in this.buckets){const a=this.buckets[o];a.uploadPending()&&a.upload(e)}const r=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new H7(e,this.imageAtlas.image,r.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new H7(e,this.glyphAtlasImage,r.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new H7(e,this.lineAtlas.image,r.ALPHA),this.lineAtlas.uploaded=!0)}prepare(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)}queryRenderedFeatures(e,r,o,a,c,p,d,m){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:a,pixelPosMatrix:d,transform:p,params:c,tileTransform:this.tileTransform},e,r,o):{}}querySourceFeatures(e,r){const o=this.latestFeatureIndex;if(!o||!o.rawTileData)return;const a=o.loadVTLayers(),c=r?r.sourceLayer:"",p=a._geojsonTileLayer||a[c];if(!p)return;const d=H5(r&&r.filter),{z:m,x:y,y:x}=this.tileID.canonical,b={z:m,x:y,y:x};for(let S=0;S<p.length;S++){const I=p.feature(S);if(d.needGeometry){const O=d5(I,!0);if(!d.filter(new v(this.tileID.overscaledZ),O,this.tileID.canonical))continue}else if(!d.filter(new v(this.tileID.overscaledZ),I))continue;const E=o.getId(I,c),k=new Il(I,m,y,x,E);k.tile=b,e.push(k)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(e){const r=this.expirationTime;if(e.cacheControl){const o=nr(e.cacheControl);o["max-age"]&&(this.expirationTime=Date.now()+1e3*o["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){const o=Date.now();let a=!1;if(this.expirationTime>o)a=!1;else if(r)if(this.expirationTime<r)a=!0;else{const c=this.expirationTime-r;c?this.expirationTime=o+Math.max(c,3e4):a=!0}else a=!0;a?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(e,r){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(e).length===0||!r)return;const o=this.latestFeatureIndex.loadVTLayers(),a=r.style.listImages();for(const c in this.buckets){if(!r.style.hasLayer(c))continue;const p=this.buckets[c],d=p.layers[0].sourceLayer||"_geojsonTileLayer",m=o[d],y=e[d];if(!m||!y||Object.keys(y).length===0)continue;if(p.update(y,m,a,this.imageAtlas&&this.imageAtlas.patternPositions||{}),p instanceof ca||p instanceof oa){const b=r.style._getSourceCache(p.layers[0].source);r._terrain&&r._terrain.enabled&&b&&p.programConfigurations.needsUpload&&r._terrain._clearRenderCacheForTile(b.id,this.tileID)}const x=r&&r.style&&r.style.getLayer(c);x&&(this.queryPadding=Math.max(this.queryPadding,x.queryRadius(p)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<Fr.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(e){this.symbolFadeHoldUntil=Fr.now()+e}setTexture(e,r){const o=r.context,a=o.gl;this.texture=this.texture||r.getTileTexture(e.width),this.texture?this.texture.update(e,{useMipmap:!0}):(this.texture=new H7(o,e,a.RGBA,{useMipmap:!0}),this.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE))}setDependencies(e,r){const o={};for(const a of r)o[a]=!0;this.dependencies[e]=o}hasDependency(e,r){for(const o of e){const a=this.dependencies[o];if(a){for(const c of r)if(a[c])return!0}}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(e,r){if(!r||r.name==="mercator"||this._tileDebugBuffer)return;const o=en(Tl,this.tileID.canonical,this.tileTransform)[0],a=new et,c=new Pi;for(let p=0;p<o.length;p++){const{x:d,y:m}=o[p];a.emplaceBack(d,m),c.emplaceBack(p)}c.emplaceBack(0),this._tileDebugIndexBuffer=e.createIndexBuffer(c),this._tileDebugBuffer=e.createVertexBuffer(a,S7.members),this._tileDebugSegments=br.simpleSegment(0,0,a.length,c.length)}_makeTileBoundsBuffers(e,r){if(this._tileBoundsBuffer||!r||r.name==="mercator")return;const o=en(Tl,this.tileID.canonical,this.tileTransform)[0];let a,c;if(this.isRaster){const p=function(d,m){const y=y5(d,m),x=Math.pow(2,d.z);for(let O=0;O<zo;O++)for(let H=0;H<zo;H++){const re=qi((d.x+(H+El(H))/no)/x),X=ei((d.y+(O+El(O))/no)/x),te=m.project(re,X),le=O*zo+H;Ro[2*le+0]=Math.round((te.x*y.scale-y.x)*zt),Ro[2*le+1]=Math.round((te.y*y.scale-y.y)*zt)}Fn.fill(0),Da.fill(0);for(let O=2045;O>=0;O--){const H=4*O,re=Tn[H+0],X=Tn[H+1],te=Tn[H+2],le=Tn[H+3],ae=re+te>>1,Pe=X+le>>1,Se=ae+Pe-X,Ne=Pe+re-ae,tt=X*zo+re,Le=le*zo+te,je=Pe*zo+ae,Ge=Math.hypot((Ro[2*tt+0]+Ro[2*Le+0])/2-Ro[2*je+0],(Ro[2*tt+1]+Ro[2*Le+1])/2-Ro[2*je+1])>=16;Fn[je]=Fn[je]||(Ge?1:0),O<1022&&(Fn[je]=Fn[je]||Fn[(X+Ne>>1)*zo+(re+Se>>1)]||Fn[(le+Ne>>1)*zo+(te+Se>>1)])}const b=new Ve,S=new Tt;let I=0;function E(O,H){const re=H*zo+O;return Da[re]===0&&(b.emplaceBack(Ro[2*re+0],Ro[2*re+1],O*zt/no,H*zt/no),Da[re]=++I),Da[re]-1}function k(O,H,re,X,te,le){const ae=O+re>>1,Pe=H+X>>1;if(Math.abs(O-te)+Math.abs(H-le)>1&&Fn[Pe*zo+ae])k(te,le,O,H,ae,Pe),k(re,X,te,le,ae,Pe);else{const Se=E(O,H),Ne=E(re,X),tt=E(te,le);S.emplaceBack(Se,Ne,tt)}}return k(0,0,no,no,no,0),k(no,no,0,0,0,no),{vertices:b,indices:S}}(this.tileID.canonical,r);a=p.vertices,c=p.indices}else{a=new Ve,c=new Tt;for(const{x:d,y:m}of o)a.emplaceBack(d,m,0,0);const p=N1(a.int16,void 0,4);for(let d=0;d<p.length;d+=3)c.emplaceBack(p[d],p[d+1],p[d+2])}this._tileBoundsBuffer=e.createVertexBuffer(a,Pl.members),this._tileBoundsIndexBuffer=e.createIndexBuffer(c),this._tileBoundsSegments=br.simpleSegment(0,0,a.length,c.length)}_makeGlobeTileDebugBuffers(e,r){const o=r.projection;if(!o||o.name!=="globe"||r.freezeTileCoverage)return;const a=this.tileID.canonical,c=I7($9(a,r)),p=is(r.zoom);let d;p>0&&(d=d1(new Float64Array(16),r.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(e,a,r,c,d,p),this._makeGlobeTileDebugTextBuffer(e,a,r,c,d,p)}_globePoint(e,r,o,a,c,p,d){let m=A7(e,r,o);if(p){const y=1<<o.z,x=ko(a.center.lng),b=Uo(a.center.lat),S=(o.x+.5)/y-x;let I=0;S>.5?I=-1:S<-.5&&(I=1);let E=(e/zt+o.x)/y+I,k=(r/zt+o.y)/y;E=(E-x)*a._pixelsPerMercatorPixel+x,k=(k-b)*a._pixelsPerMercatorPixel+b;const O=[E*a.worldSize,k*a.worldSize,0];gr(O,O,p),m=h5(m,O,d)}return gr(m,m,c)}_makeGlobeTileDebugBorderBuffer(e,r,o,a,c,p){const d=new et,m=new Pi,y=new De,x=(S,I,E,k,O)=>{const H=(E-S)/(O-1),re=(k-I)/(O-1),X=d.length;for(let te=0;te<O;te++){const le=S+te*H,ae=I+te*re;d.emplaceBack(le,ae);const Pe=this._globePoint(le,ae,r,o,a,c,p);y.emplaceBack(Pe[0],Pe[1],Pe[2]),m.emplaceBack(X+te)}},b=zt;x(0,0,b,0,16),x(b,0,b,b,16),x(b,b,0,b,16),x(0,b,0,0,16),this._tileDebugIndexBuffer=e.createIndexBuffer(m),this._tileDebugBuffer=e.createVertexBuffer(d,S7.members),this._globeTileDebugBorderBuffer=e.createVertexBuffer(y,Y9.members),this._tileDebugSegments=br.simpleSegment(0,0,d.length,m.length)}_makeGlobeTileDebugTextBuffer(e,r,o,a,c,p){const d=zt/4,m=new et,y=new Tt,x=new De,b=25;y.reserve(32),m.reserve(b),x.reserve(b);const S=(I,E)=>b*I+E;for(let I=0;I<b;I++){const E=I*d;for(let k=0;k<b;k++){const O=k*d;m.emplaceBack(O,E);const H=this._globePoint(O,E,r,o,a,c,p);x.emplaceBack(H[0],H[1],H[2])}}for(let I=0;I<4;I++)for(let E=0;E<4;E++){const k=S(I,E),O=S(I,E+1),H=S(I+1,E),re=S(I+1,E+1);y.emplaceBack(k,O,H),y.emplaceBack(H,O,re)}this._tileDebugTextIndexBuffer=e.createIndexBuffer(y),this._tileDebugTextBuffer=e.createVertexBuffer(m,S7.members),this._globeTileDebugTextBuffer=e.createVertexBuffer(x,Y9.members),this._tileDebugTextSegments=br.simpleSegment(0,0,b,32)}}class z8{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(e,r,o){const a=String(r);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][a]=this.stateChanges[e][a]||{},a4(this.stateChanges[e][a],o),this.deletedStates[e]===null){this.deletedStates[e]={};for(const c in this.state[e])c!==a&&(this.deletedStates[e][c]=null)}else if(this.deletedStates[e]&&this.deletedStates[e][a]===null){this.deletedStates[e][a]={};for(const c in this.state[e][a])o[c]||(this.deletedStates[e][a][c]=null)}else for(const c in o)this.deletedStates[e]&&this.deletedStates[e][a]&&this.deletedStates[e][a][c]===null&&delete this.deletedStates[e][a][c]}removeFeatureState(e,r,o){if(this.deletedStates[e]===null)return;const a=String(r);if(this.deletedStates[e]=this.deletedStates[e]||{},o&&r!==void 0)this.deletedStates[e][a]!==null&&(this.deletedStates[e][a]=this.deletedStates[e][a]||{},this.deletedStates[e][a][o]=null);else if(r!==void 0)if(this.stateChanges[e]&&this.stateChanges[e][a])for(o in this.deletedStates[e][a]={},this.stateChanges[e][a])this.deletedStates[e][a][o]=null;else this.deletedStates[e][a]=null;else this.deletedStates[e]=null}getState(e,r){const o=String(r),a=a4({},(this.state[e]||{})[o],(this.stateChanges[e]||{})[o]);if(this.deletedStates[e]===null)return{};if(this.deletedStates[e]){const c=this.deletedStates[e][r];if(c===null)return{};for(const p in c)delete a[p]}return a}initializeTileState(e,r){e.setFeatureState(this.state,r)}coalesceChanges(e,r){const o={};for(const a in this.stateChanges){this.state[a]=this.state[a]||{};const c={};for(const p in this.stateChanges[a])this.state[a][p]||(this.state[a][p]={}),a4(this.state[a][p],this.stateChanges[a][p]),c[p]=this.state[a][p];o[a]=c}for(const a in this.deletedStates){this.state[a]=this.state[a]||{};const c={};if(this.deletedStates[a]===null)for(const p in this.state[a])c[p]={},this.state[a][p]={};else for(const p in this.deletedStates[a]){if(this.deletedStates[a][p]===null)this.state[a][p]={};else if(this.state[a][p])for(const d of Object.keys(this.deletedStates[a][p]))delete this.state[a][p][d];c[p]=this.state[a][p]}o[a]=o[a]||{},a4(o[a],c)}if(this.stateChanges={},this.deletedStates={},Object.keys(o).length!==0)for(const a in e)e[a].setFeatureState(o,r)}}class Fl{constructor(e){this.size=e,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(e,r){const o=this.toIdx(e,r);return{min:this.minimums[o],max:this.maximums[o]}}isLeaf(e,r){return this.leaves[this.toIdx(e,r)]}toIdx(e,r){return r*this.size+e}}function Ll(t,e,r,o){let a=0,c=Number.MAX_VALUE;for(let p=0;p<3;p++)if(Math.abs(o[p])<1e-15){if(r[p]<t[p]||r[p]>e[p])return null}else{const d=1/o[p];let m=(t[p]-r[p])*d,y=(e[p]-r[p])*d;if(m>y){const x=m;m=y,y=x}if(m>a&&(a=m),y<c&&(c=y),a>c)return null}return a}function kl(t,e,r,o,a,c,p,d,m,y,x){const b=o-t,S=a-e,I=c-r,E=p-t,k=d-e,O=m-r,H=x[1]*O-x[2]*k,re=x[2]*E-x[0]*O,X=x[0]*k-x[1]*E,te=b*H+S*re+I*X;if(Math.abs(te)<1e-15)return null;const le=1/te,ae=y[0]-t,Pe=y[1]-e,Se=y[2]-r,Ne=(ae*H+Pe*re+Se*X)*le;if(Ne<0||Ne>1)return null;const tt=Pe*I-Se*S,Le=Se*b-ae*I,je=ae*S-Pe*b,Ge=(x[0]*tt+x[1]*Le+x[2]*je)*le;return Ge<0||Ne+Ge>1?null:(E*tt+k*Le+O*je)*le}function Ul(t,e,r){return(t-e)/(r-e)}function zl(t,e,r,o,a,c,p,d,m){const y=1<<r,x=c-o,b=p-a,S=(t+1)/y*x+o,I=(e+0)/y*b+a,E=(e+1)/y*b+a;d[0]=(t+0)/y*x+o,d[1]=I,m[0]=S,m[1]=E}class Rl{constructor(e){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=e,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const r=function(c){const p=Math.ceil(Math.log2(c.dim/8)),d=[];let m=Math.ceil(Math.pow(2,p));const y=1/m,x=(I,E,k,O,H)=>{const re=O?1:0,X=(I+1)*k-re,te=E*k,le=(E+1)*k-re;H[0]=I*k,H[1]=te,H[2]=X,H[3]=le};let b=new Fl(m);const S=[];for(let I=0;I<m*m;I++){x(I%m,Math.floor(I/m),y,!1,S);const E=Ln(S[0],S[1],c),k=Ln(S[2],S[1],c),O=Ln(S[2],S[3],c),H=Ln(S[0],S[3],c);b.minimums.push(Math.min(E,k,O,H)),b.maximums.push(Math.max(E,k,O,H)),b.leaves.push(1)}for(d.push(b),m/=2;m>=1;m/=2){const I=d[d.length-1];b=new Fl(m);for(let E=0;E<m*m;E++){x(E%m,Math.floor(E/m),2,!0,S);const k=I.getElevation(S[0],S[1]),O=I.getElevation(S[2],S[1]),H=I.getElevation(S[2],S[3]),re=I.getElevation(S[0],S[3]),X=I.isLeaf(S[0],S[1]),te=I.isLeaf(S[2],S[1]),le=I.isLeaf(S[2],S[3]),ae=I.isLeaf(S[0],S[3]),Pe=Math.min(k.min,O.min,H.min,re.min),Se=Math.max(k.max,O.max,H.max,re.max),Ne=X&&te&&le&&ae;b.maximums.push(Se),b.minimums.push(Pe),b.leaves.push(Se-Pe<=5&&Ne?1:0)}d.push(b)}return d}(this.dem),o=r.length-1,a=r[o];this._addNode(a.minimums[0],a.maximums[0],a.leaves[0]),this._construct(r,0,0,o,0)}raycastRoot(e,r,o,a,c,p,d=1){return Ll([e,r,-100],[o,a,this.maximums[0]*d],c,p)}raycast(e,r,o,a,c,p,d=1){if(!this.nodeCount)return null;const m=this.raycastRoot(e,r,o,a,c,p,d);if(m==null)return null;const y=[],x=[],b=[],S=[],I=[{idx:0,t:m,nodex:0,nodey:0,depth:0}];for(;I.length>0;){const{idx:E,t:k,nodex:O,nodey:H,depth:re}=I.pop();if(this.leaves[E]){zl(O,H,re,e,r,o,a,b,S);const te=1<<re,le=(O+0)/te,ae=(O+1)/te,Pe=(H+0)/te,Se=(H+1)/te,Ne=Ln(le,Pe,this.dem)*d,tt=Ln(ae,Pe,this.dem)*d,Le=Ln(ae,Se,this.dem)*d,je=Ln(le,Se,this.dem)*d,Ge=kl(b[0],b[1],Ne,S[0],b[1],tt,S[0],S[1],Le,c,p),Ye=kl(S[0],S[1],Le,b[0],S[1],je,b[0],b[1],Ne,c,p),st=Math.min(Ge!==null?Ge:Number.MAX_VALUE,Ye!==null?Ye:Number.MAX_VALUE);if(st!==Number.MAX_VALUE)return st;{const Be=w7([],c,p,k);if(Bl(Ne,tt,je,Le,Ul(Be[0],b[0],S[0]),Ul(Be[1],b[1],S[1]))>=Be[2])return k}continue}let X=0;for(let te=0;te<this._siblingOffset.length;te++){zl((O<<1)+this._siblingOffset[te][0],(H<<1)+this._siblingOffset[te][1],re+1,e,r,o,a,b,S),b[2]=-100,S[2]=this.maximums[this.childOffsets[E]+te]*d;const le=Ll(b,S,c,p);if(le!=null){const ae=le;y[te]=ae;let Pe=!1;for(let Se=0;Se<X&&!Pe;Se++)ae>=y[x[Se]]&&(x.splice(Se,0,te),Pe=!0);Pe||(x[X]=te),X++}}for(let te=0;te<X;te++){const le=x[te];I.push({idx:this.childOffsets[E]+le,t:y[le],nodex:(O<<1)+this._siblingOffset[le][0],nodey:(H<<1)+this._siblingOffset[le][1],depth:re+1})}}return null}_addNode(e,r,o){return this.minimums.push(e),this.maximums.push(r),this.leaves.push(o),this.childOffsets.push(0),this.nodeCount++}_construct(e,r,o,a,c){if(e[a].isLeaf(r,o)===1)return;this.childOffsets[c]||(this.childOffsets[c]=this.nodeCount);const p=a-1,d=e[p];let m=0,y=0;for(let x=0;x<this._siblingOffset.length;x++){const b=2*r+this._siblingOffset[x][0],S=2*o+this._siblingOffset[x][1],I=d.getElevation(b,S),E=d.isLeaf(b,S),k=this._addNode(I.min,I.max,E);E&&(m|=1<<x),y||(y=k)}for(let x=0;x<this._siblingOffset.length;x++)m&1<<x||this._construct(e,2*r+this._siblingOffset[x][0],2*o+this._siblingOffset[x][1],p,y+x)}}function Bl(t,e,r,o,a,c){return u4(u4(t,r,c),u4(e,o,c),a)}function Ln(t,e,r){const o=r.dim,a=gt(t*o-.5,0,o-1),c=gt(e*o-.5,0,o-1),p=Math.floor(a),d=Math.floor(c),m=Math.min(p+1,o-1),y=Math.min(d+1,o-1);return Bl(r.get(p,d),r.get(m,d),r.get(p,y),r.get(m,y),a-p,c-d)}const Nl={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};function R8(t,e,r){return(256*t*256+256*e+r)/10-1e4}function B8(t,e,r){return 256*t+e+r/256-32768}class Sa{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(e,r,o,a=!1,c=!1){if(this.uid=e,r.height!==r.width)throw new RangeError("DEM tiles must be square");if(o&&o!=="mapbox"&&o!=="terrarium")return g4(`"${o}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=r.height;const p=this.dim=r.height-2,d=new Uint32Array(r.data.buffer);if(this.pixels=new Uint8Array(r.data.buffer),this.encoding=o||"mapbox",this.borderReady=a,!a){for(let m=0;m<p;m++)d[this._idx(-1,m)]=d[this._idx(0,m)],d[this._idx(p,m)]=d[this._idx(p-1,m)],d[this._idx(m,-1)]=d[this._idx(m,0)],d[this._idx(m,p)]=d[this._idx(m,p-1)];d[this._idx(-1,-1)]=d[this._idx(0,0)],d[this._idx(p,-1)]=d[this._idx(p-1,0)],d[this._idx(-1,p)]=d[this._idx(0,p-1)],d[this._idx(p,p)]=d[this._idx(p-1,p-1)],c&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new Rl(this)}get(e,r,o=!1){o&&(e=gt(e,-1,this.dim),r=gt(r,-1,this.dim));const a=4*this._idx(e,r);return(this.encoding==="terrarium"?B8:R8)(this.pixels[a],this.pixels[a+1],this.pixels[a+2])}static getUnpackVector(e){return Nl[e]}get unpackVector(){return Nl[this.encoding]}_idx(e,r){if(e<-1||e>=this.dim+1||r<-1||r>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(r+1)*this.stride+(e+1)}static pack(e,r){const o=[0,0,0,0],a=Sa.getUnpackVector(r);let c=Math.floor((e+a[3])/a[2]);return o[2]=c%256,c=Math.floor(c/256),o[1]=c%256,c=Math.floor(c/256),o[0]=c,o}getPixels(){return new Fi({width:this.stride,height:this.stride},this.pixels)}backfillBorder(e,r,o){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");let a=r*this.dim,c=r*this.dim+this.dim,p=o*this.dim,d=o*this.dim+this.dim;switch(r){case-1:a=c-1;break;case 1:c=a+1}switch(o){case-1:p=d-1;break;case 1:d=p+1}const m=-r*this.dim,y=-o*this.dim;for(let x=p;x<d;x++)for(let b=a;b<c;b++){const S=4*this._idx(b,x),I=4*this._idx(b+m,x+y);this.pixels[S+0]=e.pixels[I+0],this.pixels[S+1]=e.pixels[I+1],this.pixels[S+2]=e.pixels[I+2],this.pixels[S+3]=e.pixels[I+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}Ct(Sa,"DEMData"),Ct(Rl,"DemMinMaxQuadTree",{omit:["dem"]});class N8{constructor(e,r){this.max=e,this.onRemove=r,this.reset()}reset(){for(const e in this.data)for(const r of this.data[e])r.timeout&&clearTimeout(r.timeout),this.onRemove(r.value);return this.data={},this.order=[],this}add(e,r,o){const a=e.wrapped().key;this.data[a]===void 0&&(this.data[a]=[]);const c={value:r,timeout:void 0};if(o!==void 0&&(c.timeout=setTimeout(()=>{this.remove(e,c)},o)),this.data[a].push(c),this.order.push(a),this.order.length>this.max){const p=this._getAndRemoveByKey(this.order[0]);p&&this.onRemove(p)}return this}has(e){return e.wrapped().key in this.data}getAndRemove(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null}_getAndRemoveByKey(e){const r=this.data[e].shift();return r.timeout&&clearTimeout(r.timeout),this.data[e].length===0&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),r.value}getByKey(e){const r=this.data[e];return r?r[0].value:null}get(e){return this.has(e)?this.data[e.wrapped().key][0].value:null}remove(e,r){if(!this.has(e))return this;const o=e.wrapped().key,a=r===void 0?0:this.data[o].indexOf(r),c=this.data[o][a];return this.data[o].splice(a,1),c.timeout&&clearTimeout(c.timeout),this.data[o].length===0&&delete this.data[o],this.onRemove(c.value),this.order.splice(this.order.indexOf(o),1),this}setMaxSize(e){for(this.max=e;this.order.length>this.max;){const r=this._getAndRemoveByKey(this.order[0]);r&&this.onRemove(r)}return this}filter(e){const r=[];for(const o in this.data)for(const a of this.data[o])e(a.value)||r.push(a);for(const o of r)this.remove(o.value.tileID,o)}}class gs{constructor(e,r,o){this.func=e,this.mask=r,this.range=o}}gs.ReadOnly=!1,gs.ReadWrite=!0,gs.disabled=new gs(519,gs.ReadOnly,[0,1]);const s9=7680;class a9{constructor(e,r,o,a,c,p){this.test=e,this.ref=r,this.mask=o,this.fail=a,this.depthFail=c,this.pass=p}}a9.disabled=new a9({func:519,mask:0},0,0,s9,s9,s9);class Bo{constructor(e,r,o){this.blendFunction=e,this.blendColor=r,this.mask=o}}Bo.Replace=[1,0],Bo.disabled=new Bo(Bo.Replace,_r.transparent,[!1,!1,!1,!1]),Bo.unblended=new Bo(Bo.Replace,_r.transparent,[!0,!0,!0,!0]),Bo.alphaBlended=new Bo([1,771],_r.transparent,[!0,!0,!0,!0]);const l9=1029,c9=2305;class Co{constructor(e,r,o){this.enable=e,this.mode=r,this.frontFace=o}}Co.disabled=new Co(!1,l9,c9),Co.backCCW=new Co(!0,l9,c9),Co.backCW=new Co(!0,l9,2304),Co.frontCW=new Co(!0,1028,2304),Co.frontCCW=new Co(!0,1028,c9);class _5 extends Ki{constructor(e,r,o){super(),this.id=e,this._onlySymbols=o,r.on("data",a=>{a.dataType==="source"&&a.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&a.dataType==="source"&&a.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform))}),r.on("error",()=>{this._sourceErrored=!0}),this._source=r,this._tiles={},this._cache=new N8(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=r.minTileCacheSize,this._maxTileCacheSize=r.maxTileCacheSize,this._loadedParentTiles={},this._coveredTiles={},this._state=new z8,this._isRaster=this._source.type==="raster"||this._source.type==="raster-dem"||this._source.type==="custom"&&this._source._dataType==="raster"}onAdd(e){this.map=e,this._minTileCacheSize=this._minTileCacheSize===void 0&&e?e._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=this._maxTileCacheSize===void 0&&e?e._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const e in this._tiles){const r=this._tiles[e];if(r.state!=="loaded"&&r.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(e,r){return e.isSymbolTile=this._onlySymbols,this._source.loadTile(e,r)}_unloadTile(e){if(this._source.unloadTile)return this._source.unloadTile(e,()=>{})}_abortTile(e){if(this._source.abortTile)return this._source.abortTile(e,()=>{})}serialize(){return this._source.serialize()}prepare(e){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const r in this._tiles){const o=this._tiles[r];o.upload(e),o.prepare(this.map.style.imageManager)}}getIds(){return Q4(this._tiles).map(e=>e.tileID).sort(Ol).map(e=>e.key)}getRenderableIds(e){const r=[];for(const o in this._tiles)this._isIdRenderable(+o,e)&&r.push(this._tiles[o]);return e?r.sort((o,a)=>{const c=o.tileID,p=a.tileID,d=new Te(c.canonical.x,c.canonical.y)._rotate(this.transform.angle),m=new Te(p.canonical.x,p.canonical.y)._rotate(this.transform.angle);return c.overscaledZ-p.overscaledZ||m.y-d.y||m.x-d.x}).map(o=>o.tileID.key):r.map(o=>o.tileID).sort(Ol).map(o=>o.key)}hasRenderableParent(e){const r=this.findLoadedParent(e,0);return!!r&&this._isIdRenderable(r.tileID.key)}_isIdRenderable(e,r){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(r||!this._tiles[e].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const e in this._tiles)this._tiles[e].state!=="errored"&&this._reloadTile(+e,"reloading")}}_reloadTile(e,r){const o=this._tiles[e];o&&(o.state!=="loading"&&(o.state=r),this._loadTile(o,this._tileLoaded.bind(this,o,e,r)))}_tileLoaded(e,r,o,a){if(a)if(e.state="errored",a.status!==404)this._source.fire(new xr(a,{tile:e}));else if(this._source.type==="raster-dem"&&this.usedForTerrain&&this.map.painter.terrain){const c=this.map.painter.terrain;this.update(this.transform,c.getScaledDemTileSize(),!0),c.resetTileLookupCache(this.id)}else this.update(this.transform);else e.timeAdded=Fr.now(),o==="expired"&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(r,e),this._source.type==="raster-dem"&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),this._source.fire(new Si("data",{dataType:"source",tile:e,coord:e.tileID,sourceCacheId:this.id}))}_backfillDEM(e){const r=this.getRenderableIds();for(let a=0;a<r.length;a++){const c=r[a];if(e.neighboringTiles&&e.neighboringTiles[c]){const p=this.getTileByID(c);o(e,p),o(p,e)}}function o(a,c){if(!a.dem||a.dem.borderReady)return;a.needsHillshadePrepare=!0,a.needsDEMTextureUpload=!0;let p=c.tileID.canonical.x-a.tileID.canonical.x;const d=c.tileID.canonical.y-a.tileID.canonical.y,m=Math.pow(2,a.tileID.canonical.z),y=c.tileID.key;p===0&&d===0||Math.abs(d)>1||(Math.abs(p)>1&&(Math.abs(p+m)===1?p+=m:Math.abs(p-m)===1&&(p-=m)),c.dem&&a.dem&&(a.dem.backfillBorder(c.dem,p,d),a.neighboringTiles&&a.neighboringTiles[y]&&(a.neighboringTiles[y].backfilled=!0)))}}getTile(e){return this.getTileByID(e.key)}getTileByID(e){return this._tiles[e]}_retainLoadedChildren(e,r,o,a){for(const c in this._tiles){let p=this._tiles[c];if(a[c]||!p.hasData()||p.tileID.overscaledZ<=r||p.tileID.overscaledZ>o)continue;let d=p.tileID;for(;p&&p.tileID.overscaledZ>r+1;){const y=p.tileID.scaledTo(p.tileID.overscaledZ-1);p=this._tiles[y.key],p&&p.hasData()&&(d=y)}let m=d;for(;m.overscaledZ>r;)if(m=m.scaledTo(m.overscaledZ-1),e[m.key]){a[d.key]=d;break}}}findLoadedParent(e,r){if(e.key in this._loadedParentTiles){const o=this._loadedParentTiles[e.key];return o&&o.tileID.overscaledZ>=r?o:null}for(let o=e.overscaledZ-1;o>=r;o--){const a=e.scaledTo(o),c=this._getLoadedTile(a);if(c)return c}}_getLoadedTile(e){const r=this._tiles[e.key];return r&&r.hasData()?r:this._cache.getByKey(this._source.reparseOverscaled?e.wrapped().key:e.canonical.key)}updateCacheSize(e,r){r=r||this._source.tileSize;const o=Math.ceil(e.width/r)+1,a=Math.ceil(e.height/r)+1,c=Math.floor(o*a*5),p=typeof this._minTileCacheSize=="number"?Math.max(this._minTileCacheSize,c):c,d=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,p):p;this._cache.setMaxSize(d)}handleWrapJump(e){const r=Math.round((e-(this._prevLng===void 0?e:this._prevLng))/360);if(this._prevLng=e,r){const o={};for(const a in this._tiles){const c=this._tiles[a];c.tileID=c.tileID.unwrapTo(c.tileID.wrap+r),o[c.tileID.key]=c}this._tiles=o;for(const a in this._timers)clearTimeout(this._timers[a]),delete this._timers[a];for(const a in this._tiles)this._setTileReloadTimer(+a,this._tiles[a])}}update(e,r,o){if(this.transform=e,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!o)return;let a;this.updateCacheSize(e,r),this.transform.projection.name!=="globe"&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?a=e.getVisibleUnwrappedCoordinates(this._source.tileID).map(d=>new mi(d.canonical.z,d.wrap,d.canonical.z,d.canonical.x,d.canonical.y)):(a=e.coveringTiles({tileSize:r||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!o,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(a=a.filter(d=>this._source.hasTile(d)))):a=[];const c=this._updateRetainedTiles(a);if(Vl(this._source.type)&&a.length!==0){const d={},m={},y=Object.keys(c);for(const b of y){const S=c[b],I=this._tiles[b];if(!I||I.fadeEndTime&&I.fadeEndTime<=Fr.now())continue;const E=this.findLoadedParent(S,Math.max(S.overscaledZ-_5.maxOverzooming,this._source.minzoom));E&&(this._addTile(E.tileID),d[E.tileID.key]=E.tileID),m[b]=S}const x=a[a.length-1].overscaledZ;for(const b in this._tiles){const S=this._tiles[b];if(c[b]||!S.hasData())continue;let I=S.tileID;for(;I.overscaledZ>x;){I=I.scaledTo(I.overscaledZ-1);const E=this._tiles[I.key];if(E&&E.hasData()&&m[I.key]){c[b]=S.tileID;break}}}for(const b in d)c[b]||(this._coveredTiles[b]=!0,c[b]=d[b])}for(const d in c)this._tiles[d].clearFadeHold();const p=function(d,m){const y=[];for(const x in d)x in m||y.push(x);return y}(this._tiles,c);for(const d of p){const m=this._tiles[d];m.hasSymbolBuckets&&!m.holdingForFade()?m.setHoldDuration(this.map._fadeDuration):m.hasSymbolBuckets&&!m.symbolFadeFinished()||this._removeTile(+d)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(+e)}_updateRetainedTiles(e){const r={};if(e.length===0)return r;const o={},a=e.reduce((y,x)=>Math.min(y,x.overscaledZ),1/0),c=e[0].overscaledZ,p=Math.max(c-_5.maxOverzooming,this._source.minzoom),d=Math.max(c+_5.maxUnderzooming,this._source.minzoom),m={};for(const y of e){const x=this._addTile(y);r[y.key]=y,x.hasData()||a<this._source.maxzoom&&(m[y.key]=y)}this._retainLoadedChildren(m,a,d,r);for(const y of e){let x=this._tiles[y.key];if(x.hasData())continue;if(y.canonical.z>=this._source.maxzoom){const S=y.children(this._source.maxzoom)[0],I=this.getTile(S);if(I&&I.hasData()){r[S.key]=S;continue}}else{const S=y.children(this._source.maxzoom);if(r[S[0].key]&&r[S[1].key]&&r[S[2].key]&&r[S[3].key])continue}let b=x.wasRequested();for(let S=y.overscaledZ-1;S>=p;--S){const I=y.scaledTo(S);if(o[I.key]||(o[I.key]=!0,x=this.getTile(I),!x&&b&&(x=this._addTile(I)),x&&(r[I.key]=I,b=x.wasRequested(),x.hasData())))break}}return r}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const e in this._tiles){const r=[];let o,a=this._tiles[e].tileID;for(;a.overscaledZ>0;){if(a.key in this._loadedParentTiles){o=this._loadedParentTiles[a.key];break}r.push(a.key);const c=a.scaledTo(a.overscaledZ-1);if(o=this._getLoadedTile(c),o)break;a=c}for(const c of r)this._loadedParentTiles[c]=o}}_addTile(e){let r=this._tiles[e.key];if(r)return r;r=this._cache.getAndRemove(e),r&&(this._setTileReloadTimer(e.key,r),r.tileID=e,this._state.initializeTileState(r,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,r)));const o=!!r;if(!o){const a=this.map?this.map.painter:null;r=new n9(e,this._source.tileSize*e.overscaleFactor(),this.transform.tileZoom,a,this._isRaster),this._loadTile(r,this._tileLoaded.bind(this,r,e.key,r.state))}return r?(r.uses++,this._tiles[e.key]=r,o||this._source.fire(new Si("dataloading",{tile:r,coord:r.tileID,dataType:"source"})),r):null}_setTileReloadTimer(e,r){e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);const o=r.getExpiryTimeout();o&&(this._timers[e]=setTimeout(()=>{this._reloadTile(e,"expired"),delete this._timers[e]},o))}_removeTile(e){const r=this._tiles[e];r&&(r.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),r.uses>0||(r.hasData()&&r.state!=="reloading"?this._cache.add(r.tileID,r,r.getExpiryTimeout()):(r.aborted=!0,this._abortTile(r),this._unloadTile(r))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const e in this._tiles)this._removeTile(+e);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(e,r,o){const a=[],c=this.transform;if(!c)return a;const p=c.projection.name==="globe",d=ko(c.center.lng);for(const m in this._tiles){const y=this._tiles[m];if(o&&y.clearQueryDebugViz(),y.holdingForFade())continue;let x;if(p){const b=y.tileID.canonical;if(b.z===0){const S=[Math.abs(gt(d,...X7(b,-1))-d),Math.abs(gt(d,...X7(b,1))-d)];x=[0,2*S.indexOf(Math.min(...S))-1]}else{const S=[Math.abs(gt(d,...X7(b,-1))-d),Math.abs(gt(d,...X7(b,0))-d),Math.abs(gt(d,...X7(b,1))-d)];x=[S.indexOf(Math.min(...S))-1]}}else x=[0];for(const b of x){const S=e.containsTile(y,c,r,b);S&&a.push(S)}}return a}getVisibleCoordinates(e){const r=this.getRenderableIds(e).map(o=>this._tiles[o].tileID);for(const o of r)o.projMatrix=this.transform.calculateProjMatrix(o.toUnwrapped());return r}hasTransition(){if(this._source.hasTransition())return!0;if(Vl(this._source.type))for(const e in this._tiles){const r=this._tiles[e];if(r.fadeEndTime!==void 0&&r.fadeEndTime>=Fr.now())return!0}return!1}setFeatureState(e,r,o){this._state.updateState(e=e||"_geojsonTileLayer",r,o)}removeFeatureState(e,r,o){this._state.removeFeatureState(e=e||"_geojsonTileLayer",r,o)}getFeatureState(e,r){return this._state.getState(e=e||"_geojsonTileLayer",r)}setDependencies(e,r,o){const a=this._tiles[e];a&&a.setDependencies(r,o)}reloadTilesForDependencies(e,r){for(const o in this._tiles)this._tiles[o].hasDependency(e,r)&&this._reloadTile(+o,"reloading");this._cache.filter(o=>!o.hasDependency(e,r))}_preloadTiles(e,r){if(!this._sourceLoaded){const d=()=>{this._sourceLoaded&&(this._source.off("data",d),this._preloadTiles(e,r))};return void this._source.on("data",d)}const o=new Map,a=Array.isArray(e)?e:[e],c=this.map.painter.terrain,p=this.usedForTerrain&&c?c.getScaledDemTileSize():this._source.tileSize;for(const d of a){const m=d.coveringTiles({tileSize:p,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const y of m)o.set(y.key,y);this.usedForTerrain&&d.updateElevation(!1)}Zt(Array.from(o.values()),(d,m)=>{const y=new n9(d,this._source.tileSize*d.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(y,x=>{this._source.type==="raster-dem"&&y.dem&&this._backfillDEM(y),m(x,y)})},r)}}function Ol(t,e){const r=Math.abs(2*t.wrap)-+(t.wrap<0),o=Math.abs(2*e.wrap)-+(e.wrap<0);return t.overscaledZ-e.overscaledZ||o-r||e.canonical.y-t.canonical.y||e.canonical.x-t.canonical.x}function Vl(t){return t==="raster"||t==="image"||t==="video"||t==="custom"}function X7(t,e){const r=1<<t.z;return[t.x/r+e,(t.x+1)/r+e]}_5.maxOverzooming=10,_5.maxUnderzooming=3;class Ma{constructor(e,r,o){this._demTile=e,this._dem=this._demTile.dem,this._scale=r,this._offset=o}static create(e,r,o){const a=o||e.findDEMTileFor(r);if(!a||!a.dem)return;const c=a.dem,p=a.tileID,d=1<<r.canonical.z-p.canonical.z;return new Ma(a,a.tileSize/zt/d,[(r.canonical.x/d-p.canonical.x)*c.dim,(r.canonical.y/d-p.canonical.y)*c.dim])}tileCoordToPixel(e,r){const o=r*this._scale+this._offset[1],a=Math.floor(e*this._scale+this._offset[0]),c=Math.floor(o);return new Te(a,c)}getElevationAt(e,r,o,a){const c=e*this._scale+this._offset[0],p=r*this._scale+this._offset[1],d=Math.floor(c),m=Math.floor(p),y=this._dem;return a=!!a,o?u4(u4(y.get(d,m,a),y.get(d,m+1,a),p-m),u4(y.get(d+1,m,a),y.get(d+1,m+1,a),p-m),c-d):y.get(d,m,a)}getElevationAtPixel(e,r,o){return this._dem.get(e,r,!!o)}getMeterToDEM(e){return(1<<this._demTile.tileID.canonical.z)*xo(1,e)*this._dem.stride}}class jl{constructor(e,r){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=new Ho(zt,16,0),this.featureIndexArray=new n5,this.promoteId=r}insert(e,r,o,a,c,p=0){const d=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(o,a,c,p);const m=this.grid;for(let y=0;y<r.length;y++){const x=r[y],b=[1/0,1/0,-1/0,-1/0];for(let S=0;S<x.length;S++){const I=x[S];b[0]=Math.min(b[0],I.x),b[1]=Math.min(b[1],I.y),b[2]=Math.max(b[2],I.x),b[3]=Math.max(b[3],I.y)}b[0]<zt&&b[1]<zt&&b[2]>=0&&b[3]>=0&&m.insert(d,b[0],b[1],b[2],b[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new G1(new ha(this.rawTileData)).layers,this.sourceLayerCoder=new Al(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const e in this.vtLayers)this.vtFeatures[e]=[]}return this.vtLayers}query(e,r,o,a){this.loadVTLayers();const c=e.params||{},p=H5(c.filter),d=e.tileResult,m=e.transform,y=d.bufferedTilespaceBounds,x=this.grid.query(y.min.x,y.min.y,y.max.x,y.max.y,(E,k,O,H)=>d6(d.bufferedTilespaceGeometry,E,k,O,H));x.sort(O8);let b=null;m.elevation&&x.length>0&&(b=Ma.create(m.elevation,this.tileID));const S={};let I;for(let E=0;E<x.length;E++){const k=x[E];if(k===I)continue;I=k;const O=this.featureIndexArray.get(k);let H=null;this.loadMatchingFeature(S,O,p,c.layers,c.availableImages,r,o,a,(re,X,te,le=0)=>(H||(H=en(re,this.tileID.canonical,e.tileTransform)),X.queryIntersectsFeature(d,re,te,H,this.z,e.transform,e.pixelPosMatrix,b,le)))}return S}loadMatchingFeature(e,r,o,a,c,p,d,m,y){const{featureIndex:x,bucketIndex:b,sourceLayerIndex:S,layoutVertexArrayOffset:I}=r,E=this.bucketLayerIDs[b];if(a&&!function(re,X){for(let te=0;te<re.length;te++)if(X.indexOf(re[te])>=0)return!0;return!1}(a,E))return;const k=this.sourceLayerCoder.decode(S),O=this.vtLayers[k].feature(x);if(o.needGeometry){const re=d5(O,!0);if(!o.filter(new v(this.tileID.overscaledZ),re,this.tileID.canonical))return}else if(!o.filter(new v(this.tileID.overscaledZ),O))return;const H=this.getId(O,k);for(let re=0;re<E.length;re++){const X=E[re];if(a&&a.indexOf(X)<0)continue;const te=p[X];if(!te)continue;let le={};H!==void 0&&m&&(le=m.getState(te.sourceLayer||"_geojsonTileLayer",H));const ae=a4({},d[X]);ae.paint=Gl(ae.paint,te.paint,O,le,c),ae.layout=Gl(ae.layout,te.layout,O,le,c);const Pe=!y||y(O,te,le,I);if(!Pe)continue;const Se=new Il(O,this.z,this.x,this.y,H);Se.layer=ae;let Ne=e[X];Ne===void 0&&(Ne=e[X]=[]),Ne.push({featureIndex:x,feature:Se,intersectionZ:Pe})}}lookupSymbolFeatures(e,r,o,a,c,p,d,m){const y={};this.loadVTLayers();const x=H5(c);for(const b of e)this.loadMatchingFeature(y,{bucketIndex:o,sourceLayerIndex:a,featureIndex:b,layoutVertexArrayOffset:0},x,p,d,m,r);return y}loadFeature(e){const{featureIndex:r,sourceLayerIndex:o}=e;this.loadVTLayers();const a=this.sourceLayerCoder.decode(o),c=this.vtFeatures[a];if(c[r])return c[r];const p=this.vtLayers[a].feature(r);return c[r]=p,p}hasLayer(e){for(const r of this.bucketLayerIDs)for(const o of r)if(e===o)return!0;return!1}getId(e,r){let o=e.id;if(this.promoteId){const a=typeof this.promoteId=="string"?this.promoteId:this.promoteId[r];a!=null&&(o=e.properties[a]),typeof o=="boolean"&&(o=Number(o))}return o}}function Gl(t,e,r,o,a){return Qt(t,(c,p)=>{const d=e instanceof W?e.get(p):null;return d&&d.evaluate?d.evaluate(r,o,a):d})}function O8(t,e){return e-t}Ct(jl,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});class ql{constructor(e,r){this.width=e,this.height=r,this.nextRow=0,this.image=new tn({width:e,height:r}),this.positions={},this.uploaded=!1}getDash(e,r){const o=this.getKey(e,r);return this.positions[o]}trim(){const e=this.width,r=this.height=Vr(this.nextRow);this.image.resize({width:e,height:r})}getKey(e,r){return e.join(",")+r}getDashRanges(e,r,o){const a=[];let c=e.length%2==1?-e[e.length-1]*o:0,p=e[0]*o,d=!0;a.push({left:c,right:p,isDash:d,zeroLength:e[0]===0});let m=e[0];for(let y=1;y<e.length;y++){d=!d;const x=e[y];c=m*o,m+=x,p=m*o,a.push({left:c,right:p,isDash:d,zeroLength:x===0})}return a}addRoundDash(e,r,o){const a=r/2;for(let c=-o;c<=o;c++){const p=this.width*(this.nextRow+o+c);let d=0,m=e[d];for(let y=0;y<this.width;y++){y/m.right>1&&(m=e[++d]);const x=Math.abs(y-m.left),b=Math.abs(y-m.right),S=Math.min(x,b);let I;const E=c/o*(a+1);if(m.isDash){const k=a-Math.abs(E);I=Math.sqrt(S*S+k*k)}else I=a-Math.sqrt(S*S+E*E);this.image.data[p+y]=Math.max(0,Math.min(255,I+128))}}}addRegularDash(e,r){for(let m=e.length-1;m>=0;--m){const y=e[m],x=e[m+1];y.zeroLength?e.splice(m,1):x&&x.isDash===y.isDash&&(x.left=y.left,e.splice(m,1))}const o=e[0],a=e[e.length-1];o.isDash===a.isDash&&(o.left=a.left-this.width,a.right=o.right+this.width);const c=this.width*this.nextRow;let p=0,d=e[p];for(let m=0;m<this.width;m++){m/d.right>1&&(d=e[++p]);const y=Math.abs(m-d.left),x=Math.abs(m-d.right),b=Math.min(y,x);this.image.data[c+m]=Math.max(0,Math.min(255,(d.isDash?b:-b)+r+128))}}addDash(e,r){const o=this.getKey(e,r);if(this.positions[o])return this.positions[o];const a=r==="round",c=a?7:0,p=2*c+1;if(this.nextRow+p>this.height)return g4("LineAtlas out of space"),null;e.length===0&&e.push(1);let d=0;for(let x=0;x<e.length;x++)e[x]<0&&(g4("Negative value is found in line dasharray, replacing values with 0"),e[x]=0),d+=e[x];if(d!==0){const x=this.width/d,b=this.getDashRanges(e,this.width,x);a?this.addRoundDash(b,x,c):this.addRegularDash(b,r==="square"?.5*x:0)}const m=this.nextRow+c;this.nextRow+=p;const y={tl:[m,c],br:[d,0]};return this.positions[o]=y,y}}Ct(ql,"LineAtlas");const Zl=1*bo;class Wl{constructor(e){const r={},o=[];for(const d in e){const m=e[d],y=r[d]={};for(const x in m.glyphs){const b=m.glyphs[+x];if(!b||b.bitmap.width===0||b.bitmap.height===0)continue;const S=b.metrics.localGlyph?Zl:1,I={x:0,y:0,w:b.bitmap.width+2*S,h:b.bitmap.height+2*S};o.push(I),y[x]=I}}const{w:a,h:c}=H1(o),p=new tn({width:a||1,height:c||1});for(const d in e){const m=e[d];for(const y in m.glyphs){const x=m.glyphs[+y];if(!x||x.bitmap.width===0||x.bitmap.height===0)continue;const b=r[d][y],S=x.metrics.localGlyph?Zl:1;tn.copy(x.bitmap,p,{x:0,y:0},{x:b.x+S,y:b.y+S},x.bitmap)}}this.image=p,this.positions=r}}Ct(Wl,"GlyphAtlas");class V8{constructor(e){this.tileID=new mi(e.tileID.overscaledZ,e.tileID.wrap,e.tileID.canonical.z,e.tileID.canonical.x,e.tileID.canonical.y),this.tileZoom=e.tileZoom,this.uid=e.uid,this.zoom=e.zoom,this.canonical=e.tileID.canonical,this.pixelRatio=e.pixelRatio,this.tileSize=e.tileSize,this.source=e.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=e.showCollisionBoxes,this.collectResourceTiming=!!e.collectResourceTiming,this.returnDependencies=!!e.returnDependencies,this.promoteId=e.promoteId,this.enableTerrain=!!e.enableTerrain,this.isSymbolTile=e.isSymbolTile,this.tileTransform=y5(e.tileID.canonical,e.projection),this.projection=e.projection}parse(e,r,o,a,c){this.status="parsing",this.data=e,this.collisionBoxArray=new U4;const p=new Al(Object.keys(e.layers).sort()),d=new jl(this.tileID,this.promoteId);d.bucketLayerIDs=[];const m={},y=new ql(256,256),x={featureIndex:d,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:y,availableImages:o},b=r.familiesBySource[this.source];for(const le in b){const ae=e.layers[le];if(!ae)continue;let Pe=!1,Se=!1;for(const Le of b[le])Le[0].type==="symbol"?Pe=!0:Se=!0;if(this.isSymbolTile===!0&&!Pe||this.isSymbolTile===!1&&!Se)continue;ae.version===1&&g4(`Vector tile source "${this.source}" layer "${le}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Ne=p.encode(le),tt=[];for(let Le=0;Le<ae.length;Le++){const je=ae.feature(Le),Ge=d.getId(je,le);tt.push({feature:je,id:Ge,index:Le,sourceLayerIndex:Ne})}for(const Le of b[le]){const je=Le[0];this.isSymbolTile!==void 0&&je.type==="symbol"!==this.isSymbolTile||je.minzoom&&this.zoom<Math.floor(je.minzoom)||je.maxzoom&&this.zoom>=je.maxzoom||je.visibility!=="none"&&(u9(Le,this.zoom,o),(m[je.id]=je.createBucket({index:d.bucketLayerIDs.length,layers:Le,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Ne,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:o})).populate(tt,x,this.tileID.canonical,this.tileTransform),d.bucketLayerIDs.push(Le.map(Ge=>Ge.id)))}}let S,I,E,k;y.trim();const O={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},H=()=>{if(S)return c(S);if(I&&E&&k){const le=new Wl(I),ae=new Q6(E,k);for(const Pe in m){const Se=m[Pe];Se instanceof Pn?(u9(Se.layers,this.zoom,o),d8(Se,I,le.positions,E,ae.iconPositions,this.showCollisionBoxes,o,this.tileID.canonical,this.tileZoom,this.projection)):Se.hasPattern&&(Se instanceof ca||Se instanceof oa||Se instanceof z7)&&(u9(Se.layers,this.zoom,o),Se.addFeatures(x,this.tileID.canonical,ae.patternPositions,o,this.tileTransform))}this.status="done",c(null,{buckets:Q4(m).filter(Pe=>!Pe.isEmpty()),featureIndex:d,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:le.image,lineAtlas:y,imageAtlas:ae,glyphMap:this.returnDependencies?I:null,iconMap:this.returnDependencies?E:null,glyphPositions:this.returnDependencies?le.positions:null})}},re=Qt(x.glyphDependencies,le=>Object.keys(le).map(Number));Object.keys(re).length?a.send("getGlyphs",{uid:this.uid,stacks:re},(le,ae)=>{S||(S=le,I=ae,H())},void 0,!1,O):I={};const X=Object.keys(x.iconDependencies);X.length?a.send("getImages",{icons:X,source:this.source,tileID:this.tileID,type:"icons"},(le,ae)=>{S||(S=le,E=ae,H())},void 0,!1,O):E={};const te=Object.keys(x.patternDependencies);te.length?a.send("getImages",{icons:te,source:this.source,tileID:this.tileID,type:"patterns"},(le,ae)=>{S||(S=le,k=ae,H())},void 0,!1,O):k={},H()}}function u9(t,e,r){const o=new v(e);for(const a of t)a.recalculate(o,r)}class Hl{constructor(e){this.entries={},this.scheduler=e}request(e,r,o,a){const c=this.entries[e]=this.entries[e]||{callbacks:[]};if(c.result){const[p,d]=c.result;return this.scheduler?this.scheduler.add(()=>{a(p,d)},r):a(p,d),()=>{}}return c.callbacks.push(a),c.cancel||(c.cancel=o((p,d)=>{c.result=[p,d];for(const m of c.callbacks)this.scheduler?this.scheduler.add(()=>{m(p,d)},r):m(p,d);setTimeout(()=>delete this.entries[e],3e3)})),()=>{c.result||(c.callbacks=c.callbacks.filter(p=>p!==a),c.callbacks.length||(c.cancel(),delete this.entries[e]))}}}function Xl(t,e,r){const o=JSON.stringify(t.request);return t.data&&(this.deduped.entries[o]={result:[null,t.data]}),this.deduped.request(o,{type:"parseTile",isSymbolTile:t.isSymbolTile,zoom:t.tileZoom},a=>{const c=Di(t.request,(p,d,m,y)=>{p?a(p):d&&a(null,{vectorTile:r?void 0:new G1(new ha(d)),rawData:d,cacheControl:m,expires:y})});return()=>{c.cancel(),a()}},e)}const Yl=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class p9{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[r,o]=new Uint8Array(e,0,2);if(r!==219)throw new Error("Data does not appear to be in a KDBush format.");const a=o>>4;if(a!==1)throw new Error(`Got v${a} data when expected v1.`);const c=Yl[15&o];if(!c)throw new Error("Unrecognized array type.");const[p]=new Uint16Array(e,2,1),[d]=new Uint32Array(e,4,1);return new p9(d,p,c,e)}constructor(e,r=64,o=Float64Array,a){if(isNaN(e)||e<0)throw new Error(`Unpexpected numItems value: ${e}.`);this.numItems=+e,this.nodeSize=Math.min(Math.max(+r,2),65535),this.ArrayType=o,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const c=Yl.indexOf(this.ArrayType),p=2*e*this.ArrayType.BYTES_PER_ELEMENT,d=e*this.IndexArrayType.BYTES_PER_ELEMENT,m=(8-d%8)%8;if(c<0)throw new Error(`Unexpected typed array class: ${o}.`);a&&a instanceof ArrayBuffer?(this.data=a,this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+d+m,2*e),this._pos=2*e,this._finished=!0):(this.data=new ArrayBuffer(8+p+d+m),this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+d+m,2*e),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+c]),new Uint16Array(this.data,2,1)[0]=r,new Uint32Array(this.data,4,1)[0]=e)}add(e,r){const o=this._pos>>1;return this.ids[o]=o,this.coords[this._pos++]=e,this.coords[this._pos++]=r,o}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error(`Added ${e} items when expected ${this.numItems}.`);return h9(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,r,o,a){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:c,coords:p,nodeSize:d}=this,m=[0,c.length-1,0],y=[];for(;m.length;){const x=m.pop()||0,b=m.pop()||0,S=m.pop()||0;if(b-S<=d){for(let O=S;O<=b;O++){const H=p[2*O],re=p[2*O+1];H>=e&&H<=o&&re>=r&&re<=a&&y.push(c[O])}continue}const I=S+b>>1,E=p[2*I],k=p[2*I+1];E>=e&&E<=o&&k>=r&&k<=a&&y.push(c[I]),(x===0?e<=E:r<=k)&&(m.push(S),m.push(I-1),m.push(1-x)),(x===0?o>=E:a>=k)&&(m.push(I+1),m.push(b),m.push(1-x))}return y}within(e,r,o){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:a,coords:c,nodeSize:p}=this,d=[0,a.length-1,0],m=[],y=o*o;for(;d.length;){const x=d.pop()||0,b=d.pop()||0,S=d.pop()||0;if(b-S<=p){for(let O=S;O<=b;O++)Jl(c[2*O],c[2*O+1],e,r)<=y&&m.push(a[O]);continue}const I=S+b>>1,E=c[2*I],k=c[2*I+1];Jl(E,k,e,r)<=y&&m.push(a[I]),(x===0?e-o<=E:r-o<=k)&&(d.push(S),d.push(I-1),d.push(1-x)),(x===0?e+o>=E:r+o>=k)&&(d.push(I+1),d.push(b),d.push(1-x))}return m}}function h9(t,e,r,o,a,c){if(a-o<=r)return;const p=o+a>>1;Kl(t,e,p,o,a,c),h9(t,e,r,o,p-1,1-c),h9(t,e,r,p+1,a,1-c)}function Kl(t,e,r,o,a,c){for(;a>o;){if(a-o>600){const y=a-o+1,x=r-o+1,b=Math.log(y),S=.5*Math.exp(2*b/3),I=.5*Math.sqrt(b*S*(y-S)/y)*(x-y/2<0?-1:1);Kl(t,e,r,Math.max(o,Math.floor(r-x*S/y+I)),Math.min(a,Math.floor(r+(y-x)*S/y+I)),c)}const p=e[2*r+c];let d=o,m=a;for(Y7(t,e,o,r),e[2*a+c]>p&&Y7(t,e,o,a);d<m;){for(Y7(t,e,d,m),d++,m--;e[2*d+c]<p;)d++;for(;e[2*m+c]>p;)m--}e[2*o+c]===p?Y7(t,e,o,m):(m++,Y7(t,e,m,a)),m<=r&&(o=m+1),r<=m&&(a=m-1)}}function Y7(t,e,r,o){d9(t,r,o),d9(e,2*r,2*o),d9(e,2*r+1,2*o+1)}function d9(t,e,r){const o=t[e];t[e]=t[r],t[r]=o}function Jl(t,e,r,o){const a=t-r,c=e-o;return a*a+c*c}n.ARRAY_TYPE=Ti,n.AUTH_ERR_MSG=se,n.Aabb=fi,n.Actor=class{constructor(t,e,r){this.target=t,this.parent=e,this.mapId=r,this.callbacks={},this.cancelCallbacks={},Kr(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=Jr()?t:G,this.scheduler=new k8}send(t,e,r,o,a=!1,c){const p=Math.round(1e18*Math.random()).toString(36).substring(0,10);r&&(r.metadata=c,this.callbacks[p]=r);const d=b4(this.globalScope)?void 0:[];return this.target.postMessage({id:p,type:t,hasCallback:!!r,targetMapId:o,mustQueue:a,sourceMapId:this.mapId,data:Cn(e,d)},d),{cancel:()=>{r&&delete this.callbacks[p],this.target.postMessage({id:p,type:"<cancel>",targetMapId:o,sourceMapId:this.mapId})}}}receive(t){const e=t.data,r=e.id;if(r&&(!e.targetMapId||this.mapId===e.targetMapId))if(e.type==="<cancel>"){const o=this.cancelCallbacks[r];delete this.cancelCallbacks[r],o&&o.cancel()}else if(e.mustQueue||Jr()){const o=this.callbacks[r];this.cancelCallbacks[r]=this.scheduler.add(()=>this.processTask(r,e),o&&o.metadata||{type:"message"})}else this.processTask(r,e)}processTask(t,e){if(e.type==="<response>"){const r=this.callbacks[t];delete this.callbacks[t],r&&(e.error?r(Xo(e.error)):r(null,Xo(e.data)))}else{const r=b4(this.globalScope)?void 0:[],o=e.hasCallback?(c,p)=>{delete this.cancelCallbacks[t],this.target.postMessage({id:t,type:"<response>",sourceMapId:this.mapId,error:c?Cn(c):null,data:Cn(p,r)},r)}:c=>{},a=Xo(e.data);if(this.parent[e.type])this.parent[e.type](e.sourceMapId,a,o);else if(this.parent.getWorkerSource){const c=e.type.split(".");this.parent.getWorkerSource(e.sourceMapId,c[0],a.source)[c[1]](a,o)}else o(new Error(`Could not find function ${e.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},n.CanonicalTileID=la,n.Color=_r,n.ColorMode=Bo,n.CullFaceMode=Co,n.DEMData=Sa,n.DataConstantProperty=L,n.DedupedRequest=Hl,n.DepthMode=gs,n.EXTENT=zt,n.Elevation=class{isDataAvailableAtPoint(t){const e=this._source();if(this.isUsingMockSource()||!e||t.y<0||t.y>1)return!1;const r=e.getSource().maxzoom,o=1<<r,a=Math.floor(t.x),c=Math.floor((t.x-a)*o),p=Math.floor(t.y*o),d=this.findDEMTileFor(new mi(r,a,r,c,p));return!(!d||!d.dem)}getAtPointOrZero(t,e=0){return this.getAtPoint(t,e)||0}getAtPoint(t,e,r=!0){if(this.isUsingMockSource())return null;e==null&&(e=null);const o=this._source();if(!o||t.y<0||t.y>1)return e;const a=o.getSource().maxzoom,c=1<<a,p=Math.floor(t.x),d=t.x-p,m=new mi(a,p,a,Math.floor(d*c),Math.floor(t.y*c)),y=this.findDEMTileFor(m);if(!y||!y.dem)return e;const x=y.dem,b=1<<y.tileID.canonical.z,S=(d*b-y.tileID.canonical.x)*x.dim,I=(t.y*b-y.tileID.canonical.y)*x.dim,E=Math.floor(S),k=Math.floor(I);return(r?this.exaggeration():1)*u4(u4(x.get(E,k),x.get(E,k+1),I-k),u4(x.get(E+1,k),x.get(E+1,k+1),I-k),S-E)}getAtTileOffset(t,e,r){const o=1<<t.canonical.z;return this.getAtPointOrZero(new os(t.wrap+(t.canonical.x+e/zt)/o,(t.canonical.y+r/zt)/o))}getAtTileOffsetFunc(t,e,r,o){return a=>{const c=this.getAtTileOffset(t,a.x,a.y),p=o.upVector(t.canonical,a.x,a.y);return Gi(p,p,c*o.upVectorScale(t.canonical,e,r).metersToTile),p}}getForTilePoints(t,e,r,o){if(this.isUsingMockSource())return!1;const a=Ma.create(this,t,o);return!!a&&(e.forEach(c=>{c[2]=this.exaggeration()*a.getElevationAt(c[0],c[1],r)}),!0)}getMinMaxForTile(t){if(this.isUsingMockSource())return null;const e=this.findDEMTileFor(t);if(!e||!e.dem)return null;const r=e.dem.tree,o=e.tileID,a=1<<t.canonical.z-o.canonical.z;let c=t.canonical.x/a-o.canonical.x,p=t.canonical.y/a-o.canonical.y,d=0;for(let m=0;m<t.canonical.z-o.canonical.z&&!r.leaves[d];m++){c*=2,p*=2;const y=2*Math.floor(p)+Math.floor(c);d=r.childOffsets[d]+y,c%=1,p%=1}return{min:this.exaggeration()*r.minimums[d],max:this.exaggeration()*r.maximums[d]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(t,e,r){throw new Error("Pure virtual method called.")}pointCoordinate(t){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(t){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},n.ErrorEvent=xr,n.EvaluationParameters=v,n.Event=Si,n.Evented=Ki,n.FillExtrusionBucket=z7,n.Frustum=v1,n.FrustumCorners=x1,n.GLOBE_RADIUS=Fo,n.GLOBE_SCALE_MATCH_LATITUDE=45,n.GLOBE_ZOOM_THRESHOLD_MAX=K9,n.GLOBE_ZOOM_THRESHOLD_MIN=b1,n.GlobeSharedBuffers=class{constructor(t){this._createGrid(t),this._createPoles(t)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const t of this._poleSegments)t.destroy();for(const t of this._gridSegments)t.withSkirts.destroy(),t.withoutSkirts.destroy();if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();for(const t of this._wireframeSegments)t.destroy()}}_fillGridMeshWithLods(t,e){const r=new et,o=new Tt,a=[],c=t+1+2,p=e[0]+1,d=e[0]+1+(1+e.length),m=(y,x,b)=>{let S=y===c-1?y-2:y===0?y:y-1;return S+=b?24575:0,[S,x]};for(let y=0;y<c;++y)r.emplaceBack(...m(y,0,!0));for(let y=0;y<p;++y)for(let x=0;x<c;++x)r.emplaceBack(...m(x,y,(x===0||x===c-1)&&!0));for(let y=0;y<e.length;++y){const x=e[y];for(let b=0;b<c;++b)r.emplaceBack(...m(b,x,!0))}for(let y=0;y<e.length;++y){const x=o.length,b=e[y]+1+2,S=new Tt;for(let k=0;k<b-1;k++){const O=k===b-2,H=O?c*(d-e.length+y-k):c;for(let re=0;re<c-1;re++){const X=k*c+re;k===0||O||re===0||re===c-2?(S.emplaceBack(X+1,X,X+H),S.emplaceBack(X+H,X+H+1,X+1)):(o.emplaceBack(X+1,X,X+H),o.emplaceBack(X+H,X+H+1,X+1))}}const I=br.simpleSegment(0,x,r.length,o.length-x);for(let k=0;k<S.uint16.length;k+=3)o.emplaceBack(S.uint16[k],S.uint16[k+1],S.uint16[k+2]);const E=br.simpleSegment(0,x,r.length,o.length-x);a.push({withoutSkirts:I,withSkirts:E})}return{vertices:r,indices:o,segments:a}}_createGrid(t){const e=this._fillGridMeshWithLods(p5,M7);this._gridSegments=e.segments,this._gridBuffer=t.createVertexBuffer(e.vertices,S7.members),this._gridIndexBuffer=t.createIndexBuffer(e.indices,!0)}_createPoles(t){const e=new Tt;for(let a=0;a<=p5;a++)e.emplaceBack(0,a+1,a+2);this._poleIndexBuffer=t.createIndexBuffer(e,!0);const r=new k4,o=new k4;this._poleSegments=[];for(let a=0,c=0;a<b1;a++){const p=360/(1<<a);r.emplaceBack(0,-Fo,0,.5,0),o.emplaceBack(0,-Fo,0,.5,1);for(let d=0;d<=p5;d++){const m=d/p5,y=u4(0,p,m),[x,b,S]=ts(k0,U0,y,Fo);r.emplaceBack(x,b,S,m,0),o.emplaceBack(x,b,S,m,1)}this._poleSegments.push(br.simpleSegment(c,0,66,64)),c+=66}this._poleNorthVertexBuffer=t.createVertexBuffer(r,X9,!1),this._poleSouthVertexBuffer=t.createVertexBuffer(o,X9,!1)}getGridBuffers(t,e){return[this._gridBuffer,this._gridIndexBuffer,e?this._gridSegments[t].withSkirts:this._gridSegments[t].withoutSkirts]}getPoleBuffers(t){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[t]]}getWirefameBuffers(t,e){if(!this._wireframeSegments){const r=new zr,o=p5,a=o+1+2,c=1;this._wireframeSegments=[];for(let p=0,d=0;p<M7.length;p++){const m=M7[p];for(let x=c;x<m+c;x++)for(let b=c;b<o+c;b++){const S=x*a+b;r.emplaceBack(S,S+1),r.emplaceBack(S,S+a),r.emplaceBack(S,S+a+1)}const y=m*o*3;this._wireframeSegments.push(br.simpleSegment(0,d,(m+1)*a,y)),d+=y}this._wireframeIndexBuffer=t.createIndexBuffer(r)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[e]]}},n.GlyphManager=ds,n.ImagePosition=X1,n.KDBush=p9,n.LivePerformanceUtils=dr,n.LngLat=z4,n.LngLatBounds=Mn,n.LocalGlyphMode=J1,n.MAX_MERCATOR_LATITUDE=ti,n.MercatorCoordinate=os,n.ONE_EM=Xr,n.OverscaledTileID=mi,n.PerformanceMarkers=W4,n.Point=Te,n.Properties=$,n.RGBAImage=Fi,n.Ray=g1,n.RequestManager=class{constructor(t,e,r){this._transformRequestFn=t,this._customAccessToken=e,this._silenceAuthErrors=!!r,this._createSkuToken()}_createSkuToken(){const t=function(){let e="";for(let r=0;r<10;r++)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",Qe,e].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=t.token,this._skuTokenExpiresAt=t.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(t,e){return this._transformRequestFn&&this._transformRequestFn(t,e)||{url:t}}normalizeStyleURL(t,e){if(!he(t))return t;const r=lt(t);return r.path=`/styles/v1${r.path}`,this._makeAPIURL(r,this._customAccessToken||e)}normalizeGlyphsURL(t,e){if(!he(t))return t;const r=lt(t);return r.path=`/fonts/v1${r.path}`,this._makeAPIURL(r,this._customAccessToken||e)}normalizeSourceURL(t,e,r,o){if(!he(t))return t;const a=lt(t);return a.path=`/v4/${a.authority}.json`,a.params.push("secure"),r&&a.params.push(`language=${r}`),o&&a.params.push(`worldview=${o}`),this._makeAPIURL(a,this._customAccessToken||e)}normalizeSpriteURL(t,e,r,o){const a=lt(t);return he(t)?(a.path=`/styles/v1${a.path}/sprite${e}${r}`,this._makeAPIURL(a,this._customAccessToken||o)):(a.path+=`${e}${r}`,Ke(a))}normalizeTileURL(t,e,r){if(this._isSkuTokenExpired()&&this._createSkuToken(),t&&!he(t))return t;const o=lt(t);o.path=o.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${e||r&&o.authority!=="raster"&&r===512?"@2x":""}${ye.supported?".webp":"$1"}`),o.authority==="raster"?o.path=`/${ie.RASTER_URL_PREFIX}${o.path}`:(o.path=o.path.replace(/^.+\/v4\//,"/"),o.path=`/${ie.TILE_URL_VERSION}${o.path}`);const a=this._customAccessToken||function(c){for(const p of c){const d=p.match(/^access_token=(.*)$/);if(d)return d[1]}return null}(o.params)||ie.ACCESS_TOKEN;return ie.REQUIRE_ACCESS_TOKEN&&a&&this._skuToken&&o.params.push(`sku=${this._skuToken}`),this._makeAPIURL(o,a)}canonicalizeTileURL(t,e){const r=lt(t);if(!r.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!r.path.match(/\.[\w]+$/))return t;let o="mapbox://";r.path.match(/^\/raster\/v1\//)?o+=`raster/${r.path.replace(`/${ie.RASTER_URL_PREFIX}/`,"")}`:o+=`tiles/${r.path.replace(`/${ie.TILE_URL_VERSION}/`,"")}`;let a=r.params;return e&&(a=a.filter(c=>!c.match(/^access_token=/))),a.length&&(o+=`?${a.join("&")}`),o}canonicalizeTileset(t,e){const r=!!e&&he(e),o=[];for(const a of t.tiles||[])ve(a)?o.push(this.canonicalizeTileURL(a,r)):o.push(a);return o}_makeAPIURL(t,e){const r="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",o=lt(ie.API_URL);if(t.protocol=o.protocol,t.authority=o.authority,t.protocol==="http"){const a=t.params.indexOf("secure");a>=0&&t.params.splice(a,1)}if(o.path!=="/"&&(t.path=`${o.path}${t.path}`),!ie.REQUIRE_ACCESS_TOKEN)return Ke(t);if(e=e||ie.ACCESS_TOKEN,!this._silenceAuthErrors){if(!e)throw new Error(`An API access token is required to use Mapbox GL. ${r}`);if(e[0]==="s")throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${r}`)}return t.params=t.params.filter(a=>a.indexOf("access_token")===-1),t.params.push(`access_token=${e||""}`),Ke(t)}},n.ResourceType=Er,n.SegmentVector=br,n.SourceCache=_5,n.StencilMode=a9,n.StructArrayLayout1ui2=Pi,n.StructArrayLayout2f1f2i16=Rt,n.StructArrayLayout2i4=et,n.StructArrayLayout2ui4=zr,n.StructArrayLayout3f12=r4,n.StructArrayLayout3ui6=Tt,n.StructArrayLayout4i8=Ve,n.StructArrayLayout5f20=k4,n.Texture=H7,n.Tile=n9,n.Transitionable=F,n.Uniform1f=Z3,n.Uniform1i=class extends Jo{constructor(t){super(t),this.current=0}set(t,e,r){this.fetchUniformLocation(t,e)&&this.current!==r&&(this.current=r,this.gl.uniform1i(this.location,r))}},n.Uniform2f=class extends Jo{constructor(t){super(t),this.current=[0,0]}set(t,e,r){this.fetchUniformLocation(t,e)&&(r[0]===this.current[0]&&r[1]===this.current[1]||(this.current=r,this.gl.uniform2f(this.location,r[0],r[1])))}},n.Uniform3f=class extends Jo{constructor(t){super(t),this.current=[0,0,0]}set(t,e,r){this.fetchUniformLocation(t,e)&&(r[0]===this.current[0]&&r[1]===this.current[1]&&r[2]===this.current[2]||(this.current=r,this.gl.uniform3f(this.location,r[0],r[1],r[2])))}},n.Uniform4f=T9,n.UniformColor=F9,n.UniformMatrix2f=class extends Jo{constructor(t){super(t),this.current=g0}set(t,e,r){if(this.fetchUniformLocation(t,e)){for(let o=0;o<4;o++)if(r[o]!==this.current[o]){this.current=r,this.gl.uniformMatrix2fv(this.location,!1,r);break}}}},n.UniformMatrix3f=class extends Jo{constructor(t){super(t),this.current=_0}set(t,e,r){if(this.fetchUniformLocation(t,e)){for(let o=0;o<9;o++)if(r[o]!==this.current[o]){this.current=r,this.gl.uniformMatrix3fv(this.location,!1,r);break}}}},n.UniformMatrix4f=class extends Jo{constructor(t){super(t),this.current=y0}set(t,e,r){if(this.fetchUniformLocation(t,e)){if(r[12]!==this.current[12]||r[0]!==this.current[0])return this.current=r,void this.gl.uniformMatrix4fv(this.location,!1,r);for(let o=1;o<16;o++)if(r[o]!==this.current[o]){this.current=r,this.gl.uniformMatrix4fv(this.location,!1,r);break}}}},n.UnwrappedTileID=B6,n.ValidationError=yt,n.VectorTileFeature=sa,n.VectorTileWorkerSource=class extends Ki{constructor(t,e,r,o,a){super(),this.actor=t,this.layerIndex=e,this.availableImages=r,this.loadVectorData=a||Xl,this.loading={},this.loaded={},this.deduped=new Hl(t.scheduler),this.isSpriteLoaded=o,this.scheduler=t.scheduler}loadTile(t,e){const r=t.uid,o=t&&t.request,a=o&&o.collectResourceTiming,c=this.loading[r]=new V8(t);c.abort=this.loadVectorData(t,(p,d)=>{const m=!this.loading[r];if(delete this.loading[r],m||p||!d)return c.status="done",m||(this.loaded[r]=c),e(p);const y=d.rawData,x={};d.expires&&(x.expires=d.expires),d.cacheControl&&(x.cacheControl=d.cacheControl),c.vectorTile=d.vectorTile||new G1(new ha(y));const b=()=>{c.parse(c.vectorTile,this.layerIndex,this.availableImages,this.actor,(S,I)=>{if(S||!I)return e(S);const E={};if(a){const k=mr(o);k.length>0&&(E.resourceTiming=JSON.parse(JSON.stringify(k)))}e(null,a4({rawTileData:y.slice(0)},I,x,E))})};this.isSpriteLoaded?b():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(b,{type:"parseTile",isSymbolTile:t.isSymbolTile,zoom:t.tileZoom}):b()}),this.loaded=this.loaded||{},this.loaded[r]=c})}reloadTile(t,e){const r=this.loaded,o=t.uid,a=this;if(r&&r[o]){const c=r[o];c.showCollisionBoxes=t.showCollisionBoxes,c.enableTerrain=!!t.enableTerrain,c.projection=t.projection,c.tileTransform=y5(t.tileID.canonical,t.projection);const p=(d,m)=>{const y=c.reloadCallback;y&&(delete c.reloadCallback,c.parse(c.vectorTile,a.layerIndex,this.availableImages,a.actor,y)),e(d,m)};c.status==="parsing"?c.reloadCallback=p:c.status==="done"&&(c.vectorTile?c.parse(c.vectorTile,this.layerIndex,this.availableImages,this.actor,p):p())}}abortTile(t,e){const r=t.uid,o=this.loading[r];o&&(o.abort&&o.abort(),delete this.loading[r]),e()}removeTile(t,e){const r=this.loaded,o=t.uid;r&&r[o]&&delete r[o],e()}},n.WritingMode=Zi,n.ZoomDependentExpression=$n,n.add=Qo,n.addDynamicAttributes=Ca,n.adjoint=function(t,e){var r=e[0],o=e[1],a=e[2],c=e[3],p=e[4],d=e[5],m=e[6],y=e[7],x=e[8];return t[0]=p*x-d*y,t[1]=a*y-o*x,t[2]=o*d-a*p,t[3]=d*m-c*x,t[4]=r*x-a*m,t[5]=a*c-r*d,t[6]=c*y-p*m,t[7]=o*m-r*y,t[8]=r*p-o*c,t},n.asyncAll=Zt,n.bezier=o4,n.bindAll=Kr,n.boundsAttributes=Pl,n.bufferConvexPolygon=function(t,e){const r=[];for(let o=0;o<t.length;o++){const a=xt(o-1,-1,t.length-1),c=xt(o+1,-1,t.length-1),p=t[o],d=t[c],m=t[a].sub(p).unit(),y=d.sub(p).unit(),x=y.angleWithSep(m.x,m.y),b=m.add(y).unit().mult(-1*e/Math.sin(x/2));r.push(p.add(b))}return r},n.cacheEntryPossiblyAdded=function(t){Oi++,Oi>D4&&(t.getActor().send("enforceCacheSizeLimit",wi),Oi=0)},n.calculateGlobeLabelMatrix=function(t,e){const{x:r,y:o}=t.point,a=t6(r,o,t.worldSize/t._pixelsPerMercatorPixel,0,0);return l5(a,a,D1(Lo(e)))},n.calculateGlobeMatrix=function(t){const{x:e,y:r}=t.point,{lng:o,lat:a}=t._center;return t6(e,r,t.worldSize,o,a)},n.calculateGlobeMercatorMatrix=function(t){const e=t.pixelsPerMeter,r=e/xo(1,t.center.lat),o=_o(new Float64Array(16));return x7(o,o,[t.point.x,t.point.y,0]),c5(o,o,[r,r,e]),Float32Array.from(o)},n.circumferenceAtLatitude=M1,n.clamp=gt,n.clearTileCache=function(t){if(!vi())return;const e=G.caches.delete(Ir);t&&e.catch(t).then(()=>t())},n.clipLine=hl,n.clone=function(t){var e=new Ti(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},n.clone$1=Y4,n.collisionCircleLayout=Nc,n.config=ie,n.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},n.create=function(){var t=new Ti(16);return Ti!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},n.create$1=U9,n.createExpression=xn,n.createLayout=_e,n.createStyleLayer=function(t){return t.type==="custom"?new P8(t):new F8[t.type](t)},n.cross=_1,n.degToRad=qe,n.distance=function(t,e){return Math.hypot(e[0]-t[0],e[1]-t[1],e[2]-t[2])},n.div=function(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t},n.dot=ro,n.earthRadius=E7,n.ease=d4,n.easeCubicInOut=Pt,n.ecefToLatLng=function([t,e,r]){const o=Math.hypot(t,e,r),a=Math.atan2(t,r),c=.5*Math.PI-Math.acos(-e/o);return new z4(ct(a),ct(c))},n.emitValidationErrors=N3,n.endsWith=jr,n.enforceCacheSizeLimit=function(t){Pr(),tr&&tr.then(e=>{e.keys().then(r=>{for(let o=0;o<r.length-t;o++)e.delete(r[o])})})},n.evaluateSizeForFeature=ua,n.evaluateSizeForZoom=cs,n.evaluateVariableOffset=_l,n.evented=h,n.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},n.exactEquals$1=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},n.exported=Fr,n.exported$1=ye,n.extend=a4,n.extend$1=ci,n.fillExtrusionHeightLift=U6,n.filterObject=si,n.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},n.fromQuat=function(t,e){var r=e[0],o=e[1],a=e[2],c=e[3],p=r+r,d=o+o,m=a+a,y=r*p,x=o*p,b=o*d,S=a*p,I=a*d,E=a*m,k=c*p,O=c*d,H=c*m;return t[0]=1-b-E,t[1]=x+H,t[2]=S-O,t[3]=0,t[4]=x-H,t[5]=1-y-E,t[6]=I+k,t[7]=0,t[8]=S+O,t[9]=I-k,t[10]=1-y-b,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.fromRotation=function(t,e){var r=Math.sin(e),o=Math.cos(e);return t[0]=o,t[1]=r,t[2]=0,t[3]=-r,t[4]=o,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.fromScaling=R9,n.furthestTileCorner=function(t){const e=Math.round((t+45+360)%360/90)%4;return kt[e]},n.getAABBPointSquareDist=function(t,e,r){let o=0;for(let a=0;a<2;++a){const c=r?r[a]:0;t[a]>c&&(o+=(t[a]-c)*(t[a]-c)),e[a]<c&&(o+=(c-e[a])*(c-e[a]))}return o},n.getAnchorAlignment=K1,n.getAnchorJustification=Q1,n.getBounds=function(t){let e=1/0,r=1/0,o=-1/0,a=-1/0;for(const c of t)e=Math.min(e,c.x),r=Math.min(r,c.y),o=Math.max(o,c.x),a=Math.max(a,c.y);return{min:new Te(e,r),max:new Te(o,a)}},n.getColumn=l4,n.getDefaultExportFromCjs=He,n.getGridMatrix=function(t,e,r,o){const a=e.getNorth(),c=e.getSouth(),p=e.getWest(),d=e.getEast(),m=1<<t.z,y=d-p,x=a-c,b=y/p5,S=-x/M7[r],I=[0,b,0,S,0,0,a,p,0];if(t.z>0){const E=180/o;z9(I,I,[E/y+1,0,0,0,E/x+1,0,-.5*E/b,.5*E/S,1])}return I[2]=m,I[5]=t.x,I[8]=t.y,I},n.getImage=J,n.getJSON=function(t,e){return Tr(a4(t,{type:"json"}),e)},n.getLatitudinalLod=function(t){const e=ti-5;t=gt(t,-e,e)/e*90;const r=Math.pow(Math.abs(Math.sin(qe(t))),3);return Math.round(r*(M7.length-1))},n.getMapSessionAPI=ur,n.getPerformanceMeasurement=mr,n.getProjection=Sl,n.getRTLTextPluginStatus=f,n.getReferrer=bi,n.getTilePoint=function(t,{x:e,y:r},o=0){return new Te(((e-o)*t.scale-t.x)*zt,(r*t.scale-t.y)*zt)},n.getTileVec3=function(t,e,r=0){return es(((e.x-r)*t.scale-t.x)*zt,(e.y*t.scale-t.y)*zt,n6(e.z,e.y))},n.getVideo=function(t,e){const r=G.document.createElement("video");r.muted=!0,r.onloadstart=function(){e(null,r)};for(let o=0;o<t.length;o++){const a=G.document.createElement("source");Yi(t[o])||(r.crossOrigin="Anonymous"),a.src=t[o],r.appendChild(a)}return{cancel:()=>{}}},n.globeCenterToScreenPoint=function(t){const e=[0,0,0],r=_o(new Float64Array(16));return l5(r,t.pixelMatrix,t.globeMatrix),gr(e,e,r),new Te(e[0],e[1])},n.globeDenormalizeECEF=D1,n.globeECEFOrigin=function(t,e){const r=[0,0,0];return gr(r,r,I7(Lo(e.canonical))),gr(r,r,t),r},n.globeMetersToEcef=X3,n.globeNormalizeECEF=I7,n.globePixelsToTileUnits=function(t,e){return zt/(512*Math.pow(2,t))*K3(Lo(e))},n.globePoleMatrixForTile=function(t,e,r){const o=_o(new Float64Array(16)),a=(e/(1<<t)-.5)*Math.PI*2;return H3(o,r.globeMatrix,a),Float32Array.from(o)},n.globeTileBounds=Lo,n.globeTiltAtLngLat=r6,n.globeToMercatorTransition=is,n.globeUseCustomAntiAliasing=function(t,e,r){const o=is(r.zoom),a=t.style.map._antialias,c=!!e.extStandardDerivatives,p=e.extStandardDerivativesForceOff||t.terrain&&t.terrain.exaggeration()>0;return o===0&&!a&&!p&&c},n.identity=_o,n.identity$1=Z9,n.invert=d1,n.isFullscreen=function(){return!!G.document.fullscreenElement||!!G.document.webkitFullscreenElement},n.isLngLatBehindGlobe=S1,n.isMapAuthenticated=function(t){return m4.has(t)},n.isMapboxURL=he,n.isSafariWithAntialiasingBug=function(t){const e=t.navigator?t.navigator.userAgent:null;return!!b4(t)&&e&&(e.match("Version/15.4")||e.match("Version/15.5")||e.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},n.latFromMercatorY=ei,n.latLngToECEF=rs,n.len=A0,n.length=v7,n.length$1=function(t){return Math.hypot(t[0],t[1],t[2],t[3])},n.lngFromMercatorX=qi,n.loadVectorTile=Xl,n.makeRequest=Tr,n.mapValue=function(t,e,r,o,a){return gt((t-e)/(r-e)*(a-o)+o,o,a)},n.mercatorScale=s6,n.mercatorXfromLng=ko,n.mercatorYfromLat=Uo,n.mercatorZfromAltitude=xo,n.mul=S0,n.mul$1=M0,n.multiply=l5,n.multiply$1=z9,n.multiply$2=O9,n.nextPowerOfTwo=Vr,n.normalize=di,n.normalize$1=I0,n.normalize$2=G9,n.number=u4,n.ortho=function(t,e,r,o,a,c,p){var d=1/(e-r),m=1/(o-a),y=1/(c-p);return t[0]=-2*d,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*m,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*y,t[11]=0,t[12]=(e+r)*d,t[13]=(a+o)*m,t[14]=(p+c)*y,t[15]=1,t},n.pbf=Z6,n.perspective=function(t,e,r,o,a){var c,p=1/Math.tan(e/2);return t[0]=p/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=p,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,a!=null&&a!==1/0?(t[10]=(a+o)*(c=1/(o-a)),t[14]=2*a*o*c):(t[10]=-1,t[14]=-2*o),t},n.pick=function(t,e){const r={};for(let o=0;o<e.length;o++){const a=e[o];a in t&&(r[a]=t[a])}return r},n.plugin=g,n.pointGeometry=Xe,n.polesInViewport=function(t){const e=_o(new Float64Array(16));l5(e,t.pixelMatrix,t.globeMatrix);const r=[0,io,0],o=[0,oo,0];return gr(r,r,e),gr(o,o,e),[r[0]>0&&r[0]<=t.width&&r[1]>0&&r[1]<=t.height&&!S1(t,new z4(t.center.lat,90)),o[0]>0&&o[0]<=t.width&&o[1]>0&&o[1]<=t.height&&!S1(t,new z4(t.center.lat,-90))]},n.polygonContainsPoint=f5,n.polygonIntersectsBox=d6,n.polygonIntersectsPolygon=c6,n.polygonizeBounds=function(t,e,r=0,o=!0){const a=new Te(r,r),c=t.sub(a),p=e.add(a),d=[c,new Te(p.x,c.y),p,new Te(c.x,p.y)];return o&&d.push(c.clone()),d},n.posAttributes=S7,n.postMapLoadEvent=M4,n.postPerformanceEvent=E4,n.postTurnstileEvent=Wt,n.potpack=H1,n.prevPowerOfTwo=function(t){return t<=1?1:Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},n.radToDeg=ct,n.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],n.registerForPluginStateChange=function(t){return t({pluginStatus:l,pluginURL:i}),h.on("pluginStateChange",t),t},n.removeAuthState=function(t){m4.delete(t)},n.renderColorRamp=k1,n.resample=a6,n.rotateX=f1,n.rotateX$1=W9,n.rotateY=H3,n.rotateY$1=H9,n.rotateZ=function(t,e,r){var o=Math.sin(r),a=Math.cos(r),c=e[0],p=e[1],d=e[2],m=e[3],y=e[4],x=e[5],b=e[6],S=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=c*a+y*o,t[1]=p*a+x*o,t[2]=d*a+b*o,t[3]=m*a+S*o,t[4]=y*a-c*o,t[5]=x*a-p*o,t[6]=b*a-d*o,t[7]=S*a-m*o,t},n.rotateZ$1=function(t,e,r){r*=.5;var o=e[0],a=e[1],c=e[2],p=e[3],d=Math.sin(r),m=Math.cos(r);return t[0]=o*m+a*d,t[1]=a*m-o*d,t[2]=c*m+p*d,t[3]=p*m-c*d,t},n.scale=c5,n.scale$1=j9,n.scale$2=Gi,n.scaleAndAdd=w7,n.set=function(t,e,r,o){return t[0]=e,t[1]=r,t[2]=o,t},n.setCacheLimits=function(t,e){wi=t,D4=e},n.setColumn=function(t,e,r){t[4*e+0]=r[0],t[4*e+1]=r[1],t[4*e+2]=r[2],t[4*e+3]=r[3]},n.setRTLTextPlugin=function(t,e,r=!1){if(l===f7||l===m7||l===y7)throw new Error("setRTLTextPlugin cannot be called multiple times.");i=Fr.resolveURL(t),l=f7,wn=e,u(),r||_()},n.smoothstep=_t,n.spec=Ue,n.squaredLength=function(t){var e=t[0],r=t[1],o=t[2];return e*e+r*r+o*o},n.storeAuthState=function(t,e){e?m4.add(t):m4.delete(t)},n.sub=go,n.subtract=y1,n.symbolSize=Oc,n.tileAABB=function(t,e,r,o,a,c,p,d,m){if(m.name==="globe")return L0(t,e,new la(r,o,a));const y=y5({z:r,x:o,y:a},m);return new fi([(c+y.x/y.scale)*e,e*(y.y/y.scale),p],[(c+y.x2/y.scale)*e,e*(y.y2/y.scale),d])},n.tileCornersToBounds=Y3,n.tileTransform=y5,n.transformMat3=function(t,e,r){var o=e[0],a=e[1],c=e[2];return t[0]=o*r[0]+a*r[3]+c*r[6],t[1]=o*r[1]+a*r[4]+c*r[7],t[2]=o*r[2]+a*r[5]+c*r[8],t},n.transformMat4=gr,n.transformMat4$1=u5,n.transformQuat=V9,n.transitionTileAABBinECEF=$9,n.translate=x7,n.transpose=function(t,e){if(t===e){var r=e[1],o=e[2],a=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=o,t[7]=a}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},n.triggerPluginCompletionEvent=s,n.uniqueId=ni,n.updateGlobeVertexNormal=function(t,e,r,o,a){const c=5*e+2;t.float32[c+0]=r,t.float32[c+1]=o,t.float32[c+2]=a},n.validateCustomStyleLayer=function(t){const e=[],r=t.id;return r===void 0&&e.push({message:`layers.${r}: missing required property "id"`}),t.render===void 0&&e.push({message:`layers.${r}: missing required method "render"`}),t.renderingMode&&t.renderingMode!=="2d"&&t.renderingMode!=="3d"&&e.push({message:`layers.${r}: property "renderingMode" must be either "2d" or "3d"`}),e},n.validateFilter=t=>Ei(i5(t)),n.validateFog=t=>Ei(z3(t)),n.validateLayer=t=>Ei(F3(t)),n.validateLight=t=>Ei(U3(t)),n.validateSource=t=>Ei(k3(t)),n.validateStyle=B3,n.validateTerrain=t=>Ei(c7(t)),n.values=Q4,n.vectorTile=na,n.version=ee,n.warnOnce=g4,n.window=G,n.wrap=xt}),Y(["./shared"],function(n){function G(Q){if(typeof Q=="number"||typeof Q=="boolean"||typeof Q=="string"||Q==null)return JSON.stringify(Q);if(Array.isArray(Q)){let B="[";for(const J of Q)B+=`${G(J)},`;return`${B}]`}let z="{";for(const B of Object.keys(Q).sort())z+=`${B}:${G(Q[B])},`;return`${z}}`}function ee(Q){let z="";for(const B of n.refProperties)z+=`/${G(Q[B])}`;return z}class fe{constructor(z){this.keyCache={},z&&this.replace(z)}replace(z){this._layerConfigs={},this._layers={},this.update(z,[])}update(z,B){for(const se of z)this._layerConfigs[se.id]=se,(this._layers[se.id]=n.createStyleLayer(se)).compileFilter(),this.keyCache[se.id]&&delete this.keyCache[se.id];for(const se of B)delete this.keyCache[se],delete this._layerConfigs[se],delete this._layers[se];this.familiesBySource={};const J=function(se,he){const ve={};for(let de=0;de<se.length;de++){const Me=he&&he[se[de].id]||ee(se[de]);he&&(he[se[de].id]=Me);let rt=ve[Me];rt||(rt=ve[Me]=[]),rt.push(se[de])}const be=[];for(const de in ve)be.push(ve[de]);return be}(n.values(this._layerConfigs),this.keyCache);for(const se of J){const he=se.map(lt=>this._layers[lt.id]),ve=he[0];if(ve.visibility==="none")continue;const be=ve.source||"";let de=this.familiesBySource[be];de||(de=this.familiesBySource[be]={});const Me=ve.sourceLayer||"_geojsonTileLayer";let rt=de[Me];rt||(rt=de[Me]=[]),rt.push(he)}}}class ie{loadTile(z,B){const{uid:J,encoding:se,rawImageData:he,padding:ve,buildQuadTree:be}=z,de=n.window.ImageBitmap&&he instanceof n.window.ImageBitmap?this.getImageData(he,ve):he;B(null,new n.DEMData(J,de,se,ve<1,be))}getImageData(z,B){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(z.width,z.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=z.width,this.offscreenCanvas.height=z.height,this.offscreenCanvasContext.drawImage(z,0,0,z.width,z.height);const J=this.offscreenCanvasContext.getImageData(-B,-B,z.width+2*B,z.height+2*B);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),J}}function ye(Q,z){if(Q.length!==0){me(Q[0],z);for(var B=1;B<Q.length;B++)me(Q[B],!z)}}function me(Q,z){for(var B=0,J=0,se=0,he=Q.length,ve=he-1;se<he;ve=se++){var be=(Q[se][0]-Q[ve][0])*(Q[ve][1]+Q[se][1]),de=B+be;J+=Math.abs(B)>=Math.abs(be)?B-de+be:be-de+B,B=de}B+J>=0!=!!z&&Q.reverse()}var Ae=n.getDefaultExportFromCjs(function Q(z,B){var J,se=z&&z.type;if(se==="FeatureCollection")for(J=0;J<z.features.length;J++)Q(z.features[J],B);else if(se==="GeometryCollection")for(J=0;J<z.geometries.length;J++)Q(z.geometries[J],B);else if(se==="Feature")Q(z.geometry,B);else if(se==="Polygon")ye(z.coordinates,B);else if(se==="MultiPolygon")for(J=0;J<z.coordinates.length;J++)ye(z.coordinates[J],B);return z});const xe=n.VectorTileFeature.prototype.toGeoJSON;var ze={exports:{}},$e=n.pointGeometry,Qe=n.vectorTile.VectorTileFeature,He=Re;function Re(Q,z){this.options=z||{},this.features=Q,this.length=Q.length}function ot(Q,z){this.id=typeof Q.id=="number"?Q.id:void 0,this.type=Q.type,this.rawGeometry=Q.type===1?[Q.geometry]:Q.geometry,this.properties=Q.tags,this.extent=z||4096}Re.prototype.feature=function(Q){return new ot(this.features[Q],this.options.extent)},ot.prototype.loadGeometry=function(){var Q=this.rawGeometry;this.geometry=[];for(var z=0;z<Q.length;z++){for(var B=Q[z],J=[],se=0;se<B.length;se++)J.push(new $e(B[se][0],B[se][1]));this.geometry.push(J)}return this.geometry},ot.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Q=this.geometry,z=1/0,B=-1/0,J=1/0,se=-1/0,he=0;he<Q.length;he++)for(var ve=Q[he],be=0;be<ve.length;be++){var de=ve[be];z=Math.min(z,de.x),B=Math.max(B,de.x),J=Math.min(J,de.y),se=Math.max(se,de.y)}return[z,J,B,se]},ot.prototype.toGeoJSON=Qe.prototype.toGeoJSON;var ut=n.pbf,Xe=He;function mt(Q){var z=new ut;return function(B,J){for(var se in B.layers)J.writeMessage(3,Te,B.layers[se])}(Q,z),z.finish()}function Te(Q,z){var B;z.writeVarintField(15,Q.version||1),z.writeStringField(1,Q.name||""),z.writeVarintField(5,Q.extent||4096);var J={keys:[],values:[],keycache:{},valuecache:{}};for(B=0;B<Q.length;B++)J.feature=Q.feature(B),z.writeMessage(2,Et,J);var se=J.keys;for(B=0;B<se.length;B++)z.writeStringField(3,se[B]);var he=J.values;for(B=0;B<he.length;B++)z.writeMessage(4,Pt,he[B])}function Et(Q,z){var B=Q.feature;B.id!==void 0&&z.writeVarintField(1,B.id),z.writeMessage(2,we,Q),z.writeVarintField(3,B.type),z.writeMessage(4,kt,B)}function we(Q,z){var B=Q.feature,J=Q.keys,se=Q.values,he=Q.keycache,ve=Q.valuecache;for(var be in B.properties){var de=B.properties[be],Me=he[be];if(de!==null){Me===void 0&&(J.push(be),he[be]=Me=J.length-1),z.writeVarint(Me);var rt=typeof de;rt!=="string"&&rt!=="boolean"&&rt!=="number"&&(de=JSON.stringify(de));var lt=rt+":"+de,Ke=ve[lt];Ke===void 0&&(se.push(de),ve[lt]=Ke=se.length-1),z.writeVarint(Ke)}}}function qe(Q,z){return(z<<3)+(7&Q)}function ct(Q){return Q<<1^Q>>31}function kt(Q,z){for(var B=Q.loadGeometry(),J=Q.type,se=0,he=0,ve=B.length,be=0;be<ve;be++){var de=B[be],Me=1;J===1&&(Me=de.length),z.writeVarint(qe(1,Me));for(var rt=J===3?de.length-1:de.length,lt=0;lt<rt;lt++){lt===1&&J!==1&&z.writeVarint(qe(2,rt-1));var Ke=de[lt].x-se,jt=de[lt].y-he;z.writeVarint(ct(Ke)),z.writeVarint(ct(jt)),se+=Ke,he+=jt}J===3&&z.writeVarint(qe(7,1))}}function Pt(Q,z){var B=typeof Q;B==="string"?z.writeStringField(1,Q):B==="boolean"?z.writeBooleanField(7,Q):B==="number"&&(Q%1!=0?z.writeDoubleField(3,Q):Q<0?z.writeSVarintField(6,Q):z.writeVarintField(5,Q))}ze.exports=mt,ze.exports.fromVectorTileJs=mt,ze.exports.fromGeojsonVt=function(Q,z){z=z||{};var B={};for(var J in Q)B[J]=new Xe(Q[J].features,z),B[J].name=J,B[J].version=z.version,B[J].extent=z.extent;return mt({layers:B})},ze.exports.GeoJSONWrapper=Xe;var o4=n.getDefaultExportFromCjs(ze.exports);const d4={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Q=>Q},gt=Math.fround||(_t=new Float32Array(1),Q=>(_t[0]=+Q,_t[0]));var _t;const xt=3,Zt=5,Q4=6;class a4{constructor(z){this.options=Object.assign(Object.create(d4),z),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(z){const{log:B,minZoom:J,maxZoom:se}=this.options;B&&console.time("total time");const he=`prepare ${z.length} points`;B&&console.time(he),this.points=z;const ve=[];for(let de=0;de<z.length;de++){const Me=z[de];if(!Me.geometry)continue;const[rt,lt]=Me.geometry.coordinates,Ke=gt(Or(rt)),jt=gt(Vr(lt));ve.push(Ke,jt,1/0,de,-1,1),this.options.reduce&&ve.push(0)}let be=this.trees[se+1]=this._createTree(ve);B&&console.timeEnd(he);for(let de=se;de>=J;de--){const Me=+Date.now();be=this.trees[de]=this._createTree(this._cluster(be,de)),B&&console.log("z%d: %d clusters in %dms",de,be.numItems,+Date.now()-Me)}return B&&console.timeEnd("total time"),this}getClusters(z,B){let J=((z[0]+180)%360+360)%360-180;const se=Math.max(-90,Math.min(90,z[1]));let he=z[2]===180?180:((z[2]+180)%360+360)%360-180;const ve=Math.max(-90,Math.min(90,z[3]));if(z[2]-z[0]>=360)J=-180,he=180;else if(J>he){const lt=this.getClusters([J,se,180,ve],B),Ke=this.getClusters([-180,se,he,ve],B);return lt.concat(Ke)}const be=this.trees[this._limitZoom(B)],de=be.range(Or(J),Vr(ve),Or(he),Vr(se)),Me=be.data,rt=[];for(const lt of de){const Ke=this.stride*lt;rt.push(Me[Ke+Zt]>1?f4(Me,Ke,this.clusterProps):this.points[Me[Ke+xt]])}return rt}getChildren(z){const B=this._getOriginId(z),J=this._getOriginZoom(z),se="No cluster with the specified id.",he=this.trees[J];if(!he)throw new Error(se);const ve=he.data;if(B*this.stride>=ve.length)throw new Error(se);const be=this.options.radius/(this.options.extent*Math.pow(2,J-1)),de=he.within(ve[B*this.stride],ve[B*this.stride+1],be),Me=[];for(const rt of de){const lt=rt*this.stride;ve[lt+4]===z&&Me.push(ve[lt+Zt]>1?f4(ve,lt,this.clusterProps):this.points[ve[lt+xt]])}if(Me.length===0)throw new Error(se);return Me}getLeaves(z,B,J){const se=[];return this._appendLeaves(se,z,B=B||10,J=J||0,0),se}getTile(z,B,J){const se=this.trees[this._limitZoom(z)],he=Math.pow(2,z),{extent:ve,radius:be}=this.options,de=be/ve,Me=(J-de)/he,rt=(J+1+de)/he,lt={features:[]};return this._addTileFeatures(se.range((B-de)/he,Me,(B+1+de)/he,rt),se.data,B,J,he,lt),B===0&&this._addTileFeatures(se.range(1-de/he,Me,1,rt),se.data,he,J,he,lt),B===he-1&&this._addTileFeatures(se.range(0,Me,de/he,rt),se.data,-1,J,he,lt),lt.features.length?lt:null}getClusterExpansionZoom(z){let B=this._getOriginZoom(z)-1;for(;B<=this.options.maxZoom;){const J=this.getChildren(z);if(B++,J.length!==1)break;z=J[0].properties.cluster_id}return B}_appendLeaves(z,B,J,se,he){const ve=this.getChildren(B);for(const be of ve){const de=be.properties;if(de&&de.cluster?he+de.point_count<=se?he+=de.point_count:he=this._appendLeaves(z,de.cluster_id,J,se,he):he<se?he++:z.push(be),z.length===J)break}return he}_createTree(z){const B=new n.KDBush(z.length/this.stride|0,this.options.nodeSize,Float32Array);for(let J=0;J<z.length;J+=this.stride)B.add(z[J],z[J+1]);return B.finish(),B.data=z,B}_addTileFeatures(z,B,J,se,he,ve){for(const be of z){const de=be*this.stride,Me=B[de+Zt]>1;let rt,lt,Ke;if(Me)rt=ni(B,de,this.clusterProps),lt=B[de],Ke=B[de+1];else{const Nt=this.points[B[de+xt]];rt=Nt.properties;const[Gt,Wt]=Nt.geometry.coordinates;lt=Or(Gt),Ke=Vr(Wt)}const jt={type:1,geometry:[[Math.round(this.options.extent*(lt*he-J)),Math.round(this.options.extent*(Ke*he-se))]],tags:rt};let Ut;Ut=Me||this.options.generateId?B[de+xt]:this.points[B[de+xt]].id,Ut!==void 0&&(jt.id=Ut),ve.features.push(jt)}}_limitZoom(z){return Math.max(this.options.minZoom,Math.min(Math.floor(+z),this.options.maxZoom+1))}_cluster(z,B){const{radius:J,extent:se,reduce:he,minPoints:ve}=this.options,be=J/(se*Math.pow(2,B)),de=z.data,Me=[],rt=this.stride;for(let lt=0;lt<de.length;lt+=rt){if(de[lt+2]<=B)continue;de[lt+2]=B;const Ke=de[lt],jt=de[lt+1],Ut=z.within(de[lt],de[lt+1],be),Nt=de[lt+Zt];let Gt=Nt;for(const Wt of Ut){const I4=Wt*rt;de[I4+2]>B&&(Gt+=de[I4+Zt])}if(Gt>Nt&&Gt>=ve){let Wt,I4=Ke*Nt,M4=jt*Nt,C4=-1;const E4=((lt/rt|0)<<5)+(B+1)+this.points.length;for(const qr of Ut){const ur=qr*rt;if(de[ur+2]<=B)continue;de[ur+2]=B;const m4=de[ur+Zt];I4+=de[ur]*m4,M4+=de[ur+1]*m4,de[ur+4]=E4,he&&(Wt||(Wt=this._map(de,lt,!0),C4=this.clusterProps.length,this.clusterProps.push(Wt)),he(Wt,this._map(de,ur)))}de[lt+4]=E4,Me.push(I4/Gt,M4/Gt,1/0,E4,-1,Gt),he&&Me.push(C4)}else{for(let Wt=0;Wt<rt;Wt++)Me.push(de[lt+Wt]);if(Gt>1)for(const Wt of Ut){const I4=Wt*rt;if(!(de[I4+2]<=B)){de[I4+2]=B;for(let M4=0;M4<rt;M4++)Me.push(de[I4+M4])}}}}return Me}_getOriginId(z){return z-this.points.length>>5}_getOriginZoom(z){return(z-this.points.length)%32}_map(z,B,J){if(z[B+Zt]>1){const ve=this.clusterProps[z[B+Q4]];return J?Object.assign({},ve):ve}const se=this.points[z[B+xt]].properties,he=this.options.map(se);return J&&he===se?Object.assign({},he):he}}function f4(Q,z,B){return{type:"Feature",id:Q[z+xt],properties:ni(Q,z,B),geometry:{type:"Point",coordinates:[(J=Q[z],360*(J-.5)),gi(Q[z+1])]}};var J}function ni(Q,z,B){const J=Q[z+Zt],se=J>=1e4?`${Math.round(J/1e3)}k`:J>=1e3?Math.round(J/100)/10+"k":J,he=Q[z+Q4],ve=he===-1?{}:Object.assign({},B[he]);return Object.assign(ve,{cluster:!0,cluster_id:Q[z+xt],point_count:J,point_count_abbreviated:se})}function Or(Q){return Q/360+.5}function Vr(Q){const z=Math.sin(Q*Math.PI/180),B=.5-.25*Math.log((1+z)/(1-z))/Math.PI;return B<0?0:B>1?1:B}function gi(Q){const z=(180-360*Q)*Math.PI/180;return 360*Math.atan(Math.exp(z))/Math.PI-90}function Kr(Q,z,B,J){for(var se,he=J,ve=B-z>>1,be=B-z,de=Q[z],Me=Q[z+1],rt=Q[B],lt=Q[B+1],Ke=z+3;Ke<B;Ke+=3){var jt=jr(Q[Ke],Q[Ke+1],de,Me,rt,lt);if(jt>he)se=Ke,he=jt;else if(jt===he){var Ut=Math.abs(Ke-ve);Ut<be&&(se=Ke,be=Ut)}}he>J&&(se-z>3&&Kr(Q,z,se,J),Q[se+2]=he,B-se>3&&Kr(Q,se,B,J))}function jr(Q,z,B,J,se,he){var ve=se-B,be=he-J;if(ve!==0||be!==0){var de=((Q-B)*ve+(z-J)*be)/(ve*ve+be*be);de>1?(B=se,J=he):de>0&&(B+=ve*de,J+=be*de)}return(ve=Q-B)*ve+(be=z-J)*be}function Qt(Q,z,B,J){var se={id:Q===void 0?null:Q,type:z,geometry:B,tags:J,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(he){var ve=he.geometry,be=he.type;if(be==="Point"||be==="MultiPoint"||be==="LineString")si(he,ve);else if(be==="Polygon"||be==="MultiLineString")for(var de=0;de<ve.length;de++)si(he,ve[de]);else if(be==="MultiPolygon")for(de=0;de<ve.length;de++)for(var Me=0;Me<ve[de].length;Me++)si(he,ve[de][Me])}(se),se}function si(Q,z){for(var B=0;B<z.length;B+=3)Q.minX=Math.min(Q.minX,z[B]),Q.minY=Math.min(Q.minY,z[B+1]),Q.maxX=Math.max(Q.maxX,z[B]),Q.maxY=Math.max(Q.maxY,z[B+1])}function Y4(Q,z,B,J){if(z.geometry){var se=z.geometry.coordinates,he=z.geometry.type,ve=Math.pow(B.tolerance/((1<<B.maxZoom)*B.extent),2),be=[],de=z.id;if(B.promoteId?de=z.properties[B.promoteId]:B.generateId&&(de=J||0),he==="Point")c4(se,be);else if(he==="MultiPoint")for(var Me=0;Me<se.length;Me++)c4(se[Me],be);else if(he==="LineString")g4(se,be,ve,!1);else if(he==="MultiLineString"){if(B.lineMetrics){for(Me=0;Me<se.length;Me++)g4(se[Me],be=[],ve,!1),Q.push(Qt(de,"LineString",be,z.properties));return}er(se,be,ve,!1)}else if(he==="Polygon")er(se,be,ve,!0);else{if(he!=="MultiPolygon"){if(he==="GeometryCollection"){for(Me=0;Me<z.geometry.geometries.length;Me++)Y4(Q,{id:de,geometry:z.geometry.geometries[Me],properties:z.properties},B,J);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Me=0;Me<se.length;Me++){var rt=[];er(se[Me],rt,ve,!0),be.push(rt)}}Q.push(Qt(de,he,be,z.properties))}}function c4(Q,z){z.push(K4(Q[0])),z.push(Jr(Q[1])),z.push(0)}function g4(Q,z,B,J){for(var se,he,ve=0,be=0;be<Q.length;be++){var de=K4(Q[be][0]),Me=Jr(Q[be][1]);z.push(de),z.push(Me),z.push(0),be>0&&(ve+=J?(se*Me-de*he)/2:Math.sqrt(Math.pow(de-se,2)+Math.pow(Me-he,2))),se=de,he=Me}var rt=z.length-3;z[2]=1,Kr(z,0,rt,B),z[rt+2]=1,z.size=Math.abs(ve),z.start=0,z.end=z.size}function er(Q,z,B,J){for(var se=0;se<Q.length;se++){var he=[];g4(Q[se],he,B,J),z.push(he)}}function K4(Q){return Q/360+.5}function Jr(Q){var z=Math.sin(Q*Math.PI/180),B=.5-.25*Math.log((1+z)/(1-z))/Math.PI;return B<0?0:B>1?1:B}function nr(Q,z,B,J,se,he,ve,be){if(J/=z,he>=(B/=z)&&ve<J)return Q;if(ve<B||he>=J)return null;for(var de=[],Me=0;Me<Q.length;Me++){var rt=Q[Me],lt=rt.geometry,Ke=rt.type,jt=se===0?rt.minX:rt.minY,Ut=se===0?rt.maxX:rt.maxY;if(jt>=B&&Ut<J)de.push(rt);else if(!(Ut<B||jt>=J)){var Nt=[];if(Ke==="Point"||Ke==="MultiPoint")xi(lt,Nt,B,J,se);else if(Ke==="LineString")b4(lt,Nt,B,J,se,!1,be.lineMetrics);else if(Ke==="MultiLineString")l4(lt,Nt,B,J,se,!1);else if(Ke==="Polygon")l4(lt,Nt,B,J,se,!0);else if(Ke==="MultiPolygon")for(var Gt=0;Gt<lt.length;Gt++){var Wt=[];l4(lt[Gt],Wt,B,J,se,!0),Wt.length&&Nt.push(Wt)}if(Nt.length){if(be.lineMetrics&&Ke==="LineString"){for(Gt=0;Gt<Nt.length;Gt++)de.push(Qt(rt.id,Ke,Nt[Gt],rt.tags));continue}Ke!=="LineString"&&Ke!=="MultiLineString"||(Nt.length===1?(Ke="LineString",Nt=Nt[0]):Ke="MultiLineString"),Ke!=="Point"&&Ke!=="MultiPoint"||(Ke=Nt.length===3?"Point":"MultiPoint"),de.push(Qt(rt.id,Ke,Nt,rt.tags))}}}return de.length?de:null}function xi(Q,z,B,J,se){for(var he=0;he<Q.length;he+=3){var ve=Q[he+se];ve>=B&&ve<=J&&(z.push(Q[he]),z.push(Q[he+1]),z.push(Q[he+2]))}}function b4(Q,z,B,J,se,he,ve){for(var be,de,Me=ai(Q),rt=se===0?wi:D4,lt=Q.start,Ke=0;Ke<Q.length-3;Ke+=3){var jt=Q[Ke],Ut=Q[Ke+1],Nt=Q[Ke+2],Gt=Q[Ke+3],Wt=Q[Ke+4],I4=se===0?jt:Ut,M4=se===0?Gt:Wt,C4=!1;ve&&(be=Math.sqrt(Math.pow(jt-Gt,2)+Math.pow(Ut-Wt,2))),I4<B?M4>B&&(de=rt(Me,jt,Ut,Gt,Wt,B),ve&&(Me.start=lt+be*de)):I4>J?M4<J&&(de=rt(Me,jt,Ut,Gt,Wt,J),ve&&(Me.start=lt+be*de)):Ir(Me,jt,Ut,Nt),M4<B&&I4>=B&&(de=rt(Me,jt,Ut,Gt,Wt,B),C4=!0),M4>J&&I4<=J&&(de=rt(Me,jt,Ut,Gt,Wt,J),C4=!0),!he&&C4&&(ve&&(Me.end=lt+be*de),z.push(Me),Me=ai(Q)),ve&&(lt+=be)}var E4=Q.length-3;jt=Q[E4],Ut=Q[E4+1],Nt=Q[E4+2],(I4=se===0?jt:Ut)>=B&&I4<=J&&Ir(Me,jt,Ut,Nt),E4=Me.length-3,he&&E4>=3&&(Me[E4]!==Me[0]||Me[E4+1]!==Me[1])&&Ir(Me,Me[0],Me[1],Me[2]),Me.length&&z.push(Me)}function ai(Q){var z=[];return z.size=Q.size,z.start=Q.start,z.end=Q.end,z}function l4(Q,z,B,J,se,he){for(var ve=0;ve<Q.length;ve++)b4(Q[ve],z,B,J,se,he,!1)}function Ir(Q,z,B,J){Q.push(z),Q.push(B),Q.push(J)}function wi(Q,z,B,J,se,he){var ve=(he-z)/(J-z);return Q.push(he),Q.push(B+(se-B)*ve),Q.push(1),ve}function D4(Q,z,B,J,se,he){var ve=(he-B)/(se-B);return Q.push(z+(J-z)*ve),Q.push(he),Q.push(1),ve}function tr(Q,z){for(var B=[],J=0;J<Q.length;J++){var se,he=Q[J],ve=he.type;if(ve==="Point"||ve==="MultiPoint"||ve==="LineString")se=S4(he.geometry,z);else if(ve==="MultiLineString"||ve==="Polygon"){se=[];for(var be=0;be<he.geometry.length;be++)se.push(S4(he.geometry[be],z))}else if(ve==="MultiPolygon")for(se=[],be=0;be<he.geometry.length;be++){for(var de=[],Me=0;Me<he.geometry[be].length;Me++)de.push(S4(he.geometry[be][Me],z));se.push(de)}B.push(Qt(he.id,ve,se,he.tags))}return B}function S4(Q,z){var B=[];B.size=Q.size,Q.start!==void 0&&(B.start=Q.start,B.end=Q.end);for(var J=0;J<Q.length;J+=3)B.push(Q[J]+z,Q[J+1],Q[J+2]);return B}function vi(Q,z){if(Q.transformed)return Q;var B,J,se,he=1<<Q.z,ve=Q.x,be=Q.y;for(B=0;B<Q.features.length;B++){var de=Q.features[B],Me=de.geometry,rt=de.type;if(de.geometry=[],rt===1)for(J=0;J<Me.length;J+=2)de.geometry.push(Pr(Me[J],Me[J+1],z,he,ve,be));else for(J=0;J<Me.length;J++){var lt=[];for(se=0;se<Me[J].length;se+=2)lt.push(Pr(Me[J][se],Me[J][se+1],z,he,ve,be));de.geometry.push(lt)}}return Q.transformed=!0,Q}function Pr(Q,z,B,J,se,he){return[Math.round(B*(Q*J-se)),Math.round(B*(z*J-he))]}function Gr(Q,z,B,J,se){for(var he=z===se.maxZoom?0:se.tolerance/((1<<z)*se.extent),ve={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:B,y:J,z,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},be=0;be<Q.length;be++){ve.numFeatures++,Oi(ve,Q[be],he,se);var de=Q[be].minX,Me=Q[be].minY,rt=Q[be].maxX,lt=Q[be].maxY;de<ve.minX&&(ve.minX=de),Me<ve.minY&&(ve.minY=Me),rt>ve.maxX&&(ve.maxX=rt),lt>ve.maxY&&(ve.maxY=lt)}return ve}function Oi(Q,z,B,J){var se=z.geometry,he=z.type,ve=[];if(he==="Point"||he==="MultiPoint")for(var be=0;be<se.length;be+=3)ve.push(se[be]),ve.push(se[be+1]),Q.numPoints++,Q.numSimplified++;else if(he==="LineString")Er(ve,se,Q,B,!1,!1);else if(he==="MultiLineString"||he==="Polygon")for(be=0;be<se.length;be++)Er(ve,se[be],Q,B,he==="Polygon",be===0);else if(he==="MultiPolygon")for(var de=0;de<se.length;de++){var Me=se[de];for(be=0;be<Me.length;be++)Er(ve,Me[be],Q,B,!0,be===0)}if(ve.length){var rt=z.tags||null;if(he==="LineString"&&J.lineMetrics){for(var lt in rt={},z.tags)rt[lt]=z.tags[lt];rt.mapbox_clip_start=se.start/se.size,rt.mapbox_clip_end=se.end/se.size}var Ke={geometry:ve,type:he==="Polygon"||he==="MultiPolygon"?3:he==="LineString"||he==="MultiLineString"?2:1,tags:rt};z.id!==null&&(Ke.id=z.id),Q.features.push(Ke)}}function Er(Q,z,B,J,se,he){var ve=J*J;if(J>0&&z.size<(se?ve:J))B.numPoints+=z.length/3;else{for(var be=[],de=0;de<z.length;de+=3)(J===0||z[de+2]>ve)&&(B.numSimplified++,be.push(z[de]),be.push(z[de+1])),B.numPoints++;se&&function(Me,rt){for(var lt=0,Ke=0,jt=Me.length,Ut=jt-2;Ke<jt;Ut=Ke,Ke+=2)lt+=(Me[Ke]-Me[Ut])*(Me[Ke+1]+Me[Ut+1]);if(lt>0===rt)for(Ke=0,jt=Me.length;Ke<jt/2;Ke+=2){var Nt=Me[Ke],Gt=Me[Ke+1];Me[Ke]=Me[jt-2-Ke],Me[Ke+1]=Me[jt-1-Ke],Me[jt-2-Ke]=Nt,Me[jt-1-Ke]=Gt}}(be,he),Q.push(be)}}function li(Q,z){var B=(z=this.options=function(se,he){for(var ve in he)se[ve]=he[ve];return se}(Object.create(this.options),z)).debug;if(B&&console.time("preprocess data"),z.maxZoom<0||z.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(z.promoteId&&z.generateId)throw new Error("promoteId and generateId cannot be used together.");var J=function(se,he){var ve=[];if(se.type==="FeatureCollection")for(var be=0;be<se.features.length;be++)Y4(ve,se.features[be],he,be);else Y4(ve,se.type==="Feature"?se:{geometry:se},he);return ve}(Q,z);this.tiles={},this.tileCoords=[],B&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",z.indexMaxZoom,z.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),J=function(se,he){var ve=he.buffer/he.extent,be=se,de=nr(se,1,-1-ve,ve,0,-1,2,he),Me=nr(se,1,1-ve,2+ve,0,-1,2,he);return(de||Me)&&(be=nr(se,1,-ve,1+ve,0,-1,2,he)||[],de&&(be=tr(de,1).concat(be)),Me&&(be=be.concat(tr(Me,-1)))),be}(J,z),J.length&&this.splitTile(J,0,0,0),B&&(J.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function bi(Q,z,B){return 32*((1<<Q)*B+z)+Q}function Tr(Q,z){const B=Q.tileID.canonical;if(!this._geoJSONIndex)return z(null,null);const J=this._geoJSONIndex.getTile(B.z,B.x,B.y);if(!J)return z(null,null);const se=new class{constructor(ve){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=n.EXTENT,this.length=ve.length,this._features=ve}feature(ve){return new class{constructor(be){this._feature=be,this.extent=n.EXTENT,this.type=be.type,this.properties=be.tags,"id"in be&&!isNaN(be.id)&&(this.id=parseInt(be.id,10))}loadGeometry(){if(this._feature.type===1){const be=[];for(const de of this._feature.geometry)be.push([new n.Point(de[0],de[1])]);return be}{const be=[];for(const de of this._feature.geometry){const Me=[];for(const rt of de)Me.push(new n.Point(rt[0],rt[1]));be.push(Me)}return be}}toGeoJSON(be,de,Me){return xe.call(this,be,de,Me)}}(this._features[ve])}}(J.features);let he=o4(se);he.byteOffset===0&&he.byteLength===he.buffer.byteLength||(he=new Uint8Array(he)),z(null,{vectorTile:se,rawData:he.buffer})}li.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},li.prototype.splitTile=function(Q,z,B,J,se,he,ve){for(var be=[Q,z,B,J],de=this.options,Me=de.debug;be.length;){J=be.pop(),B=be.pop(),z=be.pop(),Q=be.pop();var rt=1<<z,lt=bi(z,B,J),Ke=this.tiles[lt];if(!Ke&&(Me>1&&console.time("creation"),Ke=this.tiles[lt]=Gr(Q,z,B,J,de),this.tileCoords.push({z,x:B,y:J}),Me)){Me>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",z,B,J,Ke.numFeatures,Ke.numPoints,Ke.numSimplified),console.timeEnd("creation"));var jt="z"+z;this.stats[jt]=(this.stats[jt]||0)+1,this.total++}if(Ke.source=Q,se){if(z===de.maxZoom||z===se)continue;var Ut=1<<se-z;if(B!==Math.floor(he/Ut)||J!==Math.floor(ve/Ut))continue}else if(z===de.indexMaxZoom||Ke.numPoints<=de.indexMaxPoints)continue;if(Ke.source=null,Q.length!==0){Me>1&&console.time("clipping");var Nt,Gt,Wt,I4,M4,C4,E4=.5*de.buffer/de.extent,qr=.5-E4,ur=.5+E4,m4=1+E4;Nt=Gt=Wt=I4=null,M4=nr(Q,rt,B-E4,B+ur,0,Ke.minX,Ke.maxX,de),C4=nr(Q,rt,B+qr,B+m4,0,Ke.minX,Ke.maxX,de),Q=null,M4&&(Nt=nr(M4,rt,J-E4,J+ur,1,Ke.minY,Ke.maxY,de),Gt=nr(M4,rt,J+qr,J+m4,1,Ke.minY,Ke.maxY,de),M4=null),C4&&(Wt=nr(C4,rt,J-E4,J+ur,1,Ke.minY,Ke.maxY,de),I4=nr(C4,rt,J+qr,J+m4,1,Ke.minY,Ke.maxY,de),C4=null),Me>1&&console.timeEnd("clipping"),be.push(Nt||[],z+1,2*B,2*J),be.push(Gt||[],z+1,2*B,2*J+1),be.push(Wt||[],z+1,2*B+1,2*J),be.push(I4||[],z+1,2*B+1,2*J+1)}}},li.prototype.getTile=function(Q,z,B){var J=this.options,se=J.extent,he=J.debug;if(Q<0||Q>24)return null;var ve=1<<Q,be=bi(Q,z=(z%ve+ve)%ve,B);if(this.tiles[be])return vi(this.tiles[be],se);he>1&&console.log("drilling down to z%d-%d-%d",Q,z,B);for(var de,Me=Q,rt=z,lt=B;!de&&Me>0;)Me--,rt=Math.floor(rt/2),lt=Math.floor(lt/2),de=this.tiles[bi(Me,rt,lt)];return de&&de.source?(he>1&&console.log("found parent tile z%d-%d-%d",Me,rt,lt),he>1&&console.time("drilling down"),this.splitTile(de.source,Me,rt,lt,Q,z,B),he>1&&console.timeEnd("drilling down"),this.tiles[be]?vi(this.tiles[be],se):null):null};class Di extends n.VectorTileWorkerSource{constructor(z,B,J,se,he){super(z,B,J,se,Tr),he&&(this.loadGeoJSON=he)}loadData(z,B){const J=z&&z.request,se=J&&J.collectResourceTiming;this.loadGeoJSON(z,(he,ve)=>{if(he||!ve)return B(he);if(typeof ve!="object")return B(new Error(`Input data given to '${z.source}' is not a valid GeoJSON object.`));{Ae(ve,!0);try{if(z.filter){const de=n.createExpression(z.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(de.result==="error")throw new Error(de.value.map(rt=>`${rt.key}: ${rt.message}`).join(", "));ve={type:"FeatureCollection",features:ve.features.filter(rt=>de.value.evaluate({zoom:0},rt))}}this._geoJSONIndex=z.cluster?new a4(function({superclusterOptions:de,clusterProperties:Me}){if(!Me||!de)return de;const rt={},lt={},Ke={accumulated:null,zoom:0},jt={properties:null},Ut=Object.keys(Me);for(const Nt of Ut){const[Gt,Wt]=Me[Nt],I4=n.createExpression(Wt),M4=n.createExpression(typeof Gt=="string"?[Gt,["accumulated"],["get",Nt]]:Gt);rt[Nt]=I4.value,lt[Nt]=M4.value}return de.map=Nt=>{jt.properties=Nt;const Gt={};for(const Wt of Ut)Gt[Wt]=rt[Wt].evaluate(Ke,jt);return Gt},de.reduce=(Nt,Gt)=>{jt.properties=Gt;for(const Wt of Ut)Ke.accumulated=Nt[Wt],Nt[Wt]=lt[Wt].evaluate(Ke,jt)},de}(z)).load(ve.features):function(de,Me){return new li(de,Me)}(ve,z.geojsonVtOptions)}catch(de){return B(de)}this.loaded={};const be={};if(se){const de=n.getPerformanceMeasurement(J);de&&(be.resourceTiming={},be.resourceTiming[z.source]=JSON.parse(JSON.stringify(de)))}B(null,be)}})}reloadTile(z,B){const J=this.loaded;return J&&J[z.uid]?super.reloadTile(z,B):this.loadTile(z,B)}loadGeoJSON(z,B){if(z.request)n.getJSON(z.request,B);else{if(typeof z.data!="string")return B(new Error(`Input data given to '${z.source}' is not a valid GeoJSON object.`));try{return B(null,JSON.parse(z.data))}catch{return B(new Error(`Input data given to '${z.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(z,B){try{B(null,this._geoJSONIndex.getClusterExpansionZoom(z.clusterId))}catch(J){B(J)}}getClusterChildren(z,B){try{B(null,this._geoJSONIndex.getChildren(z.clusterId))}catch(J){B(J)}}getClusterLeaves(z,B){try{B(null,this._geoJSONIndex.getLeaves(z.clusterId,z.limit,z.offset))}catch(J){B(J)}}}class Yi{constructor(z){this.self=z,this.actor=new n.Actor(z,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=n.getProjection({name:"mercator"}),this.workerSourceTypes={vector:n.VectorTileWorkerSource,geojson:Di},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(B,J)=>{if(this.workerSourceTypes[B])throw new Error(`Worker source with name "${B}" already registered.`);this.workerSourceTypes[B]=J},this.self.registerRTLTextPlugin=B=>{if(n.plugin.isParsed())throw new Error("RTL text plugin already registered.");n.plugin.applyArabicShaping=B.applyArabicShaping,n.plugin.processBidirectionalText=B.processBidirectionalText,n.plugin.processStyledBidirectionalText=B.processStyledBidirectionalText}}clearCaches(z,B,J){delete this.layerIndexes[z],delete this.availableImages[z],delete this.workerSources[z],delete this.demWorkerSources[z],J()}checkIfReady(z,B,J){J()}setReferrer(z,B){this.referrer=B}spriteLoaded(z,B){this.isSpriteLoaded[z]=B;for(const J in this.workerSources[z]){const se=this.workerSources[z][J];for(const he in se)se[he]instanceof n.VectorTileWorkerSource&&(se[he].isSpriteLoaded=B,se[he].fire(new n.Event("isSpriteLoaded")))}}setImages(z,B,J){this.availableImages[z]=B;for(const se in this.workerSources[z]){const he=this.workerSources[z][se];for(const ve in he)he[ve].availableImages=B}J()}enableTerrain(z,B,J){this.terrain=B,J()}setProjection(z,B){this.projections[z]=n.getProjection(B)}setLayers(z,B,J){this.getLayerIndex(z).replace(B),J()}updateLayers(z,B,J){this.getLayerIndex(z).update(B.layers,B.removedIds),J()}loadTile(z,B,J){const se=this.enableTerrain?n.extend({enableTerrain:this.terrain},B):B;se.projection=this.projections[z]||this.defaultProjection,this.getWorkerSource(z,B.type,B.source).loadTile(se,J)}loadDEMTile(z,B,J){const se=this.enableTerrain?n.extend({buildQuadTree:this.terrain},B):B;this.getDEMWorkerSource(z,B.source).loadTile(se,J)}reloadTile(z,B,J){const se=this.enableTerrain?n.extend({enableTerrain:this.terrain},B):B;se.projection=this.projections[z]||this.defaultProjection,this.getWorkerSource(z,B.type,B.source).reloadTile(se,J)}abortTile(z,B,J){this.getWorkerSource(z,B.type,B.source).abortTile(B,J)}removeTile(z,B,J){this.getWorkerSource(z,B.type,B.source).removeTile(B,J)}removeSource(z,B,J){if(!this.workerSources[z]||!this.workerSources[z][B.type]||!this.workerSources[z][B.type][B.source])return;const se=this.workerSources[z][B.type][B.source];delete this.workerSources[z][B.type][B.source],se.removeSource!==void 0?se.removeSource(B,J):J()}loadWorkerSource(z,B,J){try{this.self.importScripts(B.url),J()}catch(se){J(se.toString())}}syncRTLPluginState(z,B,J){try{n.plugin.setState(B);const se=n.plugin.getPluginURL();if(n.plugin.isLoaded()&&!n.plugin.isParsed()&&se!=null){this.self.importScripts(se);const he=n.plugin.isParsed();J(he?void 0:new Error(`RTL Text Plugin failed to import scripts from ${se}`),he)}}catch(se){J(se.toString())}}getAvailableImages(z){let B=this.availableImages[z];return B||(B=[]),B}getLayerIndex(z){let B=this.layerIndexes[z];return B||(B=this.layerIndexes[z]=new fe),B}getWorkerSource(z,B,J){if(this.workerSources[z]||(this.workerSources[z]={}),this.workerSources[z][B]||(this.workerSources[z][B]={}),!this.workerSources[z][B][J]){const se={send:(he,ve,be,de,Me,rt)=>{this.actor.send(he,ve,be,z,Me,rt)},scheduler:this.actor.scheduler};this.workerSources[z][B][J]=new this.workerSourceTypes[B](se,this.getLayerIndex(z),this.getAvailableImages(z),this.isSpriteLoaded[z])}return this.workerSources[z][B][J]}getDEMWorkerSource(z,B){return this.demWorkerSources[z]||(this.demWorkerSources[z]={}),this.demWorkerSources[z][B]||(this.demWorkerSources[z][B]=new ie),this.demWorkerSources[z][B]}enforceCacheSizeLimit(z,B){n.enforceCacheSizeLimit(B)}getWorkerPerformanceMetrics(z,B,J){J(void 0,void 0)}}return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new Yi(self)),Yi}),Y(["./shared"],function(n){function G(l,i){if(Array.isArray(l)){if(!Array.isArray(i)||l.length!==i.length)return!1;for(let s=0;s<l.length;s++)if(!G(l[s],i[s]))return!1;return!0}if(typeof l=="object"&&l!==null&&i!==null){if(typeof i!="object"||Object.keys(l).length!==Object.keys(i).length)return!1;for(const s in l)if(!G(l[s],i[s]))return!1;return!0}return l===i}var ee=fe;function fe(l){return!function(i){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var u,h,f=new Blob([""],{type:"text/javascript"}),_=URL.createObjectURL(f);try{h=new Worker(_),u=!0}catch{u=!1}return h&&h.terminate(),URL.revokeObjectURL(_),u}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var u=document.createElement("canvas");u.width=u.height=1;var h=u.getContext("2d");if(!h)return!1;var f=h.getImageData(0,0,1,1);return f&&f.width===u.width}()?(ie[s=i&&i.failIfMajorPerformanceCaveat]===void 0&&(ie[s]=function(u){var h,f=function(_){var g=document.createElement("canvas"),v=Object.create(fe.webGLContextAttributes);return v.failIfMajorPerformanceCaveat=_,g.getContext("webgl",v)||g.getContext("experimental-webgl",v)}(u);if(!f)return!1;try{h=f.createShader(f.VERTEX_SHADER)}catch{return!1}return!(!h||f.isContextLost())&&(f.shaderSource(h,"void main() {}"),f.compileShader(h),f.getShaderParameter(h,f.COMPILE_STATUS)===!0)}(s)),ie[s]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var s}(l)}var ie={};function ye(l,i,s){const u=n.window.document.createElement(l);return i!==void 0&&(u.className=i),s&&s.appendChild(u),u}function me(l,i,s){const u=n.window.document.createElementNS("http://www.w3.org/2000/svg",l);for(const h of Object.keys(i))u.setAttributeNS(null,h,i[h]);return s&&s.appendChild(u),u}fe.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const Ae=n.window.document&&n.window.document.documentElement.style,xe=Ae&&Ae.userSelect!==void 0?"userSelect":"WebkitUserSelect";let ze;function $e(){Ae&&xe&&(ze=Ae[xe],Ae[xe]="none")}function Qe(){Ae&&xe&&(Ae[xe]=ze)}function He(l){l.preventDefault(),l.stopPropagation(),n.window.removeEventListener("click",He,!0)}function Re(){n.window.addEventListener("click",He,!0),n.window.setTimeout(()=>{n.window.removeEventListener("click",He,!0)},0)}function ot(l,i){const s=l.getBoundingClientRect();return mt(l,s,i)}function ut(l,i){const s=l.getBoundingClientRect(),u=[];for(let h=0;h<i.length;h++)u.push(mt(l,s,i[h]));return u}function Xe(l){return n.window.InstallTrigger!==void 0&&l.button===2&&l.ctrlKey&&n.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:l.button}function mt(l,i,s){const u=l.offsetWidth===i.width?1:l.offsetWidth/i.width;return new n.Point((s.clientX-i.left)*u,(s.clientY-i.top)*u)}function Te(l,i){var s=i[0],u=i[1],h=i[2],f=i[3],_=s*f-h*u;return _?(l[0]=f*(_=1/_),l[1]=-u*_,l[2]=-h*_,l[3]=s*_,l):null}function Et(l){const{userImage:i}=l;return!!(i&&i.render&&i.render())&&(l.data.replace(new Uint8Array(i.data.buffer)),!0)}class we extends n.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new n.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(i){if(this.loaded!==i&&(this.loaded=i,i)){for(const{ids:s,callback:u}of this.requestors)this._notify(s,u);this.requestors=[]}}hasImage(i){return!!this.getImage(i)}getImage(i){return this.images[i]}addImage(i,s){this._validate(i,s)&&(this.images[i]=s)}_validate(i,s){let u=!0;return this._validateStretch(s.stretchX,s.data&&s.data.width)||(this.fire(new n.ErrorEvent(new Error(`Image "${i}" has invalid "stretchX" value`))),u=!1),this._validateStretch(s.stretchY,s.data&&s.data.height)||(this.fire(new n.ErrorEvent(new Error(`Image "${i}" has invalid "stretchY" value`))),u=!1),this._validateContent(s.content,s)||(this.fire(new n.ErrorEvent(new Error(`Image "${i}" has invalid "content" value`))),u=!1),u}_validateStretch(i,s){if(!i)return!0;let u=0;for(const h of i){if(h[0]<u||h[1]<h[0]||s<h[1])return!1;u=h[1]}return!0}_validateContent(i,s){return!(i&&(i.length!==4||i[0]<0||s.data.width<i[0]||i[1]<0||s.data.height<i[1]||i[2]<0||s.data.width<i[2]||i[3]<0||s.data.height<i[3]||i[2]<i[0]||i[3]<i[1]))}updateImage(i,s){s.version=this.images[i].version+1,this.images[i]=s,this.updatedImages[i]=!0}removeImage(i){const s=this.images[i];delete this.images[i],delete this.patterns[i],s.userImage&&s.userImage.onRemove&&s.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(i,s){let u=!0;if(!this.isLoaded())for(const h of i)this.images[h]||(u=!1);this.isLoaded()||u?this._notify(i,s):this.requestors.push({ids:i,callback:s})}_notify(i,s){const u={};for(const h of i){this.images[h]||this.fire(new n.Event("styleimagemissing",{id:h}));const f=this.images[h];f?u[h]={data:f.data.clone(),pixelRatio:f.pixelRatio,sdf:f.sdf,version:f.version,stretchX:f.stretchX,stretchY:f.stretchY,content:f.content,hasRenderCallback:!!(f.userImage&&f.userImage.render)}:n.warnOnce(`Image "${h}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}s(null,u)}getPixelSize(){const{width:i,height:s}=this.atlasImage;return{width:i,height:s}}getPattern(i){const s=this.patterns[i],u=this.getImage(i);if(!u)return null;if(s&&s.position.version===u.version)return s.position;if(s)s.position.version=u.version;else{const h={w:u.data.width+2,h:u.data.height+2,x:0,y:0},f=new n.ImagePosition(h,u);this.patterns[i]={bin:h,position:f}}return this._updatePatternAtlas(),this.patterns[i].position}bind(i){const s=i.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new n.Texture(i,this.atlasImage,s.RGBA),this.atlasTexture&&this.atlasTexture.bind(s.LINEAR,s.CLAMP_TO_EDGE)}_updatePatternAtlas(){const i=[];for(const f in this.patterns)i.push(this.patterns[f].bin);const{w:s,h:u}=n.potpack(i),h=this.atlasImage;h.resize({width:s||1,height:u||1});for(const f in this.patterns){const{bin:_}=this.patterns[f],g=_.x+1,v=_.y+1,A=this.images[f].data,M=A.width,F=A.height;n.RGBAImage.copy(A,h,{x:0,y:0},{x:g,y:v},{width:M,height:F}),n.RGBAImage.copy(A,h,{x:0,y:F-1},{x:g,y:v-1},{width:M,height:1}),n.RGBAImage.copy(A,h,{x:0,y:0},{x:g,y:v+F},{width:M,height:1}),n.RGBAImage.copy(A,h,{x:M-1,y:0},{x:g-1,y:v},{width:1,height:F}),n.RGBAImage.copy(A,h,{x:0,y:0},{x:g+M,y:v},{width:1,height:F})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(i){for(const s of i){if(this.callbackDispatchedThisFrame[s])continue;this.callbackDispatchedThisFrame[s]=!0;const u=this.images[s];Et(u)&&this.updateImage(s,u)}}}const qe=new n.Properties({anchor:new n.DataConstantProperty(n.spec.light.anchor),position:new class{constructor(){this.specification=n.spec.light.position}possiblyEvaluate(l,i){return function([s,u,h]){const f=n.degToRad(u+90),_=n.degToRad(h);return{x:s*Math.cos(f)*Math.sin(_),y:s*Math.sin(f)*Math.sin(_),z:s*Math.cos(_),azimuthal:u,polar:h}}(l.expression.evaluate(i))}interpolate(l,i,s){return{x:n.number(l.x,i.x,s),y:n.number(l.y,i.y,s),z:n.number(l.z,i.z,s),azimuthal:n.number(l.azimuthal,i.azimuthal,s),polar:n.number(l.polar,i.polar,s)}}},color:new n.DataConstantProperty(n.spec.light.color),intensity:new n.DataConstantProperty(n.spec.light.intensity)});class ct extends n.Evented{constructor(i){super(),this._transitionable=new n.Transitionable(qe),this.setLight(i),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(i,s={}){if(!this._validate(n.validateLight,i,s))for(const u in i){const h=i[u];n.endsWith(u,"-transition")?this._transitionable.setTransition(u.slice(0,-11),h):this._transitionable.setValue(u,h)}}updateTransitions(i){this._transitioning=this._transitionable.transitioned(i,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(i){this.properties=this._transitioning.possiblyEvaluate(i)}_validate(i,s,u){return(!u||u.validate!==!1)&&n.emitValidationErrors(this,i.call(n.validateStyle,n.extend({value:s,style:{glyphs:!0,sprite:!0},styleSpec:n.spec})))}}const kt=new n.Properties({source:new n.DataConstantProperty(n.spec.terrain.source),exaggeration:new n.DataConstantProperty(n.spec.terrain.exaggeration)});let Pt=class extends n.Evented{constructor(l,i){super(),this._transitionable=new n.Transitionable(kt),this.set(l),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=i}get(){return this._transitionable.serialize()}set(l){for(const i in l){const s=l[i];n.endsWith(i,"-transition")?this._transitionable.setTransition(i.slice(0,-11),s):this._transitionable.setValue(i,s)}}updateTransitions(l){this._transitioning=this._transitionable.transitioned(l,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(l){this.properties=this._transitioning.possiblyEvaluate(l)}};function o4(l,i,s,u){const h=n.smoothstep(45,65,s),[f,_]=d4(l,u),g=n.length(i);let v=1-Math.min(1,Math.exp((g-f)/(_-f)*-6));return v*=v*v,v=Math.min(1,1.00747*v),v*h*l.alpha}function d4(l,i){const s=.5/Math.tan(.5*i);return[l.range[0]+s,l.range[1]+s]}const gt=new n.Properties({range:new n.DataConstantProperty(n.spec.fog.range),color:new n.DataConstantProperty(n.spec.fog.color),"high-color":new n.DataConstantProperty(n.spec.fog["high-color"]),"space-color":new n.DataConstantProperty(n.spec.fog["space-color"]),"horizon-blend":new n.DataConstantProperty(n.spec.fog["horizon-blend"]),"star-intensity":new n.DataConstantProperty(n.spec.fog["star-intensity"])});class _t extends n.Evented{constructor(i,s){super(),this._transitionable=new n.Transitionable(gt),this.set(i),this._transitioning=this._transitionable.untransitioned(),this._transform=s}get state(){const i=this._transform,s=i.projection.name==="globe",u=n.globeToMercatorTransition(i.zoom),h=this.properties.get("range"),f=[.5,3];return{range:s?[n.number(f[0],h[0],u),n.number(f[1],h[1],u)]:h,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(i,s={}){if(!this._validate(n.validateFog,i,s)){for(const u of Object.keys(n.spec.fog))i&&i[u]===void 0&&(i[u]=n.spec.fog[u].default);for(const u in i){const h=i[u];n.endsWith(u,"-transition")?this._transitionable.setTransition(u.slice(0,-11),h):this._transitionable.setValue(u,h)}}}getOpacity(i){if(!this._transform.projection.supportsFog)return 0;const s=this.properties&&this.properties.get("color")||1;return(this._transform.projection.name==="globe"?1:n.smoothstep(45,65,i))*s.a}getOpacityAtLatLng(i,s){return this._transform.projection.supportsFog?function(u,h,f){const _=n.MercatorCoordinate.fromLngLat(h),g=f.elevation?f.elevation.getAtPointOrZero(_):0,v=[_.x,_.y,g];return n.transformMat4(v,v,f.mercatorFogMatrix),o4(u,v,f.pitch,f._fov)}(this.state,i,s):0}getFovAdjustedRange(i){return this._transform.projection.supportsFog?d4(this.state,i):[0,1]}updateTransitions(i){this._transitioning=this._transitionable.transitioned(i,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(i){this.properties=this._transitioning.possiblyEvaluate(i)}_validate(i,s,u){return(!u||u.validate!==!1)&&n.emitValidationErrors(this,i.call(n.validateStyle,n.extend({value:s,style:{glyphs:!0,sprite:!0},styleSpec:n.spec})))}}class xt{constructor(i,s){this.workerPool=i,this.actors=[],this.currentActor=0,this.id=n.uniqueId();const u=this.workerPool.acquire(this.id);for(let h=0;h<u.length;h++){const f=new xt.Actor(u[h],s,this.id);f.name=`Worker ${h}`,this.actors.push(f)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(i,s,u){n.asyncAll(this.actors,(h,f)=>{h.send(i,s,f)},u=u||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(i=>{i.remove()}),this.actors=[],this.workerPool.release(this.id)}}function Zt(l,i,s){return i*(n.EXTENT/(l.tileSize*Math.pow(2,s-l.tileID.overscaledZ)))}xt.Actor=n.Actor;class Q4{constructor(i,s,u,h){this.screenBounds=i,this.cameraPoint=s,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=u,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,h)}static createFromScreenPoints(i,s){let u,h;if(i instanceof n.Point||typeof i[0]=="number"){const f=n.Point.convert(i);u=[f],h=s.isPointAboveHorizon(f)}else{const f=n.Point.convert(i[0]),_=n.Point.convert(i[1]);u=[f,_],h=n.polygonizeBounds(f,_).every(g=>s.isPointAboveHorizon(g))}return new Q4(u,s.getCameraPoint(),h,s)}isPointQuery(){return this.screenBounds.length===1}bufferedScreenGeometry(i){return n.polygonizeBounds(this.screenBounds[0],this.screenBounds.length===1?this.screenBounds[0]:this.screenBounds[1],i)}bufferedCameraGeometry(i){const s=this.screenBounds[0],u=this.screenBounds.length===1?this.screenBounds[0].add(new n.Point(1,1)):this.screenBounds[1],h=n.polygonizeBounds(s,u,0,!1);return this.cameraPoint.y>u.y&&(this.cameraPoint.x>s.x&&this.cameraPoint.x<u.x?h.splice(3,0,this.cameraPoint):this.cameraPoint.x>=u.x?h[2]=this.cameraPoint:this.cameraPoint.x<=s.x&&(h[3]=this.cameraPoint)),n.bufferConvexPolygon(h,i)}bufferedCameraGeometryGlobe(i){const s=this.screenBounds[0],u=this.screenBounds.length===1?this.screenBounds[0].add(new n.Point(1,1)):this.screenBounds[1],h=n.polygonizeBounds(s,u,i),f=this.cameraPoint.clone();switch(3*((f.y>s.y)+(f.y>u.y))+((f.x>s.x)+(f.x>u.x))){case 0:h[0]=f,h[4]=f.clone();break;case 1:h.splice(1,0,f);break;case 2:h[1]=f;break;case 3:h.splice(4,0,f);break;case 5:h.splice(2,0,f);break;case 6:h[3]=f;break;case 7:h.splice(3,0,f);break;case 8:h[2]=f}return h}containsTile(i,s,u,h=0){const f=i.queryPadding/s._pixelsPerMercatorPixel+1,_=u?this._bufferedCameraMercator(f,s):this._bufferedScreenMercator(f,s);let g=i.tileID.wrap+(_.unwrapped?h:0);const v=_.polygon.map(W=>n.getTilePoint(i.tileTransform,W,g));if(!n.polygonIntersectsBox(v,0,0,n.EXTENT,n.EXTENT))return;g=i.tileID.wrap+(this.screenGeometryMercator.unwrapped?h:0);const A=this.screenGeometryMercator.polygon.map(W=>n.getTileVec3(i.tileTransform,W,g)),M=A.map(W=>new n.Point(W[0],W[1])),F=s.getFreeCameraOptions().position||new n.MercatorCoordinate(0,0,0),N=n.getTileVec3(i.tileTransform,F,g),j=A.map(W=>{const L=n.sub(W,W,N);return n.normalize(L,L),new n.Ray(N,L)}),Z=Zt(i,1,s.zoom)*s._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:M,tilespaceRays:j,bufferedTilespaceGeometry:v,bufferedTilespaceBounds:(q=n.getBounds(v),q.min.x=n.clamp(q.min.x,0,n.EXTENT),q.min.y=n.clamp(q.min.y,0,n.EXTENT),q.max.x=n.clamp(q.max.x,0,n.EXTENT),q.max.y=n.clamp(q.max.y,0,n.EXTENT),q),tile:i,tileID:i.tileID,pixelToTileUnitsFactor:Z};var q}_bufferedScreenMercator(i,s){const u=ni(i);if(this._screenRaycastCache[u])return this._screenRaycastCache[u];{let h;return h=s.projection.name==="globe"?this._projectAndResample(this.bufferedScreenGeometry(i),s):{polygon:this.bufferedScreenGeometry(i).map(f=>s.pointCoordinate3D(f)),unwrapped:!0},this._screenRaycastCache[u]=h,h}}_bufferedCameraMercator(i,s){const u=ni(i);if(this._cameraRaycastCache[u])return this._cameraRaycastCache[u];{let h;return h=s.projection.name==="globe"?this._projectAndResample(this.bufferedCameraGeometryGlobe(i),s):{polygon:this.bufferedCameraGeometry(i).map(f=>s.pointCoordinate3D(f)),unwrapped:!0},this._cameraRaycastCache[u]=h,h}}_projectAndResample(i,s){const u=function(f,_){const g=n.multiply([],_.pixelMatrix,_.globeMatrix),v=[0,-n.GLOBE_RADIUS,0,1],A=[0,n.GLOBE_RADIUS,0,1],M=[0,0,0,1];n.transformMat4$1(v,v,g),n.transformMat4$1(A,A,g),n.transformMat4$1(M,M,g);const F=new n.Point(v[0]/v[3],v[1]/v[3]),N=new n.Point(A[0]/A[3],A[1]/A[3]),j=n.polygonContainsPoint(f,F)&&v[3]<M[3],Z=n.polygonContainsPoint(f,N)&&A[3]<M[3];if(!j&&!Z)return null;const q=function(ue,ge,_e){for(let Ee=1;Ee<ue.length;Ee++){const et=f4(ge.pointCoordinate3D(ue[Ee-1]).x),De=f4(ge.pointCoordinate3D(ue[Ee]).x);if(_e<0){if(et<De)return{idx:Ee,t:-et/(De-1-et)}}else if(De<et)return{idx:Ee,t:(1-et)/(De+1-et)}}return null}(f,_,j?-1:1);if(!q)return null;const{idx:W,t:L}=q;let V=W>1?a4(f.slice(0,W),_):[],K=W<f.length?a4(f.slice(W),_):[];V=V.map(ue=>new n.Point(f4(ue.x),ue.y)),K=K.map(ue=>new n.Point(f4(ue.x),ue.y));const $=[...V];$.length===0&&$.push(K[K.length-1]);const ce=n.number($[$.length-1].y,(K.length===0?V[0]:K[0]).y,L);let pe;return pe=j?[new n.Point(0,ce),new n.Point(0,0),new n.Point(1,0),new n.Point(1,ce)]:[new n.Point(1,ce),new n.Point(1,1),new n.Point(0,1),new n.Point(0,ce)],$.push(...pe),K.length===0?$.push(V[0]):$.push(...K),{polygon:$.map(ue=>new n.MercatorCoordinate(ue.x,ue.y)),unwrapped:!1}}(i,s);if(u)return u;const h=function(f,_){let g=!1,v=-1/0,A=0;for(let F=0;F<f.length-1;F++)f[F].x>v&&(v=f[F].x,A=F);for(let F=0;F<f.length-1;F++){const N=(A+F)%(f.length-1),j=f[N],Z=f[N+1];Math.abs(j.x-Z.x)>.5&&(j.x<Z.x?(j.x+=1,N===0&&(f[f.length-1].x+=1)):(Z.x+=1,N+1===f.length-1&&(f[0].x+=1)),g=!0)}const M=n.mercatorXfromLng(_.center.lng);return g&&M<Math.abs(M-1)&&f.forEach(F=>{F.x-=1}),{polygon:f,unwrapped:g}}(a4(i,s).map(f=>new n.Point(f4(f.x),f.y)),s);return{polygon:h.polygon.map(f=>new n.MercatorCoordinate(f.x,f.y)),unwrapped:h.unwrapped}}}function a4(l,i){return n.resample(l,s=>{const u=i.pointCoordinate3D(s);s.x=u.x,s.y=u.y},1/256)}function f4(l){return l<0?1+l%1:l%1}function ni(l){return 100*l|0}function Or(l,i,s,u,h){const f=function(_,g){if(_)return h(_);if(g){l.url&&g.tiles&&l.tiles&&delete l.tiles;const v=n.pick(n.extend(g,l),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);g.vector_layers&&(v.vectorLayers=g.vector_layers,v.vectorLayerIds=v.vectorLayers.map(A=>A.id)),v.tiles=i.canonicalizeTileset(v,l.url),h(null,v)}};return l.url?n.getJSON(i.transformRequest(i.normalizeSourceURL(l.url,null,s,u),n.ResourceType.Source),f):n.exported.frame(()=>f(null,l))}class Vr{constructor(i,s,u){this.bounds=n.LngLatBounds.convert(this.validateBounds(i)),this.minzoom=s||0,this.maxzoom=u||24}validateBounds(i){return Array.isArray(i)&&i.length===4?[Math.max(-180,i[0]),Math.max(-90,i[1]),Math.min(180,i[2]),Math.min(90,i[3])]:[-180,-90,180,90]}contains(i){const s=Math.pow(2,i.z),u=Math.floor(n.mercatorXfromLng(this.bounds.getWest())*s),h=Math.floor(n.mercatorYfromLat(this.bounds.getNorth())*s),f=Math.ceil(n.mercatorXfromLng(this.bounds.getEast())*s),_=Math.ceil(n.mercatorYfromLat(this.bounds.getSouth())*s);return i.x>=u&&i.x<f&&i.y>=h&&i.y<_}}class gi{constructor(i,s,u){this.context=i;const h=i.gl;this.buffer=h.createBuffer(),this.dynamicDraw=!!u,this.context.unbindVAO(),i.bindElementBuffer.set(this.buffer),h.bufferData(h.ELEMENT_ARRAY_BUFFER,s.arrayBuffer,this.dynamicDraw?h.DYNAMIC_DRAW:h.STATIC_DRAW),this.dynamicDraw||s.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(i){const s=this.context.gl;this.context.unbindVAO(),this.bind(),s.bufferSubData(s.ELEMENT_ARRAY_BUFFER,0,i.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Kr={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class jr{constructor(i,s,u,h){this.length=s.length,this.attributes=u,this.itemSize=s.bytesPerElement,this.dynamicDraw=h,this.context=i;const f=i.gl;this.buffer=f.createBuffer(),i.bindVertexBuffer.set(this.buffer),f.bufferData(f.ARRAY_BUFFER,s.arrayBuffer,this.dynamicDraw?f.DYNAMIC_DRAW:f.STATIC_DRAW),this.dynamicDraw||s.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(i){const s=this.context.gl;this.bind(),s.bufferSubData(s.ARRAY_BUFFER,0,i.arrayBuffer)}enableAttributes(i,s){for(let u=0;u<this.attributes.length;u++){const h=s.attributes[this.attributes[u].name];h!==void 0&&i.enableVertexAttribArray(h)}}setVertexAttribPointers(i,s,u){for(let h=0;h<this.attributes.length;h++){const f=this.attributes[h],_=s.attributes[f.name];_!==void 0&&i.vertexAttribPointer(_,f.components,i[Kr[f.type]],!1,this.itemSize,f.offset+this.itemSize*(u||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Qt{constructor(i){this.gl=i.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(i){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class si extends Qt{getDefault(){return n.Color.transparent}set(i){const s=this.current;(i.r!==s.r||i.g!==s.g||i.b!==s.b||i.a!==s.a||this.dirty)&&(this.gl.clearColor(i.r,i.g,i.b,i.a),this.current=i,this.dirty=!1)}}class Y4 extends Qt{getDefault(){return 1}set(i){(i!==this.current||this.dirty)&&(this.gl.clearDepth(i),this.current=i,this.dirty=!1)}}class c4 extends Qt{getDefault(){return 0}set(i){(i!==this.current||this.dirty)&&(this.gl.clearStencil(i),this.current=i,this.dirty=!1)}}class g4 extends Qt{getDefault(){return[!0,!0,!0,!0]}set(i){const s=this.current;(i[0]!==s[0]||i[1]!==s[1]||i[2]!==s[2]||i[3]!==s[3]||this.dirty)&&(this.gl.colorMask(i[0],i[1],i[2],i[3]),this.current=i,this.dirty=!1)}}class er extends Qt{getDefault(){return!0}set(i){(i!==this.current||this.dirty)&&(this.gl.depthMask(i),this.current=i,this.dirty=!1)}}class K4 extends Qt{getDefault(){return 255}set(i){(i!==this.current||this.dirty)&&(this.gl.stencilMask(i),this.current=i,this.dirty=!1)}}class Jr extends Qt{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(i){const s=this.current;(i.func!==s.func||i.ref!==s.ref||i.mask!==s.mask||this.dirty)&&(this.gl.stencilFunc(i.func,i.ref,i.mask),this.current=i,this.dirty=!1)}}class nr extends Qt{getDefault(){const i=this.gl;return[i.KEEP,i.KEEP,i.KEEP]}set(i){const s=this.current;(i[0]!==s[0]||i[1]!==s[1]||i[2]!==s[2]||this.dirty)&&(this.gl.stencilOp(i[0],i[1],i[2]),this.current=i,this.dirty=!1)}}class xi extends Qt{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const s=this.gl;i?s.enable(s.STENCIL_TEST):s.disable(s.STENCIL_TEST),this.current=i,this.dirty=!1}}class b4 extends Qt{getDefault(){return[0,1]}set(i){const s=this.current;(i[0]!==s[0]||i[1]!==s[1]||this.dirty)&&(this.gl.depthRange(i[0],i[1]),this.current=i,this.dirty=!1)}}class ai extends Qt{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const s=this.gl;i?s.enable(s.DEPTH_TEST):s.disable(s.DEPTH_TEST),this.current=i,this.dirty=!1}}class l4 extends Qt{getDefault(){return this.gl.LESS}set(i){(i!==this.current||this.dirty)&&(this.gl.depthFunc(i),this.current=i,this.dirty=!1)}}class Ir extends Qt{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const s=this.gl;i?s.enable(s.BLEND):s.disable(s.BLEND),this.current=i,this.dirty=!1}}class wi extends Qt{getDefault(){const i=this.gl;return[i.ONE,i.ZERO]}set(i){const s=this.current;(i[0]!==s[0]||i[1]!==s[1]||this.dirty)&&(this.gl.blendFunc(i[0],i[1]),this.current=i,this.dirty=!1)}}class D4 extends Qt{getDefault(){return n.Color.transparent}set(i){const s=this.current;(i.r!==s.r||i.g!==s.g||i.b!==s.b||i.a!==s.a||this.dirty)&&(this.gl.blendColor(i.r,i.g,i.b,i.a),this.current=i,this.dirty=!1)}}class tr extends Qt{getDefault(){return this.gl.FUNC_ADD}set(i){(i!==this.current||this.dirty)&&(this.gl.blendEquation(i),this.current=i,this.dirty=!1)}}class S4 extends Qt{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const s=this.gl;i?s.enable(s.CULL_FACE):s.disable(s.CULL_FACE),this.current=i,this.dirty=!1}}class vi extends Qt{getDefault(){return this.gl.BACK}set(i){(i!==this.current||this.dirty)&&(this.gl.cullFace(i),this.current=i,this.dirty=!1)}}class Pr extends Qt{getDefault(){return this.gl.CCW}set(i){(i!==this.current||this.dirty)&&(this.gl.frontFace(i),this.current=i,this.dirty=!1)}}let Gr,Oi=class extends Qt{getDefault(){return null}set(l){(l!==this.current||this.dirty)&&(this.gl.useProgram(l),this.current=l,this.dirty=!1)}};class Er extends Qt{getDefault(){return this.gl.TEXTURE0}set(i){(i!==this.current||this.dirty)&&(this.gl.activeTexture(i),this.current=i,this.dirty=!1)}}class li extends Qt{getDefault(){const i=this.gl;return[0,0,i.drawingBufferWidth,i.drawingBufferHeight]}set(i){const s=this.current;(i[0]!==s[0]||i[1]!==s[1]||i[2]!==s[2]||i[3]!==s[3]||this.dirty)&&(this.gl.viewport(i[0],i[1],i[2],i[3]),this.current=i,this.dirty=!1)}}class bi extends Qt{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const s=this.gl;s.bindFramebuffer(s.FRAMEBUFFER,i),this.current=i,this.dirty=!1}}class Tr extends Qt{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const s=this.gl;s.bindRenderbuffer(s.RENDERBUFFER,i),this.current=i,this.dirty=!1}}class Di extends Qt{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const s=this.gl;s.bindTexture(s.TEXTURE_2D,i),this.current=i,this.dirty=!1}}class Yi extends Qt{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const s=this.gl;s.bindBuffer(s.ARRAY_BUFFER,i),this.current=i,this.dirty=!1}}class Q extends Qt{getDefault(){return null}set(i){const s=this.gl;s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,i),this.current=i,this.dirty=!1}}class z extends Qt{constructor(i){super(i),this.vao=i.extVertexArrayObject}getDefault(){return null}set(i){this.vao&&(i!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(i),this.current=i,this.dirty=!1)}}class B extends Qt{getDefault(){return 4}set(i){if(i===this.current&&!this.dirty)return;const s=this.gl;s.pixelStorei(s.UNPACK_ALIGNMENT,i),this.current=i,this.dirty=!1}}class J extends Qt{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const s=this.gl;s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i),this.current=i,this.dirty=!1}}class se extends Qt{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const s=this.gl;s.pixelStorei(s.UNPACK_FLIP_Y_WEBGL,i),this.current=i,this.dirty=!1}}class he extends Qt{constructor(i,s){super(i),this.context=i,this.parent=s}getDefault(){return null}}class ve extends he{setDirty(){this.dirty=!0}set(i){if(i===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const s=this.gl;s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,i,0),this.current=i,this.dirty=!1}}class be extends he{attachment(){return this.gl.DEPTH_ATTACHMENT}set(i){if(i===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const s=this.gl;s.framebufferRenderbuffer(s.FRAMEBUFFER,this.attachment(),s.RENDERBUFFER,i),this.current=i,this.dirty=!1}}class de extends be{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class Me{constructor(i,s,u,h){this.context=i,this.width=s,this.height=u;const f=this.framebuffer=i.gl.createFramebuffer();this.colorAttachment=new ve(i,f),h&&(this.depthAttachment=new be(i,f))}destroy(){const i=this.context.gl,s=this.colorAttachment.get();if(s&&i.deleteTexture(s),this.depthAttachment){const u=this.depthAttachment.get();u&&i.deleteRenderbuffer(u)}i.deleteFramebuffer(this.framebuffer)}}class rt{constructor(i,s=!1){if(this.gl=i,this.isWebGL2=s,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),s){const u=i;this.extVertexArrayObject={createVertexArrayOES:u.createVertexArray.bind(i),deleteVertexArrayOES:u.deleteVertexArray.bind(i),bindVertexArrayOES:u.bindVertexArray.bind(i)}}this.clearColor=new si(this),this.clearDepth=new Y4(this),this.clearStencil=new c4(this),this.colorMask=new g4(this),this.depthMask=new er(this),this.stencilMask=new K4(this),this.stencilFunc=new Jr(this),this.stencilOp=new nr(this),this.stencilTest=new xi(this),this.depthRange=new b4(this),this.depthTest=new ai(this),this.depthFunc=new l4(this),this.blend=new Ir(this),this.blendFunc=new wi(this),this.blendColor=new D4(this),this.blendEquation=new tr(this),this.cullFace=new S4(this),this.cullFaceSide=new vi(this),this.frontFace=new Pr(this),this.program=new Oi(this),this.activeTexture=new Er(this),this.viewport=new li(this),this.bindFramebuffer=new bi(this),this.bindRenderbuffer=new Tr(this),this.bindTexture=new Di(this),this.bindVertexBuffer=new Yi(this),this.bindElementBuffer=new Q(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new z(this),this.pixelStoreUnpack=new B(this),this.pixelStoreUnpackPremultiplyAlpha=new J(this),this.pixelStoreUnpackFlipY=new se(this),this.extTextureFilterAnisotropic=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=i.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extDebugRendererInfo=i.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=i.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=i.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),s||(this.extTextureHalfFloat=i.getExtension("OES_texture_half_float")),(s||this.extTextureHalfFloat&&i.getExtension("OES_texture_half_float_linear"))&&(this.extRenderToTextureHalfFloat=i.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=s||i.getExtension("OES_standard_derivatives"),this.extTimerQuery=i.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=i.getParameter(i.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(i,s){return new gi(this,i,s)}createVertexBuffer(i,s,u){return new jr(this,i,s,u)}createRenderbuffer(i,s,u){const h=this.gl,f=h.createRenderbuffer();return this.bindRenderbuffer.set(f),h.renderbufferStorage(h.RENDERBUFFER,i,s,u),this.bindRenderbuffer.set(null),f}createFramebuffer(i,s,u){return new Me(this,i,s,u)}clear({color:i,depth:s,stencil:u}){const h=this.gl;let f=0;i&&(f|=h.COLOR_BUFFER_BIT,this.clearColor.set(i),this.colorMask.set([!0,!0,!0,!0])),s!==void 0&&(f|=h.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(s),this.depthMask.set(!0)),u!==void 0&&(f|=h.STENCIL_BUFFER_BIT,this.clearStencil.set(u),this.stencilMask.set(255)),h.clear(f)}setCullFace(i){i.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(i.mode),this.frontFace.set(i.frontFace))}setDepthMode(i){i.func!==this.gl.ALWAYS||i.mask?(this.depthTest.set(!0),this.depthFunc.set(i.func),this.depthMask.set(i.mask),this.depthRange.set(i.range)):this.depthTest.set(!1)}setStencilMode(i){i.test.func!==this.gl.ALWAYS||i.mask?(this.stencilTest.set(!0),this.stencilMask.set(i.mask),this.stencilOp.set([i.fail,i.depthFail,i.pass]),this.stencilFunc.set({func:i.test.func,ref:i.ref,mask:i.test.mask})):this.stencilTest.set(!1)}setColorMode(i){G(i.blendFunction,n.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(i.blendFunction),this.blendColor.set(i.blendColor)),this.colorMask.set(i.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class lt extends n.Evented{constructor(i,s,u,h){if(super(),this.id=i,this.dispatcher=u,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,n.extend(this,n.pick(s,["url","scheme","tileSize","promoteId"])),this._options=n.extend({type:"vector"},s),this._collectResourceTiming=s.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(h),this._tileWorkers={},this._deduped=new n.DedupedRequest}load(i){this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"}));const s=Array.isArray(this.map._language)?this.map._language.join():this.map._language,u=this.map._worldview;this._tileJSONRequest=Or(this._options,this.map._requestManager,s,u,(h,f)=>{this._tileJSONRequest=null,this._loaded=!0,h?(s&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${s}`),u&&u.length!==2&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${u}`),this.fire(new n.ErrorEvent(h))):f&&(n.extend(this,f),f.bounds&&(this.tileBounds=new Vr(f.bounds,this.minzoom,this.maxzoom)),n.postTurnstileEvent(f.tiles,this.map._requestManager._customAccessToken),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"}))),i&&i(h)})}loaded(){return this._loaded}hasTile(i){return!this.tileBounds||this.tileBounds.contains(i.canonical)}onAdd(i){this.map=i,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>this.map.style._clearSource(this.id))}setTiles(i){return this._options.tiles=i,this.reload(),this}setUrl(i){return this.url=i,this._options.url=i,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return n.extend({},this._options)}loadTile(i,s){const u=this.map._requestManager.normalizeTileURL(i.tileID.canonical.url(this.tiles,this.scheme)),h={request:this.map._requestManager.transformRequest(u,n.ResourceType.Tile),data:void 0,uid:i.uid,tileID:i.tileID,tileZoom:i.tileZoom,zoom:i.tileID.overscaledZ,tileSize:this.tileSize*i.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:n.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:i.isSymbolTile};if(h.request.collectResourceTiming=this._collectResourceTiming,i.actor&&i.state!=="expired")i.state==="loading"?i.reloadCallback=s:i.request=i.actor.send("reloadTile",h,f.bind(this));else if(i.actor=this._tileWorkers[u]=this._tileWorkers[u]||this.dispatcher.getActor(),this.dispatcher.ready)i.request=i.actor.send("loadTile",h,f.bind(this),void 0,!0);else{const _=n.loadVectorTile.call({deduped:this._deduped},h,(g,v)=>{g||!v?f.call(this,g):(h.data={cacheControl:v.cacheControl,expires:v.expires,rawData:v.rawData.slice(0)},i.actor&&i.actor.send("loadTile",h,f.bind(this),void 0,!0))},!0);i.request={cancel:_}}function f(_,g){return delete i.request,i.aborted?s(null):_&&_.status!==404?s(_):(g&&g.resourceTiming&&(i.resourceTiming=g.resourceTiming),this.map._refreshExpiredTiles&&g&&i.setExpiryData(g),i.loadVectorData(g,this.map.painter),n.cacheEntryPossiblyAdded(this.dispatcher),s(null),void(i.reloadCallback&&(this.loadTile(i,i.reloadCallback),i.reloadCallback=null)))}}abortTile(i){i.request&&(i.request.cancel(),delete i.request),i.actor&&i.actor.send("abortTile",{uid:i.uid,type:this.type,source:this.id})}unloadTile(i){i.unloadVectorData(),i.actor&&i.actor.send("removeTile",{uid:i.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}class Ke extends n.Evented{constructor(i,s,u,h){super(),this.id=i,this.dispatcher=u,this.setEventedParent(h),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=n.extend({type:"raster"},s),n.extend(this,n.pick(s,["url","scheme","tileSize"]))}load(i){this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Or(this._options,this.map._requestManager,null,null,(s,u)=>{this._tileJSONRequest=null,this._loaded=!0,s?this.fire(new n.ErrorEvent(s)):u&&(n.extend(this,u),u.bounds&&(this.tileBounds=new Vr(u.bounds,this.minzoom,this.maxzoom)),n.postTurnstileEvent(u.tiles),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"}))),i&&i(s)})}loaded(){return this._loaded}onAdd(i){this.map=i,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>this.map.style._clearSource(this.id))}setTiles(i){return this._options.tiles=i,this.reload(),this}setUrl(i){return this.url=i,this._options.url=i,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return n.extend({},this._options)}hasTile(i){return!this.tileBounds||this.tileBounds.contains(i.canonical)}loadTile(i,s){const u=n.exported.devicePixelRatio>=2,h=this.map._requestManager.normalizeTileURL(i.tileID.canonical.url(this.tiles,this.scheme),u,this.tileSize);i.request=n.getImage(this.map._requestManager.transformRequest(h,n.ResourceType.Tile),(f,_,g,v)=>(delete i.request,i.aborted?(i.state="unloaded",s(null)):f?(i.state="errored",s(f)):_?(this.map._refreshExpiredTiles&&i.setExpiryData({cacheControl:g,expires:v}),i.setTexture(_,this.map.painter),i.state="loaded",n.cacheEntryPossiblyAdded(this.dispatcher),void s(null)):s(null)))}static loadTileData(i,s,u){i.setTexture(s,u)}static unloadTileData(i,s){i.texture&&s.saveTileTexture(i.texture)}abortTile(i,s){i.request&&(i.request.cancel(),delete i.request),s()}unloadTile(i,s){i.texture&&this.map.painter.saveTileTexture(i.texture),s()}hasTransition(){return!1}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}function jt(l,i,s,u,h,f,_,g){const v=[l,s,h,i,u,f,1,1,1],A=[_,g,1],M=n.adjoint([],v),[F,N,j]=n.transformMat3(A,A,n.transpose(M,M));return n.multiply$1(v,[F,0,0,0,N,0,0,0,j],v)}class Ut extends n.Evented{constructor(i,s,u,h){super(),this.id=i,this.dispatcher=u,this.coordinates=s.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(h),this.options=s,this._dirty=!1}load(i,s){this._loaded=s||!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._imageRequest=n.getImage(this.map._requestManager.transformRequest(this.url,n.ResourceType.Image),(u,h)=>{if(this._imageRequest=null,this._loaded=!0,u)this.fire(new n.ErrorEvent(u));else if(h){const{HTMLImageElement:f}=n.window;this.image=h instanceof f?n.exported.getImageData(h):h,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,i&&(this.coordinates=i),this._finishLoading()}})}loaded(){return this._loaded}updateImage(i){return this.image&&i.url?(this._imageRequest&&i.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=i.url,this.load(i.coordinates,this._loaded),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(i){this.map=i,this.load()}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),this.texture&&this.texture.destroy()}setCoordinates(i){this.coordinates=i,this._boundsArray=void 0;const s=i.map(n.MercatorCoordinate.fromLngLat);return this.tileID=function(u){let h=1/0,f=1/0,_=-1/0,g=-1/0;for(const F of u)h=Math.min(h,F.x),f=Math.min(f,F.y),_=Math.max(_,F.x),g=Math.max(g,F.y);const v=Math.max(_-h,g-f),A=Math.max(0,Math.floor(-Math.log(v)/Math.LN2)),M=Math.pow(2,A);return new n.CanonicalTileID(A,Math.floor((h+_)/2*M),Math.floor((f+g)/2*M))}(s),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0}_prepareData(i){for(const v in this.tiles){const A=this.tiles[v];A.state!=="loaded"&&(A.state="loaded",A.texture=this.texture)}if(this._boundsArray)return;const s=n.tileTransform(this.tileID,this.map.transform.projection),[u,h,f,_]=this.coordinates.map(v=>{const A=s.projection.project(v[0],v[1]);return n.getTilePoint(s,A)._round()});this.perspectiveTransform=function(v,A,M,F,N,j,Z,q,W,L){const V=jt(0,0,v,0,0,A,v,A),K=jt(M,F,N,j,Z,q,W,L);return n.multiply$1(K,n.adjoint(V,V),K),[K[6]/K[8]*v/n.EXTENT,K[7]/K[8]*A/n.EXTENT]}(this.width,this.height,u.x,u.y,h.x,h.y,_.x,_.y,f.x,f.y);const g=this._boundsArray=new n.StructArrayLayout4i8;g.emplaceBack(u.x,u.y,0,0),g.emplaceBack(h.x,h.y,n.EXTENT,0),g.emplaceBack(_.x,_.y,0,n.EXTENT),g.emplaceBack(f.x,f.y,n.EXTENT,n.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=i.createVertexBuffer(g,n.boundsAttributes.members),this.boundsSegments=n.SegmentVector.simpleSegment(0,0,4,2)}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const i=this.map.painter.context,s=i.gl;this._dirty&&(this.texture?this.texture.update(this.image):(this.texture=new n.Texture(i,this.image,s.RGBA),this.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE)),this._dirty=!1),this._prepareData(i)}loadTile(i,s){this.tileID&&this.tileID.equals(i.tileID.canonical)?(this.tiles[String(i.tileID.wrap)]=i,i.buckets={},s(null)):(i.state="errored",s(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const Nt={vector:lt,raster:Ke,"raster-dem":class extends Ke{constructor(l,i,s,u){super(l,i,s,u),this.type="raster-dem",this.maxzoom=22,this._options=n.extend({type:"raster-dem"},i),this.encoding=i.encoding||"mapbox"}loadTile(l,i){const s=this.map._requestManager.normalizeTileURL(l.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function u(h,f){h&&(l.state="errored",i(h)),f&&(l.dem=f,l.dem.onDeserialize(),l.needsHillshadePrepare=!0,l.needsDEMTextureUpload=!0,l.state="loaded",i(null))}l.request=n.getImage(this.map._requestManager.transformRequest(s,n.ResourceType.Tile),(function(h,f,_,g){if(delete l.request,l.aborted)l.state="unloaded",i(null);else if(h)l.state="errored",i(h);else if(f){this.map._refreshExpiredTiles&&l.setExpiryData({cacheControl:_,expires:g});const v=n.window.ImageBitmap&&f instanceof n.window.ImageBitmap&&(Gr==null&&(Gr=n.window.OffscreenCanvas&&new n.window.OffscreenCanvas(1,1).getContext("2d")&&typeof n.window.createImageBitmap=="function"),Gr),A=1-(f.width-n.prevPowerOfTwo(f.width))/2;A<1||l.neighboringTiles||(l.neighboringTiles=this._getNeighboringTiles(l.tileID));const M=v?f:n.exported.getImageData(f,A),F={uid:l.uid,coord:l.tileID,source:this.id,rawImageData:M,encoding:this.encoding,padding:A};l.actor&&l.state!=="expired"||(l.actor=this.dispatcher.getActor(),l.actor.send("loadDEMTile",F,u.bind(this),void 0,!0))}}).bind(this))}_getNeighboringTiles(l){const i=l.canonical,s=Math.pow(2,i.z),u=(i.x-1+s)%s,h=i.x===0?l.wrap-1:l.wrap,f=(i.x+1+s)%s,_=i.x+1===s?l.wrap+1:l.wrap,g={};return g[new n.OverscaledTileID(l.overscaledZ,h,i.z,u,i.y).key]={backfilled:!1},g[new n.OverscaledTileID(l.overscaledZ,_,i.z,f,i.y).key]={backfilled:!1},i.y>0&&(g[new n.OverscaledTileID(l.overscaledZ,h,i.z,u,i.y-1).key]={backfilled:!1},g[new n.OverscaledTileID(l.overscaledZ,l.wrap,i.z,i.x,i.y-1).key]={backfilled:!1},g[new n.OverscaledTileID(l.overscaledZ,_,i.z,f,i.y-1).key]={backfilled:!1}),i.y+1<s&&(g[new n.OverscaledTileID(l.overscaledZ,h,i.z,u,i.y+1).key]={backfilled:!1},g[new n.OverscaledTileID(l.overscaledZ,l.wrap,i.z,i.x,i.y+1).key]={backfilled:!1},g[new n.OverscaledTileID(l.overscaledZ,_,i.z,f,i.y+1).key]={backfilled:!1}),g}unloadTile(l){l.demTexture&&this.map.painter.saveTileTexture(l.demTexture),l.fbo&&(l.fbo.destroy(),delete l.fbo),l.dem&&delete l.dem,delete l.neighboringTiles,l.state="unloaded"}},geojson:class extends n.Evented{constructor(l,i,s,u){super(),this.id=l,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=s.getActor(),this.setEventedParent(u),this._data=i.data,this._options=n.extend({},i),this._collectResourceTiming=i.collectResourceTiming,i.maxzoom!==void 0&&(this.maxzoom=i.maxzoom),i.type&&(this.type=i.type),i.attribution&&(this.attribution=i.attribution),this.promoteId=i.promoteId;const h=n.EXTENT/this.tileSize;this.workerOptions=n.extend({source:this.id,cluster:i.cluster||!1,geojsonVtOptions:{buffer:(i.buffer!==void 0?i.buffer:128)*h,tolerance:(i.tolerance!==void 0?i.tolerance:.375)*h,extent:n.EXTENT,maxZoom:this.maxzoom,lineMetrics:i.lineMetrics||!1,generateId:i.generateId||!1},superclusterOptions:{maxZoom:i.clusterMaxZoom!==void 0?i.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,i.clusterMinPoints||2),extent:n.EXTENT,radius:(i.clusterRadius!==void 0?i.clusterRadius:50)*h,log:!1,generateId:i.generateId||!1},clusterProperties:i.clusterProperties,filter:i.filter},i.workerOptions)}onAdd(l){this.map=l,this.setData(this._data)}setData(l){return this._data=l,this._updateWorkerData(),this}getClusterExpansionZoom(l,i){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:l,source:this.id},i),this}getClusterChildren(l,i){return this.actor.send("geojson.getClusterChildren",{clusterId:l,source:this.id},i),this}getClusterLeaves(l,i,s,u){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:l,limit:i,offset:s},u),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new n.Event("dataloading",{dataType:"source"})),this._loaded=!1;const l=n.extend({},this.workerOptions),i=this._data;typeof i=="string"?(l.request=this.map._requestManager.transformRequest(n.exported.resolveURL(i),n.ResourceType.Source),l.request.collectResourceTiming=this._collectResourceTiming):l.data=JSON.stringify(i),this._pendingLoad=this.actor.send(`${this.type}.loadData`,l,(s,u)=>{if(this._loaded=!0,this._pendingLoad=null,s)this.fire(new n.ErrorEvent(s));else{const h={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&u&&u.resourceTiming&&u.resourceTiming[this.id]&&(h.resourceTiming=u.resourceTiming[this.id]),this.fire(new n.Event("data",h)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(l,i){const s=l.actor?"reloadTile":"loadTile";l.actor=this.actor,l.request=this.actor.send(s,{type:this.type,uid:l.uid,tileID:l.tileID,tileZoom:l.tileZoom,zoom:l.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:n.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(u,h)=>(delete l.request,l.unloadVectorData(),l.aborted?i(null):u?i(u):(l.loadVectorData(h,this.map.painter,s==="reloadTile"),i(null))),void 0,s==="loadTile")}abortTile(l){l.request&&(l.request.cancel(),delete l.request),l.aborted=!0}unloadTile(l){l.unloadVectorData(),this.actor.send("removeTile",{uid:l.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return n.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends Ut{constructor(l,i,s,u){super(l,i,s,u),this.roundZoom=!0,this.type="video",this.options=i}load(){this._loaded=!1;const l=this.options;this.urls=[];for(const i of l.urls)this.urls.push(this.map._requestManager.transformRequest(i,n.ResourceType.Source).url);n.getVideo(this.urls,(i,s)=>{this._loaded=!0,i?this.fire(new n.ErrorEvent(i)):s&&(this.video=s,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(l){if(this.video){const i=this.video.seekable;l<i.start(0)||l>i.end(0)?this.fire(new n.ErrorEvent(new n.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${i.start(0)} and ${i.end(0)}-second mark.`))):this.video.currentTime=l}}getVideo(){return this.video}onAdd(l){this.map||(this.map=l,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const l=this.map.painter.context,i=l.gl;this.texture?this.video.paused||(this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE),i.texSubImage2D(i.TEXTURE_2D,0,0,0,i.RGBA,i.UNSIGNED_BYTE,this.video)):(this.texture=new n.Texture(l,this.video,i.RGBA),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(l)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:Ut,canvas:class extends Ut{constructor(l,i,s,u){super(l,i,s,u),i.coordinates?Array.isArray(i.coordinates)&&i.coordinates.length===4&&!i.coordinates.some(h=>!Array.isArray(h)||h.length!==2||h.some(f=>typeof f!="number"))||this.fire(new n.ErrorEvent(new n.ValidationError(`sources.${l}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new n.ErrorEvent(new n.ValidationError(`sources.${l}`,null,'missing required property "coordinates"'))),i.animate&&typeof i.animate!="boolean"&&this.fire(new n.ErrorEvent(new n.ValidationError(`sources.${l}`,null,'optional "animate" property must be a boolean value'))),i.canvas?typeof i.canvas=="string"||i.canvas instanceof n.window.HTMLCanvasElement||this.fire(new n.ErrorEvent(new n.ValidationError(`sources.${l}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new n.ErrorEvent(new n.ValidationError(`sources.${l}`,null,'missing required property "canvas"'))),this.options=i,this.animate=i.animate===void 0||i.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof n.window.HTMLCanvasElement?this.options.canvas:n.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new n.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(l){this.map=l,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let l=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,l=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,l=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const i=this.map.painter.context;this.texture?(l||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new n.Texture(i,this.canvas,i.gl.RGBA,{premultiply:!0}),this._prepareData(i)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const l of[this.canvas.width,this.canvas.height])if(isNaN(l)||l<=0)return!0;return!1}},custom:class extends n.Evented{constructor(l,i,s,u){super(),this.id=l,this.type="custom",this._dataType="raster",this._dispatcher=s,this._implementation=i,this.setEventedParent(u),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new n.ErrorEvent(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new n.ErrorEvent(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new Vr(this._implementation.bounds,this.minzoom,this.maxzoom)),i.update=this._update.bind(this),i.clearTiles=this._clearTiles.bind(this),i.coveringTiles=this._coveringTiles.bind(this),n.extend(this,n.pick(i,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return n.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(l){this._map=l,this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(l),this.load()}onRemove(l){this._implementation.onRemove&&this._implementation.onRemove(l)}hasTile(l){if(this._implementation.hasTile){const{x:i,y:s,z:u}=l.canonical;return this._implementation.hasTile({x:i,y:s,z:u})}return!this.tileBounds||this.tileBounds.contains(l.canonical)}loadTile(l,i){const{x:s,y:u,z:h}=l.tileID.canonical,f=new n.window.AbortController;l.request=Promise.resolve(this._implementation.loadTile({x:s,y:u,z:h},{signal:f.signal})).then((function(_){return delete l.request,l.aborted?(l.state="unloaded",i(null)):_===void 0?(l.state="errored",i(null)):_===null?(this.loadTileData(l,{width:this.tileSize,height:this.tileSize,data:null}),l.state="loaded",i(null)):function(g){return g instanceof n.window.ImageData||g instanceof n.window.HTMLCanvasElement||g instanceof n.window.ImageBitmap||g instanceof n.window.HTMLImageElement}(_)?(this.loadTileData(l,_),l.state="loaded",void i(null)):(l.state="errored",i(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}).bind(this)).catch(_=>{_.code!==20&&(l.state="errored",i(_))}),l.request.cancel=()=>f.abort()}loadTileData(l,i){Ke.loadTileData(l,i,this._map.painter)}unloadTileData(l){Ke.unloadTileData(l,this._map.painter)}unloadTile(l,i){if(this.unloadTileData(l),this._implementation.unloadTile){const{x:s,y:u,z:h}=l.tileID.canonical;this._implementation.unloadTile({x:s,y:u,z:h})}i()}abortTile(l,i){l.request&&l.request.cancel&&(l.request.cancel(),delete l.request),i()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(l=>({x:l.canonical.x,y:l.canonical.y,z:l.canonical.z}))}_clearTiles(){this._map.style._clearSource(this.id)}_update(){this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"}))}}},Gt=function(l,i,s,u){const h=new Nt[i.type](l,i,s,u);if(h.id!==l)throw new Error(`Expected Source id to be ${l} instead of ${h.id}`);return n.bindAll(["load","abort","unload","serialize","prepare"],h),h};function Wt(l,i){const s=n.identity([]);return n.scale(s,s,[.5*l.width,.5*-l.height,1]),n.translate(s,s,[1,-1,0]),n.multiply(s,s,l.calculateProjMatrix(i.toUnwrapped())),Float32Array.from(s)}function I4(l,i,s,u,h,f,_,g=!1){const v=l.tilesIn(u,_,g);v.sort(C4);const A=[];for(const F of v)A.push({wrappedTileID:F.tile.tileID.wrapped().key,queryResults:F.tile.queryRenderedFeatures(i,s,l._state,F,h,f,Wt(l.transform,F.tile.tileID),g)});const M=function(F){const N={},j={};for(const Z of F){const q=Z.queryResults,W=Z.wrappedTileID,L=j[W]=j[W]||{};for(const V in q){const K=q[V],$=L[V]=L[V]||{},ce=N[V]=N[V]||[];for(const pe of K)$[pe.featureIndex]||($[pe.featureIndex]=!0,ce.push(pe))}}return N}(A);for(const F in M)M[F].forEach(N=>{const j=N.feature,Z=j.layer;Z&&Z.type!=="background"&&Z.type!=="sky"&&(j.source=Z.source,Z["source-layer"]&&(j.sourceLayer=Z["source-layer"]),j.state=j.id!==void 0?l.getFeatureState(Z["source-layer"],j.id):{})});return M}function M4(l,i){const s=l.getRenderableIds().map(f=>l.getTileByID(f)),u=[],h={};for(let f=0;f<s.length;f++){const _=s[f],g=_.tileID.canonical.key;h[g]||(h[g]=!0,_.querySourceFeatures(u,i))}return u}function C4(l,i){const s=l.tileID,u=i.tileID;return s.overscaledZ-u.overscaledZ||s.canonical.y-u.canonical.y||s.wrap-u.wrap||s.canonical.x-u.canonical.x}function E4(){return wn.workerClass!=null?new wn.workerClass:new n.window.Worker(wn.workerUrl)}const qr="mapboxgl_preloaded_worker_pool";class ur{constructor(){this.active={}}acquire(i){if(!this.workers)for(this.workers=[];this.workers.length<ur.workerCount;)this.workers.push(new E4);return this.active[i]=!0,this.workers.slice()}release(i){delete this.active[i],this.numActive()===0&&(this.workers.forEach(s=>{s.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[qr]}numActive(){return Object.keys(this.active).length}}let m4;function W4(){return m4||(m4=new ur),m4}function dr(l,i){const s={};for(const u in l)u!=="ref"&&(s[u]=l[u]);return n.refProperties.forEach(u=>{u in i&&(s[u]=i[u])}),s}function fr(l){l=l.slice();const i=Object.create(null);for(let s=0;s<l.length;s++)i[l[s].id]=l[s];for(let s=0;s<l.length;s++)"ref"in l[s]&&(l[s]=dr(l[s],i[l[s].ref]));return l}ur.workerCount=2;const Ot={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function mr(l,i,s){s.push({command:Ot.addSource,args:[l,i[l]]})}function sr(l,i,s){i.push({command:Ot.removeSource,args:[l]}),s[l]=!0}function e4(l,i,s,u){sr(l,s,u),mr(l,i,s)}function rr(l,i,s){let u;for(u in l[s])if(l[s].hasOwnProperty(u)&&u!=="data"&&!G(l[s][u],i[s][u]))return!1;for(u in i[s])if(i[s].hasOwnProperty(u)&&u!=="data"&&!G(l[s][u],i[s][u]))return!1;return!0}function yr(l,i,s,u,h,f){let _;for(_ in i=i||{},l=l||{})l.hasOwnProperty(_)&&(G(l[_],i[_])||s.push({command:f,args:[u,_,i[_],h]}));for(_ in i)i.hasOwnProperty(_)&&!l.hasOwnProperty(_)&&(G(l[_],i[_])||s.push({command:f,args:[u,_,i[_],h]}))}function Fr(l){return l.id}function So(l,i){return l[i.id]=i,l}class Lr{constructor(i,s){this.reset(i,s)}reset(i,s){this.points=i||[],this._distances=[0];for(let u=1;u<this.points.length;u++)this._distances[u]=this._distances[u-1]+this.points[u].dist(this.points[u-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(s||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(i){if(this.points.length===1)return this.points[0];i=n.clamp(i,0,1);let s=1,u=this._distances[s];const h=i*this.paddedLength+this.padding;for(;u<h&&s<this._distances.length;)u=this._distances[++s];const f=s-1,_=this._distances[f],g=u-_,v=g>0?(h-_)/g:0;return this.points[f].mult(1-v).add(this.points[s].mult(v))}}class Si{constructor(i,s,u){const h=this.boxCells=[],f=this.circleCells=[];this.xCellCount=Math.ceil(i/u),this.yCellCount=Math.ceil(s/u);for(let _=0;_<this.xCellCount*this.yCellCount;_++)h.push([]),f.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=i,this.height=s,this.xScale=this.xCellCount/i,this.yScale=this.yCellCount/s,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(i,s,u,h,f){this._forEachCell(s,u,h,f,this._insertBoxCell,this.boxUid++),this.boxKeys.push(i),this.bboxes.push(s),this.bboxes.push(u),this.bboxes.push(h),this.bboxes.push(f)}insertCircle(i,s,u,h){this._forEachCell(s-h,u-h,s+h,u+h,this._insertCircleCell,this.circleUid++),this.circleKeys.push(i),this.circles.push(s),this.circles.push(u),this.circles.push(h)}_insertBoxCell(i,s,u,h,f,_){this.boxCells[f].push(_)}_insertCircleCell(i,s,u,h,f,_){this.circleCells[f].push(_)}_query(i,s,u,h,f,_){if(u<0||i>this.width||h<0||s>this.height)return!f&&[];const g=[];if(i<=0&&s<=0&&this.width<=u&&this.height<=h){if(f)return!0;for(let v=0;v<this.boxKeys.length;v++)g.push({key:this.boxKeys[v],x1:this.bboxes[4*v],y1:this.bboxes[4*v+1],x2:this.bboxes[4*v+2],y2:this.bboxes[4*v+3]});for(let v=0;v<this.circleKeys.length;v++){const A=this.circles[3*v],M=this.circles[3*v+1],F=this.circles[3*v+2];g.push({key:this.circleKeys[v],x1:A-F,y1:M-F,x2:A+F,y2:M+F})}return _?g.filter(_):g}return this._forEachCell(i,s,u,h,this._queryCell,g,{hitTest:f,seenUids:{box:{},circle:{}}},_),f?g.length>0:g}_queryCircle(i,s,u,h,f){const _=i-u,g=i+u,v=s-u,A=s+u;if(g<0||_>this.width||A<0||v>this.height)return!h&&[];const M=[];return this._forEachCell(_,v,g,A,this._queryCellCircle,M,{hitTest:h,circle:{x:i,y:s,radius:u},seenUids:{box:{},circle:{}}},f),h?M.length>0:M}query(i,s,u,h,f){return this._query(i,s,u,h,!1,f)}hitTest(i,s,u,h,f){return this._query(i,s,u,h,!0,f)}hitTestCircle(i,s,u,h){return this._queryCircle(i,s,u,!0,h)}_queryCell(i,s,u,h,f,_,g,v){const A=g.seenUids,M=this.boxCells[f];if(M!==null){const N=this.bboxes;for(const j of M)if(!A.box[j]){A.box[j]=!0;const Z=4*j;if(i<=N[Z+2]&&s<=N[Z+3]&&u>=N[Z+0]&&h>=N[Z+1]&&(!v||v(this.boxKeys[j]))){if(g.hitTest)return _.push(!0),!0;_.push({key:this.boxKeys[j],x1:N[Z],y1:N[Z+1],x2:N[Z+2],y2:N[Z+3]})}}}const F=this.circleCells[f];if(F!==null){const N=this.circles;for(const j of F)if(!A.circle[j]){A.circle[j]=!0;const Z=3*j;if(this._circleAndRectCollide(N[Z],N[Z+1],N[Z+2],i,s,u,h)&&(!v||v(this.circleKeys[j]))){if(g.hitTest)return _.push(!0),!0;{const q=N[Z],W=N[Z+1],L=N[Z+2];_.push({key:this.circleKeys[j],x1:q-L,y1:W-L,x2:q+L,y2:W+L})}}}}}_queryCellCircle(i,s,u,h,f,_,g,v){const A=g.circle,M=g.seenUids,F=this.boxCells[f];if(F!==null){const j=this.bboxes;for(const Z of F)if(!M.box[Z]){M.box[Z]=!0;const q=4*Z;if(this._circleAndRectCollide(A.x,A.y,A.radius,j[q+0],j[q+1],j[q+2],j[q+3])&&(!v||v(this.boxKeys[Z])))return _.push(!0),!0}}const N=this.circleCells[f];if(N!==null){const j=this.circles;for(const Z of N)if(!M.circle[Z]){M.circle[Z]=!0;const q=3*Z;if(this._circlesCollide(j[q],j[q+1],j[q+2],A.x,A.y,A.radius)&&(!v||v(this.circleKeys[Z])))return _.push(!0),!0}}}_forEachCell(i,s,u,h,f,_,g,v){const A=this._convertToXCellCoord(i),M=this._convertToYCellCoord(s),F=this._convertToXCellCoord(u),N=this._convertToYCellCoord(h);for(let j=A;j<=F;j++)for(let Z=M;Z<=N;Z++)if(f.call(this,i,s,u,h,this.xCellCount*Z+j,_,g,v))return}_convertToXCellCoord(i){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(i*this.xScale)))}_convertToYCellCoord(i){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(i*this.yScale)))}_circlesCollide(i,s,u,h,f,_){const g=h-i,v=f-s,A=u+_;return A*A>g*g+v*v}_circleAndRectCollide(i,s,u,h,f,_,g){const v=(_-h)/2,A=Math.abs(i-(h+v));if(A>v+u)return!1;const M=(g-f)/2,F=Math.abs(s-(f+M));if(F>M+u)return!1;if(A<=v||F<=M)return!0;const N=A-v,j=F-M;return N*N+j*j<=u*u}}const xr={unknown:0,flipRequired:1,flipNotRequired:2},Ki=Math.tan(85*Math.PI/180);function Ue(l,i,s,u,h,f,_){const g=n.create();if(s)if(f.name==="globe"){const v=n.calculateGlobeLabelMatrix(h,i);n.multiply(g,g,v)}else{const v=Te([],_);g[0]=v[0],g[1]=v[1],g[4]=v[2],g[5]=v[3],u||n.rotateZ(g,g,h.angle)}else n.multiply(g,h.labelPlaneMatrix,l);return g}function ci(l,i,s,u,h,f,_){const g=Ue(l,i,s,u,h,f,_);return f.name==="globe"&&s||(g[2]=g[6]=g[10]=g[14]=0),g}function J4(l,i,s,u,h,f,_){if(s){if(f.name==="globe"){const g=Ue(l,i,s,u,h,f,_);return n.invert(g,g),n.multiply(g,l,g),g}{const g=n.clone(l),v=n.identity([]);return v[0]=_[0],v[1]=_[1],v[4]=_[2],v[5]=_[3],n.multiply(g,g,v),u||n.rotateZ(g,g,-h.angle),g}}return h.glCoordMatrix}function ar(l,i,s,u){const h=[l,i,s,1];s?n.transformMat4$1(h,h,u):Ze(h,h,u);const f=h[3];return h[0]/=f,h[1]/=f,h[2]/=f,h}function H4(l,i){return Math.min(.5+l/i*.5,1.5)}function ri(l,i){const s=l[0]/l[3],u=l[1]/l[3];return s>=-i[0]&&s<=i[0]&&u>=-i[1]&&u<=i[1]}function Mo(l,i,s,u,h,f,_,g,v,A){const M=s.transform,F=u?l.textSizeData:l.iconSizeData,N=n.evaluateSizeForZoom(F,s.transform.zoom),j=M.projection.name==="globe",Z=[256/s.width*2+1,256/s.height*2+1],q=u?l.text.dynamicLayoutVertexArray:l.icon.dynamicLayoutVertexArray;q.clear();let W=null;j&&(W=u?l.text.globeExtVertexArray:l.icon.globeExtVertexArray);const L=l.lineVertexArray,V=u?l.text.placedSymbolArray:l.icon.placedSymbolArray,K=s.transform.width/s.transform.height;let $,ce=!1;for(let pe=0;pe<V.length;pe++){const ue=V.get(pe),{numGlyphs:ge,writingMode:_e}=ue;if(_e!==n.WritingMode.vertical||ce||$===n.WritingMode.horizontal||(ce=!0),$=_e,(ue.hidden||_e===n.WritingMode.vertical)&&!ce){oe(ge,q);continue}ce=!1;const Ee=new n.Point(ue.tileAnchorX,ue.tileAnchorY);let{x:et,y:De,z:Ve}=M.projection.projectTilePoint(Ee.x,Ee.y,A.canonical);if(v){const[qt,St,Rt]=v(Ee);et+=qt,De+=St,Ve+=Rt}const Fe=[et,De,Ve,1];if(n.transformMat4$1(Fe,Fe,i),!ri(Fe,Z)){oe(ge,q);continue}const Je=H4(s.transform.cameraToCenterDistance,Fe[3]),Ie=n.evaluateSizeForFeature(F,N,ue),Oe=_?Ie/Je:Ie*Je,it=ar(et,De,Ve,h);if(it[3]<=0){oe(ge,q);continue}let We={};const nt=_?null:v,Ft=pt(ue,Oe,!1,g,i,h,f,l.glyphOffsetArray,L,q,W,it,Ee,We,K,nt,M.projection,A,_);ce=Ft.useVertical,nt&&Ft.needsFlipping&&(We={}),(Ft.notEnoughRoom||ce||Ft.needsFlipping&&pt(ue,Oe,!0,g,i,h,f,l.glyphOffsetArray,L,q,W,it,Ee,We,K,nt,M.projection,A,_).notEnoughRoom)&&oe(ge,q)}u?(l.text.dynamicLayoutVertexBuffer.updateData(q),W&&l.text.globeExtVertexBuffer.updateData(W)):(l.icon.dynamicLayoutVertexBuffer.updateData(q),W&&l.icon.globeExtVertexBuffer.updateData(W))}function Vo(l,i,s,u,h,f,_,g,v,A,M,F,N,j,Z,q){const{lineStartIndex:W,glyphStartIndex:L,segment:V}=g,K=L+g.numGlyphs,$=W+g.lineLength,ce=i.getoffsetX(L),pe=i.getoffsetX(K-1),ue=Zr(l*ce,s,u,h,f,_,V,W,$,v,A,M,F,N,!0,j,Z,q);if(!ue)return null;const ge=Zr(l*pe,s,u,h,f,_,V,W,$,v,A,M,F,N,!0,j,Z,q);return ge?{first:ue,last:ge}:null}function Ji(l,i,s,u){return l===n.WritingMode.horizontal&&Math.abs(u)>Math.abs(s)?{useVertical:!0}:l===n.WritingMode.vertical?u>0?{needsFlipping:!0}:null:i!==xr.unknown&&function(h,f){return h===0||Math.abs(f/h)>Ki}(s,u)?i===xr.flipRequired?{needsFlipping:!0}:null:s<0?{needsFlipping:!0}:null}function pt(l,i,s,u,h,f,_,g,v,A,M,F,N,j,Z,q,W,L,V){const K=i/24,$=l.lineOffsetX*K,ce=l.lineOffsetY*K,{lineStartIndex:pe,glyphStartIndex:ue,numGlyphs:ge,segment:_e,writingMode:Ee,flipState:et}=l,De=pe+l.lineLength,Ve=Fe=>{if(M){const[it,We,nt]=Fe.up,Ft=A.length;n.updateGlobeVertexNormal(M,Ft+0,it,We,nt),n.updateGlobeVertexNormal(M,Ft+1,it,We,nt),n.updateGlobeVertexNormal(M,Ft+2,it,We,nt),n.updateGlobeVertexNormal(M,Ft+3,it,We,nt)}const[Je,Ie,Oe]=Fe.point;n.addDynamicAttributes(A,Je,Ie,Oe,Fe.angle)};if(ge>1){const Fe=Vo(K,g,$,ce,s,F,N,l,v,f,j,q,!1,W,L,V);if(!Fe)return{notEnoughRoom:!0};if(u&&!s){let[Je,Ie,Oe]=Fe.first.point,[it,We,nt]=Fe.last.point;[Je,Ie]=ar(Je,Ie,Oe,_),[it,We]=ar(it,We,nt,_);const Ft=Ji(Ee,et,(it-Je)*Z,We-Ie);if(l.flipState=Ft&&Ft.needsFlipping?xr.flipRequired:xr.flipNotRequired,Ft)return Ft}Ve(Fe.first);for(let Je=ue+1;Je<ue+ge-1;Je++){const Ie=Zr(K*g.getoffsetX(Je),$,ce,s,F,N,_e,pe,De,v,f,j,q,!1,!1,W,L,V);if(!Ie)return A.length-=4*(Je-ue),{notEnoughRoom:!0};Ve(Ie)}Ve(Fe.last)}else{if(u&&!s){const Je=ar(N.x,N.y,0,h),Ie=pe+_e+1,Oe=new n.Point(v.getx(Ie),v.gety(Ie)),it=ar(Oe.x,Oe.y,0,h),We=it[3]>0?it:Kt(N,Oe,Je,1,h,void 0,W,L.canonical),nt=Ji(Ee,et,(We[0]-Je[0])*Z,We[1]-Je[1]);if(l.flipState=nt&&nt.needsFlipping?xr.flipRequired:xr.flipNotRequired,nt)return nt}const Fe=Zr(K*g.getoffsetX(ue),$,ce,s,F,N,_e,pe,De,v,f,j,q,!1,!1,W,L,V);if(!Fe)return{notEnoughRoom:!0};Ve(Fe)}return{}}function t4(l,i,s,u,h){const{x:f,y:_,z:g}=u.projectTilePoint(l.x,l.y,i);if(!h)return ar(f,_,g,s);const[v,A,M]=h(l);return ar(f+v,_+A,g+M,s)}function Kt(l,i,s,u,h,f,_,g){const v=t4(l.sub(i)._unit()._add(l),g,h,_,f);return n.sub(v,s,v),n.normalize(v,v),n.scaleAndAdd(v,s,v,u)}function Zr(l,i,s,u,h,f,_,g,v,A,M,F,N,j,Z,q,W,L){const V=u?l-i:l+i;let K=V>0?1:-1,$=0;u&&(K*=-1,$=Math.PI),K<0&&($+=Math.PI);let ce=g+_+(K>0?0:1)|0,pe=h,ue=h,ge=0,_e=0;const Ee=Math.abs(V),et=[],De=[];let Ve=f,Fe=Ve;const Je=()=>Kt(Fe,Ve,ue,Ee-ge+1,M,N,q,W.canonical);for(;ge+_e<=Ee;){if(ce+=K,ce<g||ce>=v)return null;if(ue=pe,Fe=Ve,et.push(ue),j&&De.push(Fe),Ve=new n.Point(A.getx(ce),A.gety(ce)),pe=F[ce],!pe){const Rt=t4(Ve,W.canonical,M,q,N);pe=Rt[3]>0?F[ce]=Rt:Je()}ge+=_e,_e=n.distance(ue,pe)}Z&&N&&(F[ce]&&(pe=Je(),_e=n.distance(ue,pe)),F[ce]=pe);const Ie=(Ee-ge)/_e,Oe=Ve.sub(Fe)._mult(Ie)._add(Fe),it=n.sub([],pe,ue),We=n.scaleAndAdd([],ue,it,Ie);let nt=[0,0,1],Ft=it[0],qt=it[1];if(L&&(nt=q.upVector(W.canonical,Oe.x,Oe.y),nt[0]!==0||nt[1]!==0||nt[2]!==1)){const Rt=[nt[2],0,-nt[0]],n4=n.cross([],nt,Rt);n.normalize(Rt,Rt),n.normalize(n4,n4),Ft=n.dot(it,Rt),qt=n.dot(it,n4)}if(s){const Rt=n.cross([],nt,it);n.normalize(Rt,Rt),n.scaleAndAdd(We,We,Rt,s*K)}const St=$+Math.atan2(qt,Ft);return et.push(We),j&&De.push(Oe),{point:We,angle:St,path:et,tilePath:De,up:nt}}function oe(l,i){const s=i.length,u=s+4*l;i.resize(u),i.float32.fill(-1/0,4*s,4*u)}function Ze(l,i,s){const u=i[0],h=i[1];return l[0]=s[0]*u+s[4]*h+s[12],l[1]=s[1]*u+s[5]*h+s[13],l[3]=s[3]*u+s[7]*h+s[15],l}const s4=100;class kr{constructor(i,s,u=new Si(i.width+200,i.height+200,25),h=new Si(i.width+200,i.height+200,25)){this.transform=i,this.grid=u,this.ignoredGrid=h,this.pitchfactor=Math.cos(i._pitch)*i.cameraToCenterDistance,this.screenRightBoundary=i.width+s4,this.screenBottomBoundary=i.height+s4,this.gridRightBoundary=i.width+200,this.gridBottomBoundary=i.height+200,this.fogState=s}placeCollisionBox(i,s,u,h,f,_,g,v){let A=u.projectedAnchorX,M=u.projectedAnchorY,F=u.projectedAnchorZ;const N=u.elevation,j=u.tileID,Z=i.getProjection();if(N&&j){const[pe,ue,ge]=Z.upVector(j.canonical,u.tileAnchorX,u.tileAnchorY),_e=Z.upVectorScale(j.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;A+=pe*N*_e,M+=ue*N*_e,F+=ge*N*_e}const q=this.projectAndGetPerspectiveRatio(g,A,M,F,u.tileID,Z.name==="globe"||!!N||this.transform.pitch>0,Z),W=_*q.perspectiveRatio,L=(u.x1*s+h.x-u.padding)*W+q.point.x,V=(u.y1*s+h.y-u.padding)*W+q.point.y,K=(u.x2*s+h.x+u.padding)*W+q.point.x,$=(u.y2*s+h.y+u.padding)*W+q.point.y,ce=q.perspectiveRatio<=.55||q.occluded;return!this.isInsideGrid(L,V,K,$)||!f&&this.grid.hitTest(L,V,K,$,v)||ce?{box:[],offscreen:!1,occluded:q.occluded}:{box:[L,V,K,$],offscreen:this.isOffscreen(L,V,K,$),occluded:!1}}placeCollisionCircles(i,s,u,h,f,_,g,v,A,M,F,N,j,Z,q){const W=[],L=this.transform.elevation,V=i.getProjection(),K=L?L.getAtTileOffsetFunc(q,this.transform.center.lat,this.transform.worldSize,V):null,$=new n.Point(u.tileAnchorX,u.tileAnchorY);let{x:ce,y:pe,z:ue}=V.projectTilePoint($.x,$.y,q.canonical);if(K){const[Oe,it,We]=K($);ce+=Oe,pe+=it,ue+=We}const ge=V.name==="globe",_e=this.projectAndGetPerspectiveRatio(g,ce,pe,ue,q,ge||!!L||this.transform.pitch>0,V),{perspectiveRatio:Ee}=_e,et=(F?_/Ee:_*Ee)/n.ONE_EM,De=ar(ce,pe,ue,v),Ve=_e.signedDistanceFromCamera>0?Vo(et,f,u.lineOffsetX*et,u.lineOffsetY*et,!1,De,$,u,h,v,{},L&&!F?K:null,F&&!!L,V,q,F):null;let Fe=!1,Je=!1,Ie=!0;if(Ve&&!_e.occluded){const Oe=.5*j*Ee+Z,it=new n.Point(-100,-100),We=new n.Point(this.screenRightBoundary,this.screenBottomBoundary),nt=new Lr,{first:Ft,last:qt}=Ve,St=Ft.path.length;let Rt=[];for(let Tt=St-1;Tt>=1;Tt--)Rt.push(Ft.path[Tt]);for(let Tt=1;Tt<qt.path.length;Tt++)Rt.push(qt.path[Tt]);const n4=2.5*Oe;A&&(Rt=Rt.map(([Tt,A4,F4],L4)=>(K&&!ge&&(F4=K(L4<St-1?Ft.tilePath[St-1-L4]:qt.tilePath[L4-St+2])[2]),ar(Tt,A4,F4,A))),Rt.some(Tt=>Tt[3]<=0)&&(Rt=[]));let r4=[];if(Rt.length>0){let Tt=1/0,A4=-1/0,F4=1/0,L4=-1/0;for(const k4 of Rt)Tt=Math.min(Tt,k4[0]),F4=Math.min(F4,k4[1]),A4=Math.max(A4,k4[0]),L4=Math.max(L4,k4[1]);A4>=it.x&&Tt<=We.x&&L4>=it.y&&F4<=We.y&&(r4=[Rt.map(k4=>new n.Point(k4[0],k4[1]))],(Tt<it.x||A4>We.x||F4<it.y||L4>We.y)&&(r4=n.clipLine(r4,it.x,it.y,We.x,We.y)))}for(const Tt of r4){nt.reset(Tt,.25*Oe);let A4=0;A4=nt.length<=.5*Oe?1:Math.ceil(nt.paddedLength/n4)+1;for(let F4=0;F4<A4;F4++){const L4=F4/Math.max(A4-1,1),k4=nt.lerp(L4),Qr=k4.x+s4,zr=k4.y+s4;W.push(Qr,zr,Oe,0);const Pi=Qr-Oe,to=zr-Oe,$4=Qr+Oe,U4=zr+Oe;if(Ie=Ie&&this.isOffscreen(Pi,to,$4,U4),Je=Je||this.isInsideGrid(Pi,to,$4,U4),!s&&this.grid.hitTestCircle(Qr,zr,Oe,N)&&(Fe=!0,!M))return{circles:[],offscreen:!1,collisionDetected:Fe,occluded:!1}}}}return{circles:!M&&Fe||!Je?[]:W,offscreen:Ie,collisionDetected:Fe,occluded:_e.occluded}}queryRenderedSymbols(i){if(i.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const s=[];let u=1/0,h=1/0,f=-1/0,_=-1/0;for(const M of i){const F=new n.Point(M.x+s4,M.y+s4);u=Math.min(u,F.x),h=Math.min(h,F.y),f=Math.max(f,F.x),_=Math.max(_,F.y),s.push(F)}const g=this.grid.query(u,h,f,_).concat(this.ignoredGrid.query(u,h,f,_)),v={},A={};for(const M of g){const F=M.key;if(v[F.bucketInstanceId]===void 0&&(v[F.bucketInstanceId]={}),v[F.bucketInstanceId][F.featureIndex])continue;const N=[new n.Point(M.x1,M.y1),new n.Point(M.x2,M.y1),new n.Point(M.x2,M.y2),new n.Point(M.x1,M.y2)];n.polygonIntersectsPolygon(s,N)&&(v[F.bucketInstanceId][F.featureIndex]=!0,A[F.bucketInstanceId]===void 0&&(A[F.bucketInstanceId]=[]),A[F.bucketInstanceId].push(F.featureIndex))}return A}insertCollisionBox(i,s,u,h,f){(s?this.ignoredGrid:this.grid).insert({bucketInstanceId:u,featureIndex:h,collisionGroupID:f},i[0],i[1],i[2],i[3])}insertCollisionCircles(i,s,u,h,f){const _=s?this.ignoredGrid:this.grid,g={bucketInstanceId:u,featureIndex:h,collisionGroupID:f};for(let v=0;v<i.length;v+=4)_.insertCircle(g,i[v],i[v+1],i[v+2])}projectAndGetPerspectiveRatio(i,s,u,h,f,_,g){const v=[s,u,h,1];let A=!1;h||this.transform.pitch>0?(n.transformMat4$1(v,v,i),this.fogState&&f&&g.name!=="globe"&&(A=function(N,j,Z,q,W,L){const V=L.calculateFogTileMatrix(W),K=[j,Z,q];return n.transformMat4(K,K,V),o4(N,K,L.pitch,L._fov)}(this.fogState,s,u,h,f.toUnwrapped(),this.transform)>.9)):Ze(v,v,i);const M=v[3];return{point:new n.Point((v[0]/M+1)/2*this.transform.width+s4,(-v[1]/M+1)/2*this.transform.height+s4),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(g)/M*.5,1.5),signedDistanceFromCamera:M,occluded:_&&v[2]>M||A}}isOffscreen(i,s,u,h){return u<s4||i>=this.screenRightBoundary||h<s4||s>this.screenBottomBoundary}isInsideGrid(i,s,u,h){return u>=0&&i<this.gridRightBoundary&&h>=0&&s<this.gridBottomBoundary}getViewportMatrix(){const i=n.identity([]);return n.translate(i,i,[-100,-100,0]),i}}function Wr(l,i,s){const u=i.createTileMatrix(l,l.worldSize,s.toUnwrapped());return n.multiply(new Float32Array(16),l.projMatrix,u)}function ir(l,i,s){if(i.projection.name===s.projection.name)return l.projMatrix;const u=s.clone();return u.setProjection(i.projection),Wr(u,i.getProjection(),l)}function O4(l,i,s){return i.name===s.projection.name?l.projMatrix:Wr(s,i,l)}class Rn{constructor(i,s,u,h){this.opacity=i?Math.max(0,Math.min(1,i.opacity+(i.placed?s:-s))):h&&u?1:0,this.placed=u}isHidden(){return this.opacity===0&&!this.placed}}class Mi{constructor(i,s,u,h,f,_=!1){this.text=new Rn(i?i.text:null,s,u,f),this.icon=new Rn(i?i.icon:null,s,h,f),this.clipped=_}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Ao{constructor(i,s,u,h=!1){this.text=i,this.icon=s,this.skipFade=u,this.clipped=h}}class Io{constructor(){this.invProjMatrix=n.create(),this.viewportMatrix=n.create(),this.circles=[]}}class As{constructor(i,s,u,h,f){this.bucketInstanceId=i,this.featureIndex=s,this.sourceLayerIndex=u,this.bucketIndex=h,this.tileID=f}}class s3{constructor(i){this.crossSourceCollisions=i,this.maxGroupID=0,this.collisionGroups={}}get(i){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[i]){const s=++this.maxGroupID;this.collisionGroups[i]={ID:s,predicate:u=>u.collisionGroupID===s}}return this.collisionGroups[i]}}function Bn(l,i,s,u,h){const{horizontalAlign:f,verticalAlign:_}=n.getAnchorAlignment(l),g=-(f-.5)*i,v=-(_-.5)*s,A=n.evaluateVariableOffset(l,u);return new n.Point(g+A[0]*h,v+A[1]*h)}function Nn(l,i,s,u,h){const f=new n.Point(l,i);return s&&f._rotate(u?h:-h),f}class D5{constructor(i,s,u,h,f){this.transform=i.clone(),this.projection=i.projection.name,this.collisionIndex=new kr(this.transform,f),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=s,this.retainedQueryData={},this.collisionGroups=new s3(u),this.collisionCircleArrays={},this.prevPlacement=h,h&&(h.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(i,s,u,h){const f=u.getBucket(s),_=u.latestFeatureIndex;if(!f||!_||s.id!==f.layerIds[0])return;const g=f.layers[0].layout,v=u.collisionBoxArray,A=Math.pow(2,this.transform.zoom-u.tileID.overscaledZ),M=u.tileSize/n.EXTENT,F=u.tileID.toUnwrapped();this.transform.setProjection(f.projection);const N=(j=u.tileID,Z=f.getProjection(),q=this.transform,Z.name===this.projection?q.calculateProjMatrix(j.toUnwrapped()):Wr(q,Z,j));var j,Z,q;const W=g.get("text-pitch-alignment")==="map",L=g.get("text-rotation-alignment")==="map";s.compileFilter();const V=s.dynamicFilter(),K=s.dynamicFilterNeedsFeature(),$=this.transform.calculatePixelsToTileUnitsMatrix(u),ce=ci(N,u.tileID.canonical,W,L,this.transform,f.getProjection(),$);let pe=null;if(W){const _e=J4(N,u.tileID.canonical,W,L,this.transform,f.getProjection(),$);pe=n.multiply([],this.transform.labelPlaneMatrix,_e)}let ue=null;V&&u.latestFeatureIndex&&(ue={unwrappedTileID:F,dynamicFilter:V,dynamicFilterNeedsFeature:K,featureIndex:u.latestFeatureIndex}),this.retainedQueryData[f.bucketInstanceId]=new As(f.bucketInstanceId,_,f.sourceLayerIndex,f.index,u.tileID);const ge={bucket:f,layout:g,posMatrix:N,textLabelPlaneMatrix:ce,labelToScreenMatrix:pe,clippingData:ue,scale:A,textPixelRatio:M,holdingForFade:u.holdingForFade(),collisionBoxArray:v,partiallyEvaluatedTextSize:n.evaluateSizeForZoom(f.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:n.evaluateSizeForZoom(f.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(f.sourceID)};if(h)for(const _e of f.sortKeyRanges){const{sortKey:Ee,symbolInstanceStart:et,symbolInstanceEnd:De}=_e;i.push({sortKey:Ee,symbolInstanceStart:et,symbolInstanceEnd:De,parameters:ge})}else i.push({symbolInstanceStart:0,symbolInstanceEnd:f.symbolInstances.length,parameters:ge})}attemptAnchorPlacement(i,s,u,h,f,_,g,v,A,M,F,N,j,Z,q,W,L,V){const{textOffset0:K,textOffset1:$,crossTileID:ce}=N,pe=[K,$],ue=Bn(i,u,h,pe,f),ge=this.collisionIndex.placeCollisionBox(Z,f,s,Nn(ue.x,ue.y,_,g,this.transform.angle),F,v,A,M.predicate);if(W){const _e=Z.getSymbolInstanceIconSize(V,this.transform.zoom,N.placedIconSymbolIndex);if(this.collisionIndex.placeCollisionBox(Z,_e,W,Nn(ue.x,ue.y,_,g,this.transform.angle),F,v,A,M.predicate).box.length===0)return}if(ge.box.length>0){let _e;return this.prevPlacement&&this.prevPlacement.variableOffsets[ce]&&this.prevPlacement.placements[ce]&&this.prevPlacement.placements[ce].text&&(_e=this.prevPlacement.variableOffsets[ce].anchor),this.variableOffsets[ce]={textOffset:pe,width:u,height:h,anchor:i,textScale:f,prevAnchor:_e},this.markUsedJustification(Z,i,N,q),Z.allowVerticalPlacement&&(this.markUsedOrientation(Z,q,N),this.placedOrientations[ce]=q),{shift:ue,placedGlyphBoxes:ge}}}placeLayerBucketPart(i,s,u,h){const{bucket:f,layout:_,posMatrix:g,textLabelPlaneMatrix:v,labelToScreenMatrix:A,clippingData:M,textPixelRatio:F,holdingForFade:N,collisionBoxArray:j,partiallyEvaluatedTextSize:Z,partiallyEvaluatedIconSize:q,collisionGroup:W}=i.parameters,L=_.get("text-optional"),V=_.get("icon-optional"),K=_.get("text-allow-overlap"),$=_.get("icon-allow-overlap"),ce=_.get("text-rotation-alignment")==="map",pe=_.get("text-pitch-alignment")==="map",ue=_.get("icon-text-fit")!=="none",ge=_.get("symbol-z-order")==="viewport-y";this.transform.setProjection(f.projection);let _e=K&&($||!f.hasIconData()||V),Ee=$&&(K||!f.hasTextData()||L);!f.collisionArrays&&j&&f.deserializeCollisionBoxes(j),u&&h&&f.updateCollisionDebugBuffers(this.transform.zoom,j);const et=(De,Ve,Fe)=>{const{crossTileID:Je,numVerticalGlyphVertices:Ie}=De;if(M){const $4={zoom:this.transform.zoom,pitch:this.transform.pitch};let U4=null;if(M.dynamicFilterNeedsFeature){const x4=this.retainedQueryData[f.bucketInstanceId];U4=M.featureIndex.loadFeature({featureIndex:De.featureIndex,bucketIndex:x4.bucketIndex,sourceLayerIndex:x4.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,M.dynamicFilter)($4,U4,this.retainedQueryData[f.bucketInstanceId].tileID.canonical,new n.Point(De.tileAnchorX,De.tileAnchorY),this.transform.calculateDistanceTileData(M.unwrappedTileID)))return this.placements[Je]=new Ao(!1,!1,!1,!0),void s.add(Je)}if(s.has(Je))return;if(N)return void(this.placements[Je]=new Ao(!1,!1,!1));let Oe=!1,it=!1,We=!0,nt=!1,Ft=!1,qt=null,St={box:null,offscreen:null,occluded:null},Rt={box:null,offscreen:null,occluded:null},n4=null,r4=null,Tt=null,A4=0,F4=0,L4=0;Fe.textFeatureIndex?A4=Fe.textFeatureIndex:De.useRuntimeCollisionCircles&&(A4=De.featureIndex),Fe.verticalTextFeatureIndex&&(F4=Fe.verticalTextFeatureIndex);const k4=$4=>{$4.tileID=this.retainedQueryData[f.bucketInstanceId].tileID;const U4=this.transform.elevation;(U4||$4.elevation)&&($4.elevation=U4?U4.getAtTileOffset($4.tileID,$4.tileAnchorX,$4.tileAnchorY):0)},Qr=Fe.textBox;if(Qr){k4(Qr);const $4=x4=>{let vr=n.WritingMode.horizontal;if(f.allowVerticalPlacement&&!x4&&this.prevPlacement){const ii=this.prevPlacement.placedOrientations[Je];ii&&(this.placedOrientations[Je]=ii,vr=ii,this.markUsedOrientation(f,vr,De))}return vr},U4=(x4,vr)=>{if(f.allowVerticalPlacement&&Ie>0&&Fe.verticalTextBox){for(const ii of f.writingModes)if(ii===n.WritingMode.vertical?(St=vr(),Rt=St):St=x4(),St&&St.box&&St.box.length)break}else St=x4()};if(_.get("text-variable-anchor")){let x4=_.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[Je]){const X4=this.prevPlacement.variableOffsets[Je];x4.indexOf(X4.anchor)>0&&(x4=x4.filter(hi=>hi!==X4.anchor),x4.unshift(X4.anchor))}const vr=(X4,hi,J5)=>{const Yo=f.getSymbolInstanceTextSize(Z,De,this.transform.zoom,Ve),n5=(X4.x2-X4.x1)*Yo+2*X4.padding,fo=(X4.y2-X4.y1)*Yo+2*X4.padding,To=ue&&!$?hi:null;To&&k4(To);let Ko={box:[],offscreen:!1,occluded:!1};const $5=K?2*x4.length:x4.length;for(let s5=0;s5<$5;++s5){const _7=this.attemptAnchorPlacement(x4[s5%x4.length],X4,n5,fo,Yo,ce,pe,F,g,W,s5>=x4.length,De,Ve,f,J5,To,Z,q);if(_7&&(Ko=_7.placedGlyphBoxes,Ko&&Ko.box&&Ko.box.length)){Oe=!0,qt=_7.shift;break}}return Ko};U4(()=>vr(Qr,Fe.iconBox,n.WritingMode.horizontal),()=>{const X4=Fe.verticalTextBox;return X4&&k4(X4),f.allowVerticalPlacement&&!(St&&St.box&&St.box.length)&&Ie>0&&X4?vr(X4,Fe.verticalIconBox,n.WritingMode.vertical):{box:null,offscreen:null,occluded:null}}),St&&(Oe=St.box,We=St.offscreen,nt=St.occluded);const ii=$4(!(!St||!St.box));if(!Oe&&this.prevPlacement){const X4=this.prevPlacement.variableOffsets[Je];X4&&(this.variableOffsets[Je]=X4,this.markUsedJustification(f,X4.anchor,De,ii))}}else{const x4=(vr,ii)=>{const X4=f.getSymbolInstanceTextSize(Z,De,this.transform.zoom,Ve),hi=this.collisionIndex.placeCollisionBox(f,X4,vr,new n.Point(0,0),K,F,g,W.predicate);return hi&&hi.box&&hi.box.length&&(this.markUsedOrientation(f,ii,De),this.placedOrientations[Je]=ii),hi};U4(()=>x4(Qr,n.WritingMode.horizontal),()=>{const vr=Fe.verticalTextBox;return f.allowVerticalPlacement&&Ie>0&&vr?(k4(vr),x4(vr,n.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}}),$4(!!(St&&St.box&&St.box.length))}}if(n4=St,Oe=n4&&n4.box&&n4.box.length>0,We=n4&&n4.offscreen,nt=n4&&n4.occluded,De.useRuntimeCollisionCircles){const $4=f.text.placedSymbolArray.get(De.centerJustifiedTextSymbolIndex>=0?De.centerJustifiedTextSymbolIndex:De.verticalPlacedTextSymbolIndex),U4=n.evaluateSizeForFeature(f.textSizeData,Z,$4),x4=_.get("text-padding");r4=this.collisionIndex.placeCollisionCircles(f,K,$4,f.lineVertexArray,f.glyphOffsetArray,U4,g,v,A,u,pe,W.predicate,De.collisionCircleDiameter*U4/n.ONE_EM,x4,this.retainedQueryData[f.bucketInstanceId].tileID),Oe=K||r4.circles.length>0&&!r4.collisionDetected,We=We&&r4.offscreen,nt=r4.occluded}if(Fe.iconFeatureIndex&&(L4=Fe.iconFeatureIndex),Fe.iconBox){const $4=U4=>{k4(U4);const x4=ue&&qt?Nn(qt.x,qt.y,ce,pe,this.transform.angle):new n.Point(0,0),vr=f.getSymbolInstanceIconSize(q,this.transform.zoom,De.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(f,vr,U4,x4,$,F,g,W.predicate)};Rt&&Rt.box&&Rt.box.length&&Fe.verticalIconBox?(Tt=$4(Fe.verticalIconBox),it=Tt.box.length>0):(Tt=$4(Fe.iconBox),it=Tt.box.length>0),We=We&&Tt.offscreen,Ft=Tt.occluded}const zr=L||De.numHorizontalGlyphVertices===0&&Ie===0,Pi=V||De.numIconVertices===0;if(zr||Pi?Pi?zr||(it=it&&Oe):Oe=it&&Oe:it=Oe=it&&Oe,Oe&&n4&&n4.box&&this.collisionIndex.insertCollisionBox(n4.box,_.get("text-ignore-placement"),f.bucketInstanceId,Rt&&Rt.box&&F4?F4:A4,W.ID),it&&Tt&&this.collisionIndex.insertCollisionBox(Tt.box,_.get("icon-ignore-placement"),f.bucketInstanceId,L4,W.ID),r4&&(Oe&&this.collisionIndex.insertCollisionCircles(r4.circles,_.get("text-ignore-placement"),f.bucketInstanceId,A4,W.ID),u)){const $4=f.bucketInstanceId;let U4=this.collisionCircleArrays[$4];U4===void 0&&(U4=this.collisionCircleArrays[$4]=new Io);for(let x4=0;x4<r4.circles.length;x4+=4)U4.circles.push(r4.circles[x4+0]),U4.circles.push(r4.circles[x4+1]),U4.circles.push(r4.circles[x4+2]),U4.circles.push(r4.collisionDetected?1:0)}const to=f.projection.name!=="globe";_e=_e&&(to||!nt),Ee=Ee&&(to||!Ft),this.placements[Je]=new Ao(Oe||_e,it||Ee,We||f.justReloaded),s.add(Je)};if(ge){const De=f.getSortedSymbolIndexes(this.transform.angle);for(let Ve=De.length-1;Ve>=0;--Ve){const Fe=De[Ve];et(f.symbolInstances.get(Fe),Fe,f.collisionArrays[Fe])}}else for(let De=i.symbolInstanceStart;De<i.symbolInstanceEnd;De++)et(f.symbolInstances.get(De),De,f.collisionArrays[De]);if(u&&f.bucketInstanceId in this.collisionCircleArrays){const De=this.collisionCircleArrays[f.bucketInstanceId];n.invert(De.invProjMatrix,g),De.viewportMatrix=this.collisionIndex.getViewportMatrix()}f.justReloaded=!1}markUsedJustification(i,s,u,h){const{leftJustifiedTextSymbolIndex:f,centerJustifiedTextSymbolIndex:_,rightJustifiedTextSymbolIndex:g,verticalPlacedTextSymbolIndex:v,crossTileID:A}=u,M=n.getAnchorJustification(s),F=h===n.WritingMode.vertical?v:M==="left"?f:M==="center"?_:M==="right"?g:-1;f>=0&&(i.text.placedSymbolArray.get(f).crossTileID=F>=0&&f!==F?0:A),_>=0&&(i.text.placedSymbolArray.get(_).crossTileID=F>=0&&_!==F?0:A),g>=0&&(i.text.placedSymbolArray.get(g).crossTileID=F>=0&&g!==F?0:A),v>=0&&(i.text.placedSymbolArray.get(v).crossTileID=F>=0&&v!==F?0:A)}markUsedOrientation(i,s,u){const h=s===n.WritingMode.horizontal||s===n.WritingMode.horizontalOnly?s:0,f=s===n.WritingMode.vertical?s:0,{leftJustifiedTextSymbolIndex:_,centerJustifiedTextSymbolIndex:g,rightJustifiedTextSymbolIndex:v,verticalPlacedTextSymbolIndex:A}=u,M=i.text.placedSymbolArray;_>=0&&(M.get(_).placedOrientation=h),g>=0&&(M.get(g).placedOrientation=h),v>=0&&(M.get(v).placedOrientation=h),A>=0&&(M.get(A).placedOrientation=f)}commit(i){this.commitTime=i,this.zoomAtLastRecencyCheck=this.transform.zoom;const s=this.prevPlacement;let u=!1;this.prevZoomAdjustment=s?s.zoomAdjustment(this.transform.zoom):0;const h=s?s.symbolFadeChange(i):1,f=s?s.opacities:{},_=s?s.variableOffsets:{},g=s?s.placedOrientations:{};for(const v in this.placements){const A=this.placements[v],M=f[v];M?(this.opacities[v]=new Mi(M,h,A.text,A.icon,null,A.clipped),u=u||A.text!==M.text.placed||A.icon!==M.icon.placed):(this.opacities[v]=new Mi(null,h,A.text,A.icon,A.skipFade,A.clipped),u=u||A.text||A.icon)}for(const v in f){const A=f[v];if(!this.opacities[v]){const M=new Mi(A,h,!1,!1);M.isHidden()||(this.opacities[v]=M,u=u||A.text.placed||A.icon.placed)}}for(const v in _)this.variableOffsets[v]||!this.opacities[v]||this.opacities[v].isHidden()||(this.variableOffsets[v]=_[v]);for(const v in g)this.placedOrientations[v]||!this.opacities[v]||this.opacities[v].isHidden()||(this.placedOrientations[v]=g[v]);u?this.lastPlacementChangeTime=i:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=s?s.lastPlacementChangeTime:i)}updateLayerOpacities(i,s){const u=new Set;for(const h of s){const f=h.getBucket(i);f&&h.latestFeatureIndex&&i.id===f.layerIds[0]&&this.updateBucketOpacities(f,u,h.collisionBoxArray)}}updateBucketOpacities(i,s,u){i.hasTextData()&&i.text.opacityVertexArray.clear(),i.hasIconData()&&i.icon.opacityVertexArray.clear(),i.hasIconCollisionBoxData()&&i.iconCollisionBox.collisionVertexArray.clear(),i.hasTextCollisionBoxData()&&i.textCollisionBox.collisionVertexArray.clear();const h=i.layers[0].layout,f=!!i.layers[0].dynamicFilter(),_=new Mi(null,0,!1,!1,!0),g=h.get("text-allow-overlap"),v=h.get("icon-allow-overlap"),A=h.get("text-variable-anchor"),M=h.get("text-rotation-alignment")==="map",F=h.get("text-pitch-alignment")==="map",N=h.get("icon-text-fit")!=="none",j=new Mi(null,0,g&&(v||!i.hasIconData()||h.get("icon-optional")),v&&(g||!i.hasTextData()||h.get("text-optional")),!0);!i.collisionArrays&&u&&(i.hasIconCollisionBoxData()||i.hasTextCollisionBoxData())&&i.deserializeCollisionBoxes(u);const Z=(W,L,V)=>{for(let K=0;K<L/4;K++)W.opacityVertexArray.emplaceBack(V)};let q=0;for(let W=0;W<i.symbolInstances.length;W++){const L=i.symbolInstances.get(W),{numHorizontalGlyphVertices:V,numVerticalGlyphVertices:K,crossTileID:$,numIconVertices:ce}=L,pe=s.has($);let ue=this.opacities[$];pe?ue=_:ue||(ue=j,this.opacities[$]=ue),s.add($);const ge=V>0||K>0,_e=ce>0,Ee=this.placedOrientations[$],et=Ee===n.WritingMode.vertical,De=Ee===n.WritingMode.horizontal||Ee===n.WritingMode.horizontalOnly;if(!ge&&!_e||ue.isHidden()||q++,ge){const Ve=On(ue.text);Z(i.text,V,et?pr:Ve),Z(i.text,K,De?pr:Ve);const Fe=ue.text.isHidden(),{leftJustifiedTextSymbolIndex:Je,centerJustifiedTextSymbolIndex:Ie,rightJustifiedTextSymbolIndex:Oe,verticalPlacedTextSymbolIndex:it}=L,We=i.text.placedSymbolArray,nt=Fe||et?1:0;Je>=0&&(We.get(Je).hidden=nt),Ie>=0&&(We.get(Ie).hidden=nt),Oe>=0&&(We.get(Oe).hidden=nt),it>=0&&(We.get(it).hidden=Fe||De?1:0);const Ft=this.variableOffsets[$];Ft&&this.markUsedJustification(i,Ft.anchor,L,Ee);const qt=this.placedOrientations[$];qt&&(this.markUsedJustification(i,"left",L,qt),this.markUsedOrientation(i,qt,L))}if(_e){const Ve=On(ue.icon),{placedIconSymbolIndex:Fe,verticalPlacedIconSymbolIndex:Je}=L,Ie=i.icon.placedSymbolArray,Oe=ue.icon.isHidden()?1:0;Fe>=0&&(Z(i.icon,ce,et?pr:Ve),Ie.get(Fe).hidden=Oe),Je>=0&&(Z(i.icon,L.numVerticalIconVertices,De?pr:Ve),Ie.get(Je).hidden=Oe)}if(i.hasIconCollisionBoxData()||i.hasTextCollisionBoxData()){const Ve=i.collisionArrays[W];if(Ve){let Fe=new n.Point(0,0),Je=!0;if(Ve.textBox||Ve.verticalTextBox){if(A){const Oe=this.variableOffsets[$];Oe?(Fe=Bn(Oe.anchor,Oe.width,Oe.height,Oe.textOffset,Oe.textScale),M&&Fe._rotate(F?this.transform.angle:-this.transform.angle)):Je=!1}f&&(Je=!ue.clipped),Ve.textBox&&an(i.textCollisionBox.collisionVertexArray,ue.text.placed,!Je||et,Fe.x,Fe.y),Ve.verticalTextBox&&an(i.textCollisionBox.collisionVertexArray,ue.text.placed,!Je||De,Fe.x,Fe.y)}const Ie=Je&&!!(!De&&Ve.verticalIconBox);Ve.iconBox&&an(i.iconCollisionBox.collisionVertexArray,ue.icon.placed,Ie,N?Fe.x:0,N?Fe.y:0),Ve.verticalIconBox&&an(i.iconCollisionBox.collisionVertexArray,ue.icon.placed,!Ie,N?Fe.x:0,N?Fe.y:0)}}}if(i.fullyClipped=q===0,i.sortFeatures(this.transform.angle),this.retainedQueryData[i.bucketInstanceId]&&(this.retainedQueryData[i.bucketInstanceId].featureSortOrder=i.featureSortOrder),i.hasTextData()&&i.text.opacityVertexBuffer&&i.text.opacityVertexBuffer.updateData(i.text.opacityVertexArray),i.hasIconData()&&i.icon.opacityVertexBuffer&&i.icon.opacityVertexBuffer.updateData(i.icon.opacityVertexArray),i.hasIconCollisionBoxData()&&i.iconCollisionBox.collisionVertexBuffer&&i.iconCollisionBox.collisionVertexBuffer.updateData(i.iconCollisionBox.collisionVertexArray),i.hasTextCollisionBoxData()&&i.textCollisionBox.collisionVertexBuffer&&i.textCollisionBox.collisionVertexBuffer.updateData(i.textCollisionBox.collisionVertexArray),i.bucketInstanceId in this.collisionCircleArrays){const W=this.collisionCircleArrays[i.bucketInstanceId];i.placementInvProjMatrix=W.invProjMatrix,i.placementViewportMatrix=W.viewportMatrix,i.collisionCircleArray=W.circles,delete this.collisionCircleArrays[i.bucketInstanceId]}}symbolFadeChange(i){return this.fadeDuration===0?1:(i-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(i){return Math.max(0,(this.transform.zoom-i)/1.5)}hasTransitions(i){return this.stale||i-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(i,s){const u=this.zoomAtLastRecencyCheck===s?1-this.zoomAdjustment(s):1;return this.zoomAtLastRecencyCheck=s,this.commitTime+this.fadeDuration*u>i}setStale(){this.stale=!0}}function an(l,i,s,u,h){l.emplaceBack(i?1:0,s?1:0,u||0,h||0),l.emplaceBack(i?1:0,s?1:0,u||0,h||0),l.emplaceBack(i?1:0,s?1:0,u||0,h||0),l.emplaceBack(i?1:0,s?1:0,u||0,h||0)}const ui=Math.pow(2,25),_r=Math.pow(2,24),Is=Math.pow(2,17),Es=Math.pow(2,16),pi=Math.pow(2,9),Ai=Math.pow(2,8),a3=Math.pow(2,1);function On(l){if(l.opacity===0&&!l.placed)return 0;if(l.opacity===1&&l.placed)return 4294967295;const i=l.placed?1:0,s=Math.floor(127*l.opacity);return s*ui+i*_r+s*Is+i*Es+s*pi+i*Ai+s*a3+i}const pr=0;class Vn{constructor(i){this._sortAcrossTiles=i.layout.get("symbol-z-order")!=="viewport-y"&&i.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs=new Set,this._bucketParts=[]}continuePlacement(i,s,u,h,f){const _=this._bucketParts;for(;this._currentTileIndex<i.length;)if(s.getBucketParts(_,h,i[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,f())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,_.sort((g,v)=>g.sortKey-v.sortKey));this._currentPartIndex<_.length;){const g=_[this._currentPartIndex];if(s.placeLayerBucketPart(g,this._seenCrossTileIDs,u,g.symbolInstanceStart===0),this._currentPartIndex++,f())return!0}return!1}}class Ps{constructor(i,s,u,h,f,_,g,v){this.placement=new D5(i,f,_,g,v),this._currentPlacementIndex=s.length-1,this._forceFullPlacement=u,this._showCollisionBoxes=h,this._done=!1}isDone(){return this._done}continuePlacement(i,s,u){const h=n.exported.now(),f=()=>{const _=n.exported.now()-h;return!this._forceFullPlacement&&_>2};for(;this._currentPlacementIndex>=0;){const _=s[i[this._currentPlacementIndex]],g=this.placement.collisionIndex.transform.zoom;if(_.type==="symbol"&&(!_.minzoom||_.minzoom<=g)&&(!_.maxzoom||_.maxzoom>g)){if(this._inProgressLayer||(this._inProgressLayer=new Vn(_)),this._inProgressLayer.continuePlacement(u[_.source],this.placement,this._showCollisionBoxes,_,f))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(i){return this.placement.commit(i),this.placement}}const jo=512/n.EXTENT/2;class Hr{constructor(i,s,u){this.tileID=i,this.bucketInstanceId=u,this.index=new n.KDBush(s.length,16,Int32Array),this.keys=[],this.crossTileIDs=[];const h=i.canonical.x*n.EXTENT,f=i.canonical.y*n.EXTENT;for(let _=0;_<s.length;_++){const{key:g,crossTileID:v,tileAnchorX:A,tileAnchorY:M}=s.get(_),F=Math.floor((h+A)*jo),N=Math.floor((f+M)*jo);this.index.add(F,N),this.keys.push(g),this.crossTileIDs.push(v)}this.index.finish()}findMatches(i,s,u){const h=this.tileID.canonical.z<s.canonical.z?1:Math.pow(2,this.tileID.canonical.z-s.canonical.z),f=jo/Math.pow(2,s.canonical.z-this.tileID.canonical.z),_=s.canonical.x*n.EXTENT,g=s.canonical.y*n.EXTENT;for(let v=0;v<i.length;v++){const A=i.get(v);if(A.crossTileID)continue;const{key:M,tileAnchorX:F,tileAnchorY:N}=A,j=Math.floor((_+F)*f),Z=Math.floor((g+N)*f),q=this.index.range(j-h,Z-h,j+h,Z+h);for(const W of q){const L=this.crossTileIDs[W];if(this.keys[W]===M&&!u.has(L)){u.add(L),A.crossTileID=L;break}}}}}class Ts{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Fs{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(i){const s=Math.round((i-this.lng)/360);if(s!==0)for(const u in this.indexes){const h=this.indexes[u],f={};for(const _ in h){const g=h[_];g.tileID=g.tileID.unwrapTo(g.tileID.wrap+s),f[g.tileID.key]=g}this.indexes[u]=f}this.lng=i}addBucket(i,s,u){if(this.indexes[i.overscaledZ]&&this.indexes[i.overscaledZ][i.key]){if(this.indexes[i.overscaledZ][i.key].bucketInstanceId===s.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(i.overscaledZ,this.indexes[i.overscaledZ][i.key])}for(let f=0;f<s.symbolInstances.length;f++)s.symbolInstances.get(f).crossTileID=0;this.usedCrossTileIDs[i.overscaledZ]||(this.usedCrossTileIDs[i.overscaledZ]=new Set);const h=this.usedCrossTileIDs[i.overscaledZ];for(const f in this.indexes){const _=this.indexes[f];if(Number(f)>i.overscaledZ)for(const g in _){const v=_[g];v.tileID.isChildOf(i)&&v.findMatches(s.symbolInstances,i,h)}else{const g=_[i.scaledTo(Number(f)).key];g&&g.findMatches(s.symbolInstances,i,h)}}for(let f=0;f<s.symbolInstances.length;f++){const _=s.symbolInstances.get(f);_.crossTileID||(_.crossTileID=u.generate(),h.add(_.crossTileID))}return this.indexes[i.overscaledZ]===void 0&&(this.indexes[i.overscaledZ]={}),this.indexes[i.overscaledZ][i.key]=new Hr(i,s.symbolInstances,s.bucketInstanceId),!0}removeBucketCrossTileIDs(i,s){for(const u of s.crossTileIDs)this.usedCrossTileIDs[i].delete(u)}removeStaleBuckets(i){let s=!1;for(const u in this.indexes){const h=this.indexes[u];for(const f in h)i[h[f].bucketInstanceId]||(this.removeBucketCrossTileIDs(u,h[f]),delete h[f],s=!0)}return s}}class ao{constructor(){this.layerIndexes={},this.crossTileIDs=new Ts,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(i,s,u,h){let f=this.layerIndexes[i.id];f===void 0&&(f=this.layerIndexes[i.id]=new Fs);let _=!1;const g={};h.name!=="globe"&&f.handleWrapJump(u);for(const v of s){const A=v.getBucket(i);A&&i.id===A.layerIds[0]&&(A.bucketInstanceId||(A.bucketInstanceId=++this.maxBucketInstanceId),f.addBucket(v.tileID,A,this.crossTileIDs)&&(_=!0),g[A.bucketInstanceId]=!0)}return f.removeStaleBuckets(g)&&(_=!0),_}pruneUnusedLayers(i){const s={};i.forEach(u=>{s[u]=!0});for(const u in this.layerIndexes)s[u]||delete this.layerIndexes[u]}}const Eo=(l,i)=>n.emitValidationErrors(l,i&&i.filter(s=>s.identifier!=="source.canvas")),S5=n.pick(Ot,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),ja=n.pick(Ot,["setCenter","setZoom","setBearing","setPitch"]),Ls={version:8,layers:[],sources:{}},ln={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class $i extends n.Evented{constructor(i,s={}){super(),this.map=i,this.dispatcher=new xt(W4(),this),this.imageManager=new we,this.imageManager.setEventedParent(this),this.glyphManager=new n.GlyphManager(i._requestManager,s.localFontFamily?n.LocalGlyphMode.all:s.localIdeographFontFamily?n.LocalGlyphMode.ideographs:n.LocalGlyphMode.none,s.localFontFamily||s.localIdeographFontFamily),this.crossTileSymbolIndex=new ao,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",n.getReferrer());const u=this;this._rtlTextPluginCallback=$i.registerForPluginStateChange(h=>{u.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:h.pluginStatus,pluginURL:h.pluginURL},(f,_)=>{if(n.triggerPluginCompletionEvent(f),_&&_.every(g=>g))for(const g in u._sourceCaches){const v=u._sourceCaches[g],A=v.getSource().type;A!=="vector"&&A!=="geojson"||v.reload()}})}),this.on("data",h=>{if(h.dataType!=="source"||h.sourceDataType!=="metadata")return;const f=this.getSource(h.sourceId);if(f&&f.vectorLayerIds)for(const _ in this._layers){const g=this._layers[_];g.source===f.id&&this._validateLayer(g)}})}loadURL(i,s={}){this.fire(new n.Event("dataloading",{dataType:"style"}));const u=typeof s.validate=="boolean"?s.validate:!n.isMapboxURL(i);i=this.map._requestManager.normalizeStyleURL(i,s.accessToken);const h=this.map._requestManager.transformRequest(i,n.ResourceType.Style);this._request=n.getJSON(h,(f,_)=>{this._request=null,f?this.fire(new n.ErrorEvent(f)):_&&this._load(_,u)})}loadJSON(i,s={}){this.fire(new n.Event("dataloading",{dataType:"style"})),this._request=n.exported.frame(()=>{this._request=null,this._load(i,s.validate!==!1)})}loadEmpty(){this.fire(new n.Event("dataloading",{dataType:"style"})),this._load(Ls,!1)}_updateLayerCount(i,s){const u=s?1:-1;i.is3D()&&(this._num3DLayers+=u),i.type==="circle"&&(this._numCircleLayers+=u),i.type==="symbol"&&(this._numSymbolLayers+=u)}_load(i,s){if(s&&Eo(this,n.validateStyle(i)))return;this._loaded=!0,this.stylesheet=n.clone$1(i),this._updateMapProjection();for(const h in i.sources)this.addSource(h,i.sources[h],{validate:!1});this._changed=!1,i.sprite?this._loadSprite(i.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(i.glyphs);const u=fr(this.stylesheet.layers);this._order=u.map(h=>h.id),this._layers={},this._serializedLayers={};for(const h of u){const f=n.createStyleLayer(h);f.setEventedParent(this,{layer:{id:f.id}}),this._layers[f.id]=f,this._serializedLayers[f.id]=f.serialize(),this._updateLayerCount(f,!0)}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new ct(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new n.Event("data",{dataType:"style"})),this.fire(new n.Event("style.load"))}terrainSetForDrapingOnly(){return!!this.terrain&&this.terrain.drapeRenderMode===0}setProjection(i){i?this.stylesheet.projection=i:delete this.stylesheet.projection,this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}_updateMapProjection(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection)}_loadSprite(i){this._spriteRequest=function(s,u,h){let f,_,g;const v=n.exported.devicePixelRatio>1?"@2x":"";let A=n.getJSON(u.transformRequest(u.normalizeSpriteURL(s,v,".json"),n.ResourceType.SpriteJSON),(N,j)=>{A=null,g||(g=N,f=j,F())}),M=n.getImage(u.transformRequest(u.normalizeSpriteURL(s,v,".png"),n.ResourceType.SpriteImage),(N,j)=>{M=null,g||(g=N,_=j,F())});function F(){if(g)h(g);else if(f&&_){const N=n.exported.getImageData(_),j={};for(const Z in f){const{width:q,height:W,x:L,y:V,sdf:K,pixelRatio:$,stretchX:ce,stretchY:pe,content:ue}=f[Z],ge=new n.RGBAImage({width:q,height:W});n.RGBAImage.copy(N,ge,{x:L,y:V},{x:0,y:0},{width:q,height:W}),j[Z]={data:ge,pixelRatio:$,sdf:K,stretchX:ce,stretchY:pe,content:ue}}h(null,j)}}return{cancel(){A&&(A.cancel(),A=null),M&&(M.cancel(),M=null)}}}(i,this.map._requestManager,(s,u)=>{if(this._spriteRequest=null,s)this.fire(new n.ErrorEvent(s));else if(u)for(const h in u)this.imageManager.addImage(h,u[h]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new n.Event("data",{dataType:"style"}))})}_validateLayer(i){const s=this.getSource(i.source);if(!s)return;const u=i.sourceLayer;u&&(s.type==="geojson"||s.vectorLayerIds&&s.vectorLayerIds.indexOf(u)===-1)&&this.fire(new n.ErrorEvent(new Error(`Source layer "${u}" does not exist on source "${s.id}" as specified by style layer "${i.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const i in this._sourceCaches)if(!this._sourceCaches[i].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(i){const s=[];for(const u of i){const h=this._layers[u];h.type!=="custom"&&s.push(h.serialize())}return s}hasTransitions(){if(this.light&&this.light.hasTransition()||this.fog&&this.fog.hasTransition())return!0;for(const i in this._sourceCaches)if(this._sourceCaches[i].hasTransition())return!0;for(const i in this._layers)if(this._layers[i].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(i){return!!this.terrain&&(typeof i.isLayerDraped=="function"?i.isLayerDraped():ln[i.type])}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(i){if(!this._loaded)return;const s=this._changed;if(this._changed){const h=Object.keys(this._updatedLayers),f=Object.keys(this._removedLayers);(h.length||f.length)&&this._updateWorkerLayers(h,f);for(const _ in this._updatedSources){const g=this._updatedSources[_];g==="reload"?this._reloadSource(_):g==="clear"&&this._clearSource(_)}this._updateTilesForChangedImages();for(const _ in this._updatedPaintProps)this._layers[_].updateTransitions(i);this.light.updateTransitions(i),this.fog&&this.fog.updateTransitions(i),this._resetUpdates()}const u={};for(const h in this._sourceCaches){const f=this._sourceCaches[h];u[h]=f.used,f.used=!1}for(const h of this._order){const f=this._layers[h];if(f.recalculate(i,this._availableImages),!f.isHidden(i.zoom)){const g=this._getLayerSourceCache(f);g&&(g.used=!0)}const _=this.map.painter;if(_){const g=f.getProgramIds();if(!g)continue;const v=f.getProgramConfiguration(i.zoom);for(const A of g)_.useProgram(A,v)}}for(const h in u){const f=this._sourceCaches[h];u[h]!==f.used&&f.getSource().fire(new n.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:f.getSource().id}))}this.light.recalculate(i),this.terrain&&this.terrain.recalculate(i),this.fog&&this.fog.recalculate(i),this.z=i.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),s&&this.fire(new n.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const i=Object.keys(this._changedImages);if(i.length){for(const s in this._sourceCaches)this._sourceCaches[s].reloadTilesForDependencies(["icons","patterns"],i);this._changedImages={}}}_updateWorkerLayers(i,s){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(i),removedIds:s})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(i){if(this._checkLoaded(),Eo(this,n.validateStyle(i)))return!1;(i=n.clone$1(i)).layers=fr(i.layers);const s=function(h,f){if(!h)return[{command:Ot.setStyle,args:[f]}];let _=[];try{if(!G(h.version,f.version))return[{command:Ot.setStyle,args:[f]}];G(h.center,f.center)||_.push({command:Ot.setCenter,args:[f.center]}),G(h.zoom,f.zoom)||_.push({command:Ot.setZoom,args:[f.zoom]}),G(h.bearing,f.bearing)||_.push({command:Ot.setBearing,args:[f.bearing]}),G(h.pitch,f.pitch)||_.push({command:Ot.setPitch,args:[f.pitch]}),G(h.sprite,f.sprite)||_.push({command:Ot.setSprite,args:[f.sprite]}),G(h.glyphs,f.glyphs)||_.push({command:Ot.setGlyphs,args:[f.glyphs]}),G(h.transition,f.transition)||_.push({command:Ot.setTransition,args:[f.transition]}),G(h.light,f.light)||_.push({command:Ot.setLight,args:[f.light]}),G(h.fog,f.fog)||_.push({command:Ot.setFog,args:[f.fog]}),G(h.projection,f.projection)||_.push({command:Ot.setProjection,args:[f.projection]});const g={},v=[];(function(F,N,j,Z){let q;for(q in N=N||{},F=F||{})F.hasOwnProperty(q)&&(N.hasOwnProperty(q)||sr(q,j,Z));for(q in N){if(!N.hasOwnProperty(q))continue;const W=N[q];F.hasOwnProperty(q)?G(F[q],W)||(F[q].type==="geojson"&&W.type==="geojson"&&rr(F,N,q)?j.push({command:Ot.setGeoJSONSourceData,args:[q,W.data]}):e4(q,N,j,Z)):mr(q,N,j)}})(h.sources,f.sources,v,g);const A=[];h.layers&&h.layers.forEach(F=>{F.source&&g[F.source]?_.push({command:Ot.removeLayer,args:[F.id]}):A.push(F)});let M=h.terrain;M&&g[M.source]&&(_.push({command:Ot.setTerrain,args:[void 0]}),M=void 0),_=_.concat(v),G(M,f.terrain)||_.push({command:Ot.setTerrain,args:[f.terrain]}),function(F,N,j){N=N||[];const Z=(F=F||[]).map(Fr),q=N.map(Fr),W=F.reduce(So,{}),L=N.reduce(So,{}),V=Z.slice(),K=Object.create(null);let $,ce,pe,ue,ge,_e,Ee;for($=0,ce=0;$<Z.length;$++)pe=Z[$],L.hasOwnProperty(pe)?ce++:(j.push({command:Ot.removeLayer,args:[pe]}),V.splice(V.indexOf(pe,ce),1));for($=0,ce=0;$<q.length;$++)pe=q[q.length-1-$],V[V.length-1-$]!==pe&&(W.hasOwnProperty(pe)?(j.push({command:Ot.removeLayer,args:[pe]}),V.splice(V.lastIndexOf(pe,V.length-ce),1)):ce++,_e=V[V.length-$],j.push({command:Ot.addLayer,args:[L[pe],_e]}),V.splice(V.length-$,0,pe),K[pe]=!0);for($=0;$<q.length;$++)if(pe=q[$],ue=W[pe],ge=L[pe],!K[pe]&&!G(ue,ge))if(G(ue.source,ge.source)&&G(ue["source-layer"],ge["source-layer"])&&G(ue.type,ge.type)){for(Ee in yr(ue.layout,ge.layout,j,pe,null,Ot.setLayoutProperty),yr(ue.paint,ge.paint,j,pe,null,Ot.setPaintProperty),G(ue.filter,ge.filter)||j.push({command:Ot.setFilter,args:[pe,ge.filter]}),G(ue.minzoom,ge.minzoom)&&G(ue.maxzoom,ge.maxzoom)||j.push({command:Ot.setLayerZoomRange,args:[pe,ge.minzoom,ge.maxzoom]}),ue)ue.hasOwnProperty(Ee)&&Ee!=="layout"&&Ee!=="paint"&&Ee!=="filter"&&Ee!=="metadata"&&Ee!=="minzoom"&&Ee!=="maxzoom"&&(Ee.indexOf("paint.")===0?yr(ue[Ee],ge[Ee],j,pe,Ee.slice(6),Ot.setPaintProperty):G(ue[Ee],ge[Ee])||j.push({command:Ot.setLayerProperty,args:[pe,Ee,ge[Ee]]}));for(Ee in ge)ge.hasOwnProperty(Ee)&&!ue.hasOwnProperty(Ee)&&Ee!=="layout"&&Ee!=="paint"&&Ee!=="filter"&&Ee!=="metadata"&&Ee!=="minzoom"&&Ee!=="maxzoom"&&(Ee.indexOf("paint.")===0?yr(ue[Ee],ge[Ee],j,pe,Ee.slice(6),Ot.setPaintProperty):G(ue[Ee],ge[Ee])||j.push({command:Ot.setLayerProperty,args:[pe,Ee,ge[Ee]]}))}else j.push({command:Ot.removeLayer,args:[pe]}),_e=V[V.lastIndexOf(pe)+1],j.push({command:Ot.addLayer,args:[ge,_e]})}(A,f.layers,_)}catch(g){console.warn("Unable to compute style diff:",g),_=[{command:Ot.setStyle,args:[f]}]}return _}(this.serialize(),i).filter(h=>!(h.command in ja));if(s.length===0)return!1;const u=s.filter(h=>!(h.command in S5));if(u.length>0)throw new Error(`Unimplemented: ${u.map(h=>h.command).join(", ")}.`);return s.forEach(h=>{h.command!=="setTransition"&&h.command!=="setProjection"&&this[h.command].apply(this,h.args)}),this.stylesheet=i,this._updateMapProjection(),!0}addImage(i,s){return this.getImage(i)?this.fire(new n.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(i,s),this._afterImageUpdated(i),this)}updateImage(i,s){this.imageManager.updateImage(i,s)}getImage(i){return this.imageManager.getImage(i)}removeImage(i){return this.getImage(i)?(this.imageManager.removeImage(i),this._afterImageUpdated(i),this):this.fire(new n.ErrorEvent(new Error("No image with this name exists.")))}_afterImageUpdated(i){this._availableImages=this.imageManager.listImages(),this._changedImages[i]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new n.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(i,s,u={}){if(this._checkLoaded(),this.getSource(i)!==void 0)throw new Error("There is already a source with this ID");if(!s.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(s).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(s.type)>=0&&this._validate(n.validateSource,`sources.${i}`,s,null,u))return;this.map&&this.map._collectResourceTiming&&(s.collectResourceTiming=!0);const h=Gt(i,s,this.dispatcher,this);h.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(i),source:h.serialize(),sourceId:i}));const f=_=>{const g=(_?"symbol:":"other:")+i,v=this._sourceCaches[g]=new n.SourceCache(g,h,_);(_?this._symbolSourceCaches:this._otherSourceCaches)[i]=v,v.style=this,v.onAdd(this.map)};f(!1),s.type!=="vector"&&s.type!=="geojson"||f(!0),h.onAdd&&h.onAdd(this.map),this._changed=!0}removeSource(i){this._checkLoaded();const s=this.getSource(i);if(!s)throw new Error("There is no source with this ID");for(const h in this._layers)if(this._layers[h].source===i)return this.fire(new n.ErrorEvent(new Error(`Source "${i}" cannot be removed while layer "${h}" is using it.`)));if(this.terrain&&this.terrain.get().source===i)return this.fire(new n.ErrorEvent(new Error(`Source "${i}" cannot be removed while terrain is using it.`)));const u=this._getSourceCaches(i);for(const h of u)delete this._sourceCaches[h.id],delete this._updatedSources[h.id],h.fire(new n.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:h.getSource().id})),h.setEventedParent(null),h.clearTiles();return delete this._otherSourceCaches[i],delete this._symbolSourceCaches[i],s.setEventedParent(null),s.onRemove&&s.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(i,s){this._checkLoaded(),this.getSource(i).setData(s),this._changed=!0}getSource(i){const s=this._getSourceCache(i);return s&&s.getSource()}_getSources(){const i=[];for(const s in this._otherSourceCaches){const u=this._getSourceCache(s);u&&i.push(u.getSource())}return i}addLayer(i,s,u={}){this._checkLoaded();const h=i.id;if(this.getLayer(h))return void this.fire(new n.ErrorEvent(new Error(`Layer with id "${h}" already exists on this map`)));let f;if(i.type==="custom"){if(Eo(this,n.validateCustomStyleLayer(i)))return;f=n.createStyleLayer(i)}else{if(typeof i.source=="object"&&(this.addSource(h,i.source),i=n.clone$1(i),i=n.extend(i,{source:h})),this._validate(n.validateLayer,`layers.${h}`,i,{arrayIndex:-1},u))return;f=n.createStyleLayer(i),this._validateLayer(f),f.setEventedParent(this,{layer:{id:h}}),this._serializedLayers[f.id]=f.serialize(),this._updateLayerCount(f,!0)}const _=s?this._order.indexOf(s):this._order.length;if(s&&_===-1)return void this.fire(new n.ErrorEvent(new Error(`Layer with id "${s}" does not exist on this map.`)));this._order.splice(_,0,h),this._layerOrderChanged=!0,this._layers[h]=f;const g=this._getLayerSourceCache(f);if(this._removedLayers[h]&&f.source&&g&&f.type!=="custom"){const v=this._removedLayers[h];delete this._removedLayers[h],v.type!==f.type?this._updatedSources[f.source]="clear":(this._updatedSources[f.source]="reload",g.pause())}this._updateLayer(f),f.onAdd&&f.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(i,s){if(this._checkLoaded(),this._changed=!0,!this._layers[i])return void this.fire(new n.ErrorEvent(new Error(`The layer '${i}' does not exist in the map's style and cannot be moved.`)));if(i===s)return;const u=this._order.indexOf(i);this._order.splice(u,1);const h=s?this._order.indexOf(s):this._order.length;s&&h===-1?this.fire(new n.ErrorEvent(new Error(`Layer with id "${s}" does not exist on this map.`))):(this._order.splice(h,0,i),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(i){this._checkLoaded();const s=this._layers[i];if(!s)return void this.fire(new n.ErrorEvent(new Error(`The layer '${i}' does not exist in the map's style and cannot be removed.`)));s.setEventedParent(null),this._updateLayerCount(s,!1);const u=this._order.indexOf(i);this._order.splice(u,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[i]=s,delete this._layers[i],delete this._serializedLayers[i],delete this._updatedLayers[i],delete this._updatedPaintProps[i],s.onRemove&&s.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(i){return this._layers[i]}hasLayer(i){return i in this._layers}hasLayerType(i){for(const s in this._layers)if(this._layers[s].type===i)return!0;return!1}setLayerZoomRange(i,s,u){this._checkLoaded();const h=this.getLayer(i);h?h.minzoom===s&&h.maxzoom===u||(s!=null&&(h.minzoom=s),u!=null&&(h.maxzoom=u),this._updateLayer(h)):this.fire(new n.ErrorEvent(new Error(`The layer '${i}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(i,s,u={}){this._checkLoaded();const h=this.getLayer(i);if(h){if(!G(h.filter,s))return s==null?(h.filter=void 0,void this._updateLayer(h)):void(this._validate(n.validateFilter,`layers.${h.id}.filter`,s,{layerType:h.type},u)||(h.filter=n.clone$1(s),this._updateLayer(h)))}else this.fire(new n.ErrorEvent(new Error(`The layer '${i}' does not exist in the map's style and cannot be filtered.`)))}getFilter(i){const s=this.getLayer(i);return s&&n.clone$1(s.filter)}setLayoutProperty(i,s,u,h={}){this._checkLoaded();const f=this.getLayer(i);f?G(f.getLayoutProperty(s),u)||(f.setLayoutProperty(s,u,h),this._updateLayer(f)):this.fire(new n.ErrorEvent(new Error(`The layer '${i}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(i,s){const u=this.getLayer(i);if(u)return u.getLayoutProperty(s);this.fire(new n.ErrorEvent(new Error(`The layer '${i}' does not exist in the map's style.`)))}setPaintProperty(i,s,u,h={}){this._checkLoaded();const f=this.getLayer(i);f?G(f.getPaintProperty(s),u)||(f.setPaintProperty(s,u,h)&&this._updateLayer(f),this._changed=!0,this._updatedPaintProps[i]=!0):this.fire(new n.ErrorEvent(new Error(`The layer '${i}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(i,s){const u=this.getLayer(i);return u&&u.getPaintProperty(s)}setFeatureState(i,s){this._checkLoaded();const u=i.source,h=i.sourceLayer,f=this.getSource(u);if(!f)return void this.fire(new n.ErrorEvent(new Error(`The source '${u}' does not exist in the map's style.`)));const _=f.type;if(_==="geojson"&&h)return void this.fire(new n.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if(_==="vector"&&!h)return void this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));i.id===void 0&&this.fire(new n.ErrorEvent(new Error("The feature id parameter must be provided.")));const g=this._getSourceCaches(u);for(const v of g)v.setFeatureState(h,i.id,s)}removeFeatureState(i,s){this._checkLoaded();const u=i.source,h=this.getSource(u);if(!h)return void this.fire(new n.ErrorEvent(new Error(`The source '${u}' does not exist in the map's style.`)));const f=h.type,_=f==="vector"?i.sourceLayer:void 0;if(f==="vector"&&!_)return void this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(s&&typeof i.id!="string"&&typeof i.id!="number")return void this.fire(new n.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const g=this._getSourceCaches(u);for(const v of g)v.removeFeatureState(_,i.id,s)}getFeatureState(i){this._checkLoaded();const s=i.source,u=i.sourceLayer,h=this.getSource(s);if(h){if(h.type!=="vector"||u)return i.id===void 0&&this.fire(new n.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(s)[0].getFeatureState(u,i.id);this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new n.ErrorEvent(new Error(`The source '${s}' does not exist in the map's style.`)))}getTransition(){return n.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const i={};for(const s in this._sourceCaches){const u=this._sourceCaches[s].getSource();i[u.id]||(i[u.id]=u.serialize())}return n.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.getTerrain()||void 0,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:i,layers:this._serializeLayers(this._order)},s=>s!==void 0)}_updateLayer(i){this._updatedLayers[i.id]=!0;const s=this._getLayerSourceCache(i);i.source&&!this._updatedSources[i.source]&&s&&s.getSource().type!=="raster"&&(this._updatedSources[i.source]="reload",s.pause()),this._changed=!0,i.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(i){const s=_=>this._layers[_].type==="fill-extrusion",u={},h=[];for(let _=this._order.length-1;_>=0;_--){const g=this._order[_];if(s(g)){u[g]=_;for(const v of i){const A=v[g];if(A)for(const M of A)h.push(M)}}}h.sort((_,g)=>g.intersectionZ-_.intersectionZ);const f=[];for(let _=this._order.length-1;_>=0;_--){const g=this._order[_];if(s(g))for(let v=h.length-1;v>=0;v--){const A=h[v].feature;if(u[A.layer.id]<_)break;f.push(A),h.pop()}else for(const v of i){const A=v[g];if(A)for(const M of A)f.push(M.feature)}}return f}queryRenderedFeatures(i,s,u){s&&s.filter&&this._validate(n.validateFilter,"queryRenderedFeatures.filter",s.filter,null,s);const h={};if(s&&s.layers){if(!Array.isArray(s.layers))return this.fire(new n.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const v of s.layers){const A=this._layers[v];if(!A)return this.fire(new n.ErrorEvent(new Error(`The layer '${v}' does not exist in the map's style and cannot be queried for features.`))),[];h[A.source]=!0}}const f=[];s.availableImages=this._availableImages;const _=s&&s.layers?s.layers.some(v=>{const A=this.getLayer(v);return A&&A.is3D()}):this.has3DLayers(),g=Q4.createFromScreenPoints(i,u);for(const v in this._sourceCaches){const A=this._sourceCaches[v].getSource().id;s.layers&&!h[A]||f.push(I4(this._sourceCaches[v],this._layers,this._serializedLayers,g,s,u,_,!!this.map._showQueryGeometry))}return this.placement&&f.push(function(v,A,M,F,N,j,Z){const q={},W=j.queryRenderedSymbols(F),L=[];for(const V of Object.keys(W).map(Number))L.push(Z[V]);L.sort(C4);for(const V of L){const K=V.featureIndex.lookupSymbolFeatures(W[V.bucketInstanceId],A,V.bucketIndex,V.sourceLayerIndex,N.filter,N.layers,N.availableImages,v);for(const $ in K){const ce=q[$]=q[$]||[],pe=K[$];pe.sort((ue,ge)=>{const _e=V.featureSortOrder;if(_e){const Ee=_e.indexOf(ue.featureIndex);return _e.indexOf(ge.featureIndex)-Ee}return ge.featureIndex-ue.featureIndex});for(const ue of pe)ce.push(ue)}}for(const V in q)q[V].forEach(K=>{const $=K.feature,ce=M(v[V]);if(!ce)return;const pe=ce.getFeatureState($.layer["source-layer"],$.id);$.source=$.layer.source,$.layer["source-layer"]&&($.sourceLayer=$.layer["source-layer"]),$.state=pe});return q}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),g.screenGeometry,s,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(f)}querySourceFeatures(i,s){s&&s.filter&&this._validate(n.validateFilter,"querySourceFeatures.filter",s.filter,null,s);const u=this._getSourceCaches(i);let h=[];for(const f of u)h=h.concat(M4(f,s));return h}addSourceType(i,s,u){return $i.getSourceType(i)?u(new Error(`A source type called "${i}" already exists.`)):($i.setSourceType(i,s),s.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:i,url:s.workerSourceURL},u):u(null,null))}getLight(){return this.light.getLight()}setLight(i,s={}){this._checkLoaded();const u=this.light.getLight();let h=!1;for(const _ in i)if(!G(i[_],u[_])){h=!0;break}if(!h)return;const f=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(i,s),this.light.updateTransitions(f)}getTerrain(){return this.terrain&&this.terrain.drapeRenderMode===1?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(i,s=1){if(this._checkLoaded(),!i)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);let u=i;if(s===1){if(typeof u.source=="object"){const h="terrain-dem-src";this.addSource(h,u.source),u=n.clone$1(u),u=n.extend(u,{source:h})}if(this._validate(n.validateTerrain,"terrain",u))return}if(!this.terrain||this.terrain&&s!==this.terrain.drapeRenderMode){if(!u)return;this._createTerrain(u,s)}else{const h=this.terrain,f=h.get();for(const _ of Object.keys(n.spec.terrain))!u.hasOwnProperty(_)&&n.spec.terrain[_].default&&(u[_]=n.spec.terrain[_].default);for(const _ in u)if(!G(u[_],f[_])){h.set(u),this.stylesheet.terrain=u;const g=this._setTransitionParameters({duration:0});h.updateTransitions(g);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(i){const s=this.fog=new _t(i,this.map.transform);this.stylesheet.fog=i;const u=this._setTransitionParameters({duration:0});s.updateTransitions(u)}_updateMarkersOpacity(){this.map._markers.length!==0&&this.map._requestDomTask(()=>{for(const i of this.map._markers)i._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(i){if(this._checkLoaded(),!i)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const s=this.fog,u=s.get();Object.keys(i).length===0&&s.set(i);for(const h in i)if(!G(i[h],u[h])){s.set(i),this.stylesheet.fog=i;const f=this._setTransitionParameters({duration:0});s.updateTransitions(f);break}}else this._createFog(i);this._markersNeedUpdate=!0}_setTransitionParameters(i){return{now:n.exported.now(),transition:n.extend(i,this.stylesheet.transition)}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const i=this._order.filter(u=>this.isLayerDraped(this._layers[u])),s=this._order.filter(u=>!this.isLayerDraped(this._layers[u]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...i),this._drapedFirstOrder.push(...s)}_createTerrain(i,s){const u=this.terrain=new Pt(i,s);this.stylesheet.terrain=i,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();const h=this._setTransitionParameters({duration:0});u.updateTransitions(h)}_force3DLayerUpdate(){for(const i in this._layers){const s=this._layers[i];s.type==="fill-extrusion"&&this._updateLayer(s)}}_forceSymbolLayerUpdate(){for(const i in this._layers){const s=this._layers[i];s.type==="symbol"&&this._updateLayer(s)}}_validate(i,s,u,h,f={}){return(!f||f.validate!==!1)&&Eo(this,i.call(n.validateStyle,n.extend({key:s,style:this.serialize(),value:u,styleSpec:n.spec},h)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),n.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const i in this._layers)this._layers[i].setEventedParent(null);for(const i in this._sourceCaches)this._sourceCaches[i].clearTiles(),this._sourceCaches[i].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(i){const s=this._getSourceCaches(i);for(const u of s)u.clearTiles()}_reloadSource(i){const s=this._getSourceCaches(i);for(const u of s)u.resume(),u.reload()}_reloadSources(){for(const i of this._getSources())i.reload&&i.reload()}_updateSources(i){for(const s in this._sourceCaches)this._sourceCaches[s].update(i)}_generateCollisionBoxes(){for(const i in this._sourceCaches){const s=this._sourceCaches[i];s.resume(),s.reload()}}_updatePlacement(i,s,u,h,f=!1){let _=!1,g=!1;const v={};for(const A of this._order){const M=this._layers[A];if(M.type!=="symbol")continue;if(!v[M.source]){const N=this._getLayerSourceCache(M);if(!N)continue;v[M.source]=N.getRenderableIds(!0).map(j=>N.getTileByID(j)).sort((j,Z)=>Z.tileID.overscaledZ-j.tileID.overscaledZ||(j.tileID.isLessThan(Z.tileID)?-1:1))}const F=this.crossTileSymbolIndex.addLayer(M,v[M.source],i.center.lng,i.projection);_=_||F}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),f=f||this._layerOrderChanged||u===0,this._layerOrderChanged&&this.fire(new n.Event("neworder")),(f||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(n.exported.now(),i.zoom))&&(this.pauseablePlacement=new Ps(i,this._order,f,s,u,h,this.placement,this.fog&&i.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,v),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(n.exported.now()),g=!0),_&&this.pauseablePlacement.placement.setStale()),g||_)for(const A of this._order){const M=this._layers[A];M.type==="symbol"&&this.placement.updateLayerOpacities(M,v[M.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(n.exported.now())}_releaseSymbolFadeTiles(){for(const i in this._sourceCaches)this._sourceCaches[i].releaseSymbolFadeTiles()}getImages(i,s,u){this.imageManager.getImages(s.icons,u),this._updateTilesForChangedImages();const h=f=>{f&&f.setDependencies(s.tileID.key,s.type,s.icons)};h(this._otherSourceCaches[s.source]),h(this._symbolSourceCaches[s.source])}getGlyphs(i,s,u){this.glyphManager.getGlyphs(s.stacks,u)}getResource(i,s,u){return n.makeRequest(s,u)}_getSourceCache(i){return this._otherSourceCaches[i]}_getLayerSourceCache(i){return i.type==="symbol"?this._symbolSourceCaches[i.source]:this._otherSourceCaches[i.source]}_getSourceCaches(i){const s=[];return this._otherSourceCaches[i]&&s.push(this._otherSourceCaches[i]),this._symbolSourceCaches[i]&&s.push(this._symbolSourceCaches[i]),s}_isSourceCacheLoaded(i){const s=this._getSourceCaches(i);return s.length===0?(this.fire(new n.ErrorEvent(new Error(`There is no source with ID '${i}'`))),!1):s.every(u=>u.loaded())}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}$i.getSourceType=function(l){return Nt[l]},$i.setSourceType=function(l,i){Nt[l]=i},$i.registerForPluginStateChange=n.registerForPluginStateChange;var ks=`
#define EPSILON 0.0000001
#define PI 3.141592653589793
#define EXTENT 8192.0
#define HALF_PI PI/2.0
#define QUARTER_PI PI/4.0
#define RAD_TO_DEG 180.0/PI
#define DEG_TO_RAD PI/180.0
#define GLOBE_RADIUS EXTENT/PI/2.0`,Go="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",lo=`
#define ELEVATION_SCALE 7.0
#define ELEVATION_OFFSET 450.0
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(
mix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}
#else
vec3 elevationVector(vec2 pos) { return vec3(0,0,1); }
#endif
const float skirtOffset=24575.0;vec3 decomposeToPosAndSkirt(vec2 posWithComposedSkirt)
{float skirt=float(posWithComposedSkirt.x >=skirtOffset);vec2 pos=posWithComposedSkirt-vec2(skirt*skirtOffset,0.0);return vec3(pos,skirt);}
#ifdef TERRAIN
#ifdef TERRAIN_DEM_FLOAT_FORMAT
uniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;
#else
uniform sampler2D u_dem;uniform sampler2D u_dem_prev;
#endif
uniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));
#ifdef TERRAIN_DEM_NEAREST_FILTER
return u_exaggeration*tl;
#endif
float tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}float prevElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}
#ifdef TERRAIN_VERTEX_MORPHING
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}
#else
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
return currentElevation(apos);}
#endif
highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(
unpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))
);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
float tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;
#else
vec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);
#endif
return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}
#else
float elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }
#endif`,jn=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}
#endif`,co=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}
#endif`;let M5={},cn={};const Gn=[];un(ks,Gn),un(lo,Gn),un(jn,Gn),un(co,Gn),M5=w4("",lo),cn=w4(co,jn);const l3=w4(`
#if __VERSION__ >=300
#define varying in
#define gl_FragColor glFragColor
#define texture2D texture
#define textureCube texture
out vec4 glFragColor;
#endif
highp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}`,`
#if __VERSION__ >=300
#define attribute in
#define varying out
#define texture2D texture
#endif
float wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {
#ifndef PROJECTED_POS_ON_VIEWPORT
float tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;
#else
return vec3(0.0);
#endif
}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(
unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered.`),A5=ks,Us=`
#ifdef GL_ES
precision mediump float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`;var zs={background:w4(`uniform vec4 u_color;uniform float u_opacity;
#ifdef LIGHTING_3D_MODE
varying vec4 v_color;
#endif
void main() {vec4 out_color;
#ifdef LIGHTING_3D_MODE
out_color=v_color;
#else
out_color=u_color;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#ifdef LIGHTING_3D_MODE
uniform vec4 u_color;varying vec4 v_color;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(u_color);
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),backgroundPattern:w4(`uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos;void main() {vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),circle:w4(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(
antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)
);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_apply_premultiplied(out_color,v_fog_pos);
#endif
gl_FragColor=out_color*(v_visibility*opacity_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`#define NUM_VISIBILITY_RINGS 2
#define INV_SQRT2 0.70710678
#define ELEVATION_BIAS 0.0001
#define NUM_SAMPLES_PER_RING 16
uniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
vec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {
#if defined(TERRAIN)
return elevation(pos)+ELEVATION_BIAS;
#else
return 0.0;
#endif
}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);
#ifdef PITCH_WITH_MAP
#ifdef PROJECTION_GLOBE_VIEW
return u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );
#else
return u_matrix*( world_center+vec4(sample_offset,0,0) );
#endif
#else
return projected_center+vec4(sample_offset,0,0);
#endif
}float get_sample_step() {
#ifdef PITCH_WITH_MAP
return 2.0*PI/float(NUM_SAMPLES_PER_RING);
#else
return PI/float(NUM_SAMPLES_PER_RING);
#endif
}void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);
#else 
surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);
#endif
vec4 projected_center=u_matrix*world_center;float view_scale=0.0;
#ifdef PITCH_WITH_MAP
#ifdef SCALE_WITH_MAP
view_scale=1.0;
#else
view_scale=projected_center.w/u_camera_to_center_distance;
#endif
#else
#ifdef SCALE_WITH_MAP
view_scale=u_camera_to_center_distance;
#else
view_scale=projected_center.w;
#endif
#endif
gl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;
#ifdef TERRAIN
float step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;
#ifdef PITCH_WITH_MAP
float cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;
#else
occlusion_world_center=world_center;occlusion_projected_center=projected_center;
#endif
for(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);
#else
visibility=1.0;
#endif
#ifdef PROJECTION_GLOBE_VIEW
visibility=1.0;
#endif
v_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);
#ifdef FOG
v_fog_pos=fog_position(world_center.xyz);
#endif
}`),clippingMask:w4("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:w4(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef FOG
if (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#else
pos=vec3(tilePos+extrude,elevation(tilePos));
#endif
gl_Position=u_matrix*vec4(pos,1);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),heatmapTexture:w4(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:w4("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}",`attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}`),collisionCircle:w4("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",`attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(
mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}`),debug:w4("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",`attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;
#endif
varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
gl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);
#else
gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);
#endif
}`),fill:w4(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
vec4 out_color=color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutline:w4(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutlinePattern:w4(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillPattern:w4(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillExtrusion:w4(`varying vec4 v_color;
#ifdef RENDER_SHADOWS
varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
void main() {
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
vec3 normal=v_normal;
#endif
float z;vec4 color;
#ifdef ZERO_ROOF_RADIUS
z=float(normal.z > 0.00001);color=mix(v_color,v_roof_color,z);
#else
color=v_color;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;
#ifdef ZERO_ROOF_RADIUS
concave*=(1.0-z);
#endif
float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;
#endif
#ifdef RENDER_SHADOWS
#ifdef ZERO_ROOF_RADIUS
normal=mix(normal,vec3(0.0,0.0,1.0),z);
#endif
color.xyz=shadowed_color_normal(color.xyz,normalize(normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec4 v_color;
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
v_normal=normal;
#endif
base=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=0.0;float c_ele;vec3 pos;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);
#else
h=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);
#ifdef RENDER_SHADOWS
v_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_depth=gl_Position.w;
#endif
float NdotL=0.0;float colorvalue=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}v_color=vec4(0.0,0.0,0.0,1.0);
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(color,NdotL);
#else
v_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_color*=u_opacity;
#ifdef ZERO_ROOF_RADIUS
v_roof_color=vec4(0.0,0.0,0.0,1.0);
#ifdef LIGHTING_3D_MODE
v_roof_color=apply_lighting(color,calculate_NdotL(vec3(0.0,0.0,1.0)));
#else
float roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_roof_color*=u_opacity;
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),fillExtrusionPattern:w4(`uniform vec2 u_texsize;uniform sampler2D u_image;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
varying vec2 v_pos;varying vec4 v_lighting;uniform lowp float u_opacity;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color,v_NdotL)*u_opacity;
#else
out_color=out_color*v_lighting;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec2 v_pos;varying vec4 v_lighting;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=z;vec3 p;float c_ele;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);
#else
p=vec3(pos_nx.xy,z);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0
? pos_nx.xy
: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_NdotL=NdotL;
#else
v_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;
#endif 
#ifdef FOG
v_fog_pos=fog_position(p);
#endif
}`),hillshadePrepare:w4(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
return texture2D(u_image,coord).a/4.0;
#else
vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;
#endif
}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(
(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)
)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(
deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:w4(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef LIGHTING_3D_MODE
gl_FragColor=apply_lighting(gl_FragColor);
#endif
#ifdef FOG
gl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),line:w4(`uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform sampler2D u_dash_image;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform sampler2D u_gradient_image;
#endif
uniform float u_border_width;uniform vec4 u_border_color;float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
float linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);
#ifdef RENDER_LINE_DASH
float sdfdist=texture2D(u_dash_image,v_tex).a;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;alpha*=linearstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);
#endif
highp vec4 out_color;
#ifdef RENDER_LINE_GRADIENT
out_color=texture2D(u_gradient_image,v_uv.xy);
#else
out_color=color;
#endif
float trimmed=1.0;
#ifdef RENDER_LINE_TRIM_OFFSET
highp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);trimmed=0.0;}}
#endif
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
#ifdef RENDER_LINE_ALPHA_DISCARD
if (alpha < u_alpha_discard_threshold) {discard;}
#endif
#ifdef RENDER_LINE_BORDER
float edgeBlur=(u_border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);
#ifdef RENDER_LINE_BORDER_AUTO
float Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}
#else
out_color.rgb=mix(u_border_color.rgb*u_border_color.a*trimmed,out_color.rgb,smoothAlpha);
#endif
}
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define EXTRUDE_SCALE 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
attribute highp vec4 a_packed;
#endif
#ifdef RENDER_LINE_DASH
attribute float a_linesofar;
#endif
uniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform float u_image_height;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
float a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];
#ifdef RENDER_LINE_GRADIENT
highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);
#else
v_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);
#endif
#endif
#ifdef RENDER_LINE_DASH
float scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/floorwidth,(-normal.y*height+dash.x+0.5)/u_texsize.y);
#endif
v_width2=vec2(outset,inset);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),linePattern:w4(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;vec2 pattern_size=vec2(display_size.x/u_tile_units_to_pixels,display_size.y);float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x=mod(v_linesofar/pattern_size.x*aspect,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));vec4 color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
color=apply_lighting(color);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),raster:w4(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(
dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply(out_color,v_fog_pos));
#endif
gl_FragColor=vec4(out_color*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),symbolIcon:w4(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}`),symbolSDF:w4(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}`),symbolTextAndIcon:w4(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}`),terrainRaster:w4(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
void main() {vec4 color=texture2D(u_image0,v_pos0);
#ifdef RENDER_SHADOWS
color.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
#ifdef ZERO_EXAGGERATION
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#else
color=fog_dither(fog_apply_from_vert(color,v_fog_opacity));
#endif
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
const float wireframeOffset=0.00015;void main() {vec3 decomposedPosAndSkirt=decomposeToPosAndSkirt(a_pos);float skirt=decomposedPosAndSkirt.z;vec2 decodedPos=decomposedPosAndSkirt.xy;float elevation=elevation(decodedPos)-skirt*u_skirt_height;
#ifdef TERRAIN_WIREFRAME
elevation+=wireframeOffset;
#endif
v_pos0=decodedPos/8192.0;gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);
#ifdef FOG
#ifdef ZERO_EXAGGERATION
v_fog_pos=fog_position(decodedPos);
#else
v_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));
#endif
#endif
#ifdef RENDER_SHADOWS
vec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;
#endif
}`),terrainDepth:w4(`#ifdef GL_ES
precision highp float;
#endif
varying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}`,"uniform mat4 u_matrix;attribute vec2 a_pos;varying float v_depth;void main() {float elevation=elevation(a_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:w4(`
varying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(
cos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;
#ifdef FOG
sky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);
#endif
sky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Go),skyboxGradient:w4(`varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));
#ifdef FOG
color.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;
#endif
color*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Go),skyboxCapture:w4(`
varying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;
#ifdef GL_ES
precision highp float;
#endif
#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)
#define BETA_M                  vec3(21e-6,21e-6,21e-6)
#define MIE_G                   0.76
#define DENSITY_HEIGHT_SCALE_R  8000.0
#define DENSITY_HEIGHT_SCALE_M  1200.0
#define PLANET_RADIUS           6360e3
#define ATMOSPHERE_RADIUS       6420e3
#define SAMPLE_STEPS            10
#define DENSITY_STEPS           4
float ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}`,"attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:w4(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifndef FOG
uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;
#endif
void main() {vec4 color;
#ifdef CUSTOM_ANTIALIASING
vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);color=vec4(raster.rgb*antialias,raster.a*antialias);
#else
color=texture2D(u_image0,v_pos0);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;uniform float u_skirt_height;
#ifdef GLOBE_POLES
attribute vec3 a_globe_pos;attribute vec2 a_uv;
#else
attribute vec2 a_pos;
#endif
varying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;vec2 uv=a_uv;
#else
float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);
#endif
v_pos0=uv;vec2 tile_pos=uv*EXTENT;vec3 globe_derived_up_vector=normalize(globe_pos)*u_tile_up_scale;
#ifdef GLOBE_POLES
vec3 up_vector=globe_derived_up_vector;
#else
vec3 up_vector=elevationVector(tile_pos);
#endif
float height=elevation(tile_pos);
#ifdef TERRAIN_WIREFRAME
height+=wireframeOffset;
#endif
globe_pos+=up_vector*height;
#ifndef GLOBE_POLES
globe_pos-=globe_derived_up_vector*u_skirt_height*decomposed_pos_and_skirt.z;
#endif
#ifdef GLOBE_POLES
vec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);
#else
vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height-u_skirt_height*decomposed_pos_and_skirt.z,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);
#endif
gl_Position=u_proj_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
}`),globeAtmosphere:w4(`uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;
#ifdef PROJECTION_GLOBE_VIEW
globe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}
#endif
highp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?
0.0 : max(acos(dot(dir,horizon_dir)),0.0);float horizon_angle;
#ifdef PROJECTION_GLOBE_VIEW
highp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?
PI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);
#else
horizon_angle=horizon_angle_mercator;
#endif
horizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:
(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:
uv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}`,`attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(
mix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}`)};function un(l,i){const s=l.replace(/\s*\/\/[^\n]*\n/g,`
`).split(`
`);for(let u of s)if(u=u.trim(),u[0]==="#"&&u.includes("if")&&!u.includes("endif")){u=u.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const h=u.split(" ");for(const f of h)i.includes(f)||i.push(f)}}function w4(l,i){const s=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,u=i.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),h={},f=[...Gn];return un(l,f),un(i,f),{fragmentSource:l=l.replace(s,(_,g,v,A,M)=>(h[M]=!0,g==="define"?`
#ifndef HAS_UNIFORM_u_${M}
varying ${v} ${A} ${M};
#else
uniform ${v} ${A} u_${M};
#endif
`:`
#ifdef HAS_UNIFORM_u_${M}
    ${v} ${A} ${M} = u_${M};
#endif
`)),vertexSource:i=i.replace(s,(_,g,v,A,M)=>{const F=A==="float"?"vec2":"vec4",N=M.match(/color/)?"color":F;return h[M]?g==="define"?`
#ifndef HAS_UNIFORM_u_${M}
uniform lowp float u_${M}_t;
attribute ${v} ${F} a_${M};
varying ${v} ${A} ${M};
#else
uniform ${v} ${A} u_${M};
#endif
`:N==="vec4"?`
#ifndef HAS_UNIFORM_u_${M}
    ${M} = a_${M};
#else
    ${v} ${A} ${M} = u_${M};
#endif
`:`
#ifndef HAS_UNIFORM_u_${M}
    ${M} = unpack_mix_${N}(a_${M}, u_${M}_t);
#else
    ${v} ${A} ${M} = u_${M};
#endif
`:g==="define"?`
#ifndef HAS_UNIFORM_u_${M}
uniform lowp float u_${M}_t;
attribute ${v} ${F} a_${M};
#else
uniform ${v} ${A} u_${M};
#endif
`:N==="vec4"?`
#ifndef HAS_UNIFORM_u_${M}
    ${v} ${A} ${M} = a_${M};
#else
    ${v} ${A} ${M} = u_${M};
#endif
`:`
#ifndef HAS_UNIFORM_u_${M}
    ${v} ${A} ${M} = unpack_mix_${N}(a_${M}, u_${M}_t);
#else
    ${v} ${A} ${M} = u_${M};
#endif
`}),staticAttributes:u,usedDefines:f}}class Ga{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(i,s,u,h,f,_,g){this.context=i;let v=this.boundPaintVertexBuffers.length!==h.length;for(let M=0;!v&&M<h.length;M++)this.boundPaintVertexBuffers[M]!==h[M]&&(v=!0);let A=this.boundDynamicVertexBuffers.length!==g.length;for(let M=0;!A&&M<g.length;M++)this.boundDynamicVertexBuffers[M]!==g[M]&&(A=!0);if(!i.extVertexArrayObject||!this.vao||this.boundProgram!==s||this.boundLayoutVertexBuffer!==u||v||A||this.boundIndexBuffer!==f||this.boundVertexOffset!==_)this.freshBind(s,u,h,f,_,g);else{i.bindVertexArrayOES.set(this.vao);for(const M of g)M&&M.bind();f&&f.dynamicDraw&&f.bind()}}freshBind(i,s,u,h,f,_){let g;const v=i.numAttributes,A=this.context,M=A.gl;if(A.extVertexArrayObject)this.vao&&this.destroy(),this.vao=A.extVertexArrayObject.createVertexArrayOES(),A.bindVertexArrayOES.set(this.vao),g=0,this.boundProgram=i,this.boundLayoutVertexBuffer=s,this.boundPaintVertexBuffers=u,this.boundIndexBuffer=h,this.boundVertexOffset=f,this.boundDynamicVertexBuffers=_;else{g=A.currentNumAttributes||0;for(let F=v;F<g;F++)M.disableVertexAttribArray(F)}s.enableAttributes(M,i),s.bind(),s.setVertexAttribPointers(M,i,f);for(const F of u)F.enableAttributes(M,i),F.bind(),F.setVertexAttribPointers(M,i,f);for(const F of _)F&&(F.enableAttributes(M,i),F.bind(),F.setVertexAttribPointers(M,i,f));h&&h.bind(),A.currentNumAttributes=v}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function Rs(l,i){const s=Math.pow(2,i.canonical.z),u=i.canonical.y;return[new n.MercatorCoordinate(0,u/s).toLngLat().lat,new n.MercatorCoordinate(0,(u+1)/s).toLngLat().lat]}function c3(l,i,s,u,h,f,_){const g=l.context,v=g.gl,A=s.fbo;if(!A)return;l.prepareDrawTile();const M=l.useProgram("hillshade");g.activeTexture.set(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,A.colorAttachment.get());const F=((q,W,L,V)=>{const K=L.paint.get("hillshade-shadow-color"),$=L.paint.get("hillshade-highlight-color"),ce=L.paint.get("hillshade-accent-color");let pe=L.paint.get("hillshade-illumination-direction")*(Math.PI/180);L.paint.get("hillshade-illumination-anchor")==="viewport"&&(pe-=q.transform.angle);const ue=!q.options.moving;return{u_matrix:V||q.transform.calculateProjMatrix(W.tileID.toUnwrapped(),ue),u_image:0,u_latrange:Rs(0,W.tileID),u_light:[L.paint.get("hillshade-exaggeration"),pe],u_shadow:K,u_highlight:$,u_accent:ce}})(l,s,u,l.terrain?i.projMatrix:null);l.prepareDrawProgram(g,M,i.toUnwrapped());const{tileBoundsBuffer:N,tileBoundsIndexBuffer:j,tileBoundsSegments:Z}=l.getTileBoundsBuffers(s);M.draw(g,v.TRIANGLES,h,f,_,n.CullFaceMode.disabled,F,u.id,N,j,Z)}function Bs(l,i,s){if(!i.needsDEMTextureUpload)return;const u=l.context,h=u.gl;u.pixelStoreUnpackPremultiplyAlpha.set(!1),i.demTexture=i.demTexture||l.getTileTexture(s.stride);const f=s.getPixels();i.demTexture?i.demTexture.update(f,{premultiply:!1}):i.demTexture=new n.Texture(u,f,h.RGBA,{premultiply:!1}),i.needsDEMTextureUpload=!1}function u3(l,i,s,u,h,f){const _=l.context,g=_.gl;if(!i.dem)return;const v=i.dem;if(_.activeTexture.set(g.TEXTURE1),Bs(l,i,v),!i.demTexture)return;i.demTexture.bind(g.NEAREST,g.CLAMP_TO_EDGE);const A=v.dim;_.activeTexture.set(g.TEXTURE0);let M=i.fbo;if(!M){const Z=new n.Texture(_,{width:A,height:A,data:null},g.RGBA);Z.bind(g.LINEAR,g.CLAMP_TO_EDGE),M=i.fbo=_.createFramebuffer(A,A,!0),M.colorAttachment.set(Z.texture)}_.bindFramebuffer.set(M.framebuffer),_.viewport.set([0,0,A,A]);const{tileBoundsBuffer:F,tileBoundsIndexBuffer:N,tileBoundsSegments:j}=l.getMercatorTileBoundsBuffers();l.useProgram("hillshadePrepare").draw(_,g.TRIANGLES,u,h,f,n.CullFaceMode.disabled,((Z,q)=>{const W=q.stride,L=n.create();return n.ortho(L,0,n.EXTENT,-n.EXTENT,0,0,1),n.translate(L,L,[0,-n.EXTENT,0]),{u_matrix:L,u_image:1,u_dimension:[W,W],u_zoom:Z.overscaledZ,u_unpack:q.unpackVector}})(i.tileID,v),s.id,F,N,j),i.needsHillshadePrepare=!1}const Ns=l=>({u_matrix:new n.UniformMatrix4f(l),u_image0:new n.Uniform1i(l),u_skirt_height:new n.Uniform1f(l)}),pn=(l,i)=>({u_matrix:l,u_image0:0,u_skirt_height:i}),I5=(l,i,s,u,h,f,_,g,v,A,M,F,N,j,Z)=>({u_proj_matrix:Float32Array.from(l),u_globe_matrix:i,u_normalize_matrix:Float32Array.from(u),u_merc_matrix:s,u_zoom_transition:h,u_merc_center:f,u_image0:0,u_frustum_tl:_,u_frustum_tr:g,u_frustum_br:v,u_frustum_bl:A,u_globe_pos:M,u_globe_radius:F,u_viewport:N,u_grid_matrix:Z?Float32Array.from(Z):new Float32Array(9),u_skirt_height:j});function hn(l,i){return l!=null&&i!=null&&!(!l.hasData()||!i.hasData())&&l.demTexture!=null&&i.demTexture!=null&&l.tileID.key!==i.tileID.key}const uo=new class{constructor(){this.operations={}}newMorphing(l,i,s,u,h){if(l in this.operations){const f=this.operations[l];f.to.tileID.key!==s.tileID.key&&(f.queued=s)}else this.operations[l]={startTime:u,phase:0,duration:h,from:i,to:s,queued:null}}getMorphValuesForProxy(l){if(!(l in this.operations))return null;const i=this.operations[l];return{from:i.from,to:i.to,phase:i.phase}}update(l){for(const i in this.operations){const s=this.operations[i];for(s.phase=(l-s.startTime)/s.duration;s.phase>=1||!this._validOp(s);)if(!this._nextOp(s,l)){delete this.operations[i];break}}}_nextOp(l,i){return!!l.queued&&(l.from=l.to,l.to=l.queued,l.queued=null,l.phase=0,l.startTime=i,!0)}_validOp(l){return l.from.hasData()&&l.to.hasData()}},qo={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function E5(l){return 6*Math.pow(1.5,22-l)}function p3(l,i){const s=1<<l.z;return!i&&(l.x===0||l.x===s-1)||l.y===0||l.y===s-1}const qn=l=>({u_matrix:l});function Os(l,i,s,u,h){if(h>0){const f=n.exported.now(),_=(f-l.timeAdded)/h,g=i?(f-i.timeAdded)/h:-1,v=s.getSource(),A=u.coveringZoomLevel({tileSize:v.tileSize,roundZoom:v.roundZoom}),M=!i||Math.abs(i.tileID.overscaledZ-A)>Math.abs(l.tileID.overscaledZ-A),F=M&&l.refreshedUponExpiration?1:n.clamp(M?_:1-g,0,1);return l.refreshedUponExpiration&&_>=1&&(l.refreshedUponExpiration=!1),i?{opacity:1,mix:1-F}:{opacity:F,mix:0}}return{opacity:1,mix:0}}class Vs extends n.SourceCache{constructor(i){const s={type:"raster-dem",maxzoom:i.transform.maxZoom},u=new xt(W4(),null),h=Gt("mock-dem",s,u,i.style);super("mock-dem",h,!1),h.setEventedParent(this),this._sourceLoaded=!0}_loadTile(i,s){i.state="loaded",s(null)}}class P5 extends n.SourceCache{constructor(i){const s=Gt("proxy",{type:"geojson",maxzoom:i.transform.maxZoom},new xt(W4(),null),i.style);super("proxy",s,!1),s.setEventedParent(this),this.map=this.getSource().map=i,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(i,s,u){if(i.freezeTileCoverage)return;this.transform=i;const h=i.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((f,_)=>{if(f[_.key]="",!this._tiles[_.key]){const g=new n.Tile(_,this._source.tileSize*_.overscaleFactor(),i.tileZoom);g.state="loaded",this._tiles[_.key]=g}return f},{});for(const f in this._tiles)f in h||(this.freeFBO(f),this._tiles[f].unloadVectorData(),delete this._tiles[f])}freeFBO(i){const s=this.proxyCachedFBO[i];if(s!==void 0){const u=Object.values(s);this.renderCachePool.push(...u),delete this.proxyCachedFBO[i]}}deallocRenderCache(){this.renderCache.forEach(i=>i.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class T5 extends n.OverscaledTileID{constructor(i,s,u){super(i.overscaledZ,i.wrap,i.canonical.z,i.canonical.x,i.canonical.y),this.proxyTileKey=s,this.projMatrix=u}}class js extends n.Elevation{constructor(i,s){super(),this.painter=i,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[u,h,f]=function(v){const A=new n.StructArrayLayout2i4,M=new n.StructArrayLayout3ui6,F=131;A.reserve(17161),M.reserve(33800);const N=n.EXTENT/128,j=n.EXTENT+N/2,Z=j+N;for(let W=-N;W<Z;W+=N)for(let L=-N;L<Z;L+=N){const V=L<0||L>j||W<0||W>j?24575:0,K=n.clamp(Math.round(L),0,n.EXTENT),$=n.clamp(Math.round(W),0,n.EXTENT);A.emplaceBack(K+V,$)}const q=(W,L)=>{const V=L*F+W;M.emplaceBack(V+1,V,V+F),M.emplaceBack(V+F,V+F+1,V+1)};for(let W=1;W<129;W++)for(let L=1;L<129;L++)q(L,W);return[0,129].forEach(W=>{for(let L=0;L<130;L++)q(L,W),q(W,L)}),[A,M,32768]}(),_=i.context;this.gridBuffer=_.createVertexBuffer(u,n.posAttributes.members),this.gridIndexBuffer=_.createIndexBuffer(h),this.gridSegments=n.SegmentVector.simpleSegment(0,0,u.length,h.length),this.gridNoSkirtSegments=n.SegmentVector.simpleSegment(0,0,u.length,f),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new P5(s.map),this.orthoMatrix=n.create(),n.ortho(this.orthoMatrix,this.painter.transform.projection.name==="globe"?.015:0,n.EXTENT,0,n.EXTENT,0,1);const g=_.gl;this._overlapStencilMode=new n.StencilMode({func:g.GEQUAL,mask:255},0,255,g.KEEP,g.KEEP,g.REPLACE),this._previousZoom=i.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=s,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new Vs(s.map)}set style(i){i.on("data",this._onStyleDataEvent.bind(this)),i.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=i,this._checkRenderCacheEfficiency(),this._style.map.on("moveend",()=>{this._clearLineLayersFromRenderCache()})}update(i,s,u){if(i&&i.terrain){this._style!==i&&(this.style=i),this.enabled=!0;const h=i.terrain.properties;this.sourceCache=i.terrain.drapeRenderMode===0?this._mockSourceCache:i._getSourceCache(h.get("source")),this._exaggeration=h.get("exaggeration");const f=()=>{this.sourceCache.used&&n.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.
This leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const _=this.getScaledDemTileSize();this.sourceCache.update(s,_,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,f(),this._initializing=!0),f(),s.updateElevation(!0,u),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(s),this._emptyDEMTextureDirty=!0}else this._disable()}resetTileLookupCache(i){this._findCoveringTileCache[i]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const i=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||i.efficiency!==100&&n.warnOnce(`Terrain render cache efficiency is not optimal (${i.efficiency}%) and performance
                may be affected negatively, consider placing all background, fill and line layers before layer
                with id '${i.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(i){i.coord&&i.dataType==="source"?this._clearRenderCacheForTile(i.sourceCacheId,i.coord):i.dataType==="style"&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const i in this._style._sourceCaches)this._style._sourceCaches[i].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach(i=>i.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const i=2*this.proxySourceCache.getSource().tileSize;return[i,i]}set useVertexMorphing(i){this._useVertexMorphing=i}updateTileBinding(i){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const s=this.proxySourceCache,u=this.painter.transform;this._initializing&&(this._initializing=u._centerAltitude===0&&this.getAtPointOrZero(n.MercatorCoordinate.fromLngLat(u.center),-1)===-1,this._emptyDEMTextureDirty=!this._initializing);const h=this.proxyCoords=s.getIds().map(v=>{const A=s.getTileByID(v).tileID;return A.projMatrix=u.calculateProjMatrix(A.toUnwrapped()),A});(function(v,A){const M=A.transform.pointCoordinate(A.transform.getCameraPoint()),F=new n.Point(M.x,M.y);v.sort((N,j)=>{if(j.overscaledZ-N.overscaledZ)return j.overscaledZ-N.overscaledZ;const Z=new n.Point(N.canonical.x+(1<<N.canonical.z)*N.wrap,N.canonical.y),q=new n.Point(j.canonical.x+(1<<j.canonical.z)*j.wrap,j.canonical.y),W=F.mult(1<<N.canonical.z);return W.x-=.5,W.y-=.5,W.distSqr(Z)-W.distSqr(q)})})(h,this.painter),this._previousZoom=u.zoom;const f=this.proxyToSource||{};this.proxyToSource={},h.forEach(v=>{this.proxyToSource[v.key]={}}),this.terrainTileForTile={};const _=this._style._sourceCaches;for(const v in _){const A=_[v];if(!A.used||(A!==this.sourceCache&&this.resetTileLookupCache(A.id),this._setupProxiedCoordsForOrtho(A,i[v],f),A.usedForTerrain))continue;const M=i[v];A.getSource().reparseOverscaled&&this._assignTerrainTiles(M)}this.proxiedCoords[s.id]=h.map(v=>new T5(v,v.key,this.orthoMatrix)),this._assignTerrainTiles(h),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(f),this.renderingToTexture=!1,this._updateTimestamp=n.exported.now();const g={};this._visibleDemTiles=[];for(const v of this.proxyCoords){const A=this.terrainTileForTile[v.key];if(!A)continue;const M=A.tileID.key;M in g||(this._visibleDemTiles.push(A),g[M]=M)}}_assignTerrainTiles(i){this._initializing||i.forEach(s=>{if(this.terrainTileForTile[s.key])return;const u=this._findTileCoveringTileID(s,this.sourceCache);u&&(this.terrainTileForTile[s.key]=u)})}_prepareDEMTextures(){const i=this.painter.context,s=i.gl;for(const u in this.terrainTileForTile){const h=this.terrainTileForTile[u],f=h.dem;!f||h.demTexture&&!h.needsDEMTextureUpload||(i.activeTexture.set(s.TEXTURE1),Bs(this.painter,h,f))}}_prepareDemTileUniforms(i,s,u,h){if(!s||s.demTexture==null)return!1;const f=i.tileID.canonical,_=Math.pow(2,s.tileID.canonical.z-f.z),g=h||"";return u[`u_dem_tl${g}`]=[f.x*_%1,f.y*_%1],u[`u_dem_scale${g}`]=_,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const i=this.painter.context,s=i.gl;if(!this._emptyDepthBufferTexture){const u=new n.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new n.Texture(i,u,s.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let i=0;const s=this._visibleDemTiles.reduce((u,h)=>{if(!h.dem)return u;const f=h.dem.tree.minimums[0];return f>0&&i++,u+f},0);return i?s/i:0}_updateEmptyDEMTexture(){const i=this.painter.context,s=i.gl;i.activeTexture.set(s.TEXTURE2);const u=this._getLoadedAreaMinimum(),h=new n.RGBAImage({width:1,height:1},new Uint8Array(n.DEMData.pack(u,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let f=this._emptyDEMTexture;return f?f.update(h,{premultiply:!1}):f=this._emptyDEMTexture=new n.Texture(i,h,s.RGBA,{premultiply:!1}),f}setupElevationDraw(i,s,u){const h=this.painter.context,f=h.gl,_=(g=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:n.DEMData.getUnpackVector(g),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var g;_.u_dem_size=this.sourceCache.getSource().tileSize,_.u_exaggeration=this.exaggeration();let v=null,A=null,M=1;if(u&&u.morphing&&this._useVertexMorphing){const F=u.morphing.srcDemTile,N=u.morphing.dstDemTile;M=u.morphing.phase,F&&N&&(this._prepareDemTileUniforms(i,F,_,"_prev")&&(A=F),this._prepareDemTileUniforms(i,N,_)&&(v=N))}if(A&&v?(h.activeTexture.set(f.TEXTURE2),v.demTexture.bind(f.NEAREST,f.CLAMP_TO_EDGE,f.NEAREST),h.activeTexture.set(f.TEXTURE4),A.demTexture.bind(f.NEAREST,f.CLAMP_TO_EDGE,f.NEAREST),_.u_dem_lerp=M):(v=this.terrainTileForTile[i.tileID.key],h.activeTexture.set(f.TEXTURE2),(this._prepareDemTileUniforms(i,v,_)?v.demTexture:this.emptyDEMTexture).bind(f.NEAREST,f.CLAMP_TO_EDGE)),h.activeTexture.set(f.TEXTURE3),u&&u.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(f.NEAREST,f.CLAMP_TO_EDGE),this._depthFBO&&(_.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(f.NEAREST,f.CLAMP_TO_EDGE),_.u_depth_size_inv=[1,1]),u&&u.useMeterToDem&&v){const F=(1<<v.tileID.canonical.z)*n.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;_.u_meter_to_dem=F}if(u&&u.labelPlaneMatrixInv&&(_.u_label_plane_matrix_inv=u.labelPlaneMatrixInv),s.setTerrainUniformValues(h,_),this.painter.transform.projection.name==="globe"){const F=this.globeUniformValues(this.painter.transform,i.tileID.canonical,u&&u.useDenormalizedUpVectorScale);s.setGlobeUniformValues(h,F)}}globeUniformValues(i,s,u){const h=i.projection;return{u_tile_tl_up:h.upVector(s,0,0),u_tile_tr_up:h.upVector(s,n.EXTENT,0),u_tile_br_up:h.upVector(s,n.EXTENT,n.EXTENT),u_tile_bl_up:h.upVector(s,0,n.EXTENT),u_tile_up_scale:u?n.globeMetersToEcef(1):h.upVectorScale(s,i.center.lat,i.worldSize).metersToTile}}renderToBackBuffer(i){const s=this.painter,u=this.painter.context;i.length!==0&&(u.bindFramebuffer.set(null),u.viewport.set([0,0,s.width,s.height]),s.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(h,f,_,g,v){if(h.transform.projection.name==="globe")(function(A,M,F,N,j){const Z=A.context,q=Z.gl;let W,L;const V=A.options.showTerrainWireframe?2:0,K=A.transform,$=n.globeUseCustomAntiAliasing(A,Z,K),ce=(Je,Ie)=>{if(L===Je)return;const Oe=[qo[Je],"PROJECTION_GLOBE_VIEW"];$&&Oe.push("CUSTOM_ANTIALIASING"),Ie&&Oe.push(qo[V]),W=A.useProgram("globeRaster",null,Oe),L=Je},pe=A.colorModeForRenderPass(),ue=new n.DepthMode(q.LEQUAL,n.DepthMode.ReadWrite,A.depthRangeFor3D);uo.update(j);const ge=n.calculateGlobeMercatorMatrix(K),_e=[n.mercatorXfromLng(K.center.lng),n.mercatorYfromLat(K.center.lat)],Ee=V?[!1,!0]:[!1],et=A.globeSharedBuffers,De=[K.width*n.exported.devicePixelRatio,K.height*n.exported.devicePixelRatio],Ve=Float32Array.from(K.globeMatrix),Fe={useDenormalizedUpVectorScale:!0};if(Ee.forEach(Je=>{const Ie=A.transform,Oe=E5(Ie.zoom)*M.exaggeration();L=-1;const it=Je?q.LINES:q.TRIANGLES;for(const We of N){const nt=F.getTile(We),Ft=n.StencilMode.disabled,qt=M.prevTerrainTileForTile[We.key],St=M.terrainTileForTile[We.key];hn(qt,St)&&uo.newMorphing(We.key,qt,St,j,250),Z.activeTexture.set(q.TEXTURE0),nt.texture.bind(q.LINEAR,q.CLAMP_TO_EDGE);const Rt=uo.getMorphValuesForProxy(We.key),n4=Rt?1:0;Rt&&n.extend$1(Fe,{morphing:{srcDemTile:Rt.from,dstDemTile:Rt.to,phase:n.easeCubicInOut(Rt.phase)}});const r4=n.tileCornersToBounds(We.canonical),Tt=n.getLatitudinalLod(r4.getCenter().lat),A4=n.getGridMatrix(We.canonical,r4,Tt,Ie.worldSize/Ie._pixelsPerMercatorPixel),F4=n.globeNormalizeECEF(n.globeTileBounds(We.canonical)),L4=I5(Ie.projMatrix,Ve,ge,F4,n.globeToMercatorTransition(Ie.zoom),_e,Ie.frustumCorners.TL,Ie.frustumCorners.TR,Ie.frustumCorners.BR,Ie.frustumCorners.BL,Ie.globeCenterInViewSpace,Ie.globeRadius,De,Oe,A4);if(ce(n4,Je),M.setupElevationDraw(nt,W,Fe),A.prepareDrawProgram(Z,W,We.toUnwrapped()),et){const[k4,Qr,zr]=Je?et.getWirefameBuffers(A.context,Tt):et.getGridBuffers(Tt,Oe!==0);W.draw(Z,it,ue,Ft,pe,n.CullFaceMode.backCCW,L4,"globe_raster",k4,Qr,zr)}}}),et){const Je=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];$&&Je.push("CUSTOM_ANTIALIASING"),W=A.useProgram("globeRaster",null,Je);for(const Ie of N){const{x:Oe,y:it,z:We}=Ie.canonical,nt=it===0,Ft=it===(1<<We)-1,[qt,St,Rt,n4]=et.getPoleBuffers(We);if(n4&&(nt||Ft)){const r4=F.getTile(Ie);Z.activeTexture.set(q.TEXTURE0),r4.texture.bind(q.LINEAR,q.CLAMP_TO_EDGE);let Tt=n.globePoleMatrixForTile(We,Oe,K);const A4=n.globeNormalizeECEF(n.globeTileBounds(Ie.canonical)),F4=(L4,k4)=>L4.draw(Z,q.TRIANGLES,ue,n.StencilMode.disabled,pe,n.CullFaceMode.disabled,I5(K.projMatrix,Tt,Tt,A4,0,_e,K.frustumCorners.TL,K.frustumCorners.TR,K.frustumCorners.BR,K.frustumCorners.BL,K.globeCenterInViewSpace,K.globeRadius,De,0),"globe_pole_raster",k4,Rt,n4);M.setupElevationDraw(r4,W,Fe),A.prepareDrawProgram(Z,W,Ie.toUnwrapped()),nt&&F4(W,qt),Ft&&(Tt=n.scale(n.create(),Tt,[1,-1,1]),F4(W,St))}}}})(h,f,_,g,v);else{const A=h.context,M=A.gl;let F,N;const j=h.options.showTerrainWireframe?2:0,Z=(K,$)=>{if(N===K)return;const ce=[qo[K]];$&&ce.push(qo[j]),F=h.useProgram("terrainRaster",null,ce),N=K},q=h.colorModeForRenderPass(),W=new n.DepthMode(M.LEQUAL,n.DepthMode.ReadWrite,h.depthRangeFor3D);uo.update(v);const L=h.transform,V=E5(L.zoom)*f.exaggeration();(j?[!1,!0]:[!1]).forEach(K=>{N=-1;const $=K?M.LINES:M.TRIANGLES,[ce,pe]=K?f.getWirefameBuffer():[f.gridIndexBuffer,f.gridSegments];for(const ue of g){const ge=_.getTile(ue),_e=n.StencilMode.disabled,Ee=f.prevTerrainTileForTile[ue.key],et=f.terrainTileForTile[ue.key];hn(Ee,et)&&uo.newMorphing(ue.key,Ee,et,v,250),A.activeTexture.set(M.TEXTURE0),ge.texture.bind(M.LINEAR,M.CLAMP_TO_EDGE,M.LINEAR_MIPMAP_NEAREST);const De=uo.getMorphValuesForProxy(ue.key),Ve=De?1:0;let Fe;De&&(Fe={morphing:{srcDemTile:De.from,dstDemTile:De.to,phase:n.easeCubicInOut(De.phase)}});const Je=pn(ue.projMatrix,p3(ue.canonical,L.renderWorldCopies)?V/10:V);Z(Ve,K),f.setupElevationDraw(ge,F,Fe),h.prepareDrawProgram(A,F,ue.toUnwrapped()),F.draw(A,$,W,_e,q,n.CullFaceMode.backCCW,Je,"terrain_raster",f.gridBuffer,ce,pe)}})}}(s,this,this.proxySourceCache,i,this._updateTimestamp),this.renderingToTexture=!0,s.gpuTimingDeferredRenderEnd(),i.splice(0,i.length))}renderBatch(i){if(this._drapedRenderBatches.length===0)return i+1;this.renderingToTexture=!0;const s=this.painter,u=this.painter.context,h=this.proxySourceCache,f=this.proxiedCoords[h.id],_=this._drapedRenderBatches.shift(),g=[],v=s.style.order;let A=0;for(const M of f){const F=h.getTileByID(M.proxyTileKey),N=h.proxyCachedFBO[M.key]?h.proxyCachedFBO[M.key][i]:void 0,j=N!==void 0?h.renderCache[N]:this.pool[A++],Z=N!==void 0;if(F.texture=j.tex,Z&&!j.dirty){g.push(F.tileID);continue}let q;u.bindFramebuffer.set(j.fb.framebuffer),this.renderedToTile=!1,j.dirty&&(u.clear({color:n.Color.transparent,stencil:0}),j.dirty=!1);for(let W=_.start;W<=_.end;++W){const L=s.style._layers[v[W]];if(L.isHidden(s.transform.zoom))continue;const V=s.style._getLayerSourceCache(L),K=V?this.proxyToSource[M.key][V.id]:[M];if(!K)continue;const $=K;u.viewport.set([0,0,j.fb.width,j.fb.height]),q!==(V?V.id:null)&&(this._setupStencil(j,K,L,V),q=V?V.id:null),s.renderLayer(s,V,L,$)}this.renderedToTile?(j.dirty=!0,g.push(F.tileID)):Z||--A,A===5&&(A=0,this.renderToBackBuffer(g))}return this.renderToBackBuffer(g),this.renderingToTexture=!1,u.bindFramebuffer.set(null),u.viewport.set([0,0,s.width,s.height]),_.end+1}postRender(){}renderCacheEfficiency(i){const s=i.order.length;if(s===0)return{efficiency:100};let u,h=0,f=0,_=!1;for(let g=0;g<s;++g){const v=i._layers[i.order[g]];this._style.isLayerDraped(v)?(_&&++h,++f):_||(_=!0,u=v.id)}return f===0?{efficiency:100}:{efficiency:100*(1-h/f),firstUndrapedLayer:u}}getMinElevationBelowMSL(){let i=0;return this._visibleDemTiles.filter(s=>s.dem).forEach(s=>{i=Math.min(i,s.dem.tree.minimums[0])}),i===0?i:(i-30)*this._exaggeration}raycast(i,s,u){if(!this._visibleDemTiles)return null;const h=this._visibleDemTiles.filter(f=>f.dem).map(f=>{const _=f.tileID,g=1<<_.overscaledZ,{x:v,y:A}=_.canonical,M=v/g,F=(v+1)/g,N=A/g,j=(A+1)/g;return{minx:M,miny:N,maxx:F,maxy:j,t:f.dem.tree.raycastRoot(M,N,F,j,i,s,u),tile:f}});h.sort((f,_)=>(f.t!==null?f.t:Number.MAX_VALUE)-(_.t!==null?_.t:Number.MAX_VALUE));for(const f of h){if(f.t==null)return null;const _=f.tile.dem.tree.raycast(f.minx,f.miny,f.maxx,f.maxy,i,s,u);if(_!=null)return _}return null}_createFBO(){const i=this.painter.context,s=i.gl,u=this.drapeBufferSize;i.activeTexture.set(s.TEXTURE0);const h=new n.Texture(i,{width:u[0],height:u[1],data:null},s.RGBA);h.bind(s.LINEAR,s.CLAMP_TO_EDGE);const f=i.createFramebuffer(u[0],u[1],!1);return f.colorAttachment.set(h.texture),f.depthAttachment=new de(i,f.framebuffer),this._sharedDepthStencil===void 0?(this._sharedDepthStencil=i.createRenderbuffer(i.gl.DEPTH_STENCIL,u[0],u[1]),this._stencilRef=0,f.depthAttachment.set(this._sharedDepthStencil),i.clear({stencil:0})):f.depthAttachment.set(this._sharedDepthStencil),i.extTextureFilterAnisotropic&&!i.extTextureFilterAnisotropicForceOff&&s.texParameterf(s.TEXTURE_2D,i.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,i.extTextureFilterAnisotropicMax),{fb:f,tex:h,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const i in this._style._sourceCaches)if(this._style._sourceCaches[i].hasTransition())return!0;return this._style.order.some(i=>{const s=this._style._layers[i],u=s.isHidden(this.painter.transform.zoom);return s.type==="custom"?!u&&s.shouldRedrape():!u&&s.hasTransition()})}_clearLineLayersFromRenderCache(){let i=!1;for(const u of this._style._getSources())if(u instanceof lt){i=!0;break}if(!i)return;const s={};for(let u=0;u<this._style.order.length;++u){const h=this._style._layers[this._style.order[u]],f=this._style._getLayerSourceCache(h);if(f&&!s[f.id]&&!h.isHidden(this.painter.transform.zoom)&&h.type==="line"&&h.widthExpression()instanceof n.ZoomDependentExpression){s[f.id]=!0;for(const _ of this.proxyCoords){const g=this.proxyToSource[_.key][f.id];if(g)for(const v of g)this._clearRenderCacheForTile(f.id,v)}}}}_clearRasterLayersFromRenderCache(){let i=!1;for(const u in this._style._sourceCaches)if(this._style._sourceCaches[u]._source instanceof Ke){i=!0;break}if(!i)return;const s={};for(let u=0;u<this._style.order.length;++u){const h=this._style._layers[this._style.order[u]],f=this._style._getLayerSourceCache(h);if(!f||s[f.id]||h.isHidden(this.painter.transform.zoom)||h.type!=="raster")continue;const _=h.paint.get("raster-fade-duration");for(const g of this.proxyCoords){const v=this.proxyToSource[g.key][f.id];if(v)for(const A of v){const M=Os(f.getTile(A),f.findLoadedParent(A,0),f,this.painter.transform,_);(M.opacity!==1||M.mix!==0)&&this._clearRenderCacheForTile(f.id,A)}}}}_setupDrapedRenderBatches(){const i=this._style.order,s=i.length;if(s===0)return;const u=[];let h,f=0,_=this._style._layers[i[f]];for(;!this._style.isLayerDraped(_)&&_.isHidden(this.painter.transform.zoom)&&++f<s;)_=this._style._layers[i[f]];for(;f<s;++f){const g=this._style._layers[i[f]];g.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(g)?h===void 0&&(h=f):h!==void 0&&(u.push({start:h,end:f-1}),h=void 0))}h!==void 0&&u.push({start:h,end:f-1}),this._drapedRenderBatches=u}_setupRenderCache(i){const s=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,s.renderCache.length>s.renderCachePool.length){const _=Object.values(s.proxyCachedFBO);s.proxyCachedFBO={};for(let g=0;g<_.length;++g){const v=Object.values(_[g]);s.renderCachePool.push(...v)}}return}this._clearRasterLayersFromRenderCache();const u=this.proxyCoords,h=this._tilesDirty;for(let _=u.length-1;_>=0;_--){const g=u[_];if(s.getTileByID(g.key),s.proxyCachedFBO[g.key]!==void 0){const v=i[g.key],A=this.proxyToSource[g.key];let M=0;for(const F in A){const N=A[F],j=v[F];if(!j||j.length!==N.length||N.some((Z,q)=>Z!==j[q]||h[F]&&h[F].hasOwnProperty(Z.key))){M=-1;break}++M}for(const F in s.proxyCachedFBO[g.key])s.renderCache[s.proxyCachedFBO[g.key][F]].dirty=M<0||M!==Object.values(v).length}}const f=[...this._drapedRenderBatches];f.sort((_,g)=>g.end-g.start-(_.end-_.start));for(const _ of f)for(const g of u){if(s.proxyCachedFBO[g.key])continue;let v=s.renderCachePool.pop();v===void 0&&s.renderCache.length<50&&(v=s.renderCache.length,s.renderCache.push(this._createFBO())),v!==void 0&&(s.proxyCachedFBO[g.key]={},s.proxyCachedFBO[g.key][_.start]=v,s.renderCache[v].dirty=!0)}this._tilesDirty={}}_setupStencil(i,s,u,h){if(!h||!this._sourceTilesOverlap[h.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const f=this.painter.context,_=f.gl;if(s.length<=1)return void(this._overlapStencilType=!1);let g;if(u.isTileClipped())g=s.length,this._overlapStencilMode.test={func:_.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(s[0].overscaledZ>s[s.length-1].overscaledZ))return void(this._overlapStencilType=!1);g=1,this._overlapStencilMode.test={func:_.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+g>255&&(f.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=g,this._overlapStencilMode.ref=this._stencilRef,u.isTileClipped()&&this._renderTileClippingMasks(s,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return this._overlapStencilType==="Clip"||this._overlapStencilType==="Mask"}stencilModeForRTTOverlap(i){return this.renderingToTexture&&this._overlapStencilType?(this._overlapStencilType==="Clip"&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[i.key]),this._overlapStencilMode):n.StencilMode.disabled}_renderTileClippingMasks(i,s){const u=this.painter,h=this.painter.context,f=h.gl;u._tileClippingMaskIDs={},h.setColorMode(n.ColorMode.disabled),h.setDepthMode(n.DepthMode.disabled);const _=u.useProgram("clippingMask");for(const g of i){const v=u._tileClippingMaskIDs[g.key]=--s;_.draw(h,f.TRIANGLES,n.DepthMode.disabled,new n.StencilMode({func:f.ALWAYS,mask:0},v,255,f.KEEP,f.KEEP,f.REPLACE),n.ColorMode.disabled,n.CullFaceMode.disabled,qn(g.projMatrix),"$clipping",u.tileExtentBuffer,u.quadTriangleIndexBuffer,u.tileExtentSegments)}}pointCoordinate(i){const s=this.painter.transform;if(i.x<0||i.x>s.width||i.y<0||i.y>s.height)return null;const u=[i.x,i.y,1,1];n.transformMat4$1(u,u,s.pixelMatrixInverse),n.scale$1(u,u,1/u[3]),u[0]/=s.worldSize,u[1]/=s.worldSize;const h=s._camera.position,f=n.mercatorZfromAltitude(1,s.center.lat),_=[h[0],h[1],h[2]/f,0],g=n.subtract([],u.slice(0,3),_);n.normalize(g,g);const v=this.raycast(_,g,this._exaggeration);return v!==null&&v?(n.scaleAndAdd(_,_,g,v),_[3]=_[2],_[2]*=f,_):null}drawDepth(){const i=this.painter,s=i.context,u=this.proxySourceCache,h=Math.ceil(i.width),f=Math.ceil(i.height);if(!this._depthFBO||this._depthFBO.width===h&&this._depthFBO.height===f||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const _=s.gl,g=s.createFramebuffer(h,f,!0);s.activeTexture.set(_.TEXTURE0);const v=new n.Texture(s,{width:h,height:f,data:null},_.RGBA);v.bind(_.NEAREST,_.CLAMP_TO_EDGE),g.colorAttachment.set(v.texture);const A=s.createRenderbuffer(s.gl.DEPTH_COMPONENT16,h,f);g.depthAttachment.set(A),this._depthFBO=g,this._depthTexture=v}s.bindFramebuffer.set(this._depthFBO.framebuffer),s.viewport.set([0,0,h,f]),function(_,g,v,A){if(_.transform.projection.name==="globe")return;const M=_.context,F=M.gl;M.clear({depth:1});const N=_.useProgram("terrainDepth"),j=new n.DepthMode(F.LESS,n.DepthMode.ReadWrite,_.depthRangeFor3D);for(const Z of A){const q=v.getTile(Z),W=pn(Z.projMatrix,0);g.setupElevationDraw(q,N),N.draw(M,F.TRIANGLES,j,n.StencilMode.disabled,n.ColorMode.unblended,n.CullFaceMode.backCCW,W,"terrain_depth",g.gridBuffer,g.gridIndexBuffer,g.gridNoSkirtSegments)}}(i,this,u,this.proxyCoords)}_setupProxiedCoordsForOrtho(i,s,u){if(i.getSource()instanceof Ut)return this._setupProxiedCoordsForImageSource(i,s,u);this._findCoveringTileCache[i.id]=this._findCoveringTileCache[i.id]||{};const h=this.proxiedCoords[i.id]=[],f=this.proxyCoords;for(let g=0;g<f.length;g++){const v=f[g],A=this._findTileCoveringTileID(v,i);if(A){const M=this._createProxiedId(v,A,u[v.key]&&u[v.key][i.id]);h.push(M),this.proxyToSource[v.key][i.id]=[M]}}let _=!1;for(let g=0;g<s.length;g++){const v=i.getTile(s[g]);if(!v||!v.hasData())continue;const A=this._findTileCoveringTileID(v.tileID,this.proxySourceCache);if(A&&A.tileID.canonical.z!==v.tileID.canonical.z){const M=this.proxyToSource[A.tileID.key][i.id],F=this._createProxiedId(A.tileID,v,u[A.tileID.key]&&u[A.tileID.key][i.id]);M?M.splice(M.length-1,0,F):this.proxyToSource[A.tileID.key][i.id]=[F],h.push(F),_=!0}}this._sourceTilesOverlap[i.id]=_}_setupProxiedCoordsForImageSource(i,s,u){if(!i.getSource().loaded())return;const h=this.proxiedCoords[i.id]=[],f=this.proxyCoords,_=i.getSource(),g=new n.Point(_.tileID.x,_.tileID.y)._div(1<<_.tileID.z),v=_.coordinates.map(n.MercatorCoordinate.fromLngLat).reduce((M,F)=>(M.min.x=Math.min(M.min.x,F.x-g.x),M.min.y=Math.min(M.min.y,F.y-g.y),M.max.x=Math.max(M.max.x,F.x-g.x),M.max.y=Math.max(M.max.y,F.y-g.y),M),{min:new n.Point(Number.MAX_VALUE,Number.MAX_VALUE),max:new n.Point(-Number.MAX_VALUE,-Number.MAX_VALUE)}),A=(M,F)=>{const N=M.wrap+M.canonical.x/(1<<M.canonical.z),j=M.canonical.y/(1<<M.canonical.z),Z=n.EXTENT/(1<<M.canonical.z),q=F.wrap+F.canonical.x/(1<<F.canonical.z),W=F.canonical.y/(1<<F.canonical.z);return N+Z<q+v.min.x||N>q+v.max.x||j+Z<W+v.min.y||j>W+v.max.y};for(let M=0;M<f.length;M++){const F=f[M];for(let N=0;N<s.length;N++){const j=i.getTile(s[N]);if(!j||!j.hasData()||A(F,j.tileID))continue;const Z=this._createProxiedId(F,j,u[F.key]&&u[F.key][i.id]),q=this.proxyToSource[F.key][i.id];q?q.push(Z):this.proxyToSource[F.key][i.id]=[Z],h.push(Z)}}}_createProxiedId(i,s,u){let h=this.orthoMatrix;if(u){const f=u.find(_=>_.key===s.tileID.key);if(f)return f}if(s.tileID.key!==i.key){const f=i.canonical.z-s.tileID.canonical.z;let _,g,v;h=n.create();const A=s.tileID.wrap-i.wrap<<i.overscaledZ;f>0?(_=n.EXTENT>>f,g=_*((s.tileID.canonical.x<<f)-i.canonical.x+A),v=_*((s.tileID.canonical.y<<f)-i.canonical.y)):(_=n.EXTENT<<-f,g=n.EXTENT*(s.tileID.canonical.x-(i.canonical.x+A<<-f)),v=n.EXTENT*(s.tileID.canonical.y-(i.canonical.y<<-f))),n.ortho(h,0,_,0,_,0,1),n.translate(h,h,[g,v,0])}return new T5(s.tileID,i.key,h)}_findTileCoveringTileID(i,s){let u=s.getTile(i);if(u&&u.hasData())return u;const h=this._findCoveringTileCache[s.id],f=h[i.key];if(u=f?s.getTileByID(f):null,u&&u.hasData()||f===null)return u;let _=u?u.tileID:i,g=_.overscaledZ;const v=s.getSource().minzoom,A=[];if(!f){const F=s.getSource().maxzoom;if(i.canonical.z>=F){const N=i.canonical.z-F;s.getSource().reparseOverscaled?(g=Math.max(i.canonical.z+2,s.transform.tileZoom),_=new n.OverscaledTileID(g,i.wrap,F,i.canonical.x>>N,i.canonical.y>>N)):N!==0&&(g=F,_=new n.OverscaledTileID(g,i.wrap,F,i.canonical.x>>N,i.canonical.y>>N))}_.key!==i.key&&(A.push(_.key),u=s.getTile(_))}const M=F=>{A.forEach(N=>{h[N]=F}),A.length=0};for(g-=1;g>=v&&(!u||!u.hasData());g--){u&&M(u.tileID.key);const F=_.calculateScaledKey(g);if(u=s.getTileByID(F),u&&u.hasData())break;const N=h[F];if(N===null)break;N===void 0?A.push(F):u=s.getTileByID(N)}return M(u?u.tileID.key:null),u&&u.hasData()?u:null}findDEMTileFor(i){return this.enabled?this._findTileCoveringTileID(i,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(i,s){let u=this._tilesDirty[i];u||(u=this._tilesDirty[i]={}),u[s.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const i=function(s){let u=0;const h=new n.StructArrayLayout2ui4,f=131;for(let _=1;_<129;_++){for(let g=1;g<129;g++)u=_*f+g,h.emplaceBack(u,u+1),h.emplaceBack(u,u+f),h.emplaceBack(u+1,u+f),_===128&&h.emplaceBack(u+f,u+f+1);h.emplaceBack(u+1,u+1+f)}return h}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(i),this.wireframeSegments=n.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,i.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}class u4{static cacheKey(i,s,u,h){let f=`${s}${h?h.cacheKey:""}`;for(const _ of u)i.usedDefines.includes(_)&&(f+=`/${_}`);return f}constructor(i,s,u,h,f,_){const g=i.gl;this.program=g.createProgram();const v=function(L){const V=[];for(let K=0;K<L.length;K++){if(L[K]===null)continue;const $=L[K].split(" ");V.push($.pop())}return V}(u.staticAttributes),A=h?h.getBinderAttributes():[],M=v.concat(A);let F=h?h.defines():[];F=F.concat(_.map(L=>`#define ${L}`));const N=i.isWebGL2?`#version 300 es
`:"",j=N+F.concat(i.extStandardDerivatives&&N.length===0?`#extension GL_OES_standard_derivatives : enable
`.concat(Us):Us,Us,A5,l3.fragmentSource,cn.fragmentSource,u.fragmentSource).join(`
`),Z=N+F.concat(`
#ifdef GL_ES
precision highp float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`,A5,l3.vertexSource,cn.vertexSource,M5.vertexSource,u.vertexSource).join(`
`),q=g.createShader(g.FRAGMENT_SHADER);if(g.isContextLost())return void(this.failedToCreate=!0);g.shaderSource(q,j),g.compileShader(q),g.attachShader(this.program,q);const W=g.createShader(g.VERTEX_SHADER);if(g.isContextLost())this.failedToCreate=!0;else{g.shaderSource(W,Z),g.compileShader(W),g.attachShader(this.program,W),this.attributes={},this.numAttributes=M.length;for(let L=0;L<this.numAttributes;L++)M[L]&&(g.bindAttribLocation(this.program,L,M[L]),this.attributes[M[L]]=L);g.linkProgram(this.program),g.deleteShader(W),g.deleteShader(q),this.fixedUniforms=f(i),this.binderUniforms=h?h.getUniforms(i):[],_.includes("TERRAIN")&&(this.terrainUniforms=(L=>({u_dem:new n.Uniform1i(L),u_dem_prev:new n.Uniform1i(L),u_dem_unpack:new n.Uniform4f(L),u_dem_tl:new n.Uniform2f(L),u_dem_scale:new n.Uniform1f(L),u_dem_tl_prev:new n.Uniform2f(L),u_dem_scale_prev:new n.Uniform1f(L),u_dem_size:new n.Uniform1f(L),u_dem_lerp:new n.Uniform1f(L),u_exaggeration:new n.Uniform1f(L),u_depth:new n.Uniform1i(L),u_depth_size_inv:new n.Uniform2f(L),u_meter_to_dem:new n.Uniform1f(L),u_label_plane_matrix_inv:new n.UniformMatrix4f(L)}))(i)),_.includes("GLOBE")&&(this.globeUniforms=(L=>({u_tile_tl_up:new n.Uniform3f(L),u_tile_tr_up:new n.Uniform3f(L),u_tile_br_up:new n.Uniform3f(L),u_tile_bl_up:new n.Uniform3f(L),u_tile_up_scale:new n.Uniform1f(L)}))(i)),_.includes("FOG")&&(this.fogUniforms=(L=>({u_fog_matrix:new n.UniformMatrix4f(L),u_fog_range:new n.Uniform2f(L),u_fog_color:new n.Uniform4f(L),u_fog_horizon_blend:new n.Uniform1f(L),u_fog_temporal_offset:new n.Uniform1f(L),u_frustum_tl:new n.Uniform3f(L),u_frustum_tr:new n.Uniform3f(L),u_frustum_br:new n.Uniform3f(L),u_frustum_bl:new n.Uniform3f(L),u_globe_pos:new n.Uniform3f(L),u_globe_radius:new n.Uniform1f(L),u_globe_transition:new n.Uniform1f(L),u_is_globe:new n.Uniform1i(L),u_viewport:new n.Uniform2f(L)}))(i))}}setTerrainUniformValues(i,s){if(!this.terrainUniforms)return;const u=this.terrainUniforms;if(!this.failedToCreate){i.program.set(this.program);for(const h in s)u[h]&&u[h].set(this.program,h,s[h])}}setGlobeUniformValues(i,s){if(!this.globeUniforms)return;const u=this.globeUniforms;if(!this.failedToCreate){i.program.set(this.program);for(const h in s)u[h]&&u[h].set(this.program,h,s[h])}}setFogUniformValues(i,s){if(!this.fogUniforms)return;const u=this.fogUniforms;if(!this.failedToCreate){i.program.set(this.program);for(const h in s)u[h].set(this.program,h,s[h])}}draw(i,s,u,h,f,_,g,v,A,M,F,N,j,Z,q){const W=i.gl;if(this.failedToCreate)return;i.program.set(this.program),i.setDepthMode(u),i.setStencilMode(h),i.setColorMode(f),i.setCullFace(_);for(const V of Object.keys(this.fixedUniforms))this.fixedUniforms[V].set(this.program,V,g[V]);Z&&Z.setUniforms(this.program,i,this.binderUniforms,N,{zoom:j});const L={[W.LINES]:2,[W.TRIANGLES]:3,[W.LINE_STRIP]:1}[s];for(const V of F.get()){const K=V.vaos||(V.vaos={});(K[v]||(K[v]=new Ga)).bind(i,this,A,Z?Z.getPaintVertexBuffers():[],M,V.vertexOffset,q||[]),W.drawElements(s,V.primitiveLength*L,W.UNSIGNED_SHORT,V.primitiveOffset*L*2)}}}function Zn(l,i){const s=Math.pow(2,i.tileID.overscaledZ),u=i.tileSize*Math.pow(2,l.transform.tileZoom)/s,h=u*(i.tileID.canonical.x+i.tileID.wrap*s),f=u*i.tileID.canonical.y;return{u_image:0,u_texsize:i.imageAtlasTexture.size,u_tile_units_to_pixels:1/Zt(i,1,l.transform.tileZoom),u_pixel_coord_upper:[h>>16,f>>16],u_pixel_coord_lower:[65535&h,65535&f]}}const h3=n.create(),Gs=(l,i,s,u,h,f,_,g,v,A,M)=>{const F=i.style.light,N=F.properties.get("position"),j=[N.x,N.y,N.z],Z=n.create$1();F.properties.get("anchor")==="viewport"&&(n.fromRotation(Z,-i.transform.angle),n.transformMat3(j,j,Z));const q=F.properties.get("color"),W=i.transform,L={u_matrix:l,u_lightpos:j,u_lightintensity:F.properties.get("intensity"),u_lightcolor:[q.r,q.g,q.b],u_vertical_gradient:+s,u_opacity:u,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:h3,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:h,u_edge_radius:f};return W.projection.name==="globe"&&(L.u_tile_id=[_.canonical.x,_.canonical.y,1<<_.canonical.z],L.u_zoom_transition=v,L.u_inv_rot_matrix=M,L.u_merc_center=A,L.u_up_dir=W.projection.upVector(new n.CanonicalTileID(0,0,0),A[0]*n.EXTENT,A[1]*n.EXTENT),L.u_height_lift=g),L},d3=(l,i,s,u,h,f,_,g,v,A,M,F)=>{const N=Gs(l,i,s,u,h,f,_,v,A,M,F),j={u_height_factor:-Math.pow(2,_.overscaledZ)/g.tileSize/8};return n.extend(N,Zn(i,g),j)},Zo=l=>({u_matrix:l}),qs=(l,i,s)=>n.extend(Zo(l),Zn(i,s)),qa=(l,i)=>({u_matrix:l,u_world:i}),Za=(l,i,s,u)=>n.extend(qs(l,i,s),{u_world:u}),Wa=n.create(),Zs=(l,i,s,u,h,f)=>{const _=l.transform,g=_.projection.name==="globe";let v;if(f.paint.get("circle-pitch-alignment")==="map")if(g){const M=n.globePixelsToTileUnits(_.zoom,i.canonical)*_._pixelsPerMercatorPixel;v=Float32Array.from([M,0,0,M])}else v=_.calculatePixelsToTileUnitsMatrix(s);else v=new Float32Array([_.pixelsToGLUnits[0],0,0,_.pixelsToGLUnits[1]]);const A={u_camera_to_center_distance:_.cameraToCenterDistance,u_matrix:l.translatePosMatrix(i.projMatrix,s,f.paint.get("circle-translate"),f.paint.get("circle-translate-anchor")),u_device_pixel_ratio:n.exported.devicePixelRatio,u_extrude_scale:v,u_inv_rot_matrix:Wa,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(g){A.u_inv_rot_matrix=u,A.u_merc_center=h,A.u_tile_id=[i.canonical.x,i.canonical.y,1<<i.canonical.z],A.u_zoom_transition=n.globeToMercatorTransition(_.zoom);const M=h[0]*n.EXTENT,F=h[1]*n.EXTENT;A.u_up_dir=_.projection.upVector(new n.CanonicalTileID(0,0,0),M,F)}return A},Ws=l=>{const i=[];return l.paint.get("circle-pitch-alignment")==="map"&&i.push("PITCH_WITH_MAP"),l.paint.get("circle-pitch-scale")==="map"&&i.push("SCALE_WITH_MAP"),i},Hs=(l,i,s,u)=>{const h=n.EXTENT/s.tileSize;return{u_matrix:l,u_camera_to_center_distance:i.getCameraToCenterDistance(u),u_extrude_scale:[i.pixelsToGLUnits[0]/h,i.pixelsToGLUnits[1]/h]}},F5=(l,i,s=1)=>({u_matrix:l,u_color:i,u_overlay:0,u_overlay_scale:s}),f3=n.create(),m3=(l,i,s,u,h,f,_)=>{const g=l.transform,v=g.projection.name==="globe",A=v?n.globePixelsToTileUnits(g.zoom,i.canonical)*g._pixelsPerMercatorPixel:Zt(s,1,f),M={u_matrix:i.projMatrix,u_extrude_scale:A,u_intensity:_,u_inv_rot_matrix:f3,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(v){M.u_inv_rot_matrix=u,M.u_merc_center=h,M.u_tile_id=[i.canonical.x,i.canonical.y,1<<i.canonical.z],M.u_zoom_transition=n.globeToMercatorTransition(g.zoom);const F=h[0]*n.EXTENT,N=h[1]*n.EXTENT;M.u_up_dir=g.projection.upVector(new n.CanonicalTileID(0,0,0),F,N)}return M},Ha=(l,i,s,u,h,f,_)=>{const g=l.transform,v=g.calculatePixelsToTileUnitsMatrix(i);return{u_matrix:Xs(l,i,s,u),u_pixels_to_tile_units:v,u_device_pixel_ratio:f,u_units_to_pixels:[1/g.pixelsToGLUnits[0],1/g.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:h,u_texsize:Hn(s)?i.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:dn(i,l.transform),u_alpha_discard_threshold:0,u_trim_offset:_}},Wn=(l,i,s,u,h)=>{const f=l.transform;return{u_matrix:Xs(l,i,s,u),u_texsize:i.imageAtlasTexture.size,u_pixels_to_tile_units:f.calculatePixelsToTileUnitsMatrix(i),u_device_pixel_ratio:h,u_image:0,u_tile_units_to_pixels:dn(i,f),u_units_to_pixels:[1/f.pixelsToGLUnits[0],1/f.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function dn(l,i){return 1/Zt(l,1,i.tileZoom)}function Xs(l,i,s,u){return l.translatePosMatrix(u||i.tileID.projMatrix,i,s.paint.get("line-translate"),s.paint.get("line-translate-anchor"))}function Hn(l){const i=l.paint.get("line-dasharray").value;return i.value||i.kind!=="constant"}const Ys=(l,i,s,u,h,f)=>{return{u_matrix:l,u_tl_parent:i,u_scale_parent:s,u_fade_t:u.mix,u_opacity:u.opacity*h.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:h.paint.get("raster-brightness-min"),u_brightness_high:h.paint.get("raster-brightness-max"),u_saturation_factor:(g=h.paint.get("raster-saturation"),g>0?1-1/(1.001-g):-g),u_contrast_factor:(_=h.paint.get("raster-contrast"),_>0?1/(1-_):1+_),u_spin_weights:Qi(h.paint.get("raster-hue-rotate")),u_perspective_transform:f};var _,g};function Qi(l){l*=Math.PI/180;const i=Math.sin(l),s=Math.cos(l);return[(2*s+1)/3,(-Math.sqrt(3)*i-s+1)/3,(Math.sqrt(3)*i-s+1)/3]}const L5=n.create(),Ks=(l,i,s,u,h,f,_,g,v,A,M,F,N,j,Z,q)=>{const W=h.transform,L={u_is_size_zoom_constant:+(l==="constant"||l==="source"),u_is_size_feature_constant:+(l==="constant"||l==="camera"),u_size_t:i?i.uSizeT:0,u_size:i?i.uSize:0,u_camera_to_center_distance:W.cameraToCenterDistance,u_rotate_symbol:+s,u_aspect_ratio:W.width/W.height,u_fade_change:h.options.fadeDuration?h.symbolFadeChange:1,u_matrix:f,u_label_plane_matrix:_,u_coord_matrix:g,u_is_text:+v,u_pitch_with_map:+u,u_texsize:A,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:L5,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:L5,u_up_vector:[0,-1,0]};return q.name==="globe"&&(L.u_tile_id=[M.canonical.x,M.canonical.y,1<<M.canonical.z],L.u_zoom_transition=F,L.u_inv_rot_matrix=j,L.u_merc_center=N,L.u_camera_forward=W._camera.forward(),L.u_ecef_origin=n.globeECEFOrigin(W.globeMatrix,M.toUnwrapped()),L.u_tile_matrix=Float32Array.from(W.globeMatrix),L.u_up_vector=Z),L},k5=(l,i,s,u,h,f,_,g,v,A,M,F,N,j,Z,q,W)=>n.extend(Ks(l,i,s,u,h,f,_,g,v,A,F,N,j,Z,q,W),{u_gamma_scale:u?h.transform.cameraToCenterDistance*Math.cos(h.terrain?0:h.transform._pitch):1,u_device_pixel_ratio:n.exported.devicePixelRatio,u_is_halo:+M}),y3=(l,i,s,u,h,f,_,g,v,A,M,F,N,j,Z,q)=>n.extend(k5(l,i,s,u,h,f,_,g,!0,v,!0,M,F,N,j,Z,q),{u_texsize_icon:A,u_texture_icon:1}),Js=(l,i,s)=>({u_matrix:l,u_opacity:i,u_color:s}),Xa=(l,i,s,u,h)=>n.extend(function(f,_,g){const v=_.imageManager.getPattern(f.toString()),{width:A,height:M}=_.imageManager.getPixelSize(),F=Math.pow(2,g.tileID.overscaledZ),N=g.tileSize*Math.pow(2,_.transform.tileZoom)/F,j=N*(g.tileID.canonical.x+g.tileID.wrap*F),Z=N*g.tileID.canonical.y;return{u_image:0,u_pattern_tl:v.tl,u_pattern_br:v.br,u_texsize:[A,M],u_pattern_size:v.displaySize,u_tile_units_to_pixels:1/Zt(g,1,_.transform.tileZoom),u_pixel_coord_upper:[j>>16,Z>>16],u_pixel_coord_lower:[65535&j,65535&Z]}}(u,s,h),{u_matrix:l,u_opacity:i}),$s={fillExtrusion:l=>({u_matrix:new n.UniformMatrix4f(l),u_lightpos:new n.Uniform3f(l),u_lightintensity:new n.Uniform1f(l),u_lightcolor:new n.Uniform3f(l),u_vertical_gradient:new n.Uniform1f(l),u_opacity:new n.Uniform1f(l),u_edge_radius:new n.Uniform1f(l),u_ao:new n.Uniform2f(l),u_tile_id:new n.Uniform3f(l),u_zoom_transition:new n.Uniform1f(l),u_inv_rot_matrix:new n.UniformMatrix4f(l),u_merc_center:new n.Uniform2f(l),u_up_dir:new n.Uniform3f(l),u_height_lift:new n.Uniform1f(l)}),fillExtrusionPattern:l=>({u_matrix:new n.UniformMatrix4f(l),u_lightpos:new n.Uniform3f(l),u_lightintensity:new n.Uniform1f(l),u_lightcolor:new n.Uniform3f(l),u_vertical_gradient:new n.Uniform1f(l),u_height_factor:new n.Uniform1f(l),u_edge_radius:new n.Uniform1f(l),u_ao:new n.Uniform2f(l),u_tile_id:new n.Uniform3f(l),u_zoom_transition:new n.Uniform1f(l),u_inv_rot_matrix:new n.UniformMatrix4f(l),u_merc_center:new n.Uniform2f(l),u_up_dir:new n.Uniform3f(l),u_height_lift:new n.Uniform1f(l),u_image:new n.Uniform1i(l),u_texsize:new n.Uniform2f(l),u_pixel_coord_upper:new n.Uniform2f(l),u_pixel_coord_lower:new n.Uniform2f(l),u_tile_units_to_pixels:new n.Uniform1f(l),u_opacity:new n.Uniform1f(l)}),fill:l=>({u_matrix:new n.UniformMatrix4f(l)}),fillPattern:l=>({u_matrix:new n.UniformMatrix4f(l),u_image:new n.Uniform1i(l),u_texsize:new n.Uniform2f(l),u_pixel_coord_upper:new n.Uniform2f(l),u_pixel_coord_lower:new n.Uniform2f(l),u_tile_units_to_pixels:new n.Uniform1f(l)}),fillOutline:l=>({u_matrix:new n.UniformMatrix4f(l),u_world:new n.Uniform2f(l)}),fillOutlinePattern:l=>({u_matrix:new n.UniformMatrix4f(l),u_world:new n.Uniform2f(l),u_image:new n.Uniform1i(l),u_texsize:new n.Uniform2f(l),u_pixel_coord_upper:new n.Uniform2f(l),u_pixel_coord_lower:new n.Uniform2f(l),u_tile_units_to_pixels:new n.Uniform1f(l)}),circle:l=>({u_camera_to_center_distance:new n.Uniform1f(l),u_extrude_scale:new n.UniformMatrix2f(l),u_device_pixel_ratio:new n.Uniform1f(l),u_matrix:new n.UniformMatrix4f(l),u_inv_rot_matrix:new n.UniformMatrix4f(l),u_merc_center:new n.Uniform2f(l),u_tile_id:new n.Uniform3f(l),u_zoom_transition:new n.Uniform1f(l),u_up_dir:new n.Uniform3f(l)}),collisionBox:l=>({u_matrix:new n.UniformMatrix4f(l),u_camera_to_center_distance:new n.Uniform1f(l),u_extrude_scale:new n.Uniform2f(l)}),collisionCircle:l=>({u_matrix:new n.UniformMatrix4f(l),u_inv_matrix:new n.UniformMatrix4f(l),u_camera_to_center_distance:new n.Uniform1f(l),u_viewport_size:new n.Uniform2f(l)}),debug:l=>({u_color:new n.UniformColor(l),u_matrix:new n.UniformMatrix4f(l),u_overlay:new n.Uniform1i(l),u_overlay_scale:new n.Uniform1f(l)}),clippingMask:l=>({u_matrix:new n.UniformMatrix4f(l)}),heatmap:l=>({u_extrude_scale:new n.Uniform1f(l),u_intensity:new n.Uniform1f(l),u_matrix:new n.UniformMatrix4f(l),u_inv_rot_matrix:new n.UniformMatrix4f(l),u_merc_center:new n.Uniform2f(l),u_tile_id:new n.Uniform3f(l),u_zoom_transition:new n.Uniform1f(l),u_up_dir:new n.Uniform3f(l)}),heatmapTexture:l=>({u_image:new n.Uniform1i(l),u_color_ramp:new n.Uniform1i(l),u_opacity:new n.Uniform1f(l)}),hillshade:l=>({u_matrix:new n.UniformMatrix4f(l),u_image:new n.Uniform1i(l),u_latrange:new n.Uniform2f(l),u_light:new n.Uniform2f(l),u_shadow:new n.UniformColor(l),u_highlight:new n.UniformColor(l),u_accent:new n.UniformColor(l)}),hillshadePrepare:l=>({u_matrix:new n.UniformMatrix4f(l),u_image:new n.Uniform1i(l),u_dimension:new n.Uniform2f(l),u_zoom:new n.Uniform1f(l),u_unpack:new n.Uniform4f(l)}),line:l=>({u_matrix:new n.UniformMatrix4f(l),u_pixels_to_tile_units:new n.UniformMatrix2f(l),u_device_pixel_ratio:new n.Uniform1f(l),u_units_to_pixels:new n.Uniform2f(l),u_dash_image:new n.Uniform1i(l),u_gradient_image:new n.Uniform1i(l),u_image_height:new n.Uniform1f(l),u_texsize:new n.Uniform2f(l),u_tile_units_to_pixels:new n.Uniform1f(l),u_alpha_discard_threshold:new n.Uniform1f(l),u_trim_offset:new n.Uniform2f(l)}),linePattern:l=>({u_matrix:new n.UniformMatrix4f(l),u_texsize:new n.Uniform2f(l),u_pixels_to_tile_units:new n.UniformMatrix2f(l),u_device_pixel_ratio:new n.Uniform1f(l),u_image:new n.Uniform1i(l),u_units_to_pixels:new n.Uniform2f(l),u_tile_units_to_pixels:new n.Uniform1f(l),u_alpha_discard_threshold:new n.Uniform1f(l)}),raster:l=>({u_matrix:new n.UniformMatrix4f(l),u_tl_parent:new n.Uniform2f(l),u_scale_parent:new n.Uniform1f(l),u_fade_t:new n.Uniform1f(l),u_opacity:new n.Uniform1f(l),u_image0:new n.Uniform1i(l),u_image1:new n.Uniform1i(l),u_brightness_low:new n.Uniform1f(l),u_brightness_high:new n.Uniform1f(l),u_saturation_factor:new n.Uniform1f(l),u_contrast_factor:new n.Uniform1f(l),u_spin_weights:new n.Uniform3f(l),u_perspective_transform:new n.Uniform2f(l)}),symbolIcon:l=>({u_is_size_zoom_constant:new n.Uniform1i(l),u_is_size_feature_constant:new n.Uniform1i(l),u_size_t:new n.Uniform1f(l),u_size:new n.Uniform1f(l),u_camera_to_center_distance:new n.Uniform1f(l),u_rotate_symbol:new n.Uniform1i(l),u_aspect_ratio:new n.Uniform1f(l),u_fade_change:new n.Uniform1f(l),u_matrix:new n.UniformMatrix4f(l),u_label_plane_matrix:new n.UniformMatrix4f(l),u_coord_matrix:new n.UniformMatrix4f(l),u_is_text:new n.Uniform1i(l),u_pitch_with_map:new n.Uniform1i(l),u_texsize:new n.Uniform2f(l),u_tile_id:new n.Uniform3f(l),u_zoom_transition:new n.Uniform1f(l),u_inv_rot_matrix:new n.UniformMatrix4f(l),u_merc_center:new n.Uniform2f(l),u_camera_forward:new n.Uniform3f(l),u_tile_matrix:new n.UniformMatrix4f(l),u_up_vector:new n.Uniform3f(l),u_ecef_origin:new n.Uniform3f(l),u_texture:new n.Uniform1i(l)}),symbolSDF:l=>({u_is_size_zoom_constant:new n.Uniform1i(l),u_is_size_feature_constant:new n.Uniform1i(l),u_size_t:new n.Uniform1f(l),u_size:new n.Uniform1f(l),u_camera_to_center_distance:new n.Uniform1f(l),u_rotate_symbol:new n.Uniform1i(l),u_aspect_ratio:new n.Uniform1f(l),u_fade_change:new n.Uniform1f(l),u_matrix:new n.UniformMatrix4f(l),u_label_plane_matrix:new n.UniformMatrix4f(l),u_coord_matrix:new n.UniformMatrix4f(l),u_is_text:new n.Uniform1i(l),u_pitch_with_map:new n.Uniform1i(l),u_texsize:new n.Uniform2f(l),u_texture:new n.Uniform1i(l),u_gamma_scale:new n.Uniform1f(l),u_device_pixel_ratio:new n.Uniform1f(l),u_tile_id:new n.Uniform3f(l),u_zoom_transition:new n.Uniform1f(l),u_inv_rot_matrix:new n.UniformMatrix4f(l),u_merc_center:new n.Uniform2f(l),u_camera_forward:new n.Uniform3f(l),u_tile_matrix:new n.UniformMatrix4f(l),u_up_vector:new n.Uniform3f(l),u_ecef_origin:new n.Uniform3f(l),u_is_halo:new n.Uniform1i(l)}),symbolTextAndIcon:l=>({u_is_size_zoom_constant:new n.Uniform1i(l),u_is_size_feature_constant:new n.Uniform1i(l),u_size_t:new n.Uniform1f(l),u_size:new n.Uniform1f(l),u_camera_to_center_distance:new n.Uniform1f(l),u_rotate_symbol:new n.Uniform1i(l),u_aspect_ratio:new n.Uniform1f(l),u_fade_change:new n.Uniform1f(l),u_matrix:new n.UniformMatrix4f(l),u_label_plane_matrix:new n.UniformMatrix4f(l),u_coord_matrix:new n.UniformMatrix4f(l),u_is_text:new n.Uniform1i(l),u_pitch_with_map:new n.Uniform1i(l),u_texsize:new n.Uniform2f(l),u_texsize_icon:new n.Uniform2f(l),u_texture:new n.Uniform1i(l),u_texture_icon:new n.Uniform1i(l),u_gamma_scale:new n.Uniform1f(l),u_device_pixel_ratio:new n.Uniform1f(l),u_is_halo:new n.Uniform1i(l)}),background:l=>({u_matrix:new n.UniformMatrix4f(l),u_opacity:new n.Uniform1f(l),u_color:new n.UniformColor(l)}),backgroundPattern:l=>({u_matrix:new n.UniformMatrix4f(l),u_opacity:new n.Uniform1f(l),u_image:new n.Uniform1i(l),u_pattern_tl:new n.Uniform2f(l),u_pattern_br:new n.Uniform2f(l),u_texsize:new n.Uniform2f(l),u_pattern_size:new n.Uniform2f(l),u_pixel_coord_upper:new n.Uniform2f(l),u_pixel_coord_lower:new n.Uniform2f(l),u_tile_units_to_pixels:new n.Uniform1f(l)}),terrainRaster:Ns,terrainDepth:Ns,skybox:l=>({u_matrix:new n.UniformMatrix4f(l),u_sun_direction:new n.Uniform3f(l),u_cubemap:new n.Uniform1i(l),u_opacity:new n.Uniform1f(l),u_temporal_offset:new n.Uniform1f(l)}),skyboxGradient:l=>({u_matrix:new n.UniformMatrix4f(l),u_color_ramp:new n.Uniform1i(l),u_center_direction:new n.Uniform3f(l),u_radius:new n.Uniform1f(l),u_opacity:new n.Uniform1f(l),u_temporal_offset:new n.Uniform1f(l)}),skyboxCapture:l=>({u_matrix_3f:new n.UniformMatrix3f(l),u_sun_direction:new n.Uniform3f(l),u_sun_intensity:new n.Uniform1f(l),u_color_tint_r:new n.Uniform4f(l),u_color_tint_m:new n.Uniform4f(l),u_luminance:new n.Uniform1f(l)}),globeRaster:l=>({u_proj_matrix:new n.UniformMatrix4f(l),u_globe_matrix:new n.UniformMatrix4f(l),u_normalize_matrix:new n.UniformMatrix4f(l),u_merc_matrix:new n.UniformMatrix4f(l),u_zoom_transition:new n.Uniform1f(l),u_merc_center:new n.Uniform2f(l),u_image0:new n.Uniform1i(l),u_grid_matrix:new n.UniformMatrix3f(l),u_skirt_height:new n.Uniform1f(l),u_frustum_tl:new n.Uniform3f(l),u_frustum_tr:new n.Uniform3f(l),u_frustum_br:new n.Uniform3f(l),u_frustum_bl:new n.Uniform3f(l),u_globe_pos:new n.Uniform3f(l),u_globe_radius:new n.Uniform1f(l),u_viewport:new n.Uniform2f(l)}),globeAtmosphere:l=>({u_frustum_tl:new n.Uniform3f(l),u_frustum_tr:new n.Uniform3f(l),u_frustum_br:new n.Uniform3f(l),u_frustum_bl:new n.Uniform3f(l),u_horizon:new n.Uniform1f(l),u_transition:new n.Uniform1f(l),u_fadeout_range:new n.Uniform1f(l),u_color:new n.Uniform4f(l),u_high_color:new n.Uniform4f(l),u_space_color:new n.Uniform4f(l),u_star_intensity:new n.Uniform1f(l),u_star_density:new n.Uniform1f(l),u_star_size:new n.Uniform1f(l),u_temporal_offset:new n.Uniform1f(l),u_horizon_angle:new n.Uniform1f(l),u_rotation_matrix:new n.UniformMatrix4f(l)})};let U5;function Xn(l,i,s,u,h,f,_){const g=l.context,v=g.gl,A=l.transform,M=l.useProgram("collisionBox"),F=[];let N=0,j=0;for(let $=0;$<u.length;$++){const ce=u[$],pe=i.getTile(ce),ue=pe.getBucket(s);if(!ue)continue;const ge=ir(ce,ue,A);let _e=ge;h[0]===0&&h[1]===0||(_e=l.translatePosMatrix(ge,pe,h,f));const Ee=_?ue.textCollisionBox:ue.iconCollisionBox,et=ue.collisionCircleArray;if(et.length>0){const De=n.create(),Ve=_e;n.mul(De,ue.placementInvProjMatrix,A.glCoordMatrix),n.mul(De,De,ue.placementViewportMatrix),F.push({circleArray:et,circleOffset:j,transform:Ve,invTransform:De,projection:ue.getProjection()}),N+=et.length/4,j=N}Ee&&(l.terrain&&l.terrain.setupElevationDraw(pe,M),M.draw(g,v.LINES,n.DepthMode.disabled,n.StencilMode.disabled,l.colorModeForRenderPass(),n.CullFaceMode.disabled,Hs(_e,A,pe,ue.getProjection()),s.id,Ee.layoutVertexBuffer,Ee.indexBuffer,Ee.segments,null,A.zoom,null,[Ee.collisionVertexBuffer,Ee.collisionVertexBufferExt]))}if(!_||!F.length)return;const Z=l.useProgram("collisionCircle"),q=new n.StructArrayLayout2f1f2i16;q.resize(4*N),q._trim();let W=0;for(const $ of F)for(let ce=0;ce<$.circleArray.length/4;ce++){const pe=4*ce,ue=$.circleArray[pe+0],ge=$.circleArray[pe+1],_e=$.circleArray[pe+2],Ee=$.circleArray[pe+3];q.emplace(W++,ue,ge,_e,Ee,0),q.emplace(W++,ue,ge,_e,Ee,1),q.emplace(W++,ue,ge,_e,Ee,2),q.emplace(W++,ue,ge,_e,Ee,3)}(!U5||U5.length<2*N)&&(U5=function($){const ce=2*$,pe=new n.StructArrayLayout3ui6;pe.resize(ce),pe._trim();for(let ue=0;ue<ce;ue++){const ge=6*ue;pe.uint16[ge+0]=4*ue+0,pe.uint16[ge+1]=4*ue+1,pe.uint16[ge+2]=4*ue+2,pe.uint16[ge+3]=4*ue+2,pe.uint16[ge+4]=4*ue+3,pe.uint16[ge+5]=4*ue+0}return pe}(N));const L=g.createIndexBuffer(U5,!0),V=g.createVertexBuffer(q,n.collisionCircleLayout.members,!0);for(const $ of F){const ce={u_matrix:$.transform,u_inv_matrix:$.invTransform,u_camera_to_center_distance:(K=A).getCameraToCenterDistance($.projection),u_viewport_size:[K.width,K.height]};Z.draw(g,v.TRIANGLES,n.DepthMode.disabled,n.StencilMode.disabled,l.colorModeForRenderPass(),n.CullFaceMode.disabled,ce,s.id,V,L,n.SegmentVector.simpleSegment(0,2*$.circleOffset,$.circleArray.length,$.circleArray.length/2),null,A.zoom)}var K;V.destroy(),L.destroy()}const _3=n.create();function Qs({width:l,height:i,anchor:s,textOffset:u,textScale:h},f){const{horizontalAlign:_,verticalAlign:g}=n.getAnchorAlignment(s),v=-(_-.5)*l,A=-(g-.5)*i,M=n.evaluateVariableOffset(s,u);return new n.Point((v/h+M[0])*f,(A/h+M[1])*f)}function Ya(l,i,s,u,h,f,_,g,v,A,M){const F=l.text.placedSymbolArray,N=l.text.dynamicLayoutVertexArray,j=l.icon.dynamicLayoutVertexArray,Z={},q=l.getProjection(),W=O4(g,q,f),L=f.elevation,V=q.upVectorScale(g.canonical,f.center.lat,f.worldSize).metersToTile;N.clear();for(let K=0;K<F.length;K++){const $=F.get(K),{tileAnchorX:ce,tileAnchorY:pe,numGlyphs:ue}=$,ge=$.hidden||!$.crossTileID||l.allowVerticalPlacement&&!$.placedOrientation?null:u[$.crossTileID];if(ge){let _e=0,Ee=0,et=0;if(L){const nt=L?L.getAtTileOffset(g,ce,pe):0,[Ft,qt,St]=q.upVector(g.canonical,ce,pe);_e=nt*Ft*V,Ee=nt*qt*V,et=nt*St*V}let[De,Ve,Fe,Je]=ar($.projectedAnchorX+_e,$.projectedAnchorY+Ee,$.projectedAnchorZ+et,s?W:_);const Ie=H4(f.getCameraToCenterDistance(q),Je);let Oe=h.evaluateSizeForFeature(l.textSizeData,A,$)*Ie/n.ONE_EM;s&&(Oe*=l.tilePixelRatio/v);const it=Qs(ge,Oe);s?({x:De,y:Ve,z:Fe}=q.projectTilePoint(ce+it.x,pe+it.y,g.canonical),[De,Ve,Fe]=ar(De+_e,Ve+Ee,Fe+et,_)):(i&&it._rotate(-f.angle),De+=it.x,Ve+=it.y,Fe=0);const We=l.allowVerticalPlacement&&$.placedOrientation===n.WritingMode.vertical?Math.PI/2:0;for(let nt=0;nt<ue;nt++)n.addDynamicAttributes(N,De,Ve,Fe,We);M&&$.associatedIconIndex>=0&&(Z[$.associatedIconIndex]={x:De,y:Ve,z:Fe,angle:We})}else oe(ue,N)}if(M){j.clear();const K=l.icon.placedSymbolArray;for(let $=0;$<K.length;$++){const ce=K.get($),{numGlyphs:pe}=ce,ue=Z[$];if(ce.hidden||!ue)oe(pe,j);else{const{x:ge,y:_e,z:Ee,angle:et}=ue;for(let De=0;De<pe;De++)n.addDynamicAttributes(j,ge,_e,Ee,et)}}l.icon.dynamicLayoutVertexBuffer.updateData(j)}l.text.dynamicLayoutVertexBuffer.updateData(N)}function e7(l,i,s){return s.iconsInText&&i?"symbolTextAndIcon":l?"symbolSDF":"symbolIcon"}function g3(l,i,s,u,h,f,_,g,v,A,M,F){const N=l.context,j=N.gl,Z=l.transform,q=g==="map",W=v==="map",L=q&&s.layout.get("symbol-placement")!=="point",V=q&&!W&&!L,K=s.layout.get("symbol-sort-key").constantOr(1)!==void 0;let $=!1;const ce=l.depthModeForSublayer(0,n.DepthMode.ReadOnly),pe=[n.mercatorXfromLng(Z.center.lng),n.mercatorYfromLat(Z.center.lat)],ue=s.layout.get("text-variable-anchor"),ge=Z.projection.name==="globe",_e=[],Ee=[0,-1,0];let et=Ee;!ge&&!Z.mercatorFromTransition||q||(et=function(De){const Ve=De._camera.getWorldToCamera(De.worldSize,1),Fe=n.multiply([],Ve,De.globeMatrix);n.invert(Fe,Fe);const Je=[0,0,0],Ie=[0,1,0,0];return n.transformMat4$1(Ie,Ie,Fe),Je[0]=Ie[0],Je[1]=Ie[1],Je[2]=Ie[2],n.normalize(Je,Je),Je}(Z));for(const De of u){const Ve=i.getTile(De),Fe=Ve.getBucket(s);if(!Fe||Fe.projection.name==="mercator"&&ge)continue;const Je=h?Fe.text:Fe.icon;if(!Je||Fe.fullyClipped||!Je.segments.get().length)continue;const Ie=Je.programConfigurations.get(s.id),Oe=h||Fe.sdfIcons,it=h?Fe.textSizeData:Fe.iconSizeData,We=W||Z.pitch!==0,nt=n.evaluateSizeForZoom(it,Z.zoom);let Ft,qt,St,Rt,n4=[0,0],r4=null;if(h)qt=Ve.glyphAtlasTexture,St=j.LINEAR,Ft=Ve.glyphAtlasTexture.size,Fe.iconsInText&&(n4=Ve.imageAtlasTexture.size,r4=Ve.imageAtlasTexture,Rt=We||l.options.rotating||l.options.zooming||it.kind==="composite"||it.kind==="camera"?j.LINEAR:j.NEAREST);else{const fo=s.layout.get("icon-size").constantOr(0)!==1||Fe.iconsNeedLinear;qt=Ve.imageAtlasTexture,St=Oe||l.options.rotating||l.options.zooming||fo||We?j.LINEAR:j.NEAREST,Ft=Ve.imageAtlasTexture.size}const Tt=Fe.projection.name==="globe",A4=Tt?et:Ee,F4=Tt?n.globeToMercatorTransition(Z.zoom):0,L4=O4(De,Fe.getProjection(),Z),k4=Z.calculatePixelsToTileUnitsMatrix(Ve),Qr=Ue(L4,Ve.tileID.canonical,W,q,Z,Fe.getProjection(),k4),zr=l.terrain&&W&&L?n.invert(n.create(),Qr):_3,Pi=J4(L4,Ve.tileID.canonical,W,q,Z,Fe.getProjection(),k4),to=ue&&Fe.hasTextData(),$4=s.layout.get("icon-text-fit")!=="none"&&to&&Fe.hasIconData();if(L){const fo=Z.elevation,To=fo?fo.getAtTileOffsetFunc(De,Z.center.lat,Z.worldSize,Fe.getProjection()):null,Ko=ci(L4,Ve.tileID.canonical,W,q,Z,Fe.getProjection(),k4);Mo(Fe,L4,l,h,Ko,Pi,W,A,To,De)}const U4=L||h&&ue||$4,x4=l.translatePosMatrix(L4,Ve,f,_),vr=U4?_3:Qr,ii=l.translatePosMatrix(Pi,Ve,f,_,!0),X4=Fe.getProjection().createInversionMatrix(Z,De.canonical),hi=[];l.terrainRenderModeElevated()&&W&&hi.push("PITCH_WITH_MAP_TERRAIN"),Tt&&hi.push("PROJECTION_GLOBE_VIEW"),U4&&hi.push("PROJECTED_POS_ON_VIEWPORT");const J5=Oe&&s.paint.get(h?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Yo;Yo=Oe?Fe.iconsInText?y3(it.kind,nt,V,W,l,x4,vr,ii,Ft,n4,De,F4,pe,X4,A4,Fe.getProjection()):k5(it.kind,nt,V,W,l,x4,vr,ii,h,Ft,!0,De,F4,pe,X4,A4,Fe.getProjection()):Ks(it.kind,nt,V,W,l,x4,vr,ii,h,Ft,De,F4,pe,X4,A4,Fe.getProjection());const n5={program:l.useProgram(e7(Oe,h,Fe),Ie,hi),buffers:Je,uniformValues:Yo,atlasTexture:qt,atlasTextureIcon:r4,atlasInterpolation:St,atlasInterpolationIcon:Rt,isSDF:Oe,hasHalo:J5,tile:Ve,labelPlaneMatrixInv:zr};if(K&&Fe.canOverlap){$=!0;const fo=Je.segments.get();for(const To of fo)_e.push({segments:new n.SegmentVector([To]),sortKey:To.sortKey,state:n5})}else _e.push({segments:Je.segments,sortKey:0,state:n5})}$&&_e.sort((De,Ve)=>De.sortKey-Ve.sortKey);for(const De of _e){const Ve=De.state;if(l.terrain&&l.terrain.setupElevationDraw(Ve.tile,Ve.program,{useDepthForOcclusion:!ge,labelPlaneMatrixInv:Ve.labelPlaneMatrixInv}),N.activeTexture.set(j.TEXTURE0),Ve.atlasTexture.bind(Ve.atlasInterpolation,j.CLAMP_TO_EDGE),Ve.atlasTextureIcon&&(N.activeTexture.set(j.TEXTURE1),Ve.atlasTextureIcon&&Ve.atlasTextureIcon.bind(Ve.atlasInterpolationIcon,j.CLAMP_TO_EDGE)),Ve.isSDF){const Fe=Ve.uniformValues;Ve.hasHalo&&(Fe.u_is_halo=1,Yn(Ve.buffers,De.segments,s,l,Ve.program,ce,M,F,Fe)),Fe.u_is_halo=0}Yn(Ve.buffers,De.segments,s,l,Ve.program,ce,M,F,Ve.uniformValues)}}function Yn(l,i,s,u,h,f,_,g,v){const A=u.context,M=[l.dynamicLayoutVertexBuffer,l.opacityVertexBuffer,l.globeExtVertexBuffer];h.draw(A,A.gl.TRIANGLES,f,_,g,n.CullFaceMode.disabled,v,s.id,l.layoutVertexBuffer,l.indexBuffer,i,s.paint,u.transform.zoom,l.programConfigurations.get(s.id),M)}function x3(l,i,s,u,h,f,_){const g=l.context.gl,v=s.paint.get("fill-pattern"),A=v&&v.constantOr(1);let M,F,N,j,Z;_?(F=A&&!s.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",M=g.LINES):(F=A?"fillPattern":"fill",M=g.TRIANGLES);for(const q of u){const W=i.getTile(q);if(A&&!W.patternsLoaded())continue;const L=W.getBucket(s);if(!L)continue;l.prepareDrawTile();const V=L.programConfigurations.get(s.id),K=l.useProgram(F,V);A&&(l.context.activeTexture.set(g.TEXTURE0),W.imageAtlasTexture.bind(g.LINEAR,g.CLAMP_TO_EDGE),V.updatePaintBuffers());const $=v.constantOr(null);if($&&W.imageAtlas){const pe=W.imageAtlas.patternPositions[$.toString()];pe&&V.setConstantPatternPositions(pe)}const ce=l.translatePosMatrix(q.projMatrix,W,s.paint.get("fill-translate"),s.paint.get("fill-translate-anchor"));if(_){j=L.indexBuffer2,Z=L.segments2;const pe=l.terrain&&l.terrain.renderingToTexture?l.terrain.drapeBufferSize:[g.drawingBufferWidth,g.drawingBufferHeight];N=F==="fillOutlinePattern"&&A?Za(ce,l,W,pe):qa(ce,pe)}else j=L.indexBuffer,Z=L.segments,N=A?qs(ce,l,W):Zo(ce);l.prepareDrawProgram(l.context,K,q.toUnwrapped()),K.draw(l.context,M,h,l.stencilModeForClipping(q),f,n.CullFaceMode.disabled,N,s.id,L.layoutVertexBuffer,j,Z,s.paint,l.transform.zoom,V)}}function z5(l,i,s,u,h,f,_){const g=l.context,v=g.gl,A=l.transform,M=s.paint.get("fill-extrusion-pattern"),F=M.constantOr(1),N=s.paint.get("fill-extrusion-opacity"),j=[s.paint.get("fill-extrusion-ambient-occlusion-intensity"),s.paint.get("fill-extrusion-ambient-occlusion-radius")],Z=s.layout.get("fill-extrusion-edge-radius"),q=Z>0&&!s.paint.get("fill-extrusion-rounded-roof"),W=q?0:Z,L=A.projection.name==="globe"?n.fillExtrusionHeightLift():0,V=A.projection.name==="globe",K=V?n.globeToMercatorTransition(A.zoom):0,$=[n.mercatorXfromLng(A.center.lng),n.mercatorYfromLat(A.center.lat)],ce=[];V&&ce.push("PROJECTION_GLOBE_VIEW"),j[0]>0&&ce.push("FAUX_AO"),q&&ce.push("ZERO_ROOF_RADIUS");for(const pe of u){const ue=i.getTile(pe),ge=ue.getBucket(s);if(!ge||ge.projection.name!==A.projection.name)continue;const _e=ge.programConfigurations.get(s.id),Ee=l.useProgram(F?"fillExtrusionPattern":"fillExtrusion",_e,ce);if(l.terrain){const Oe=l.terrain;if(l.style.terrainSetForDrapingOnly())Oe.setupElevationDraw(ue,Ee,{useMeterToDem:!0});else{if(!ge.enableTerrain)continue;if(Oe.setupElevationDraw(ue,Ee,{useMeterToDem:!0}),v3(g,i,pe,ge,s,Oe),!ge.centroidVertexBuffer){const it=Ee.attributes.a_centroid_pos;it!==void 0&&v.vertexAttrib2f(it,0,0)}}}F&&(l.context.activeTexture.set(v.TEXTURE0),ue.imageAtlasTexture.bind(v.LINEAR,v.CLAMP_TO_EDGE),_e.updatePaintBuffers());const et=M.constantOr(null);if(et&&ue.imageAtlas){const Oe=ue.imageAtlas.patternPositions[et.toString()];Oe&&_e.setConstantPatternPositions(Oe)}const De=l.translatePosMatrix(pe.projMatrix,ue,s.paint.get("fill-extrusion-translate"),s.paint.get("fill-extrusion-translate-anchor")),Ve=A.projection.createInversionMatrix(A,pe.canonical),Fe=s.paint.get("fill-extrusion-vertical-gradient"),Je=F?d3(De,l,Fe,N,j,W,pe,ue,L,K,$,Ve):Gs(De,l,Fe,N,j,W,pe,L,K,$,Ve);l.prepareDrawProgram(g,Ee,pe.toUnwrapped());const Ie=[];l.terrain&&Ie.push(ge.centroidVertexBuffer),V&&Ie.push(ge.layoutVertexExtBuffer),Ee.draw(g,g.gl.TRIANGLES,h,f,_,n.CullFaceMode.backCCW,Je,s.id,ge.layoutVertexBuffer,ge.indexBuffer,ge.segments,s.paint,l.transform.zoom,_e,Ie)}}function v3(l,i,s,u,h,f){const _=[L=>{let V=L.canonical.x-1,K=L.wrap;return V<0&&(V=(1<<L.canonical.z)-1,K--),new n.OverscaledTileID(L.overscaledZ,K,L.canonical.z,V,L.canonical.y)},L=>{let V=L.canonical.x+1,K=L.wrap;return V===1<<L.canonical.z&&(V=0,K++),new n.OverscaledTileID(L.overscaledZ,K,L.canonical.z,V,L.canonical.y)},L=>new n.OverscaledTileID(L.overscaledZ,L.wrap,L.canonical.z,L.canonical.x,(L.canonical.y===0?1<<L.canonical.z:L.canonical.y)-1),L=>new n.OverscaledTileID(L.overscaledZ,L.wrap,L.canonical.z,L.canonical.x,L.canonical.y===(1<<L.canonical.z)-1?0:L.canonical.y+1)],g=L=>{const V=i.getSource().minzoom,K=ce=>{const pe=i.getTileByID(ce);if(pe&&pe.hasData())return pe.getBucket(h)},$=[0,-1,1];for(const ce of $){if(L.overscaledZ+ce<V)continue;const pe=K(L.calculateScaledKey(L.overscaledZ+ce));if(pe)return pe}},v=[0,0,0],A=(L,V)=>(v[0]=Math.min(L.min.y,V.min.y),v[1]=Math.max(L.max.y,V.max.y),v[2]=n.EXTENT-V.min.x>L.max.x?V.min.x-n.EXTENT:L.max.x,v),M=(L,V)=>(v[0]=Math.min(L.min.x,V.min.x),v[1]=Math.max(L.max.x,V.max.x),v[2]=n.EXTENT-V.min.y>L.max.y?V.min.y-n.EXTENT:L.max.y,v),F=[(L,V)=>A(L,V),(L,V)=>A(V,L),(L,V)=>M(L,V),(L,V)=>M(V,L)],N=new n.Point(0,0);let j,Z,q;const W=(L,V,K,$,ce)=>{const pe=[[$?K:L,$?L:K,0],[$?K:V,$?V:K,0]],ue=ce<0?n.EXTENT+ce:ce,ge=[$?ue:(L+V)/2,$?(L+V)/2:ue,0];return K===0&&ce<0||K!==0&&ce>0?f.getForTilePoints(q,[ge],!0,Z):pe.push(ge),f.getForTilePoints(s,pe,!0,j),Math.max(pe[0][2],pe[1][2],ge[2])/f.exaggeration()};for(let L=0;L<4;L++){const V=(L<2?1:5)-L,K=u.borders[L];if(K.length===0)continue;const $=q=_[L](s),ce=g($);if(!(ce&&ce instanceof n.FillExtrusionBucket&&ce.enableTerrain)||u.borderDoneWithNeighborZ[L]===ce.canonical.z&&ce.borderDoneWithNeighborZ[V]===u.canonical.z||(Z=f.findDEMTileFor($),!Z||!Z.dem))continue;if(!j){const _e=f.findDEMTileFor(s);if(!_e||!_e.dem)return;j=_e}const pe=ce.borders[V];let ue=0;const ge=ce.borderDoneWithNeighborZ[V]!==u.canonical.z;if(u.canonical.z===ce.canonical.z){for(let _e=0;_e<K.length;_e++){const Ee=u.featuresOnBorder[K[_e]],et=Ee.borders[L];let De;for(;ue<pe.length&&(De=ce.featuresOnBorder[pe[ue]],!(De.borders[V][1]>et[0]+3));)ge&&ce.encodeCentroid(void 0,De,!1),ue++;if(De&&ue<pe.length){const Ve=ue;let Fe=0;for(;!(De.borders[V][0]>et[1]-3)&&(Fe++,++ue!==pe.length);)De=ce.featuresOnBorder[pe[ue]];if(De=ce.featuresOnBorder[pe[Ve]],Ee.intersectsCount()>1||De.intersectsCount()>1||Fe!==1){Fe!==1&&(ue=Ve),u.encodeCentroid(void 0,Ee,!1),ge&&ce.encodeCentroid(void 0,De,!1);continue}const Je=F[L](Ee,De),Ie=L%2?n.EXTENT-1:0;N.x=W(Je[0],Math.min(n.EXTENT-1,Je[1]),Ie,L<2,Je[2]),N.y=0,u.encodeCentroid(N,Ee,!1),ge&&ce.encodeCentroid(N,De,!1)}else u.encodeCentroid(void 0,Ee,!1)}u.borderDoneWithNeighborZ[L]=ce.canonical.z,u.needsCentroidUpdate=!0,ge&&(ce.borderDoneWithNeighborZ[V]=u.canonical.z,ce.needsCentroidUpdate=!0)}else{for(const _e of K)u.encodeCentroid(void 0,u.featuresOnBorder[_e],!1);if(ge){for(const _e of pe)ce.encodeCentroid(void 0,ce.featuresOnBorder[_e],!1);ce.borderDoneWithNeighborZ[V]=u.canonical.z,ce.needsCentroidUpdate=!0}u.borderDoneWithNeighborZ[L]=ce.canonical.z,u.needsCentroidUpdate=!0}}(u.needsCentroidUpdate||!u.centroidVertexBuffer&&u.centroidVertexArray.length!==0)&&u.uploadCentroid(l)}const fn=new n.Color(1,0,0,1),Ka=new n.Color(0,1,0,1),Ja=new n.Color(0,0,1,1),$a=new n.Color(1,0,1,1),Qa=new n.Color(0,1,1,1);function e1(l,i,s){const u=l.context,h=l.transform,f=u.gl,_=h.projection.name==="globe",g=_?["PROJECTION_GLOBE_VIEW"]:null;let v=s.projMatrix;if(_&&n.globeToMercatorTransition(h.zoom)>0){const Ee=n.transitionTileAABBinECEF(s.canonical,h),et=n.globeDenormalizeECEF(Ee);v=n.multiply(new Float32Array(16),h.globeMatrix,et),n.multiply(v,h.projMatrix,v)}const A=l.useProgram("debug",null,g),M=i.getTileByID(s.key);l.terrain&&l.terrain.setupElevationDraw(M,A);const F=n.DepthMode.disabled,N=n.StencilMode.disabled,j=l.colorModeForRenderPass(),Z="$debug";u.activeTexture.set(f.TEXTURE0),l.emptyTexture.bind(f.LINEAR,f.CLAMP_TO_EDGE),_?M._makeGlobeTileDebugBuffers(l.context,h):M._makeDebugTileBoundsBuffers(l.context,h.projection);const q=M._tileDebugBuffer||l.debugBuffer,W=M._tileDebugIndexBuffer||l.debugIndexBuffer,L=M._tileDebugSegments||l.debugSegments;A.draw(u,f.LINE_STRIP,F,N,j,n.CullFaceMode.disabled,F5(v,n.Color.red),Z,q,W,L,null,null,null,[M._globeTileDebugBorderBuffer]);const V=M.latestRawTileData,K=Math.floor((V&&V.byteLength||0)/1024),$=i.getTile(s).tileSize,ce=512/Math.min($,512)*(s.overscaledZ/h.zoom)*.5;let pe=s.canonical.toString();s.overscaledZ!==s.canonical.z&&(pe+=` => ${s.overscaledZ}`),pe+=` ${K}kb`,function(Ee,et){Ee.initDebugOverlayCanvas();const De=Ee.debugOverlayCanvas,Ve=Ee.context.gl,Fe=Ee.debugOverlayCanvas.getContext("2d");Fe.clearRect(0,0,De.width,De.height),Fe.shadowColor="white",Fe.shadowBlur=2,Fe.lineWidth=1.5,Fe.strokeStyle="white",Fe.textBaseline="top",Fe.font="bold 36px Open Sans, sans-serif",Fe.fillText(et,5,5),Fe.strokeText(et,5,5),Ee.debugOverlayTexture.update(De),Ee.debugOverlayTexture.bind(Ve.LINEAR,Ve.CLAMP_TO_EDGE)}(l,pe);const ue=M._tileDebugTextBuffer||l.debugBuffer,ge=M._tileDebugTextIndexBuffer||l.quadTriangleIndexBuffer,_e=M._tileDebugTextSegments||l.debugSegments;A.draw(u,f.TRIANGLES,F,N,n.ColorMode.alphaBlended,n.CullFaceMode.disabled,F5(v,n.Color.transparent,ce),Z,ue,ge,_e,null,null,null,[M._globeTileDebugTextBuffer])}function b3(l,i,s,u){mn(l,0,i+s/2,l.transform.width,s,u)}function R5(l,i,s,u){mn(l,i-s/2,0,s,l.transform.height,u)}function mn(l,i,s,u,h,f){const _=l.context,g=_.gl;g.enable(g.SCISSOR_TEST),g.scissor(i*n.exported.devicePixelRatio,s*n.exported.devicePixelRatio,u*n.exported.devicePixelRatio,h*n.exported.devicePixelRatio),_.clear({color:f}),g.disable(g.SCISSOR_TEST)}const C3=n.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:w3}=C3;function po(l,i,s,u){l.emplaceBack(i,s,u)}class B5{constructor(i){this.vertexArray=new n.StructArrayLayout3f12,this.indices=new n.StructArrayLayout3ui6,po(this.vertexArray,-1,-1,1),po(this.vertexArray,1,-1,1),po(this.vertexArray,-1,1,1),po(this.vertexArray,1,1,1),po(this.vertexArray,-1,-1,-1),po(this.vertexArray,1,-1,-1),po(this.vertexArray,-1,1,-1),po(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=i.createVertexBuffer(this.vertexArray,w3),this.indexBuffer=i.createIndexBuffer(this.indices),this.segment=n.SegmentVector.simpleSegment(0,0,36,12)}}function Ii(l,i,s,u,h,f){const _=l.gl,g=i.paint.get("sky-atmosphere-color"),v=i.paint.get("sky-atmosphere-halo-color"),A=i.paint.get("sky-atmosphere-sun-intensity"),M=((F,N,j,Z,q)=>({u_matrix_3f:F,u_sun_direction:N,u_sun_intensity:j,u_color_tint_r:[Z.r,Z.g,Z.b,Z.a],u_color_tint_m:[q.r,q.g,q.b,q.a],u_luminance:5e-5}))(n.fromMat4(n.create$1(),u),h,A,g,v);_.framebufferTexture2D(_.FRAMEBUFFER,_.COLOR_ATTACHMENT0,_.TEXTURE_CUBE_MAP_POSITIVE_X+f,i.skyboxTexture,0),s.draw(l,_.TRIANGLES,n.DepthMode.disabled,n.StencilMode.disabled,n.ColorMode.unblended,n.CullFaceMode.frontCW,M,"skyboxCapture",i.skyboxGeometry.vertexBuffer,i.skyboxGeometry.indexBuffer,i.skyboxGeometry.segment)}const Kn=n.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class D3{constructor(i){const s=new n.StructArrayLayout5f20;s.emplaceBack(-1,1,1,0,0),s.emplaceBack(1,1,1,1,0),s.emplaceBack(1,-1,1,1,1),s.emplaceBack(-1,-1,1,0,1);const u=new n.StructArrayLayout3ui6;u.emplaceBack(0,1,2),u.emplaceBack(2,3,0),this.vertexBuffer=i.createVertexBuffer(s,Kn.members),this.indexBuffer=i.createIndexBuffer(u),this.segments=n.SegmentVector.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const Wo={symbol:function(l,i,s,u,h){if(l.renderPass!=="translucent")return;const f=n.StencilMode.disabled,_=l.colorModeForRenderPass();s.layout.get("text-variable-anchor")&&function(g,v,A,M,F,N,j){const Z=v.transform,q=F==="map",W=N==="map";for(const L of g){const V=M.getTile(L),K=V.getBucket(A);if(!K||!K.text||!K.text.segments.get().length)continue;const $=n.evaluateSizeForZoom(K.textSizeData,Z.zoom),ce=O4(L,K.getProjection(),Z),pe=Z.calculatePixelsToTileUnitsMatrix(V),ue=Ue(ce,V.tileID.canonical,W,q,Z,K.getProjection(),pe),ge=A.layout.get("icon-text-fit")!=="none"&&K.hasIconData();if($){const _e=Math.pow(2,Z.zoom-V.tileID.overscaledZ);Ya(K,q,W,j,n.symbolSize,Z,ue,L,_e,$,ge)}}}(u,l,s,i,s.layout.get("text-rotation-alignment"),s.layout.get("text-pitch-alignment"),h),s.paint.get("icon-opacity").constantOr(1)!==0&&g3(l,i,s,u,!1,s.paint.get("icon-translate"),s.paint.get("icon-translate-anchor"),s.layout.get("icon-rotation-alignment"),s.layout.get("icon-pitch-alignment"),s.layout.get("icon-keep-upright"),f,_),s.paint.get("text-opacity").constantOr(1)!==0&&g3(l,i,s,u,!0,s.paint.get("text-translate"),s.paint.get("text-translate-anchor"),s.layout.get("text-rotation-alignment"),s.layout.get("text-pitch-alignment"),s.layout.get("text-keep-upright"),f,_),i.map.showCollisionBoxes&&(Xn(l,i,s,u,s.paint.get("text-translate"),s.paint.get("text-translate-anchor"),!0),Xn(l,i,s,u,s.paint.get("icon-translate"),s.paint.get("icon-translate-anchor"),!1))},circle:function(l,i,s,u){if(l.renderPass!=="translucent")return;const h=s.paint.get("circle-opacity"),f=s.paint.get("circle-stroke-width"),_=s.paint.get("circle-stroke-opacity"),g=s.layout.get("circle-sort-key").constantOr(1)!==void 0;if(h.constantOr(1)===0&&(f.constantOr(1)===0||_.constantOr(1)===0))return;const v=l.context,A=v.gl,M=l.transform,F=l.depthModeForSublayer(0,n.DepthMode.ReadOnly),N=n.StencilMode.disabled,j=l.colorModeForRenderPass(),Z=M.projection.name==="globe",q=[n.mercatorXfromLng(M.center.lng),n.mercatorYfromLat(M.center.lat)],W=[];for(let V=0;V<u.length;V++){const K=u[V],$=i.getTile(K),ce=$.getBucket(s);if(!ce||ce.projection.name!==M.projection.name)continue;const pe=ce.programConfigurations.get(s.id),ue=Ws(s);Z&&ue.push("PROJECTION_GLOBE_VIEW");const ge=l.useProgram("circle",pe,ue),_e=ce.layoutVertexBuffer,Ee=ce.globeExtVertexBuffer,et=ce.indexBuffer,De=M.projection.createInversionMatrix(M,K.canonical),Ve={programConfiguration:pe,program:ge,layoutVertexBuffer:_e,globeExtVertexBuffer:Ee,indexBuffer:et,uniformValues:Zs(l,K,$,De,q,s),tile:$};if(g){const Fe=ce.segments.get();for(const Je of Fe)W.push({segments:new n.SegmentVector([Je]),sortKey:Je.sortKey,state:Ve})}else W.push({segments:ce.segments,sortKey:0,state:Ve})}g&&W.sort((V,K)=>V.sortKey-K.sortKey);const L={useDepthForOcclusion:!Z};for(const V of W){const{programConfiguration:K,program:$,layoutVertexBuffer:ce,globeExtVertexBuffer:pe,indexBuffer:ue,uniformValues:ge,tile:_e}=V.state,Ee=V.segments;l.terrain&&l.terrain.setupElevationDraw(_e,$,L),l.prepareDrawProgram(v,$,_e.tileID.toUnwrapped()),$.draw(v,A.TRIANGLES,F,N,j,n.CullFaceMode.disabled,ge,s.id,ce,ue,Ee,s.paint,M.zoom,K,[pe])}},heatmap:function(l,i,s,u){if(s.paint.get("heatmap-opacity")!==0)if(l.renderPass==="offscreen"){const h=l.context,f=h.gl,_=n.StencilMode.disabled,g=new n.ColorMode([f.ONE,f.ONE],n.Color.transparent,[!0,!0,!0,!0]);(function(j,Z,q,W){const L=j.gl,V=Z.width*W,K=Z.height*W;j.activeTexture.set(L.TEXTURE1),j.viewport.set([0,0,V,K]);let $=q.heatmapFbo;if(!$||$&&($.width!==V||$.height!==K)){$&&$.destroy();const ce=L.createTexture();L.bindTexture(L.TEXTURE_2D,ce),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_S,L.CLAMP_TO_EDGE),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_T,L.CLAMP_TO_EDGE),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MIN_FILTER,L.LINEAR),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MAG_FILTER,L.LINEAR),$=q.heatmapFbo=j.createFramebuffer(V,K,!1),function(pe,ue,ge,_e,Ee,et){const De=pe.gl;De.texImage2D(De.TEXTURE_2D,0,pe.isWebGL2&&pe.extRenderToTextureHalfFloat?De.RGBA16F:De.RGBA,Ee,et,0,De.RGBA,pe.extRenderToTextureHalfFloat?pe.isWebGL2?De.HALF_FLOAT:pe.extTextureHalfFloat.HALF_FLOAT_OES:De.UNSIGNED_BYTE,null),_e.colorAttachment.set(ge)}(j,0,ce,$,V,K)}else L.bindTexture(L.TEXTURE_2D,$.colorAttachment.get()),j.bindFramebuffer.set($.framebuffer)})(h,l,s,l.transform.projection.name==="globe"?.5:.25),h.clear({color:n.Color.transparent});const v=l.transform,A=v.projection.name==="globe",M=A?["PROJECTION_GLOBE_VIEW"]:null,F=A?n.CullFaceMode.frontCCW:n.CullFaceMode.disabled,N=[n.mercatorXfromLng(v.center.lng),n.mercatorYfromLat(v.center.lat)];for(let j=0;j<u.length;j++){const Z=u[j];if(i.hasRenderableParent(Z))continue;const q=i.getTile(Z),W=q.getBucket(s);if(!W||W.projection.name!==v.projection.name)continue;const L=W.programConfigurations.get(s.id),V=l.useProgram("heatmap",L,M),{zoom:K}=l.transform;l.terrain&&l.terrain.setupElevationDraw(q,V),l.prepareDrawProgram(h,V,Z.toUnwrapped());const $=v.projection.createInversionMatrix(v,Z.canonical);V.draw(h,f.TRIANGLES,n.DepthMode.disabled,_,g,F,m3(l,Z,q,$,N,K,s.paint.get("heatmap-intensity")),s.id,W.layoutVertexBuffer,W.indexBuffer,W.segments,s.paint,l.transform.zoom,L,A?[W.globeExtVertexBuffer]:null)}h.viewport.set([0,0,l.width,l.height])}else l.renderPass==="translucent"&&(l.context.setColorMode(l.colorModeForRenderPass()),function(h,f){const _=h.context,g=_.gl,v=f.heatmapFbo;if(!v)return;_.activeTexture.set(g.TEXTURE0),g.bindTexture(g.TEXTURE_2D,v.colorAttachment.get()),_.activeTexture.set(g.TEXTURE1);let A=f.colorRampTexture;A||(A=f.colorRampTexture=new n.Texture(_,f.colorRamp,g.RGBA)),A.bind(g.LINEAR,g.CLAMP_TO_EDGE),h.useProgram("heatmapTexture").draw(_,g.TRIANGLES,n.DepthMode.disabled,n.StencilMode.disabled,h.colorModeForRenderPass(),n.CullFaceMode.disabled,((M,F,N,j)=>({u_image:0,u_color_ramp:1,u_opacity:F.paint.get("heatmap-opacity")}))(0,f),f.id,h.viewportBuffer,h.quadTriangleIndexBuffer,h.viewportSegments,f.paint,h.transform.zoom)}(l,s))},line:function(l,i,s,u){if(l.renderPass!=="translucent")return;const h=s.paint.get("line-opacity"),f=s.paint.get("line-width");if(h.constantOr(1)===0||f.constantOr(1)===0)return;const _=l.depthModeForSublayer(0,n.DepthMode.ReadOnly),g=l.colorModeForRenderPass(),v=l.terrain&&l.terrain.renderingToTexture?1:n.exported.devicePixelRatio,A=s.paint.get("line-dasharray"),M=A.constantOr(1),F=s.layout.get("line-cap"),N=s.paint.get("line-pattern"),j=N.constantOr(1),Z=s.paint.get("line-gradient"),q=j?"linePattern":"line",W=l.context,L=W.gl,V=($=>{const ce=[];Hn($)&&ce.push("RENDER_LINE_DASH"),$.paint.get("line-gradient")&&ce.push("RENDER_LINE_GRADIENT");const pe=$.paint.get("line-trim-offset");pe[0]===0&&pe[1]===0||ce.push("RENDER_LINE_TRIM_OFFSET");const ue=$.paint.get("line-pattern").constantOr(1),ge=$.paint.get("line-opacity").constantOr(1)!==1;return!ue&&ge&&ce.push("RENDER_LINE_ALPHA_DISCARD"),ce})(s);let K=V.includes("RENDER_LINE_ALPHA_DISCARD");l.terrain&&l.terrain.clipOrMaskOverlapStencilType()&&(K=!1);for(const $ of u){const ce=i.getTile($);if(j&&!ce.patternsLoaded())continue;const pe=ce.getBucket(s);if(!pe)continue;l.prepareDrawTile();const ue=pe.programConfigurations.get(s.id),ge=l.useProgram(q,ue,V),_e=N.constantOr(null);if(_e&&ce.imageAtlas){const Oe=ce.imageAtlas.patternPositions[_e.toString()];Oe&&ue.setConstantPatternPositions(Oe)}const Ee=A.constantOr(null),et=F.constantOr(null);if(!j&&Ee&&et&&ce.lineAtlas){const Oe=ce.lineAtlas.getDash(Ee,et);Oe&&ue.setConstantPatternPositions(Oe)}let[De,Ve]=s.paint.get("line-trim-offset");(et==="round"||et==="square")&&De!==Ve&&(De===0&&(De-=1),Ve===1&&(Ve+=1));const Fe=l.terrain?$.projMatrix:null,Je=j?Wn(l,ce,s,Fe,v):Ha(l,ce,s,Fe,pe.lineClipsArray.length,v,[De,Ve]);if(Z){const Oe=pe.gradients[s.id];let it=Oe.texture;if(s.gradientVersion!==Oe.version){let We=256;if(s.stepInterpolant){const nt=i.getSource().maxzoom,Ft=$.canonical.z===nt?Math.ceil(1<<l.transform.maxZoom-$.canonical.z):1;We=n.clamp(n.nextPowerOfTwo(pe.maxLineLength/n.EXTENT*1024*Ft),256,W.maxTextureSize)}Oe.gradient=n.renderColorRamp({expression:s.gradientExpression(),evaluationKey:"lineProgress",resolution:We,image:Oe.gradient||void 0,clips:pe.lineClipsArray}),Oe.texture?Oe.texture.update(Oe.gradient):Oe.texture=new n.Texture(W,Oe.gradient,L.RGBA),Oe.version=s.gradientVersion,it=Oe.texture}W.activeTexture.set(L.TEXTURE1),it.bind(s.stepInterpolant?L.NEAREST:L.LINEAR,L.CLAMP_TO_EDGE)}M&&(W.activeTexture.set(L.TEXTURE0),ce.lineAtlasTexture.bind(L.LINEAR,L.REPEAT),ue.updatePaintBuffers()),j&&(W.activeTexture.set(L.TEXTURE0),ce.imageAtlasTexture.bind(L.LINEAR,L.CLAMP_TO_EDGE),ue.updatePaintBuffers()),l.prepareDrawProgram(W,ge,$.toUnwrapped());const Ie=Oe=>{ge.draw(W,L.TRIANGLES,_,Oe,g,n.CullFaceMode.disabled,Je,s.id,pe.layoutVertexBuffer,pe.indexBuffer,pe.segments,s.paint,l.transform.zoom,ue,[pe.layoutVertexBuffer2])};if(K){const Oe=l.stencilModeForClipping($).ref;Oe===0&&l.terrain&&W.clear({stencil:0});const it={func:L.EQUAL,mask:255};Je.u_alpha_discard_threshold=.8,Ie(new n.StencilMode(it,Oe,255,L.KEEP,L.KEEP,L.INVERT)),Je.u_alpha_discard_threshold=0,Ie(new n.StencilMode(it,Oe,255,L.KEEP,L.KEEP,L.KEEP))}else Ie(l.stencilModeForClipping($))}K&&(l.resetStencilClippingMasks(),l.terrain&&W.clear({stencil:0}))},fill:function(l,i,s,u){const h=s.paint.get("fill-color"),f=s.paint.get("fill-opacity");if(f.constantOr(1)===0)return;const _=l.colorModeForRenderPass(),g=s.paint.get("fill-pattern"),v=l.opaquePassEnabledForLayer()&&!g.constantOr(1)&&h.constantOr(n.Color.transparent).a===1&&f.constantOr(0)===1?"opaque":"translucent";if(l.renderPass===v){const A=l.depthModeForSublayer(1,l.renderPass==="opaque"?n.DepthMode.ReadWrite:n.DepthMode.ReadOnly);x3(l,i,s,u,A,_,!1)}if(l.renderPass==="translucent"&&s.paint.get("fill-antialias")){const A=l.depthModeForSublayer(s.getPaintProperty("fill-outline-color")?2:0,n.DepthMode.ReadOnly);x3(l,i,s,u,A,_,!0)}},"fill-extrusion":function(l,i,s,u){const h=s.paint.get("fill-extrusion-opacity");if(h!==0&&l.renderPass==="translucent"){const f=new n.DepthMode(l.context.gl.LEQUAL,n.DepthMode.ReadWrite,l.depthRangeFor3D);if(h!==1||s.paint.get("fill-extrusion-pattern").constantOr(1))z5(l,i,s,u,f,n.StencilMode.disabled,n.ColorMode.disabled),z5(l,i,s,u,f,l.stencilModeFor3D(),l.colorModeForRenderPass()),l.resetStencilClippingMasks();else{const _=l.colorModeForRenderPass();z5(l,i,s,u,f,n.StencilMode.disabled,_)}}},hillshade:function(l,i,s,u){if(l.renderPass!=="offscreen"&&l.renderPass!=="translucent")return;const h=l.context,f=l.depthModeForSublayer(0,n.DepthMode.ReadOnly),_=l.colorModeForRenderPass(),g=l.terrain&&l.terrain.renderingToTexture,[v,A]=l.renderPass!=="translucent"||g?[{},u]:l.stencilConfigForOverlap(u);for(const M of A){const F=i.getTile(M);if(F.needsHillshadePrepare&&l.renderPass==="offscreen")u3(l,F,s,f,n.StencilMode.disabled,_);else if(l.renderPass==="translucent"){const N=g&&l.terrain?l.terrain.stencilModeForRTTOverlap(M):v[M.overscaledZ];c3(l,M,F,s,f,N,_)}}h.viewport.set([0,0,l.width,l.height]),l.resetStencilClippingMasks()},raster:function(l,i,s,u,h,f){if(l.renderPass!=="translucent"||s.paint.get("raster-opacity")===0||!u.length)return;const _=l.context,g=_.gl,v=i.getSource(),A=l.useProgram("raster"),M=l.colorModeForRenderPass(),F=l.terrain&&l.terrain.renderingToTexture,[N,j]=v instanceof Ut||F?[{},u]:l.stencilConfigForOverlap(u),Z=j[j.length-1].overscaledZ,q=!l.options.moving;for(const W of j){const L=F?n.DepthMode.disabled:l.depthModeForSublayer(W.overscaledZ-Z,s.paint.get("raster-opacity")===1?n.DepthMode.ReadWrite:n.DepthMode.ReadOnly,g.LESS),V=W.toUnwrapped(),K=i.getTile(W);if(F&&(!K||!K.hasData()))continue;const $=F?W.projMatrix:l.transform.calculateProjMatrix(V,q),ce=l.terrain&&F?l.terrain.stencilModeForRTTOverlap(W):N[W.overscaledZ],pe=f?0:s.paint.get("raster-fade-duration");K.registerFadeDuration(pe);const ue=i.findLoadedParent(W,0),ge=Os(K,ue,i,l.transform,pe);let _e,Ee;l.terrain&&l.terrain.prepareDrawTile();const et=s.paint.get("raster-resampling")==="nearest"?g.NEAREST:g.LINEAR;_.activeTexture.set(g.TEXTURE0),K.texture.bind(et,g.CLAMP_TO_EDGE),_.activeTexture.set(g.TEXTURE1),ue?(ue.texture.bind(et,g.CLAMP_TO_EDGE),_e=Math.pow(2,ue.tileID.overscaledZ-K.tileID.overscaledZ),Ee=[K.tileID.canonical.x*_e%1,K.tileID.canonical.y*_e%1]):K.texture.bind(et,g.CLAMP_TO_EDGE),K.texture.useMipmap&&_.extTextureFilterAnisotropic&&l.transform.pitch>20&&g.texParameterf(g.TEXTURE_2D,_.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,_.extTextureFilterAnisotropicMax);const De=Ys($,Ee||[0,0],_e||1,ge,s,v instanceof Ut?v.perspectiveTransform:[0,0]);if(l.prepareDrawProgram(_,A,V),v instanceof Ut)v.boundsBuffer&&v.boundsSegments&&A.draw(_,g.TRIANGLES,L,n.StencilMode.disabled,M,n.CullFaceMode.disabled,De,s.id,v.boundsBuffer,l.quadTriangleIndexBuffer,v.boundsSegments);else{const{tileBoundsBuffer:Ve,tileBoundsIndexBuffer:Fe,tileBoundsSegments:Je}=l.getTileBoundsBuffers(K);A.draw(_,g.TRIANGLES,L,ce,M,n.CullFaceMode.disabled,De,s.id,Ve,Fe,Je)}}l.resetStencilClippingMasks()},background:function(l,i,s,u){const h=s.paint.get("background-color"),f=s.paint.get("background-opacity");if(f===0)return;const _=l.context,g=_.gl,v=l.transform,A=v.tileSize,M=s.paint.get("background-pattern");if(l.isPatternMissing(M))return;const F=!M&&h.a===1&&f===1&&l.opaquePassEnabledForLayer()?"opaque":"translucent";if(l.renderPass!==F)return;const N=n.StencilMode.disabled,j=l.depthModeForSublayer(0,F==="opaque"?n.DepthMode.ReadWrite:n.DepthMode.ReadOnly),Z=l.colorModeForRenderPass(),q=l.useProgram(M?"backgroundPattern":"background");let W,L=u;L||(W=l.getBackgroundTiles(),L=Object.values(W).map(V=>V.tileID)),M&&(_.activeTexture.set(g.TEXTURE0),l.imageManager.bind(l.context));for(const V of L){const K=V.toUnwrapped(),$=u?V.projMatrix:l.transform.calculateProjMatrix(K);l.prepareDrawTile();const ce=i?i.getTile(V):W?W[V.key]:new n.Tile(V,A,v.zoom,l),pe=M?Xa($,f,l,M,{tileID:V,tileSize:A}):Js($,f,h);l.prepareDrawProgram(_,q,K);const{tileBoundsBuffer:ue,tileBoundsIndexBuffer:ge,tileBoundsSegments:_e}=l.getTileBoundsBuffers(ce);q.draw(_,g.TRIANGLES,j,N,Z,n.CullFaceMode.disabled,pe,s.id,ue,ge,_e)}},sky:function(l,i,s){const u=l.transform,h=u.projection.name==="mercator"||u.projection.name==="globe"?1:n.smoothstep(7,8,u.zoom),f=s.paint.get("sky-opacity")*h;if(f===0)return;const _=l.context,g=s.paint.get("sky-type"),v=new n.DepthMode(_.gl.LEQUAL,n.DepthMode.ReadOnly,[0,1]),A=l.frameCounter/1e3%1;g==="atmosphere"?l.renderPass==="offscreen"?s.needsSkyboxCapture(l)&&(function(M,F,N,j){const Z=M.context,q=Z.gl;let W=F.skyboxFbo;if(!W){W=F.skyboxFbo=Z.createFramebuffer(32,32,!1),F.skyboxGeometry=new B5(Z),F.skyboxTexture=Z.gl.createTexture(),q.bindTexture(q.TEXTURE_CUBE_MAP,F.skyboxTexture),q.texParameteri(q.TEXTURE_CUBE_MAP,q.TEXTURE_WRAP_S,q.CLAMP_TO_EDGE),q.texParameteri(q.TEXTURE_CUBE_MAP,q.TEXTURE_WRAP_T,q.CLAMP_TO_EDGE),q.texParameteri(q.TEXTURE_CUBE_MAP,q.TEXTURE_MIN_FILTER,q.LINEAR),q.texParameteri(q.TEXTURE_CUBE_MAP,q.TEXTURE_MAG_FILTER,q.LINEAR);for(let $=0;$<6;++$)q.texImage2D(q.TEXTURE_CUBE_MAP_POSITIVE_X+$,0,q.RGBA,32,32,0,q.RGBA,q.UNSIGNED_BYTE,null)}Z.bindFramebuffer.set(W.framebuffer),Z.viewport.set([0,0,32,32]);const L=F.getCenter(M,!0),V=M.useProgram("skyboxCapture"),K=new Float64Array(16);n.identity(K),n.rotateY(K,K,.5*-Math.PI),Ii(Z,F,V,K,L,0),n.identity(K),n.rotateY(K,K,.5*Math.PI),Ii(Z,F,V,K,L,1),n.identity(K),n.rotateX(K,K,.5*-Math.PI),Ii(Z,F,V,K,L,2),n.identity(K),n.rotateX(K,K,.5*Math.PI),Ii(Z,F,V,K,L,3),n.identity(K),Ii(Z,F,V,K,L,4),n.identity(K),n.rotateY(K,K,Math.PI),Ii(Z,F,V,K,L,5),Z.viewport.set([0,0,M.width,M.height])}(l,s),s.markSkyboxValid(l)):l.renderPass==="sky"&&function(M,F,N,j,Z){const q=M.context,W=q.gl,L=M.transform,V=M.useProgram("skybox");q.activeTexture.set(W.TEXTURE0),W.bindTexture(W.TEXTURE_CUBE_MAP,F.skyboxTexture);const K=(($,ce,pe,ue,ge)=>({u_matrix:$,u_sun_direction:ce,u_cubemap:0,u_opacity:ue,u_temporal_offset:ge}))(L.skyboxMatrix,F.getCenter(M,!1),0,j,Z);M.prepareDrawProgram(q,V),V.draw(q,W.TRIANGLES,N,n.StencilMode.disabled,M.colorModeForRenderPass(),n.CullFaceMode.backCW,K,"skybox",F.skyboxGeometry.vertexBuffer,F.skyboxGeometry.indexBuffer,F.skyboxGeometry.segment)}(l,s,v,f,A):g==="gradient"&&l.renderPass==="sky"&&function(M,F,N,j,Z){const q=M.context,W=q.gl,L=M.transform,V=M.useProgram("skyboxGradient");F.skyboxGeometry||(F.skyboxGeometry=new B5(q)),q.activeTexture.set(W.TEXTURE0);let K=F.colorRampTexture;K||(K=F.colorRampTexture=new n.Texture(q,F.colorRamp,W.RGBA)),K.bind(W.LINEAR,W.CLAMP_TO_EDGE);const $=((ce,pe,ue,ge,_e)=>({u_matrix:ce,u_color_ramp:0,u_center_direction:pe,u_radius:n.degToRad(ue),u_opacity:ge,u_temporal_offset:_e}))(L.skyboxMatrix,F.getCenter(M,!1),F.paint.get("sky-gradient-radius"),j,Z);M.prepareDrawProgram(q,V),V.draw(q,W.TRIANGLES,N,n.StencilMode.disabled,M.colorModeForRenderPass(),n.CullFaceMode.backCW,$,"skyboxGradient",F.skyboxGeometry.vertexBuffer,F.skyboxGeometry.indexBuffer,F.skyboxGeometry.segment)}(l,s,v,f,A)},debug:function(l,i,s){for(let u=0;u<s.length;u++)e1(l,i,s[u])},custom:function(l,i,s,u){const h=l.context,f=s.implementation;if(!l.transform.projection.unsupportedLayers||!l.transform.projection.unsupportedLayers.includes("custom")||l.terrain&&(l.terrain.renderingToTexture||l.renderPass==="offscreen")&&s.isLayerDraped()){if(l.renderPass==="offscreen"){const _=f.prerender;if(_){if(l.setCustomLayerDefaults(),h.setColorMode(l.colorModeForRenderPass()),l.transform.projection.name==="globe"){const g=l.transform.pointMerc;_.call(f,h.gl,l.transform.customLayerMatrix(),l.transform.getProjection(),l.transform.globeToMercatorMatrix(),n.globeToMercatorTransition(l.transform.zoom),[g.x,g.y],l.transform.pixelsPerMeterRatio)}else _.call(f,h.gl,l.transform.customLayerMatrix());h.setDirty(),l.setBaseState()}}else if(l.renderPass==="translucent"){if(l.terrain&&l.terrain.renderingToTexture){const g=f.renderToTile;if(g){const v=u[0].canonical,A=new n.MercatorCoordinate(v.x+u[0].wrap*(1<<v.z),v.y,v.z);h.setDepthMode(n.DepthMode.disabled),h.setStencilMode(n.StencilMode.disabled),h.setColorMode(l.colorModeForRenderPass()),l.setCustomLayerDefaults(),g.call(f,h.gl,A),h.setDirty(),l.setBaseState()}return}l.setCustomLayerDefaults(),h.setColorMode(l.colorModeForRenderPass()),h.setStencilMode(n.StencilMode.disabled);const _=f.renderingMode==="3d"?new n.DepthMode(l.context.gl.LEQUAL,n.DepthMode.ReadWrite,l.depthRangeFor3D):l.depthModeForSublayer(0,n.DepthMode.ReadOnly);if(h.setDepthMode(_),l.transform.projection.name==="globe"){const g=l.transform.pointMerc;f.render(h.gl,l.transform.customLayerMatrix(),l.transform.getProjection(),l.transform.globeToMercatorMatrix(),n.globeToMercatorTransition(l.transform.zoom),[g.x,g.y],l.transform.pixelsPerMeterRatio)}else f.render(h.gl,l.transform.customLayerMatrix());h.setDirty(),l.setBaseState(),h.bindFramebuffer.set(null)}}else n.warnOnce("Custom layers are not yet supported with this projection. Use mercator or globe to enable usage of custom layers.")}};class yn{constructor(i,s,u=!1){this.context=new rt(i,u),this.transform=s,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=n.SourceCache.maxUnderzooming+n.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(i,s){const u=!!i&&!!i.terrain&&this.transform.projection.supportsTerrain;if(!(u||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new js(this,i));const h=this._terrain;this.transform.elevation=u?h:null,h.update(i,this.transform,s)}_updateFog(i){const s=i.fog;if(!s||this.transform.projection.name==="globe"||s.getOpacity(this.transform.pitch)<1||s.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[u,h]=s.getFovAdjustedRange(this.transform._fov);if(u>h)return void(this.transform.fogCullDistSq=null);const f=u+.78*(h-u);this.transform.fogCullDistSq=f*f}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(i,s){if(this.width=i*n.exported.devicePixelRatio,this.height=s*n.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const u of this.style.order)this.style._layers[u].resize()}setup(){const i=this.context,s=new n.StructArrayLayout2i4;s.emplaceBack(0,0),s.emplaceBack(n.EXTENT,0),s.emplaceBack(0,n.EXTENT),s.emplaceBack(n.EXTENT,n.EXTENT),this.tileExtentBuffer=i.createVertexBuffer(s,n.posAttributes.members),this.tileExtentSegments=n.SegmentVector.simpleSegment(0,0,4,2);const u=new n.StructArrayLayout2i4;u.emplaceBack(0,0),u.emplaceBack(n.EXTENT,0),u.emplaceBack(0,n.EXTENT),u.emplaceBack(n.EXTENT,n.EXTENT),this.debugBuffer=i.createVertexBuffer(u,n.posAttributes.members),this.debugSegments=n.SegmentVector.simpleSegment(0,0,4,5);const h=new n.StructArrayLayout2i4;h.emplaceBack(-1,-1),h.emplaceBack(1,-1),h.emplaceBack(-1,1),h.emplaceBack(1,1),this.viewportBuffer=i.createVertexBuffer(h,n.posAttributes.members),this.viewportSegments=n.SegmentVector.simpleSegment(0,0,4,2);const f=new n.StructArrayLayout4i8;f.emplaceBack(0,0,0,0),f.emplaceBack(n.EXTENT,0,n.EXTENT,0),f.emplaceBack(0,n.EXTENT,0,n.EXTENT),f.emplaceBack(n.EXTENT,n.EXTENT,n.EXTENT,n.EXTENT),this.mercatorBoundsBuffer=i.createVertexBuffer(f,n.boundsAttributes.members),this.mercatorBoundsSegments=n.SegmentVector.simpleSegment(0,0,4,2);const _=new n.StructArrayLayout3ui6;_.emplaceBack(0,1,2),_.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=i.createIndexBuffer(_);const g=new n.StructArrayLayout1ui2;for(const A of[0,1,3,2,0])g.emplaceBack(A);this.debugIndexBuffer=i.createIndexBuffer(g),this.emptyTexture=new n.Texture(i,new n.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),i.gl.RGBA),this.identityMat=n.create();const v=this.context.gl;this.stencilClearMode=new n.StencilMode({func:v.ALWAYS,mask:0},0,255,v.ZERO,v.ZERO,v.ZERO),this.loadTimeStamps.push(n.window.performance.now()),this.atmosphereBuffer=new D3(this.context)}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(i){return i._makeTileBoundsBuffers(this.context,this.transform.projection),i._tileBoundsBuffer?{tileBoundsBuffer:i._tileBoundsBuffer,tileBoundsIndexBuffer:i._tileBoundsIndexBuffer,tileBoundsSegments:i._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const i=this.context,s=i.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(i,s.TRIANGLES,n.DepthMode.disabled,this.stencilClearMode,n.ColorMode.disabled,n.CullFaceMode.disabled,qn(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(i,s,u){if(!s||this.currentStencilSource===s.id||!i.isTileClipped()||!u||u.length===0)return;if(this._tileClippingMaskIDs&&!this.terrain){let g=!1;for(const v of u)if(this._tileClippingMaskIDs[v.key]===void 0){g=!0;break}if(!g)return}this.currentStencilSource=s.id;const h=this.context,f=h.gl;this.nextStencilID+u.length>256&&this.clearStencil(),h.setColorMode(n.ColorMode.disabled),h.setDepthMode(n.DepthMode.disabled);const _=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const g of u){const v=s.getTile(g),A=this._tileClippingMaskIDs[g.key]=this.nextStencilID++,{tileBoundsBuffer:M,tileBoundsIndexBuffer:F,tileBoundsSegments:N}=this.getTileBoundsBuffers(v);_.draw(h,f.TRIANGLES,n.DepthMode.disabled,new n.StencilMode({func:f.ALWAYS,mask:0},A,255,f.KEEP,f.KEEP,f.REPLACE),n.ColorMode.disabled,n.CullFaceMode.disabled,qn(g.projMatrix),"$clipping",M,F,N)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const i=this.nextStencilID++,s=this.context.gl;return new n.StencilMode({func:s.NOTEQUAL,mask:255},i,255,s.KEEP,s.KEEP,s.REPLACE)}stencilModeForClipping(i){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(i);const s=this.context.gl;return new n.StencilMode({func:s.EQUAL,mask:255},this._tileClippingMaskIDs[i.key],0,s.KEEP,s.KEEP,s.REPLACE)}stencilConfigForOverlap(i){const s=this.context.gl,u=i.sort((_,g)=>g.overscaledZ-_.overscaledZ),h=u[u.length-1].overscaledZ,f=u[0].overscaledZ-h+1;if(f>1){this.currentStencilSource=void 0,this.nextStencilID+f>256&&this.clearStencil();const _={};for(let g=0;g<f;g++)_[g+h]=new n.StencilMode({func:s.GEQUAL,mask:255},g+this.nextStencilID,255,s.KEEP,s.KEEP,s.REPLACE);return this.nextStencilID+=f,[_,u]}return[{[h]:n.StencilMode.disabled},u]}colorModeForRenderPass(){const i=this.context.gl;return this._showOverdrawInspector?new n.ColorMode([i.CONSTANT_COLOR,i.ONE],new n.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?n.ColorMode.unblended:n.ColorMode.alphaBlended}depthModeForSublayer(i,s,u){if(!this.opaquePassEnabledForLayer())return n.DepthMode.disabled;const h=1-((1+this.currentLayer)*this.numSublayers+i)*this.depthEpsilon;return new n.DepthMode(u||this.context.gl.LEQUAL,s,[h,h])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(i,s){this.style=i,this.options=s,this.imageManager=i.imageManager,this.glyphManager=i.glyphManager,this.symbolFadeChange=i.placement.symbolFadeChange(n.exported.now()),this.imageManager.beginFrame();const u=this.style.order,h=this.style._sourceCaches;for(const A in h){const M=h[A];M.used&&M.prepare(this.context)}const f={},_={},g={};for(const A in h){const M=h[A];f[A]=M.getVisibleCoordinates(),_[A]=f[A].slice().reverse(),g[A]=M.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let A=0;A<u.length;A++)if(this.style._layers[u[A]].is3D()){this.opaquePassCutoff=A;break}if(this.terrain&&(this.terrain.updateTileBinding(g),this.opaquePassCutoff=0),this.transform.projection.name!=="globe"||this.globeSharedBuffers||(this.globeSharedBuffers=new n.GlobeSharedBuffers(this.context)),!n.isMapAuthenticated(this.context.gl))return;this.renderPass="offscreen";for(const A of u){const M=this.style._layers[A],F=i._getLayerSourceCache(M);if(!M.hasOffscreenPass()||M.isHidden(this.transform.zoom))continue;const N=F?_[F.id]:void 0;(M.type==="custom"||M.isSky()||N&&N.length)&&this.renderLayer(this,F,M,N)}this.depthRangeFor3D=[0,1-(i.order.length+2)*this.numSublayers*this.depthEpsilon];const v=this.terrain;if(v&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&v.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:s.showOverdrawInspector?n.Color.black:n.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=s.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=u.length-1;this.currentLayer>=0;this.currentLayer--){const A=this.style._layers[u[this.currentLayer]],M=i._getLayerSourceCache(A);if(A.isSky())continue;const F=M?_[M.id]:void 0;this._renderTileClippingMasks(A,M,F),this.renderLayer(this,M,A,F)}if(this.style.fog&&this.transform.projection.supportsFog&&function(A,M){const F=A.context,N=F.gl,j=A.transform,Z=new n.DepthMode(N.LEQUAL,n.DepthMode.ReadOnly,[0,1]),q=A.useProgram("globeAtmosphere",null,j.projection.name==="globe"?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),W=n.globeToMercatorTransition(j.zoom),L=M.properties.get("color").toArray01(),V=M.properties.get("high-color").toArray01(),K=M.properties.get("space-color").toArray01PremultipliedAlpha(),$=n.identity$1([]);n.rotateY$1($,$,-n.degToRad(j._center.lng)),n.rotateX$1($,$,n.degToRad(j._center.lat)),n.rotateZ$1($,$,j.angle),n.rotateX$1($,$,-j._pitch);const ce=n.fromQuat(new Float32Array(16),$),pe=n.mapValue(M.properties.get("star-intensity"),0,1,0,.25),ue=5e-4,ge=n.mapValue(M.properties.get("horizon-blend"),0,1,ue,.25),_e=n.globeUseCustomAntiAliasing(A,F,j)&&ge===ue?j.worldSize/(2*Math.PI*1.025)-1:j.globeRadius,Ee=A.frameCounter/1e3%1,et=n.length(j.globeCenterInViewSpace),De=Math.sqrt(Math.pow(et,2)-Math.pow(_e,2)),Ve=Math.acos(De/et),Fe=((Ie,Oe,it,We,nt,Ft,qt,St,Rt,n4,r4,Tt,A4,F4)=>({u_frustum_tl:Ie,u_frustum_tr:Oe,u_frustum_br:it,u_frustum_bl:We,u_horizon:nt,u_transition:Ft,u_fadeout_range:qt,u_color:St,u_high_color:Rt,u_space_color:n4,u_star_intensity:r4,u_star_size:5*n.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:Tt,u_horizon_angle:A4,u_rotation_matrix:F4}))(j.frustumCorners.TL,j.frustumCorners.TR,j.frustumCorners.BR,j.frustumCorners.BL,j.frustumCorners.horizon,W,ge,L,V,K,pe,Ee,Ve,ce);A.prepareDrawProgram(F,q);const Je=A.atmosphereBuffer;Je&&q.draw(F,N.TRIANGLES,Z,n.StencilMode.disabled,n.ColorMode.alphaBlended,n.CullFaceMode.backCW,Fe,"skybox",Je.vertexBuffer,Je.indexBuffer,Je.segments)}(this,this.style.fog),this.renderPass="sky",(n.globeToMercatorTransition(this.transform.zoom)>0||this.transform.projection.name!=="globe")&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<u.length;this.currentLayer++){const A=this.style._layers[u[this.currentLayer]],M=i._getLayerSourceCache(A);A.isSky()&&this.renderLayer(this,M,A,M?_[M.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<u.length;){const A=this.style._layers[u[this.currentLayer]],M=i._getLayerSourceCache(A);if(A.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(A)){if(A.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const F=M?(A.type==="symbol"?g:_)[M.id]:void 0;this._renderTileClippingMasks(A,M,M?f[M.id]:void 0),this.renderLayer(this,M,A,F),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let A=null;n.values(this.style._layers).forEach(M=>{const F=i._getLayerSourceCache(M);F&&!M.isHidden(this.transform.zoom)&&(!A||A.getSource().maxzoom<F.getSource().maxzoom)&&(A=F)}),A&&this.options.showTileBoundaries&&Wo.debug(this,A,A.getVisibleCoordinates())}this.options.showPadding&&function(A){const M=A.transform.padding;b3(A,A.transform.height-(M.top||0),3,fn),b3(A,M.bottom||0,3,Ka),R5(A,M.left||0,3,Ja),R5(A,A.transform.width-(M.right||0),3,$a);const F=A.transform.centerPoint;(function(N,j,Z,q){mn(N,j-1,Z-10,2,20,q),mn(N,j-10,Z-1,20,2,q)})(A,F.x,A.transform.height-F.y,Qa)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(n.window.performance.now()),this.saveCanvasCopy())}renderLayer(i,s,u,h){u.isHidden(this.transform.zoom)||(u.type==="background"||u.type==="sky"||u.type==="custom"||h&&h.length)&&(this.id=u.id,this.gpuTimingStart(u),(!i.transform.projection.unsupportedLayers||!i.transform.projection.unsupportedLayers.includes(u.type)||i.terrain&&u.type==="custom")&&Wo[u.type](i,s,u,h,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(i){if(!this.options.gpuTiming)return;const s=this.context.extTimerQuery;let u=this.gpuTimers[i.id];u||(u=this.gpuTimers[i.id]={calls:0,cpuTime:0,query:s.createQueryEXT()}),u.calls++,s.beginQueryEXT(s.TIME_ELAPSED_EXT,u.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const i=this.context.extTimerQuery,s=i.createQueryEXT();this.deferredRenderGpuTimeQueries.push(s),i.beginQueryEXT(i.TIME_ELAPSED_EXT,s)}}gpuTimingDeferredRenderEnd(){if(!this.options.gpuTimingDeferredRender)return;const i=this.context.extTimerQuery;i.endQueryEXT(i.TIME_ELAPSED_EXT)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const i=this.context.extTimerQuery;i.endQueryEXT(i.TIME_ELAPSED_EXT)}collectGpuTimers(){const i=this.gpuTimers;return this.gpuTimers={},i}collectDeferredRenderGpuQueries(){const i=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],i}queryGpuTimers(i){const s={};for(const u in i){const h=i[u],f=this.context.extTimerQuery,_=f.getQueryObjectEXT(h.query,f.QUERY_RESULT_EXT)/1e6;f.deleteQueryEXT(h.query),s[u]=_}return s}queryGpuTimeDeferredRender(i){if(!this.options.gpuTimingDeferredRender)return 0;const s=this.context.extTimerQuery;let u=0;for(const h of i)u+=s.getQueryObjectEXT(h,s.QUERY_RESULT_EXT)/1e6,s.deleteQueryEXT(h);return u}translatePosMatrix(i,s,u,h,f){if(!u[0]&&!u[1])return i;const _=f?h==="map"?this.transform.angle:0:h==="viewport"?-this.transform.angle:0;if(_){const A=Math.sin(_),M=Math.cos(_);u=[u[0]*M-u[1]*A,u[0]*A+u[1]*M]}const g=[f?u[0]:Zt(s,u[0],this.transform.zoom),f?u[1]:Zt(s,u[1],this.transform.zoom),0],v=new Float32Array(16);return n.translate(v,i,g),v}saveTileTexture(i){const s=this._tileTextures[i.size[0]];s?s.push(i):this._tileTextures[i.size[0]]=[i]}getTileTexture(i){const s=this._tileTextures[i];return s&&s.length>0?s.pop():null}isPatternMissing(i){return i===null||i!==void 0&&!this.imageManager.getPattern(i.toString())}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}currentGlobalDefines(){const i=this.terrain&&this.terrain.renderingToTexture,s=this.terrain&&this.terrain.exaggeration()===0,u=this.style&&this.style.fog,h=[];return this.terrainRenderModeElevated()&&h.push("TERRAIN"),this.transform.projection.name==="globe"&&h.push("GLOBE"),s&&h.push("ZERO_EXAGGERATION"),u&&!i&&u.getOpacity(this.transform.pitch)!==0&&h.push("FOG"),i&&h.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&h.push("OVERDRAW_INSPECTOR"),h}useProgram(i,s,u){this.cache=this.cache||{};const h=u||[],f=this.currentGlobalDefines().concat(h),_=u4.cacheKey(zs[i],i,f,s);return this.cache[_]||(this.cache[_]=new u4(this.context,i,zs[i],s,$s[i],f)),this.cache[_]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const i=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(i.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=n.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new n.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}prepareDrawProgram(i,s,u){if(this.terrain&&this.terrain.renderingToTexture)return;const h=this.style.fog;if(h){const f=h.getOpacity(this.transform.pitch),_=((g,v,A,M,F,N,j,Z,q,W,L)=>{const V=g.transform,K=v.properties.get("color").toArray01();K[3]=M;const $=g.frameCounter/1e3%1;return{u_fog_matrix:A?V.calculateFogTileMatrix(A):g.identityMat,u_fog_range:v.getFovAdjustedRange(V._fov),u_fog_color:K,u_fog_horizon_blend:v.properties.get("horizon-blend"),u_fog_temporal_offset:$,u_frustum_tl:F,u_frustum_tr:N,u_frustum_br:j,u_frustum_bl:Z,u_globe_pos:q,u_globe_radius:W,u_viewport:L,u_globe_transition:n.globeToMercatorTransition(V.zoom),u_is_globe:+(V.projection.name==="globe")}})(this,h,u,f,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*n.exported.devicePixelRatio,this.transform.height*n.exported.devicePixelRatio]);s.setFogUniformValues(i,_)}}setTileLoadedFlag(i){this.tileLoaded=i}saveCanvasCopy(){const i=this.canvasCopy();i&&(this.frameCopies.push(i),this.tileLoaded=!1)}canvasCopy(){const i=this.context.gl,s=i.createTexture();return i.bindTexture(i.TEXTURE_2D,s),i.copyTexImage2D(i.TEXTURE_2D,0,i.RGBA,0,0,i.drawingBufferWidth,i.drawingBufferHeight,0),s}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const i=this.style&&this.style.fog;return!!i&&i.getOpacity(this.transform.pitch)!==0}getBackgroundTiles(){const i=this._backgroundTiles,s=this._backgroundTiles={},u=this.transform.coveringTiles({tileSize:512});for(const h of u)s[h.key]=i[h.key]||new n.Tile(h,512,this.transform.tileZoom,this);return s}clearBackgroundTiles(){this._backgroundTiles={}}}class N5{constructor(i=0,s=0,u=0,h=0){if(isNaN(i)||i<0||isNaN(s)||s<0||isNaN(u)||u<0||isNaN(h)||h<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=i,this.bottom=s,this.left=u,this.right=h}interpolate(i,s,u){return s.top!=null&&i.top!=null&&(this.top=n.number(i.top,s.top,u)),s.bottom!=null&&i.bottom!=null&&(this.bottom=n.number(i.bottom,s.bottom,u)),s.left!=null&&i.left!=null&&(this.left=n.number(i.left,s.left,u)),s.right!=null&&i.right!=null&&(this.right=n.number(i.right,s.right,u)),this}getCenter(i,s){const u=n.clamp((this.left+i-this.right)/2,0,i),h=n.clamp((this.top+s-this.bottom)/2,0,s);return new n.Point(u,h)}equals(i){return this.top===i.top&&this.bottom===i.bottom&&this.left===i.left&&this.right===i.right}clone(){return new N5(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function O5(l,i){const s=n.getColumn(l,3);n.fromQuat(l,i),n.setColumn(l,3,s)}function y4(l,i){const s=n.identity$1([]);return n.rotateZ$1(s,s,-i),n.rotateX$1(s,s,-l),s}function Jn(l,i){const s=[l[0],l[1],0],u=[i[0],i[1],0];if(n.length(s)>=1e-15){const _=n.normalize([],s);n.scale$2(u,_,n.dot(u,_)),i[0]=u[0],i[1]=u[1]}const h=n.cross([],i,l);if(n.len(h)<1e-15)return null;const f=Math.atan2(-h[1],h[0]);return y4(Math.atan2(Math.sqrt(l[0]*l[0]+l[1]*l[1]),-l[2]),f)}class S3{constructor(i,s){this.position=i,this.orientation=s}get position(){return this._position}set position(i){if(i){const s=i instanceof n.MercatorCoordinate?i:new n.MercatorCoordinate(i[0],i[1],i[2]);this._renderWorldCopies&&(s.x=n.wrap(s.x,0,1)),this._position=s}else this._position=null}lookAtPoint(i,s){if(this.orientation=null,!this.position)return;const u=this.position,h=this._elevation?this._elevation.getAtPointOrZero(n.MercatorCoordinate.fromLngLat(i)):0,f=n.MercatorCoordinate.fromLngLat(i,h),_=[f.x-u.x,f.y-u.y,f.z-u.z];s||(s=[0,0,1]),s[2]=Math.abs(s[2]),this.orientation=Jn(_,s)}setPitchBearing(i,s){this.orientation=y4(n.degToRad(i),n.degToRad(-s))}}class V5{constructor(i,s){this._transform=n.identity([]),this.orientation=s,this.position=i}get mercatorPosition(){const i=this.position;return new n.MercatorCoordinate(i[0],i[1],i[2])}get position(){const i=n.getColumn(this._transform,3);return[i[0],i[1],i[2]]}set position(i){var s;i&&n.setColumn(this._transform,3,[(s=i)[0],s[1],s[2],1])}get orientation(){return this._orientation}set orientation(i){this._orientation=i||n.identity$1([]),i&&O5(this._transform,this._orientation)}getPitchBearing(){const i=this.forward(),s=this.right();return{bearing:Math.atan2(-s[1],s[0]),pitch:Math.atan2(Math.sqrt(i[0]*i[0]+i[1]*i[1]),-i[2])}}setPitchBearing(i,s){this._orientation=y4(i,s),O5(this._transform,this._orientation)}forward(){const i=n.getColumn(this._transform,2);return[-i[0],-i[1],-i[2]]}up(){const i=n.getColumn(this._transform,1);return[-i[0],-i[1],-i[2]]}right(){const i=n.getColumn(this._transform,0);return[i[0],i[1],i[2]]}getCameraToWorld(i,s){const u=new Float64Array(16);return n.invert(u,this.getWorldToCamera(i,s)),u}getWorldToCameraPosition(i,s,u){const h=this.position;n.scale$2(h,h,-i);const f=new Float64Array(16);return n.fromScaling(f,[u,u,u]),n.translate(f,f,h),f[10]*=s,f}getWorldToCamera(i,s){const u=new Float64Array(16),h=new Float64Array(4),f=this.position;return n.conjugate(h,this._orientation),n.scale$2(f,f,-i),n.fromQuat(u,h),n.translate(u,u,f),u[1]*=-1,u[5]*=-1,u[9]*=-1,u[13]*=-1,u[8]*=s,u[9]*=s,u[10]*=s,u[11]*=s,u}getCameraToClipPerspective(i,s,u,h){const f=new Float64Array(16);return n.perspective(f,i,s,u,h),f}getDistanceToElevation(i,s=!1){const u=i===0?0:n.mercatorZfromAltitude(i,s?n.latFromMercatorY(this.position[1]):this.position[1]),h=this.forward();return(u-this.position[2])/h[2]}clone(){return new V5([...this.position],[...this.orientation])}}function _n(l,i){const s=j5(l.projection,l.zoom,l.width,l.height),u=function(f,_,g,v,A){const M=new n.LngLat(g.lng-180*ho,g.lat),F=new n.LngLat(g.lng+180*ho,g.lat),N=f.project(M.lng,M.lat),j=f.project(F.lng,F.lat),Z=-Math.atan2(j.y-N.y,j.x-N.x),q=n.MercatorCoordinate.fromLngLat(g);q.y=n.clamp(q.y,-1+ho,1-ho);const W=q.toLngLat(),L=f.project(W.lng,W.lat),V=n.MercatorCoordinate.fromLngLat(W);V.x+=ho;const K=V.toLngLat(),$=f.project(K.lng,K.lat),ce=G5($.x-L.x,$.y-L.y,Z),pe=n.MercatorCoordinate.fromLngLat(W);pe.y+=ho;const ue=pe.toLngLat(),ge=f.project(ue.lng,ue.lat),_e=G5(ge.x-L.x,ge.y-L.y,Z),Ee=Math.abs(ce.x)/Math.abs(_e.y),et=n.identity([]);n.rotateZ(et,et,-Z*(1-(A?0:v)));const De=n.identity([]);return n.scale(De,De,[1,1-(1-Ee)*v,1]),De[4]=-_e.x/_e.y*v,n.rotateZ(De,De,Z),n.multiply(De,et,De),De}(l.projection,0,l.center,s,i),h=M3(l);return n.scale(u,u,[h,h,1]),u}function M3(l){const i=l.projection,s=j5(l.projection,l.zoom,l.width,l.height),u=A3(i,l.center),h=A3(i,n.LngLat.convert(i.center));return Math.pow(2,u*s+(1-s)*h)}function j5(l,i,s,u,h=1/0){const f=l.range;if(!f)return 0;const _=Math.min(h,Math.max(s,u)),g=Math.log(_/1024)/Math.LN2;return n.smoothstep(f[0]+g,f[1]+g,i)}const ho=1/4e4;function A3(l,i){const s=n.clamp(i.lat,-n.MAX_MERCATOR_LATITUDE,n.MAX_MERCATOR_LATITUDE),u=new n.LngLat(i.lng-180*ho,s),h=new n.LngLat(i.lng+180*ho,s),f=l.project(u.lng,s),_=l.project(h.lng,s),g=n.MercatorCoordinate.fromLngLat(u),v=n.MercatorCoordinate.fromLngLat(h),A=_.x-f.x,M=_.y-f.y,F=v.x-g.x,N=v.y-g.y,j=Math.sqrt((F*F+N*N)/(A*A+M*M));return Math.log(j)/Math.LN2}function G5(l,i,s){const u=Math.cos(s),h=Math.sin(s);return{x:l*u-i*h,y:l*h+i*u}}class gn{constructor(i,s,u,h,f,_,g){this.tileSize=512,this._renderWorldCopies=f===void 0||f,this._minZoom=i||0,this._maxZoom=s||22,this._minPitch=u??0,this._maxPitch=h??60,this.setProjection(_),this.setMaxBounds(g),this.width=0,this.height=0,this._center=new n.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new N5,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new V5,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}clone(){const i=new gn(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return i._elevation=this._elevation,i._centerAltitude=this._centerAltitude,i._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,i.tileSize=this.tileSize,i.mercatorFromTransition=this.mercatorFromTransition,i.width=this.width,i.height=this.height,i.cameraElevationReference=this.cameraElevationReference,i._center=this._center,i._setZoom(this.zoom),i._seaLevelZoom=this._seaLevelZoom,i.angle=this.angle,i._fov=this._fov,i._pitch=this._pitch,i._nearZ=this._nearZ,i._farZ=this._farZ,i._averageElevation=this._averageElevation,i._unmodified=this._unmodified,i._edgeInsets=this._edgeInsets.clone(),i._camera=this._camera.clone(),i._calcMatrices(),i.freezeTileCoverage=this.freezeTileCoverage,i.frustumCorners=this.frustumCorners,i}get elevation(){return this._elevation}set elevation(i){this._elevation!==i&&(this._elevation=i,this._updateCameraOnTerrain(),this._calcMatrices())}updateElevation(i,s=!1){const u=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(this._seaLevelZoom==null||u)&&this._updateCameraOnTerrain(),(i||u)&&this._constrainCamera(s),this._calcMatrices()}getProjection(){return n.pick(this.projection,["name","center","parallels"])}setProjection(i){this.projectionOptions=i||{name:"mercator"};const s=this.projection?this.getProjection():void 0;this.projection=n.getProjection(this.projectionOptions);const u=!G(s,this.getProjection());return u&&this._calcMatrices(),this.mercatorFromTransition=!1,u}setMercatorFromTransition(){const i=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=n.getProjection({name:"mercator"});const s=i!==this.projection.name;return s&&this._calcMatrices(),s}get minZoom(){return this._minZoom}set minZoom(i){this._minZoom!==i&&(this._minZoom=i,this.zoom=Math.max(this.zoom,i))}get maxZoom(){return this._maxZoom}set maxZoom(i){this._maxZoom!==i&&(this._maxZoom=i,this.zoom=Math.min(this.zoom,i))}get minPitch(){return this._minPitch}set minPitch(i){this._minPitch!==i&&(this._minPitch=i,this.pitch=Math.max(this.pitch,i))}get maxPitch(){return this._maxPitch}set maxPitch(i){this._maxPitch!==i&&(this._maxPitch=i,this.pitch=Math.min(this.pitch,i))}get renderWorldCopies(){return this._renderWorldCopies&&this.projection.supportsWorldCopies===!0}set renderWorldCopies(i){i===void 0?i=!0:i===null&&(i=!1),this._renderWorldCopies=i}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const i=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(i))}get cameraWorldSize(){const i=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(i))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return n.mercatorZfromAltitude(this.center.lat,this.cameraWorldSizeForFog)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new n.Point(this.width,this.height)}get bearing(){return n.wrap(this.rotation,-180,180)}set bearing(i){this.rotation=i}get rotation(){return-this.angle/Math.PI*180}set rotation(i){const s=-i*Math.PI/180;var u;this.angle!==s&&(this._unmodified=!1,this.angle=s,this._calcMatrices(),this.rotationMatrix=(u=new n.ARRAY_TYPE(4),n.ARRAY_TYPE!=Float32Array&&(u[1]=0,u[2]=0),u[0]=1,u[3]=1,u),function(h,f,_){var g=f[0],v=f[1],A=f[2],M=f[3],F=Math.sin(_),N=Math.cos(_);h[0]=g*N+A*F,h[1]=v*N+M*F,h[2]=g*-F+A*N,h[3]=v*-F+M*N}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(i){const s=n.clamp(i,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==s&&(this._unmodified=!1,this._pitch=s,this._calcMatrices())}get aspect(){return this.width/this.height}get fov(){return this._fov/Math.PI*180}get fovX(){return this._fov}get fovY(){const i=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/i)}set fov(i){i=Math.max(.01,Math.min(60,i)),this._fov!==i&&(this._unmodified=!1,this._fov=n.degToRad(i),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(i){this._averageElevation=i,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(i){const s=Math.min(Math.max(i,this.minZoom),this.maxZoom);this._zoom!==s&&(this._unmodified=!1,this._setZoom(s),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(i){this._zoom=i,this.scale=this.zoomScale(i),this.tileZoom=Math.floor(i),this.zoomFraction=i-this.tileZoom}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const i=this._elevation;this._centerAltitude=i.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=i.exaggeration(),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){this._centerAltitudeValidForExaggeration!==void 0&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const i=this._elevation,s=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],u=this.horizonLineFromTop();let h=0,f=0;for(let _=0;_<s.length;_++){const g=new n.Point(s[_][0]*this.width,u+s[_][1]*(this.height-u)),v=i.pointCoordinate(g);if(!v)continue;const A=1/Math.hypot(v[0]-this._camera.position[0],v[1]-this._camera.position[1]);h+=v[3]*A,f+=A}return f===0?NaN:h/f}get center(){return this._center}set center(i){i.lat===this._center.lat&&i.lng===this._center.lng||(this._unmodified=!1,this._center=i,this._terrainEnabled()&&(this.cameraElevationReference==="ground"?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(this._seaLevelZoom==null||!this._elevation)return;const i=this._seaLevelZoom,s=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),u=this.pixelsPerMeter/this.worldSize*s,h=this._mercatorZfromZoom(i),f=this._mercatorZfromZoom(this._maxZoom),_=Math.max(h-u,f);this._setZoom(this._zoomFromMercatorZ(_))}get padding(){return this._edgeInsets.toJSON()}set padding(i){this._edgeInsets.equals(i)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,i,1),this._calcMatrices())}computeZoomRelativeTo(i){const s=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,i.toAltitude()));let u;u=i.z<this._camera.position[2]?[s.x,s.y,s.z]:[i.x,i.y,i.z];const h=n.length(n.sub([],this._camera.position,u));return n.clamp(this._zoomFromMercatorZ(h),this._minZoom,this._maxZoom)}setFreeCameraOptions(i){if(!this.height||!i.position&&!i.orientation)return;this._updateCameraState();let s=!1;if(i.orientation&&!n.exactEquals(i.orientation,this._camera.orientation)&&(s=this._setCameraOrientation(i.orientation)),i.position){const u=[i.position.x,i.position.y,i.position.z];n.exactEquals$1(u,this._camera.position)||(this._setCameraPosition(u),s=!0)}s&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const i=this._camera.position,s=new S3;return s.position=new n.MercatorCoordinate(i[0],i[1],i[2]),s.orientation=this._camera.orientation,s._elevation=this.elevation,s._renderWorldCopies=this.renderWorldCopies,s}_setCameraOrientation(i){if(!n.length$1(i))return!1;n.normalize$1(i,i);const s=n.transformQuat([],[0,0,-1],i),u=n.transformQuat([],[0,-1,0],i);if(u[2]<0)return!1;const h=Jn(s,u);return!!h&&(this._camera.orientation=h,!0)}_setCameraPosition(i){const s=this.zoomScale(this.minZoom)*this.tileSize,u=this.zoomScale(this.maxZoom)*this.tileSize,h=this.cameraToCenterDistance;i[2]=n.clamp(i[2],h/u,h/s),this._camera.position=i}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(i){return this._edgeInsets.equals(i)}interpolatePadding(i,s,u){this._unmodified=!1,this._edgeInsets.interpolate(i,s,u),this._constrain(),this._calcMatrices()}coveringZoomLevel(i){const s=(i.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/i.tileSize));return Math.max(0,s)}getVisibleUnwrappedCoordinates(i){const s=[new n.UnwrappedTileID(0,i)];if(this.renderWorldCopies){const u=this.pointCoordinate(new n.Point(0,0)),h=this.pointCoordinate(new n.Point(this.width,0)),f=this.pointCoordinate(new n.Point(this.width,this.height)),_=this.pointCoordinate(new n.Point(0,this.height)),g=Math.floor(Math.min(u.x,h.x,f.x,_.x)),v=Math.floor(Math.max(u.x,h.x,f.x,_.x)),A=1;for(let M=g-A;M<=v+A;M++)M!==0&&s.push(new n.UnwrappedTileID(M,i))}return s}coveringTiles(i){let s=this.coveringZoomLevel(i);const u=s,h=this.elevation&&!i.isTerrainDEM,f=this.projection.name==="mercator";if(i.minzoom!==void 0&&s<i.minzoom)return[];i.maxzoom!==void 0&&s>i.maxzoom&&(s=i.maxzoom);const _=this.locationCoordinate(this.center),g=this.center.lat,v=1<<s,A=[v*_.x,v*_.y,0],M=this.projection.name==="globe",F=!M,N=n.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,s,F),j=M?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),Z=v*n.mercatorZfromAltitude(1,this.center.lat),q=this._camera.position[2]/n.mercatorZfromAltitude(1,this.center.lat),W=[v*j.x,v*j.y,q*(F?1:Z)],L=this.cameraToCenterDistance/i.tileSize*(i.roundZoom?1:.502),V=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?s:0,K=i.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,$=i.isTerrainDEM?-K:this._elevation?this._elevation.getMinElevationBelowMSL():0,ce=this.projection.isReprojectedInTileSpace?M3(this):1,pe=Ie=>{const it=new n.MercatorCoordinate(Ie.x+25e-6,Ie.y,Ie.z),We=new n.MercatorCoordinate(Ie.x,Ie.y+25e-6,Ie.z),nt=Ie.toLngLat(),Ft=it.toLngLat(),qt=We.toLngLat(),St=this.locationCoordinate(nt),Rt=this.locationCoordinate(Ft),n4=this.locationCoordinate(qt),r4=Math.hypot(Rt.x-St.x,Rt.y-St.y),Tt=Math.hypot(n4.x-St.x,n4.y-St.y);return Math.sqrt(r4*Tt)*ce/25e-6},ue=Ie=>{const Oe=K,it=$;return{aabb:n.tileAABB(this,v,0,0,0,Ie,it,Oe,this.projection),zoom:0,x:0,y:0,minZ:it,maxZ:Oe,wrap:Ie,fullyVisible:!1}},ge=[];let _e=[];const Ee=s,et=i.reparseOverscaled?u:s,De=Ie=>Ie*Ie,Ve=De((q-this._centerAltitude)*Z),Fe=Ie=>{if(!this._elevation||!Ie.tileID||!f)return;const Oe=this._elevation.getMinMaxForTile(Ie.tileID),it=Ie.aabb;Oe?(it.min[2]=Oe.min,it.max[2]=Oe.max,it.center[2]=(it.min[2]+it.max[2])/2):(Ie.shouldSplit=Je(Ie),Ie.shouldSplit||(it.min[2]=it.max[2]=it.center[2]=this._centerAltitude))},Je=Ie=>{if(Ie.zoom<V)return!0;if(Ie.zoom===Ee)return!1;if(Ie.shouldSplit!=null)return Ie.shouldSplit;const Oe=Ie.aabb.distanceX(W),it=Ie.aabb.distanceY(W);let We=Ve,nt=1;if(M){We=De(Ie.aabb.distanceZ(W));const St=Math.pow(2,Ie.zoom),Rt=n.latFromMercatorY((Ie.y+1)/St),n4=n.latFromMercatorY(Ie.y/St),r4=Math.min(Math.max(g,Rt),n4),Tt=n.circumferenceAtLatitude(r4)/n.circumferenceAtLatitude(g);if(nt=r4===g?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,Tt/this._mercatorScaleRatio),this.zoom<=n.GLOBE_ZOOM_THRESHOLD_MIN&&Ie.zoom===Ee-1&&Tt>=.9)return!0}else if(h&&(We=De(Ie.aabb.distanceZ(W)*Z)),this.projection.isReprojectedInTileSpace&&u<=5){const St=Math.pow(2,Ie.zoom),Rt=pe(new n.MercatorCoordinate((Ie.x+.5)/St,(Ie.y+.5)/St));nt=Rt>.85?1:Rt}const Ft=Oe*Oe+it*it+We,qt=De((1<<Ee-Ie.zoom)*L*nt*((St,Rt)=>{if(Rt*De(.707)<St)return 1;const n4=Math.sqrt(Rt/St);return n4/(1.4144271570014144+(Math.pow(1.1,n4-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(We,Ve),Ft));return Ft<qt};if(this.renderWorldCopies)for(let Ie=1;Ie<=3;Ie++)ge.push(ue(-Ie)),ge.push(ue(Ie));for(ge.push(ue(0));ge.length>0;){const Ie=ge.pop(),Oe=Ie.x,it=Ie.y;let We=Ie.fullyVisible;if(!We){const nt=Ie.aabb.intersects(N);if(nt===0)continue;We=nt===2}if(Ie.zoom!==Ee&&Je(Ie))for(let nt=0;nt<4;nt++){const Ft=(Oe<<1)+nt%2,qt=(it<<1)+(nt>>1),St={aabb:f?Ie.aabb.quadrant(nt):n.tileAABB(this,v,Ie.zoom+1,Ft,qt,Ie.wrap,Ie.minZ,Ie.maxZ,this.projection),zoom:Ie.zoom+1,x:Ft,y:qt,wrap:Ie.wrap,fullyVisible:We,tileID:void 0,shouldSplit:void 0,minZ:Ie.minZ,maxZ:Ie.maxZ};h&&!M&&(St.tileID=new n.OverscaledTileID(Ie.zoom+1===Ee?et:Ie.zoom+1,Ie.wrap,Ie.zoom+1,Ft,qt),Fe(St)),ge.push(St)}else{const nt=Ie.zoom===Ee?et:Ie.zoom;if(i.minzoom&&i.minzoom>nt)continue;const Ft=A[0]-(.5+Oe+(Ie.wrap<<Ie.zoom))*(1<<s-Ie.zoom),qt=A[1]-.5-it,St=Ie.tileID?Ie.tileID:new n.OverscaledTileID(nt,Ie.wrap,Ie.zoom,Oe,it);_e.push({tileID:St,distanceSq:Ft*Ft+qt*qt})}}if(this.fogCullDistSq){const Ie=this.fogCullDistSq,Oe=this.horizonLineFromTop();_e=_e.filter(it=>{const We=[0,0,0,1],nt=[n.EXTENT,n.EXTENT,0,1],Ft=this.calculateFogTileMatrix(it.tileID.toUnwrapped());n.transformMat4$1(We,We,Ft),n.transformMat4$1(nt,nt,Ft);const qt=n.getAABBPointSquareDist(We,nt);if(qt===0)return!0;let St=!1;const Rt=this._elevation;if(Rt&&qt>Ie&&Oe!==0){const n4=this.calculateProjMatrix(it.tileID.toUnwrapped());let r4;i.isTerrainDEM||(r4=Rt.getMinMaxForTile(it.tileID)),r4||(r4={min:$,max:K});const Tt=n.furthestTileCorner(this.rotation),A4=[Tt[0]*n.EXTENT,Tt[1]*n.EXTENT,r4.max];n.transformMat4(A4,A4,n4),St=(1-A4[1])*this.height*.5<Oe}return qt<Ie||St})}return _e.sort((Ie,Oe)=>Ie.distanceSq-Oe.distanceSq).map(Ie=>Ie.tileID)}resize(i,s){this.width=i,this.height=s,this.pixelsToGLUnits=[2/i,-2/s],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(i){return Math.pow(2,i)}scaleZoom(i){return Math.log(i)/Math.LN2}project(i){const s=n.clamp(i.lat,-n.MAX_MERCATOR_LATITUDE,n.MAX_MERCATOR_LATITUDE),u=this.projection.project(i.lng,s);return new n.Point(u.x*this.worldSize,u.y*this.worldSize)}unproject(i){return this.projection.unproject(i.x/this.worldSize,i.y/this.worldSize)}get point(){return this.project(this.center)}get pointMerc(){return this.point._div(this.worldSize)}get pixelsPerMeterRatio(){return this.pixelsPerMeter/n.mercatorZfromAltitude(1,this.center.lat)/this.worldSize}setLocationAtPoint(i,s){let u,h;const f=this.centerPoint;if(this.projection.name==="globe"){const g=this.worldSize;u=(s.x-f.x)/g,h=(s.y-f.y)/g}else{const g=this.pointCoordinate(s),v=this.pointCoordinate(f);u=g.x-v.x,h=g.y-v.y}const _=this.locationCoordinate(i);this.setLocation(new n.MercatorCoordinate(_.x-u,_.y-h))}setLocation(i){this.center=this.coordinateLocation(i),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(i){return this.projection.locationPoint(this,i)}locationPoint3D(i){return this.projection.locationPoint(this,i,!0)}pointLocation(i){return this.coordinateLocation(this.pointCoordinate(i))}pointLocation3D(i){return this.coordinateLocation(this.pointCoordinate3D(i))}locationCoordinate(i,s){const u=s?n.mercatorZfromAltitude(s,i.lat):void 0,h=this.projection.project(i.lng,i.lat);return new n.MercatorCoordinate(h.x,h.y,u)}coordinateLocation(i){return this.projection.unproject(i.x,i.y)}pointRayIntersection(i,s){const u=s??this._centerAltitude,h=[i.x,i.y,0,1],f=[i.x,i.y,1,1];n.transformMat4$1(h,h,this.pixelMatrixInverse),n.transformMat4$1(f,f,this.pixelMatrixInverse);const _=f[3];n.scale$1(h,h,1/h[3]),n.scale$1(f,f,1/_);const g=h[2],v=f[2];return{p0:h,p1:f,t:g===v?0:(u-g)/(v-g)}}screenPointToMercatorRay(i){const s=[i.x,i.y,0,1],u=[i.x,i.y,1,1];return n.transformMat4$1(s,s,this.pixelMatrixInverse),n.transformMat4$1(u,u,this.pixelMatrixInverse),n.scale$1(s,s,1/s[3]),n.scale$1(u,u,1/u[3]),s[2]=n.mercatorZfromAltitude(s[2],this._center.lat)*this.worldSize,u[2]=n.mercatorZfromAltitude(u[2],this._center.lat)*this.worldSize,n.scale$1(s,s,1/this.worldSize),n.scale$1(u,u,1/this.worldSize),new n.Ray([s[0],s[1],s[2]],n.normalize([],n.sub([],u,s)))}rayIntersectionCoordinate(i){const{p0:s,p1:u,t:h}=i,f=n.mercatorZfromAltitude(s[2],this._center.lat),_=n.mercatorZfromAltitude(u[2],this._center.lat);return new n.MercatorCoordinate(n.number(s[0],u[0],h)/this.worldSize,n.number(s[1],u[1],h)/this.worldSize,n.number(f,_,h))}pointCoordinate(i,s=this._centerAltitude){return this.projection.pointCoordinate(this,i.x,i.y,s)}pointCoordinate3D(i){if(!this.elevation)return this.pointCoordinate(i);let s=this.projection.pointCoordinate3D(this,i.x,i.y);if(s)return new n.MercatorCoordinate(s[0],s[1],s[2]);let u=0,h=this.horizonLineFromTop();if(i.y>h)return this.pointCoordinate(i);const f=.02*h,_=i.clone();for(let g=0;g<10&&h-u>f;g++){_.y=n.number(u,h,.66);const v=this.projection.pointCoordinate3D(this,_.x,_.y);v?(h=_.y,s=v):u=_.y}return s?new n.MercatorCoordinate(s[0],s[1],s[2]):this.pointCoordinate(i)}isPointAboveHorizon(i){return this.projection.isPointAboveHorizon(this,i)}isPointOnSurface(i){if(i.y<0||i.y>this.height||i.x<0||i.x>this.width)return!1;if(this.elevation||this.zoom>=n.GLOBE_ZOOM_THRESHOLD_MAX)return!this.isPointAboveHorizon(i);const s=this.pointCoordinate(i);return s.y>=0&&s.y<=1}_coordinatePoint(i,s){const u=s&&this.elevation?this.elevation.getAtPointOrZero(i,this._centerAltitude):this._centerAltitude,h=[i.x*this.worldSize,i.y*this.worldSize,u+i.toAltitude(),1];return n.transformMat4$1(h,h,this.pixelMatrix),h[3]>0?new n.Point(h[0]/h[3],h[1]/h[3]):new n.Point(Number.MAX_VALUE,Number.MAX_VALUE)}_getBoundsNonRectangular(){const{top:i,left:s}=this._edgeInsets,u=this.height-this._edgeInsets.bottom,h=this.width-this._edgeInsets.right,f=this.pointLocation3D(new n.Point(s,i)),_=this.pointLocation3D(new n.Point(h,i)),g=this.pointLocation3D(new n.Point(h,u)),v=this.pointLocation3D(new n.Point(s,u));let A=Math.min(f.lng,_.lng,g.lng,v.lng),M=Math.max(f.lng,_.lng,g.lng,v.lng),F=Math.min(f.lat,_.lat,g.lat,v.lat),N=Math.max(f.lat,_.lat,g.lat,v.lat);const j=Math.pow(2,-this.zoom)/16*270,Z=this.projection.name==="globe"?1:4,q=(W,L,V,K,$)=>{const ce=(W+V)/2,pe=(L+K)/2,ue=new n.Point(ce,pe),{lng:ge,lat:_e}=this.pointLocation3D(ue),Ee=Math.max(0,A-ge,F-_e,ge-M,_e-N);A=Math.min(A,ge),M=Math.max(M,ge),F=Math.min(F,_e),N=Math.max(N,_e),($<Z||Ee>j)&&(q(W,L,ce,pe,$+1),q(ce,pe,V,K,$+1))};if(q(s,i,h,i,1),q(h,i,h,u,1),q(h,u,s,u,1),q(s,u,s,i,1),this.projection.name==="globe"){const[W,L]=n.polesInViewport(this);W?(N=90,M=180,A=-180):L&&(F=-90,M=180,A=-180)}return new n.LngLatBounds(new n.LngLat(A,F),new n.LngLat(M,N))}_getBoundsRectangular(i,s){const{top:u,left:h}=this._edgeInsets,f=this.height-this._edgeInsets.bottom,_=this.width-this._edgeInsets.right,g=new n.Point(h,u),v=new n.Point(_,u),A=new n.Point(_,f),M=new n.Point(h,f);let F=this.pointCoordinate(g,i),N=this.pointCoordinate(v,i);const j=this.pointCoordinate(A,s),Z=this.pointCoordinate(M,s),q=(W,L)=>(L.y-W.y)/(L.x-W.x);return F.y>1&&N.y>=0?F=new n.MercatorCoordinate((1-Z.y)/q(Z,F)+Z.x,1):F.y<0&&N.y<=1&&(F=new n.MercatorCoordinate(-Z.y/q(Z,F)+Z.x,0)),N.y>1&&F.y>=0?N=new n.MercatorCoordinate((1-j.y)/q(j,N)+j.x,1):N.y<0&&F.y<=1&&(N=new n.MercatorCoordinate(-j.y/q(j,N)+j.x,0)),new n.LngLatBounds().extend(this.coordinateLocation(F)).extend(this.coordinateLocation(N)).extend(this.coordinateLocation(Z)).extend(this.coordinateLocation(j))}_getBoundsRectangularTerrain(){const i=this.elevation;if(!i.visibleDemTiles.length||i.isUsingMockSource())return this._getBoundsRectangular(0,0);const s=i.visibleDemTiles.reduce((u,h)=>{if(h.dem){const f=h.dem.tree;u.min=Math.min(u.min,f.minimums[0]),u.max=Math.max(u.max,f.maximums[0])}return u},{min:Number.MAX_VALUE,max:0});return this._getBoundsRectangular(s.min*i.exaggeration(),s.max*i.exaggeration())}getBounds(){return this.projection.name==="mercator"||this.projection.name==="equirectangular"?this._terrainEnabled()?this._getBoundsRectangularTerrain():this._getBoundsRectangular(0,0):this._getBoundsNonRectangular()}horizonLineFromTop(i=!0){const s=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,u=this.height/2-s*(1-this._horizonShift);return i?Math.max(0,u):u}getMaxBounds(){return this.maxBounds}setMaxBounds(i){this.maxBounds=i,this.minLat=-n.MAX_MERCATOR_LATITUDE,this.maxLat=n.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,i&&(this.minLat=i.getSouth(),this.maxLat=i.getNorth(),this.minLng=i.getWest(),this.maxLng=i.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=n.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=n.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=n.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=n.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(i,s){return this.projection.createTileMatrix(this,s,i)}calculateDistanceTileData(i){const s=i.key,u=this._distanceTileDataCache;if(u[s])return u[s];const h=i.canonical,f=1/this.height,_=this.cameraWorldSize,g=_/this.zoomScale(h.z),v=(h.x+Math.pow(2,h.z)*i.wrap)*g,A=h.y*g,M=this.point;M.x*=_/this.worldSize,M.y*=_/this.worldSize;const F=this.angle,N=Math.sin(-F),j=-Math.cos(-F);return u[s]={bearing:[N,j],center:[(M.x-v)*f,(M.y-A)*f],scale:g/n.EXTENT*f},u[s]}calculateFogTileMatrix(i){const s=i.key,u=this._fogTileMatrixCache;if(u[s])return u[s];const h=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,i);return n.multiply(h,this.worldToFogMatrix,h),u[s]=new Float32Array(h),u[s]}calculateProjMatrix(i,s=!1){const u=i.key,h=s?this._alignedProjMatrixCache:this._projMatrixCache;if(h[u])return h[u];const f=this.calculatePosMatrix(i,this.worldSize);return n.multiply(f,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:s?this.alignedProjMatrix:this.projMatrix,f),h[u]=new Float32Array(f),h[u]}calculatePixelsToTileUnitsMatrix(i){const s=i.tileID.key,u=this._pixelsToTileUnitsCache;if(u[s])return u[s];const h=function(f,_){const{scale:g}=f.tileTransform,v=g*n.EXTENT/(f.tileSize*Math.pow(2,_.zoom-f.tileID.overscaledZ+f.tileID.canonical.z));return A=new Float32Array(4),N=(M=_.inverseAdjustmentMatrix)[1],j=M[2],Z=M[3],W=(F=[v,v])[1],A[0]=M[0]*(q=F[0]),A[1]=N*q,A[2]=j*W,A[3]=Z*W,A;var A,M,F,N,j,Z,q,W}(i,this);return u[s]=h,u[s]}customLayerMatrix(){return this.mercatorMatrix.slice()}globeToMercatorMatrix(){if(this.projection.name==="globe"){const i=1/this.worldSize,s=n.fromScaling([],[i,i,i]);return n.multiply(s,s,this.globeMatrix),s}}recenterOnTerrain(){if(!this._elevation||this.projection.name==="globe")return;const i=this._elevation;this._updateCameraState();const s=n.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,u=this._computeCameraPosition(s),h=this._camera.forward(),f=n.mercatorZfromAltitude(1,this._center.lat);u[2]/=f,h[2]/=f,n.normalize(h,h);const _=i.raycast(u,h,i.exaggeration());if(_){const g=n.scaleAndAdd([],u,h,_),v=new n.MercatorCoordinate(g[0],g[1],n.mercatorZfromAltitude(g[2],n.latFromMercatorY(g[1]))),A=(v.z+n.length([v.x-u[0],v.y-u[1],v.z-u[2]*f]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(A),this._centerAltitude=v.toAltitude(),this._center=this.coordinateLocation(v),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(i=!1){if(!this._elevation)return;const s=this._elevation,u=n.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,h=this._computeCameraPosition(u),f=s.getAtPointOrZero(new n.MercatorCoordinate(...h)),_=this.pixelsPerMeter/this.worldSize*f,g=this._minimumHeightOverTerrain(),v=h[2]-_;if(v<=g)if(v<0||i){const A=this.locationCoordinate(this._center,this._centerAltitude),M=[h[0],h[1],A.z-h[2]],F=n.length(M);M[2]-=(g-v)/this._pixelsPerMercatorPixel;const N=n.length(M);if(N===0)return;n.scale$2(M,M,F/N*this._pixelsPerMercatorPixel),this._camera.position=[h[0],h[1],A.z*this._pixelsPerMercatorPixel-M[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const i=this.projection.name==="globe"||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||i){const N=this.center;return N.lat=n.clamp(N.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!i)&&(N.lng=n.clamp(N.lng,this.minLng,this.maxLng)),this.center=N,void(this._constraining=!1)}const s=this._unmodified,{x:u,y:h}=this.point;let f=0,_=u,g=h;const v=this.width/2,A=this.height/2,M=this.worldMinY*this.scale,F=this.worldMaxY*this.scale;if(h-A<M&&(g=M+A),h+A>F&&(g=F-A),F-M<this.height&&(f=Math.max(f,this.height/(F-M)),g=(F+M)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const N=this.worldMinX*this.scale,j=this.worldMaxX*this.scale,Z=this.worldSize/2-(N+j)/2;_=(u+Z+this.worldSize)%this.worldSize-Z,_-v<N&&(_=N+v),_+v>j&&(_=j-v),j-N<this.width&&(f=Math.max(f,this.width/(j-N)),_=(j+N)/2)}_===u&&g===h||(this.center=this.unproject(new n.Point(_,g))),f&&(this.zoom+=this.scaleZoom(f)),this._constrainCamera(),this._unmodified=s,this._constraining=!1}_minZoomForBounds(){let i=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(i=Math.max(i,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),i}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const i=this.centerOffset,s=this.pixelsPerMeter;this.projection.name==="globe"&&(this._mercatorScaleRatio=n.mercatorZfromAltitude(1,this.center.lat)/n.mercatorZfromAltitude(1,n.GLOBE_SCALE_MATCH_LATITUDE));const u=j5(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,u),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const h=this.projection.zAxisUnit==="meters"?s:1,f=this._camera.getWorldToCamera(this.worldSize,h),_=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);_[8]=2*-i.x/this.width,_[9]=2*i.y/this.height;let g=n.mul([],_,f);if(this.projection.isReprojectedInTileSpace){const pe=this.locationCoordinate(this.center),ue=n.identity([]);n.translate(ue,ue,[pe.x*this.worldSize,pe.y*this.worldSize,0]),n.multiply(ue,ue,_n(this)),n.translate(ue,ue,[-pe.x*this.worldSize,-pe.y*this.worldSize,0]),n.multiply(g,g,ue),this.inverseAdjustmentMatrix=function(ge){const _e=_n(ge,!0);return Te([],[_e[0],_e[1],_e[4],_e[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=n.scale([],g,[this.worldSize,this.worldSize,this.worldSize/h,1]),this.projMatrix=g,this.invProjMatrix=n.invert(new Float64Array(16),this.projMatrix);const v=n.invert([],_);this.frustumCorners=n.FrustumCorners.fromInvProjectionMatrix(v,this.horizonLineFromTop(),this.height);const A=new Float32Array(16);n.identity(A),n.scale(A,A,[1,-1,1]),n.rotateX(A,A,this._pitch),n.rotateZ(A,A,this.angle);const M=n.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),F=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;M[8]=2*-i.x/this.width,M[9]=2*(i.y+F)/this.height,this.skyboxMatrix=n.multiply(A,M,A);const N=this.point,j=N.x,Z=N.y,q=this.width%2/2,W=this.height%2/2,L=Math.cos(this.angle),V=Math.sin(this.angle),K=j-Math.round(j)+L*q+V*W,$=Z-Math.round(Z)+L*W+V*q,ce=new Float64Array(g);if(n.translate(ce,ce,[K>.5?K-1:K,$>.5?$-1:$,0]),this.alignedProjMatrix=ce,g=n.create(),n.scale(g,g,[this.width/2,-this.height/2,1]),n.translate(g,g,[1,-1,0]),this.labelPlaneMatrix=g,g=n.create(),n.scale(g,g,[1,-1,1]),n.translate(g,g,[-1,-1,0]),n.scale(g,g,[2/this.width,2/this.height,1]),this.glCoordMatrix=g,this.pixelMatrix=n.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},g=n.invert(new Float64Array(16),this.pixelMatrix),!g)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=g,this.projection.name==="globe"||this.mercatorFromTransition){this.globeMatrix=n.calculateGlobeMatrix(this);const pe=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=n.transformMat4(pe,pe,f),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=g;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const i=this.cameraWorldSizeForFog,s=this.cameraPixelsPerMeter,u=this._camera.position,h=1/this.height/this._pixelsPerMercatorPixel,f=[i,i,s];n.scale$2(f,f,h),n.scale$2(u,u,-1),n.multiply$2(u,u,f);const _=n.create();n.translate(_,_,u),n.scale(_,_,f),this.mercatorFogMatrix=_,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(i,s,h)}_computeCameraPosition(i){const s=(i=i||this.pixelsPerMeter)/this.pixelsPerMeter,u=this._camera.forward(),h=this.point,f=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*s-i/this.worldSize*this._centerAltitude;return[h.x/this.worldSize-u[0]*f,h.y/this.worldSize-u[1]*f,i/this.worldSize*this._centerAltitude-u[2]*f]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(i){const s=this._maxCameraBoundsDistance()*Math.cos(this._pitch),u=this._camera.position[2],h=i[2];let f=1;this.projection.wrap&&(this.center=this.center.wrap()),h>0&&(f=Math.min((s-u)/h,1)),this._camera.position=n.scaleAndAdd([],this._camera.position,i,f),this._updateStateFromCamera()}_updateStateFromCamera(){const i=this._camera.position,s=this._camera.forward(),{pitch:u,bearing:h}=this._camera.getPitchBearing(),f=n.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,_=this._mercatorZfromZoom(this._maxZoom)*Math.cos(n.degToRad(this._maxPitch)),g=Math.max((i[2]-f)/Math.cos(u),_),v=this._zoomFromMercatorZ(g);n.scaleAndAdd(i,i,s,g),this._pitch=n.clamp(u,n.degToRad(this.minPitch),n.degToRad(this.maxPitch)),this.angle=n.wrap(h,-Math.PI,Math.PI),this._setZoom(n.clamp(v,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new n.MercatorCoordinate(i[0],i[1],i[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(i){return Math.pow(2,i)*this.tileSize}_mercatorZfromZoom(i){return this.cameraToCenterDistance/this._worldSizeFromZoom(i)}_minimumHeightOverTerrain(){const i=Math.min((this._seaLevelZoom!=null?this._seaLevelZoom:this._zoom)+4,this._maxZoom);return this._mercatorZfromZoom(i)}_zoomFromMercatorZ(i){return this.scaleZoom(this.cameraToCenterDistance/(i*this.tileSize))}zoomFromMercatorZAdjusted(i){let s=0,u=n.GLOBE_ZOOM_THRESHOLD_MAX,h=0,f=1/0;for(;u-s>1e-6&&u>s;){const _=s+.5*(u-s),g=this.tileSize*Math.pow(2,_),v=this.getCameraToCenterDistance(this.projection,_,g),A=this.scaleZoom(v/(i*this.tileSize)),M=Math.abs(_-A);M<f&&(f=M,h=_),_<A?s=_:u=_}return h}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(n.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(i,s){const u=Math.min(i.x,s.x),h=Math.max(i.x,s.x),f=Math.min(i.y,s.y),_=Math.max(i.y,s.y);if(f<this.horizonLineFromTop(!1))return!0;if(this.projection.name!=="mercator")return!1;const g=[new n.Point(u,f),new n.Point(h,_),new n.Point(u,_),new n.Point(h,f)],v=this.renderWorldCopies?-3:0,A=this.renderWorldCopies?4:1;for(const M of g){const F=this.pointRayIntersection(M);if(F.t<0)return!0;const N=this.rayIntersectionCoordinate(F);if(N.x<v||N.y<0||N.x>A||N.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+n.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new n.Point(0,0),new n.Point(this.width,this.height))}zoomDeltaToMovement(i,s){const u=n.length(n.sub([],this._camera.position,i)),h=this._zoomFromMercatorZ(u)+s;return u-this._mercatorZfromZoom(h)}getCameraPoint(){if(this.projection.name==="globe"){const i=function([s,u,h],f){const _=[s,u,h,1];n.transformMat4$1(_,_,f);const g=_[3]=Math.max(_[3],1e-6);return _[0]/=g,_[1]/=g,_[2]/=g,_}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new n.Point(i[0],i[1])}{const i=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new n.Point(0,i))}}getCameraToCenterDistance(i,s=this.zoom,u=this.worldSize){const h=j5(i,s,this.width,this.height,1024),f=i.pixelSpaceConversion(this.center.lat,u,h);return .5/Math.tan(.5*this._fov)*this.height*f}getWorldToCameraMatrix(){const i=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?this.pixelsPerMeter:1);return this.projection.name==="globe"&&n.multiply(i,i,this.globeMatrix),i}}function xn(l,i){let s=!1,u=null;const h=()=>{u=null,s&&(l(),u=setTimeout(h,i),s=!1)};return()=>(s=!0,u||h(),u)}class t7{constructor(i){this._hashName=i&&encodeURIComponent(i),n.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=xn(this._updateHashUnthrottled.bind(this),300)}addTo(i){return this._map=i,n.window.addEventListener("hashchange",this._onHashChange,!1),i.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),n.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const i=this._map;if(!i)return"";const s=$n(i);if(this._hashName){const u=this._hashName;let h=!1;const f=n.window.location.hash.slice(1).split("&").map(_=>{const g=_.split("=")[0];return g===u?(h=!0,`${g}=${s}`):_}).filter(_=>_);return h||f.push(`${u}=${s}`),`#${f.join("&")}`}return`#${s}`}_getCurrentHash(){const i=n.window.location.hash.replace("#","");if(this._hashName){let s;return i.split("&").map(u=>u.split("=")).forEach(u=>{u[0]===this._hashName&&(s=u)}),(s&&s[1]||"").split("/")}return i.split("/")}_onHashChange(){const i=this._map;if(!i)return!1;const s=this._getCurrentHash();if(s.length>=3&&!s.some(u=>isNaN(u))){const u=i.dragRotate.isEnabled()&&i.touchZoomRotate.isEnabled()?+(s[3]||0):i.getBearing();return i.jumpTo({center:[+s[2],+s[1]],zoom:+s[0],bearing:u,pitch:+(s[4]||0)}),!0}return!1}_updateHashUnthrottled(){const i=n.window.location.href.replace(/(#.+)?$/,this.getHashString());n.window.history.replaceState(n.window.history.state,null,i)}}function $n(l,i){const s=l.getCenter(),u=Math.round(100*l.getZoom())/100,h=Math.ceil((u*Math.LN2+Math.log(512/360/.5))/Math.LN10),f=Math.pow(10,h),_=Math.round(s.lng*f)/f,g=Math.round(s.lat*f)/f,v=l.getBearing(),A=l.getPitch();let M=i?`/${_}/${g}/${u}`:`${u}/${g}/${_}`;return(v||A)&&(M+="/"+Math.round(10*v)/10),A&&(M+=`/${Math.round(A)}`),M}const Qn={linearity:.3,easing:n.bezier(0,0,.3,1)},q5=n.extend({deceleration:2500,maxSpeed:1400},Qn),Z5=n.extend({deceleration:20,maxSpeed:1400},Qn),yt=n.extend({deceleration:1e3,maxSpeed:360},Qn),Vi=n.extend({deceleration:1e3,maxSpeed:90},Qn);class I3{constructor(i){this._map=i,this.clear()}clear(){this._inertiaBuffer=[]}record(i){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:n.exported.now(),settings:i})}_drainInertiaBuffer(){const i=this._inertiaBuffer,s=n.exported.now();for(;i.length>0&&s-i[0].time>160;)i.shift()}_onMoveEnd(i){if(this._map._prefersReducedMotion()||(this._drainInertiaBuffer(),this._inertiaBuffer.length<2))return;const s={zoom:0,bearing:0,pitch:0,pan:new n.Point(0,0),pinchAround:void 0,around:void 0};for(const{settings:f}of this._inertiaBuffer)s.zoom+=f.zoomDelta||0,s.bearing+=f.bearingDelta||0,s.pitch+=f.pitchDelta||0,f.panDelta&&s.pan._add(f.panDelta),f.around&&(s.around=f.around),f.pinchAround&&(s.pinchAround=f.pinchAround);const u=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,h={};if(s.pan.mag()){const f=t5(s.pan.mag(),u,n.extend({},q5,i||{}));h.offset=s.pan.mult(f.amount/s.pan.mag()),h.center=this._map.transform.center,e5(h,f)}if(s.zoom){const f=t5(s.zoom,u,Z5);h.zoom=this._map.transform.zoom+f.amount,e5(h,f)}if(s.bearing){const f=t5(s.bearing,u,yt);h.bearing=this._map.transform.bearing+n.clamp(f.amount,-179,179),e5(h,f)}if(s.pitch){const f=t5(s.pitch,u,Vi);h.pitch=this._map.transform.pitch+f.amount,e5(h,f)}if(h.zoom||h.bearing){const f=s.pinchAround===void 0?s.around:s.pinchAround;h.around=f?this._map.unproject(f):this._map.getCenter()}return this.clear(),h.noMoveStart=!0,h}}function e5(l,i){(!l.duration||l.duration<i.duration)&&(l.duration=i.duration,l.easing=i.easing)}function t5(l,i,s){const{maxSpeed:u,linearity:h,deceleration:f}=s,_=n.clamp(l*h/(i/1e3),-u,u),g=Math.abs(_)/(f*h);return{easing:s.easing,duration:1e3*g,amount:_*(g/2)}}class Ur extends n.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(i,s,u,h={}){const f=ot(s.getCanvasContainer(),u),_=s.unproject(f);super(i,n.extend({point:f,lngLat:_,originalEvent:u},h)),this._defaultPrevented=!1,this.target=s}}class r5 extends n.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(i,s,u){const h=i==="touchend"?u.changedTouches:u.touches,f=ut(s.getCanvasContainer(),h),_=f.map(v=>s.unproject(v)),g=f.reduce((v,A,M,F)=>v.add(A.div(F.length)),new n.Point(0,0));super(i,{points:f,point:g,lngLats:_,lngLat:s.unproject(g),originalEvent:u}),this._defaultPrevented=!1}}class W5 extends n.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(i,s,u){super(i,{originalEvent:u}),this._defaultPrevented=!1}}class r7{constructor(i,s){this._map=i,this._clickTolerance=s.clickTolerance}reset(){this._mousedownPos=void 0}wheel(i){return this._firePreventable(new W5(i.type,this._map,i))}mousedown(i,s){return this._mousedownPos=s,this._firePreventable(new Ur(i.type,this._map,i))}mouseup(i){this._map.fire(new Ur(i.type,this._map,i))}preclick(i){const s=n.extend({},i);s.type="preclick",this._map.fire(new Ur(s.type,this._map,s))}click(i,s){this._mousedownPos&&this._mousedownPos.dist(s)>=this._clickTolerance||(this.preclick(i),this._map.fire(new Ur(i.type,this._map,i)))}dblclick(i){return this._firePreventable(new Ur(i.type,this._map,i))}mouseover(i){this._map.fire(new Ur(i.type,this._map,i))}mouseout(i){this._map.fire(new Ur(i.type,this._map,i))}touchstart(i){return this._firePreventable(new r5(i.type,this._map,i))}touchmove(i){this._map.fire(new r5(i.type,this._map,i))}touchend(i){this._map.fire(new r5(i.type,this._map,i))}touchcancel(i){this._map.fire(new r5(i.type,this._map,i))}_firePreventable(i){if(this._map.fire(i),i.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class H5{constructor(i){this._map=i}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(i){this._map.fire(new Ur(i.type,this._map,i))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ur("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(i){this._delayContextMenu?this._contextMenuEvent=i:this._map.fire(new Ur(i.type,this._map,i)),this._map.listens("contextmenu")&&i.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class E3{constructor(i,s){this._map=i,this._el=i.getCanvasContainer(),this._container=i.getContainer(),this._clickTolerance=s.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(i,s){this.isEnabled()&&i.shiftKey&&i.button===0&&($e(),this._startPos=this._lastPos=s,this._active=!0)}mousemoveWindow(i,s){if(!this._active)return;const u=s,h=this._startPos,f=this._lastPos;if(!h||!f||f.equals(u)||!this._box&&u.dist(h)<this._clickTolerance)return;this._lastPos=u,this._box||(this._box=ye("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",i));const _=Math.min(h.x,u.x),g=Math.max(h.x,u.x),v=Math.min(h.y,u.y),A=Math.max(h.y,u.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${_}px,${v}px)`,this._box.style.width=g-_+"px",this._box.style.height=A-v+"px")})}mouseupWindow(i,s){if(!this._active)return;const u=this._startPos,h=s;if(u&&i.button===0){if(this.reset(),Re(),u.x!==h.x||u.y!==h.y)return this._map.fire(new n.Event("boxzoomend",{originalEvent:i})),{cameraAnimation:f=>f.fitScreenCoordinates(u,h,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",i)}}keydown(i){this._active&&i.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",i))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),Qe(),delete this._startPos,delete this._lastPos}_fireEvent(i,s){return this._map.fire(new n.Event(i,{originalEvent:s}))}}function X5(l,i){const s={};for(let u=0;u<l.length;u++)s[l[u].identifier]=i[u];return s}class vn{constructor(i){this.reset(),this.numTouches=i.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(i,s,u){(this.centroid||u.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===0&&(this.startTime=i.timeStamp),u.length===this.numTouches&&(this.centroid=function(h){const f=new n.Point(0,0);for(const _ of h)f._add(_);return f.div(h.length)}(s),this.touches=X5(u,s)))}touchmove(i,s,u){if(this.aborted||!this.centroid)return;const h=X5(u,s);for(const f in this.touches){const _=h[f];(!_||_.dist(this.touches[f])>30)&&(this.aborted=!0)}}touchend(i,s,u){if((!this.centroid||i.timeStamp-this.startTime>500)&&(this.aborted=!0),u.length===0){const h=!this.aborted&&this.centroid;if(this.reset(),h)return h}}}class i7{constructor(i){this.singleTap=new vn(i),this.numTaps=i.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(i,s,u){this.singleTap.touchstart(i,s,u)}touchmove(i,s,u){this.singleTap.touchmove(i,s,u)}touchend(i,s,u){const h=this.singleTap.touchend(i,s,u);if(h){const f=i.timeStamp-this.lastTime<500,_=!this.lastTap||this.lastTap.dist(h)<30;if(f&&_||this.reset(),this.count++,this.lastTime=i.timeStamp,this.lastTap=h,this.count===this.numTaps)return this.reset(),h}}}class t1{constructor(){this._zoomIn=new i7({numTouches:1,numTaps:2}),this._zoomOut=new i7({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(i,s,u){this._zoomIn.touchstart(i,s,u),this._zoomOut.touchstart(i,s,u)}touchmove(i,s,u){this._zoomIn.touchmove(i,s,u),this._zoomOut.touchmove(i,s,u)}touchend(i,s,u){const h=this._zoomIn.touchend(i,s,u),f=this._zoomOut.touchend(i,s,u);return h?(this._active=!0,i.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:_=>_.easeTo({duration:300,zoom:_.getZoom()+1,around:_.unproject(h)},{originalEvent:i})}):f?(this._active=!0,i.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:_=>_.easeTo({duration:300,zoom:_.getZoom()-1,around:_.unproject(f)},{originalEvent:i})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const P3={0:1,2:2};class bn{constructor(i){this.reset(),this._clickTolerance=i.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(i,s){return!1}_move(i,s){return{}}mousedown(i,s){if(this._lastPoint)return;const u=Xe(i);this._correctButton(i,u)&&(this._lastPoint=s,this._eventButton=u)}mousemoveWindow(i,s){const u=this._lastPoint;if(u){if(i.preventDefault(),this._eventButton!=null&&function(h,f){const _=P3[f];return h.buttons===void 0||(h.buttons&_)!==_}(i,this._eventButton))this.reset();else if(this._moved||!(s.dist(u)<this._clickTolerance))return this._moved=!0,this._lastPoint=s,this._move(u,s)}}mouseupWindow(i){this._lastPoint&&Xe(i)===this._eventButton&&(this._moved&&Re(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class o7 extends bn{mousedown(i,s){super.mousedown(i,s),this._lastPoint&&(this._active=!0)}_correctButton(i,s){return s===0&&!i.ctrlKey}_move(i,s){return{around:s,panDelta:s.sub(i)}}}class n7 extends bn{_correctButton(i,s){return s===0&&i.ctrlKey||s===2}_move(i,s){const u=.8*(s.x-i.x);if(u)return this._active=!0,{bearingDelta:u}}contextmenu(i){i.preventDefault()}}class s7 extends bn{_correctButton(i,s){return s===0&&i.ctrlKey||s===2}_move(i,s){const u=-.5*(s.y-i.y);if(u)return this._active=!0,{pitchDelta:u}}contextmenu(i){i.preventDefault()}}class Y5{constructor(i,s){this._map=i,this._el=i.getCanvasContainer(),this._minTouches=1,this._clickTolerance=s.clickTolerance||1,this.reset(),n.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new n.Point(0,0)}touchstart(i,s,u){return this._calculateTransform(i,s,u)}touchmove(i,s,u){if(this._active&&!(u.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(u.length===1&&!n.isFullscreen())return void this._showTouchPanBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return i.cancelable&&i.preventDefault(),this._calculateTransform(i,s,u)}}touchend(i,s,u){this._calculateTransform(i,s,u),this._active&&u.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(i,s,u){u.length>0&&(this._active=!0);const h=X5(u,s),f=new n.Point(0,0),_=new n.Point(0,0);let g=0;for(const A in h){const M=h[A],F=this._touches[A];F&&(f._add(M),_._add(M.sub(F)),g++,h[A]=M)}if(this._touches=h,g<this._minTouches||!_.mag())return;const v=_.div(g);return this._sum._add(v),this._sum.mag()<this._clickTolerance?void 0:{around:f.div(g),panDelta:v}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=ye("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","null")},500)}}class i5{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(i){}_move(i,s,u){return{}}touchstart(i,s,u){this._firstTwoTouches||u.length<2||(this._firstTwoTouches=[u[0].identifier,u[1].identifier],this._start([s[0],s[1]]))}touchmove(i,s,u){const h=this._firstTwoTouches;if(!h)return;i.preventDefault();const[f,_]=h,g=o5(u,s,f),v=o5(u,s,_);if(!g||!v)return;const A=this._aroundCenter?null:g.add(v).div(2);return this._move([g,v],A,i)}touchend(i,s,u){if(!this._firstTwoTouches)return;const[h,f]=this._firstTwoTouches,_=o5(u,s,h),g=o5(u,s,f);_&&g||(this._active&&Re(),this.reset())}touchcancel(){this.reset()}enable(i){this._enabled=!0,this._aroundCenter=!!i&&i.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function o5(l,i,s){for(let u=0;u<l.length;u++)if(l[u].identifier===s)return i[u]}function a7(l,i){return Math.log(l/i)/Math.LN2}class T3 extends i5{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(i){this._startDistance=this._distance=i[0].dist(i[1])}_move(i,s){const u=this._distance;if(this._distance=i[0].dist(i[1]),this._active||!(Math.abs(a7(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:a7(this._distance,u),pinchAround:s}}}function l7(l,i){return 180*l.angleWith(i)/Math.PI}class F3 extends i5{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(i){this._startVector=this._vector=i[0].sub(i[1]),this._minDiameter=i[0].dist(i[1])}_move(i,s){const u=this._vector;if(this._vector=i[0].sub(i[1]),u&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:l7(this._vector,u),pinchAround:s}}_isBelowThreshold(i){this._minDiameter=Math.min(this._minDiameter,i.mag());const s=25/(Math.PI*this._minDiameter)*360,u=this._startVector;if(!u)return!1;const h=l7(i,u);return Math.abs(h)<s}}function Po(l){return Math.abs(l.y)>Math.abs(l.x)}class L3 extends i5{constructor(i){super(),this._map=i}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(i){this._lastPoints=i,Po(i[0].sub(i[1]))&&(this._valid=!1)}_move(i,s,u){const h=this._lastPoints;if(!h)return;const f=i[0].sub(h[0]),_=i[1].sub(h[1]);return this._map._cooperativeGestures&&!n.isFullscreen()&&u.touches.length<3||(this._valid=this.gestureBeginsVertically(f,_,u.timeStamp),!this._valid)?void 0:(this._lastPoints=i,this._active=!0,{pitchDelta:(f.y+_.y)/2*-.5})}gestureBeginsVertically(i,s,u){if(this._valid!==void 0)return this._valid;const h=i.mag()>=2,f=s.mag()>=2;if(!h&&!f)return;if(!h||!f)return this._firstMove==null&&(this._firstMove=u),u-this._firstMove<100&&void 0;const _=i.y>0==s.y>0;return Po(i)&&Po(s)&&_}}const k3={panStep:100,bearingStep:15,pitchStep:10};class r1{constructor(){const i=k3;this._panStep=i.panStep,this._bearingStep=i.bearingStep,this._pitchStep=i.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(i){if(i.altKey||i.ctrlKey||i.metaKey)return;let s=0,u=0,h=0,f=0,_=0;switch(i.keyCode){case 61:case 107:case 171:case 187:s=1;break;case 189:case 109:case 173:s=-1;break;case 37:i.shiftKey?u=-1:(i.preventDefault(),f=-1);break;case 39:i.shiftKey?u=1:(i.preventDefault(),f=1);break;case 38:i.shiftKey?h=1:(i.preventDefault(),_=-1);break;case 40:i.shiftKey?h=-1:(i.preventDefault(),_=1);break;default:return}return this._rotationDisabled&&(u=0,h=0),{cameraAnimation:g=>{const v=g.getZoom();g.easeTo({duration:300,easeId:"keyboardHandler",easing:U3,zoom:s?Math.round(v)+s*(i.shiftKey?2:1):v,bearing:g.getBearing()+u*this._bearingStep,pitch:g.getPitch()+h*this._pitchStep,offset:[-f*this._panStep,-_*this._panStep],center:g.getCenter()},{originalEvent:i})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function U3(l){return l*(2-l)}const c7=4.000244140625;class z3{constructor(i,s){this._map=i,this._el=i.getCanvasContainer(),this._handler=s,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,n.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(i){this._defaultZoomRate=i}setWheelZoomRate(i){this._wheelZoomRate=i}isEnabled(){return!!this._enabled}isActive(){return this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(i){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!i&&i.around==="center",this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(i){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(i.ctrlKey||i.metaKey||this.isZooming()||n.isFullscreen()))return void this._showBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let s=i.deltaMode===n.window.WheelEvent.DOM_DELTA_LINE?40*i.deltaY:i.deltaY;const u=n.exported.now(),h=u-(this._lastWheelEventTime||0);this._lastWheelEventTime=u,s!==0&&s%c7==0?this._type="wheel":s!==0&&Math.abs(s)<4?this._type="trackpad":h>400?(this._type=null,this._lastValue=s,this._timeout=setTimeout(this._onTimeout,40,i)):this._type||(this._type=Math.abs(h*s)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,s+=this._lastValue)),i.shiftKey&&s&&(s/=4),this._type&&(this._lastWheelEvent=i,this._delta-=s,this._active||this._start(i)),i.preventDefault()}_onTimeout(i){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(i)}_start(i){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const s=ot(this._el,i);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:s,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const i=this._map.transform;this._type==="wheel"&&i.projection.wrap&&(i._center.lng>=180||i._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const s=()=>i._terrainEnabled()&&this._aroundCoord?i.computeZoomRelativeTo(this._aroundCoord):i.zoom;if(this._delta!==0){const v=this._type==="wheel"&&Math.abs(this._delta)>c7?this._wheelZoomRate:this._defaultZoomRate;let A=2/(1+Math.exp(-Math.abs(this._delta*v)));this._delta<0&&A!==0&&(A=1/A);const M=s(),F=Math.pow(2,M),N=typeof this._targetZoom=="number"?i.zoomScale(this._targetZoom):F;this._targetZoom=Math.min(i.maxZoom,Math.max(i.minZoom,i.scaleZoom(N*A))),this._type==="wheel"&&(this._startZoom=M,this._easing=this._smoothOutEasing(200)),this._delta=0}const u=typeof this._targetZoom=="number"?this._targetZoom:s(),h=this._startZoom,f=this._easing;let _,g=!1;if(this._type==="wheel"&&h&&f){const v=Math.min((n.exported.now()-this._lastWheelEventTime)/200,1),A=f(v);_=n.number(h,u,A),v<1?this._frameId||(this._frameId=!0):g=!0}else _=u,g=!0;return this._active=!0,g&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!g,zoomDelta:_-s(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(i){let s=n.ease;if(this._prevEase){const u=this._prevEase,h=(n.exported.now()-u.start)/u.duration,f=u.easing(h+.01)-u.easing(h),_=.27/Math.sqrt(f*f+1e-4)*.01,g=Math.sqrt(.0729-_*_);s=n.bezier(_,g,.25,1)}return this._prevEase={start:n.exported.now(),duration:i,easing:s},s}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=ye("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(n.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","null")},200)}}class R3{constructor(i,s){this._clickZoom=i,this._tapZoom=s}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class $r{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(i,s){return i.preventDefault(),{cameraAnimation:u=>{u.easeTo({duration:300,zoom:u.getZoom()+(i.shiftKey?-1:1),around:u.unproject(s)},{originalEvent:i})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class i1{constructor(){this._tap=new i7({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(i,s,u){this._swipePoint||(this._tapTime&&i.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?u.length>0&&(this._swipePoint=s[0],this._swipeTouch=u[0].identifier):this._tap.touchstart(i,s,u))}touchmove(i,s,u){if(this._tapTime){if(this._swipePoint){if(u[0].identifier!==this._swipeTouch)return;const h=s[0],f=h.y-this._swipePoint.y;return this._swipePoint=h,i.preventDefault(),this._active=!0,{zoomDelta:f/128}}}else this._tap.touchmove(i,s,u)}touchend(i,s,u){this._tapTime?this._swipePoint&&u.length===0&&this.reset():this._tap.touchend(i,s,u)&&(this._tapTime=i.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class B3{constructor(i,s,u){this._el=i,this._mousePan=s,this._touchPan=u}enable(i){this._inertiaOptions=i||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class o1{constructor(i,s,u){this._pitchWithRotate=i.pitchWithRotate,this._mouseRotate=s,this._mousePitch=u}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class n1{constructor(i,s,u,h){this._el=i,this._touchZoom=s,this._touchRotate=u,this._tapDragZoom=h,this._rotationDisabled=!1,this._enabled=!0}enable(i){this._touchZoom.enable(i),this._rotationDisabled||this._touchRotate.enable(i),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Ei=l=>l.zoom||l.drag||l.pitch||l.rotate;class N3 extends n.Event{}class s1{constructor(){this.constants=[1,1,.01],this.radius=0}setup(i,s){const u=n.sub([],s,i);this.radius=n.length(u[2]<0?n.div([],u,this.constants):[u[0],u[1],0])}projectRay(i){n.div(i,i,this.constants),n.normalize(i,i),n.mul$1(i,i,this.constants);const s=n.scale$2([],i,this.radius);if(s[2]>0){const u=n.scale$2([],[0,0,1],n.dot(s,[0,0,1])),h=n.scale$2([],n.normalize([],[s[0],s[1],0]),this.radius),f=n.add([],s,n.scale$2([],n.sub([],n.add([],h,u),s),2));s[0]=f[0],s[1]=f[1]}return s}}function ji(l){return l.panDelta&&l.panDelta.mag()||l.zoomDelta||l.bearingDelta||l.pitchDelta}class eo{constructor(i,s){this._map=i,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new I3(i),this._bearingSnap=s.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new s1,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(s),n.bindAll(["handleEvent","handleWindowEvent"],this);const u=this._el;this._listeners=[[u,"touchstart",{passive:!0}],[u,"touchmove",{passive:!1}],[u,"touchend",void 0],[u,"touchcancel",void 0],[u,"mousedown",void 0],[u,"mousemove",void 0],[u,"mouseup",void 0],[n.window.document,"mousemove",{capture:!0}],[n.window.document,"mouseup",void 0],[u,"mouseover",void 0],[u,"mouseout",void 0],[u,"dblclick",void 0],[u,"click",void 0],[u,"keydown",{capture:!1}],[u,"keyup",void 0],[u,"wheel",{passive:!1}],[u,"contextmenu",void 0],[n.window,"blur",void 0]];for(const[h,f,_]of this._listeners)h.addEventListener(f,h===n.window.document?this.handleWindowEvent:this.handleEvent,_)}destroy(){for(const[i,s,u]of this._listeners)i.removeEventListener(s,i===n.window.document?this.handleWindowEvent:this.handleEvent,u)}_addDefaultHandlers(i){const s=this._map,u=s.getCanvasContainer();this._add("mapEvent",new r7(s,i));const h=s.boxZoom=new E3(s,i);this._add("boxZoom",h);const f=new t1,_=new $r;s.doubleClickZoom=new R3(_,f),this._add("tapZoom",f),this._add("clickZoom",_);const g=new i1;this._add("tapDragZoom",g);const v=s.touchPitch=new L3(s);this._add("touchPitch",v);const A=new n7(i),M=new s7(i);s.dragRotate=new o1(i,A,M),this._add("mouseRotate",A,["mousePitch"]),this._add("mousePitch",M,["mouseRotate"]);const F=new o7(i),N=new Y5(s,i);s.dragPan=new B3(u,F,N),this._add("mousePan",F),this._add("touchPan",N,["touchZoom","touchRotate"]);const j=new F3,Z=new T3;s.touchZoomRotate=new n1(u,Z,j,g),this._add("touchRotate",j,["touchPan","touchZoom"]),this._add("touchZoom",Z,["touchPan","touchRotate"]),this._add("blockableMapEvent",new H5(s));const q=s.scrollZoom=new z3(s,this);this._add("scrollZoom",q,["mousePan"]);const W=s.keyboard=new r1;this._add("keyboard",W);for(const L of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])i.interactive&&i[L]&&s[L].enable(i[L])}_add(i,s,u){this._handlers.push({handlerName:i,handler:s,allowed:u}),this._handlersById[i]=s}stop(i){if(!this._updatingCamera){for(const{handler:s}of this._handlers)s.reset();this._inertia.clear(),this._fireEvents({},{},i),this._changes=[]}}isActive(){for(const{handler:i}of this._handlers)if(i.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Ei(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(i,s,u){for(const h in i)if(h!==u&&(!s||s.indexOf(h)<0))return!0;return!1}handleWindowEvent(i){this.handleEvent(i,`${i.type}Window`)}_getMapTouches(i){const s=[];for(const u of i)this._el.contains(u.target)&&s.push(u);return s}handleEvent(i,s){this._updatingCamera=!0;const u=i.type==="renderFrame",h=u?void 0:i,f={needsRenderFrame:!1},_={},g={},v=i.touches?this._getMapTouches(i.touches):void 0,A=v?ut(this._el,v):u?void 0:ot(this._el,i);for(const{handlerName:N,handler:j,allowed:Z}of this._handlers){if(!j.isEnabled())continue;let q;this._blockedByActive(g,Z,N)?j.reset():j[s||i.type]&&(q=j[s||i.type](i,A,v),this.mergeHandlerResult(f,_,q,N,h),q&&q.needsRenderFrame&&this._triggerRenderFrame()),(q||j.isActive())&&(g[N]=j)}const M={};for(const N in this._previousActiveHandlers)g[N]||(M[N]=h);this._previousActiveHandlers=g,(Object.keys(M).length||ji(f))&&(this._changes.push([f,_,M]),this._triggerRenderFrame()),(Object.keys(g).length||ji(f))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:F}=f;F&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],F(this._map))}mergeHandlerResult(i,s,u,h,f){if(!u)return;n.extend(i,u);const _={handlerName:h,originalEvent:u.originalEvent||f};u.zoomDelta!==void 0&&(s.zoom=_),u.panDelta!==void 0&&(s.drag=_),u.pitchDelta!==void 0&&(s.pitch=_),u.bearingDelta!==void 0&&(s.rotate=_)}_applyChanges(){const i={},s={},u={};for(const[h,f,_]of this._changes)h.panDelta&&(i.panDelta=(i.panDelta||new n.Point(0,0))._add(h.panDelta)),h.zoomDelta&&(i.zoomDelta=(i.zoomDelta||0)+h.zoomDelta),h.bearingDelta&&(i.bearingDelta=(i.bearingDelta||0)+h.bearingDelta),h.pitchDelta&&(i.pitchDelta=(i.pitchDelta||0)+h.pitchDelta),h.around!==void 0&&(i.around=h.around),h.aroundCoord!==void 0&&(i.aroundCoord=h.aroundCoord),h.pinchAround!==void 0&&(i.pinchAround=h.pinchAround),h.noInertia&&(i.noInertia=h.noInertia),n.extend(s,f),n.extend(u,_);this._updateMapTransform(i,s,u),this._changes=[]}_updateMapTransform(i,s,u){const h=this._map,f=h.transform,_=V=>[V.x,V.y,V.z];if((V=>{const K=this._eventsInProgress.drag;return K&&!this._handlersById[K.handlerName].isActive()})()&&!ji(i)){const V=f.zoom;f.cameraElevationReference="sea",f.recenterOnTerrain(),f.cameraElevationReference="ground",V!==f.zoom&&this._map._update(!0)}if(f._isCameraConstrained&&h._stop(!0),!ji(i))return void this._fireEvents(s,u,!0);let{panDelta:g,zoomDelta:v,bearingDelta:A,pitchDelta:M,around:F,aroundCoord:N,pinchAround:j}=i;f._isCameraConstrained&&(v>0&&(v=0),f._isCameraConstrained=!1),j!==void 0&&(F=j),(v||(V=>s[V]&&!this._eventsInProgress[V])("drag"))&&F&&(this._dragOrigin=_(f.pointCoordinate3D(F)),this._trackingEllipsoid.setup(f._camera.position,this._dragOrigin)),f.cameraElevationReference="sea",h._stop(!0),F=F||h.transform.centerPoint,A&&(f.bearing+=A),M&&(f.pitch+=M),f._updateCameraState();const Z=[0,0,0];if(g)if(f.projection.name==="mercator"){const V=this._trackingEllipsoid.projectRay(f.screenPointToMercatorRay(F).dir),K=this._trackingEllipsoid.projectRay(f.screenPointToMercatorRay(F.sub(g)).dir);Z[0]=K[0]-V[0],Z[1]=K[1]-V[1]}else{const V=f.pointCoordinate(F);if(f.projection.name==="globe"){g=g.rotate(-f.angle);const K=f._pixelsPerMercatorPixel/f.worldSize;Z[0]=-g.x*n.mercatorScale(n.latFromMercatorY(V.y))*K,Z[1]=-g.y*n.mercatorScale(f.center.lat)*K}else{const K=f.pointCoordinate(F.sub(g));V&&K&&(Z[0]=K.x-V.x,Z[1]=K.y-V.y)}}const q=f.zoom,W=[0,0,0];if(v){const V=_(N||f.pointCoordinate3D(F)),K={dir:n.normalize([],n.sub([],V,f._camera.position))};if(K.dir[2]<0){const $=f.zoomDeltaToMovement(V,v);n.scale$2(W,K.dir,$)}}const L=n.add(Z,Z,W);f._translateCameraConstrained(L),v&&Math.abs(f.zoom-q)>1e-4&&f.recenterOnTerrain(),f.cameraElevationReference="ground",this._map._update(),i.noInertia||this._inertia.record(i),this._fireEvents(s,u,!0)}_fireEvents(i,s,u){const h=Ei(this._eventsInProgress),f=Ei(i),_={};for(const M in i){const{originalEvent:F}=i[M];this._eventsInProgress[M]||(_[`${M}start`]=F),this._eventsInProgress[M]=i[M]}!h&&f&&this._fireEvent("movestart",f.originalEvent);for(const M in _)this._fireEvent(M,_[M]);f&&this._fireEvent("move",f.originalEvent);for(const M in i){const{originalEvent:F}=i[M];this._fireEvent(M,F)}const g={};let v;for(const M in this._eventsInProgress){const{handlerName:F,originalEvent:N}=this._eventsInProgress[M];this._handlersById[F].isActive()||(delete this._eventsInProgress[M],v=s[F]||N,g[`${M}end`]=v)}for(const M in g)this._fireEvent(M,g[M]);const A=Ei(this._eventsInProgress);if(u&&(h||f)&&!A){this._updatingCamera=!0;const M=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),F=N=>N!==0&&-this._bearingSnap<N&&N<this._bearingSnap;M?(F(M.bearing||this._map.getBearing())&&(M.bearing=0),this._map.easeTo(M,{originalEvent:v})):(this._map.fire(new n.Event("moveend",{originalEvent:v})),F(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(i,s){this._map.fire(new n.Event(i,s?{originalEvent:s}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(i=>{this._frameId=void 0,this.handleEvent(new N3("renderFrame",{timeStamp:i})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const Ho="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class K5 extends n.Evented{constructor(i,s){super(),this._moving=!1,this._zooming=!1,this.transform=i,this._bearingSnap=s.bearingSnap,this._respectPrefersReducedMotion=s.respectPrefersReducedMotion!==!1,n.bindAll(["_renderFrameCallback"],this)}getCenter(){return new n.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(i,s){return this.jumpTo({center:i},s)}panBy(i,s,u){return i=n.Point.convert(i).mult(-1),this.panTo(this.transform.center,n.extend({offset:i},s),u)}panTo(i,s,u){return this.easeTo(n.extend({center:i},s),u)}getZoom(){return this.transform.zoom}setZoom(i,s){return this.jumpTo({zoom:i},s),this}zoomTo(i,s,u){return this.easeTo(n.extend({zoom:i},s),u)}zoomIn(i,s){return this.zoomTo(this.getZoom()+1,i,s),this}zoomOut(i,s){return this.zoomTo(this.getZoom()-1,i,s),this}getBearing(){return this.transform.bearing}setBearing(i,s){return this.jumpTo({bearing:i},s),this}getPadding(){return this.transform.padding}setPadding(i,s){return this.jumpTo({padding:i},s),this}rotateTo(i,s,u){return this.easeTo(n.extend({bearing:i},s),u)}resetNorth(i,s){return this.rotateTo(0,n.extend({duration:1e3},i),s),this}resetNorthPitch(i,s){return this.easeTo(n.extend({bearing:0,pitch:0,duration:1e3},i),s),this}snapToNorth(i,s){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(i,s):this}getPitch(){return this.transform.pitch}setPitch(i,s){return this.jumpTo({pitch:i},s),this}cameraForBounds(i,s){i=n.LngLatBounds.convert(i);const u=s&&s.bearing||0,h=s&&s.pitch||0,f=i.getNorthWest(),_=i.getSouthEast();return this._cameraForBounds(this.transform,f,_,u,h,s)}_extendCameraOptions(i){const s={top:0,bottom:0,right:0,left:0};if(typeof(i=n.extend({padding:s,offset:[0,0],maxZoom:this.transform.maxZoom},i)).padding=="number"){const u=i.padding;i.padding={top:u,bottom:u,right:u,left:u}}return i.padding=n.extend(s,i.padding),i}_minimumAABBFrustumDistance(i,s){const u=s.max[0]-s.min[0],h=s.max[1]-s.min[1];return u/h>i.aspect?u/(2*Math.tan(.5*i.fovX)*i.aspect):h/(2*Math.tan(.5*i.fovY)*i.aspect)}_cameraForBoundsOnGlobe(i,s,u,h,f,_){const g=i.clone(),v=this._extendCameraOptions(_);g.bearing=h,g.pitch=f;const A=n.LngLat.convert(s),M=n.LngLat.convert(u),F=.5*(A.lat+M.lat),N=.5*(A.lng+M.lng),j=n.latLngToECEF(F,N),Z=n.normalize([],j),q=n.normalize([],n.cross([],Z,[0,1,0])),W=n.cross([],q,Z),L=[q[0],q[1],q[2],0,W[0],W[1],W[2],0,Z[0],Z[1],Z[2],0,0,0,0,1],V=[j,n.latLngToECEF(A.lat,A.lng),n.latLngToECEF(M.lat,A.lng),n.latLngToECEF(M.lat,M.lng),n.latLngToECEF(A.lat,M.lng),n.latLngToECEF(F,A.lng),n.latLngToECEF(F,M.lng),n.latLngToECEF(A.lat,N),n.latLngToECEF(M.lat,N)];let K=n.Aabb.fromPoints(V.map(We=>[n.dot(q,We),n.dot(W,We),n.dot(Z,We)]));const $=n.transformMat4([],K.center,L);n.squaredLength($)===0&&n.set($,0,0,1),n.normalize($,$),n.scale$2($,$,n.GLOBE_RADIUS),g.center=n.ecefToLatLng($);const ce=g.getWorldToCameraMatrix(),pe=n.invert(new Float64Array(16),ce);K=n.Aabb.applyTransform(K,n.multiply([],ce,L)),n.transformMat4($,$,ce);const ue=.5*(K.max[2]-K.min[2]),ge=this._minimumAABBFrustumDistance(g,K),_e=n.scale$2([],[0,0,1],ue),Ee=n.add(_e,$,_e),et=ge+(g.pitch===0?0:n.distance($,Ee)),De=g.globeCenterInViewSpace,Ve=n.sub([],$,[De[0],De[1],De[2]]);n.normalize(Ve,Ve),n.scale$2(Ve,Ve,et);const Fe=n.add([],$,Ve);n.transformMat4(Fe,Fe,pe);const Je=n.earthRadius/n.GLOBE_RADIUS,Ie=n.length(Fe),Oe=n.mercatorZfromAltitude(Math.max(Ie*Je-n.earthRadius,Number.EPSILON),0),it=Math.min(g.zoomFromMercatorZAdjusted(Oe),v.maxZoom);return it>.5*(n.GLOBE_ZOOM_THRESHOLD_MIN+n.GLOBE_ZOOM_THRESHOLD_MAX)?(g.setProjection({name:"mercator"}),g.zoom=it,this._cameraForBounds(g,s,u,h,f,_)):{center:g.center,zoom:it,bearing:h,pitch:f}}queryTerrainElevation(i,s){const u=this.transform.elevation;return u?(s=n.extend({},{exaggerated:!0},s),u.getAtPoint(n.MercatorCoordinate.fromLngLat(i),null,s.exaggerated)):null}_cameraForBounds(i,s,u,h,f,_){if(i.projection.name==="globe")return this._cameraForBoundsOnGlobe(i,s,u,h,f,_);const g=i.clone(),v=this._extendCameraOptions(_),A=g.padding;g.bearing=h,g.pitch=f;const M=n.LngLat.convert(s),F=n.LngLat.convert(u),N=new n.LngLat(M.lng,F.lat),j=new n.LngLat(F.lng,M.lat),Z=g.project(M),q=g.project(F),W=this.queryTerrainElevation(M),L=this.queryTerrainElevation(F),V=this.queryTerrainElevation(N),K=this.queryTerrainElevation(j),$=[[Z.x,Z.y,Math.min(W||0,L||0,V||0,K||0)],[q.x,q.y,Math.max(W||0,L||0,V||0,K||0)]];let ce=n.Aabb.fromPoints($);const pe=g.getWorldToCameraMatrix(),ue=n.invert(new Float64Array(16),pe);ce=n.Aabb.applyTransform(ce,pe);const ge=n.sub([],ce.max,ce.min),_e=A.left||0,Ee=A.right||0,et=A.bottom||0,De=A.top||0,{left:Ve,right:Fe,top:Je,bottom:Ie}=v.padding,Oe=.5*(_e+Ee),it=.5*(De+et),We=Math.min(g.scaleZoom(g.scale*Math.min((g.width-(_e+Ee+Ve+Fe))/ge[0],(g.height-(et+De+Ie+Je))/ge[1])),v.maxZoom),nt=g.scale/g.zoomScale(We);ce=new n.Aabb([ce.min[0]-(Ve+Oe)*nt,ce.min[1]-(Ie+it)*nt,ce.min[2]],[ce.max[0]+(Fe+Oe)*nt,ce.max[1]+(Je+it)*nt,ce.max[2]]);const Ft=.5*ge[2],qt=this._minimumAABBFrustumDistance(g,ce),St=[0,0,1,0];n.transformMat4$1(St,St,pe),n.normalize$2(St,St);const Rt=n.scale$2([],St,qt+Ft),n4=n.add([],ce.center,Rt),r4=(typeof v.offset.x=="number"&&typeof v.offset.y=="number"?new n.Point(v.offset.x,v.offset.y):n.Point.convert(v.offset)).rotate(-n.degToRad(h));ce.center[0]-=r4.x*nt,ce.center[1]+=r4.y*nt,n.transformMat4(ce.center,ce.center,ue),n.transformMat4(n4,n4,ue);const Tt=[ce.center[0],ce.center[1],n4[2]*g.pixelsPerMeter];n.scale$2(Tt,Tt,1/g.worldSize);const A4=n.lngFromMercatorX(Tt[0]),F4=n.latFromMercatorY(Tt[1]),L4=Math.min(g._zoomFromMercatorZ(Tt[2]),v.maxZoom),k4=new n.LngLat(A4,F4);return g.mercatorFromTransition&&L4<.5*(n.GLOBE_ZOOM_THRESHOLD_MIN+n.GLOBE_ZOOM_THRESHOLD_MAX)?(g.setProjection({name:"globe"}),g.zoom=L4,this._cameraForBounds(g,s,u,h,f,_)):{center:k4,zoom:L4,bearing:h,pitch:f}}fitBounds(i,s,u){const h=this.cameraForBounds(i,s);return this._fitInternal(h,s,u)}fitScreenCoordinates(i,s,u,h,f){const _=n.Point.convert(i),g=n.Point.convert(s),v=new n.Point(Math.min(_.x,g.x),Math.min(_.y,g.y)),A=new n.Point(Math.max(_.x,g.x),Math.max(_.y,g.y));if(this.transform.projection.name==="mercator"&&this.transform.anyCornerOffEdge(_,g))return this;const M=this.transform.pointLocation3D(v),F=this.transform.pointLocation3D(A),N=this.transform.pointLocation3D(new n.Point(v.x,A.y)),j=this.transform.pointLocation3D(new n.Point(A.x,v.y)),Z=[Math.min(M.lng,F.lng,N.lng,j.lng),Math.min(M.lat,F.lat,N.lat,j.lat)],q=[Math.max(M.lng,F.lng,N.lng,j.lng),Math.max(M.lat,F.lat,N.lat,j.lat)],W=h&&h.pitch?h.pitch:this.getPitch(),L=this._cameraForBounds(this.transform,Z,q,u,W,h);return this._fitInternal(L,h,f)}_fitInternal(i,s,u){return i?(delete(s=n.extend(i,s)).padding,s.linear?this.easeTo(s,u):this.flyTo(s,u)):this}jumpTo(i,s){this.stop();const u=i.preloadOnly?this.transform.clone():this.transform;let h=!1,f=!1,_=!1;return"zoom"in i&&u.zoom!==+i.zoom&&(h=!0,u.zoom=+i.zoom),i.center!==void 0&&(u.center=n.LngLat.convert(i.center)),"bearing"in i&&u.bearing!==+i.bearing&&(f=!0,u.bearing=+i.bearing),"pitch"in i&&u.pitch!==+i.pitch&&(_=!0,u.pitch=+i.pitch),i.padding==null||u.isPaddingEqual(i.padding)||(u.padding=i.padding),i.preloadOnly?(this._preloadTiles(u),this):(this.fire(new n.Event("movestart",s)).fire(new n.Event("move",s)),h&&this.fire(new n.Event("zoomstart",s)).fire(new n.Event("zoom",s)).fire(new n.Event("zoomend",s)),f&&this.fire(new n.Event("rotatestart",s)).fire(new n.Event("rotate",s)).fire(new n.Event("rotateend",s)),_&&this.fire(new n.Event("pitchstart",s)).fire(new n.Event("pitch",s)).fire(new n.Event("pitchend",s)),this.fire(new n.Event("moveend",s)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||n.warnOnce(Ho),this.transform.getFreeCameraOptions()}setFreeCameraOptions(i,s){const u=this.transform;if(!u.projection.supportsFreeCamera)return n.warnOnce(Ho),this;this.stop();const h=u.zoom,f=u.pitch,_=u.bearing;u.setFreeCameraOptions(i);const g=h!==u.zoom,v=f!==u.pitch,A=_!==u.bearing;return this.fire(new n.Event("movestart",s)).fire(new n.Event("move",s)),g&&this.fire(new n.Event("zoomstart",s)).fire(new n.Event("zoom",s)).fire(new n.Event("zoomend",s)),A&&this.fire(new n.Event("rotatestart",s)).fire(new n.Event("rotate",s)).fire(new n.Event("rotateend",s)),v&&this.fire(new n.Event("pitchstart",s)).fire(new n.Event("pitch",s)).fire(new n.Event("pitchend",s)),this.fire(new n.Event("moveend",s)),this}easeTo(i,s){this._stop(!1,i.easeId),((i=n.extend({offset:[0,0],duration:500,easing:n.ease},i)).animate===!1||this._prefersReducedMotion(i))&&(i.duration=0);const u=this.transform,h=this.getZoom(),f=this.getBearing(),_=this.getPitch(),g=this.getPadding(),v="zoom"in i?+i.zoom:h,A="bearing"in i?this._normalizeBearing(i.bearing,f):f,M="pitch"in i?+i.pitch:_,F="padding"in i?i.padding:u.padding,N=n.Point.convert(i.offset);let j,Z,q;if(u.projection.name==="globe"){const _e=n.MercatorCoordinate.fromLngLat(u.center),Ee=N.rotate(-u.angle);_e.x+=Ee.x/u.worldSize,_e.y+=Ee.y/u.worldSize;const et=_e.toLngLat(),De=n.LngLat.convert(i.center||et);this._normalizeCenter(De),j=u.centerPoint.add(Ee),Z=new n.Point(_e.x,_e.y).mult(u.worldSize),q=new n.Point(n.mercatorXfromLng(De.lng),n.mercatorYfromLat(De.lat)).mult(u.worldSize).sub(Z)}else{j=u.centerPoint.add(N);const _e=u.pointLocation(j),Ee=n.LngLat.convert(i.center||_e);this._normalizeCenter(Ee),Z=u.project(_e),q=u.project(Ee).sub(Z)}const W=u.zoomScale(v-h);let L,V;i.around&&(L=n.LngLat.convert(i.around),V=u.locationPoint(L));const K=this._zooming||v!==h,$=this._rotating||f!==A,ce=this._pitching||M!==_,pe=!u.isPaddingEqual(F),ue=_e=>Ee=>{if(K&&(_e.zoom=n.number(h,v,Ee)),$&&(_e.bearing=n.number(f,A,Ee)),ce&&(_e.pitch=n.number(_,M,Ee)),pe&&(_e.interpolatePadding(g,F,Ee),j=_e.centerPoint.add(N)),L)_e.setLocationAtPoint(L,V);else{const et=_e.zoomScale(_e.zoom-h),De=v>h?Math.min(2,W):Math.max(.5,W),Ve=Math.pow(De,1-Ee),Fe=_e.unproject(Z.add(q.mult(Ee*Ve)).mult(et));_e.setLocationAtPoint(_e.renderWorldCopies?Fe.wrap():Fe,j)}return i.preloadOnly||this._fireMoveEvents(s),_e};if(i.preloadOnly){const _e=this._emulate(ue,i.duration,u);return this._preloadTiles(_e),this}const ge={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=K,this._rotating=$,this._pitching=ce,this._padding=pe,this._easeId=i.easeId,this._prepareEase(s,i.noMoveStart,ge),this._ease(ue(u),_e=>{u.recenterOnTerrain(),this._afterEase(s,_e)},i),this}_prepareEase(i,s,u={}){this._moving=!0,this.transform.cameraElevationReference="sea",s||u.moving||this.fire(new n.Event("movestart",i)),this._zooming&&!u.zooming&&this.fire(new n.Event("zoomstart",i)),this._rotating&&!u.rotating&&this.fire(new n.Event("rotatestart",i)),this._pitching&&!u.pitching&&this.fire(new n.Event("pitchstart",i))}_fireMoveEvents(i){this.fire(new n.Event("move",i)),this._zooming&&this.fire(new n.Event("zoom",i)),this._rotating&&this.fire(new n.Event("rotate",i)),this._pitching&&this.fire(new n.Event("pitch",i))}_afterEase(i,s){if(this._easeId&&s&&this._easeId===s)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const u=this._zooming,h=this._rotating,f=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,u&&this.fire(new n.Event("zoomend",i)),h&&this.fire(new n.Event("rotateend",i)),f&&this.fire(new n.Event("pitchend",i)),this.fire(new n.Event("moveend",i))}flyTo(i,s){if(this._prefersReducedMotion(i)){const We=n.pick(i,["center","zoom","bearing","pitch","around"]);return this.jumpTo(We,s)}this.stop(),i=n.extend({offset:[0,0],speed:1.2,curve:1.42,easing:n.ease},i);const u=this.transform,h=this.getZoom(),f=this.getBearing(),_=this.getPitch(),g=this.getPadding(),v="zoom"in i?n.clamp(+i.zoom,u.minZoom,u.maxZoom):h,A="bearing"in i?this._normalizeBearing(i.bearing,f):f,M="pitch"in i?+i.pitch:_,F="padding"in i?i.padding:u.padding,N=u.zoomScale(v-h),j=n.Point.convert(i.offset);let Z=u.centerPoint.add(j);const q=u.pointLocation(Z),W=n.LngLat.convert(i.center||q);this._normalizeCenter(W);const L=u.project(q),V=u.project(W).sub(L);let K=i.curve;const $=Math.max(u.width,u.height),ce=$/N,pe=V.mag();if("minZoom"in i){const We=n.clamp(Math.min(i.minZoom,h,v),u.minZoom,u.maxZoom),nt=$/u.zoomScale(We-h);K=Math.sqrt(nt/pe*2)}const ue=K*K;function ge(We){const nt=(ce*ce-$*$+(We?-1:1)*ue*ue*pe*pe)/(2*(We?ce:$)*ue*pe);return Math.log(Math.sqrt(nt*nt+1)-nt)}function _e(We){return(Math.exp(We)-Math.exp(-We))/2}function Ee(We){return(Math.exp(We)+Math.exp(-We))/2}const et=ge(0);let De=function(We){return Ee(et)/Ee(et+K*We)},Ve=function(We){return $*((Ee(et)*(_e(nt=et+K*We)/Ee(nt))-_e(et))/ue)/pe;var nt},Fe=(ge(1)-et)/K;if(Math.abs(pe)<1e-6||!isFinite(Fe)){if(Math.abs($-ce)<1e-6)return this.easeTo(i,s);const We=ce<$?-1:1;Fe=Math.abs(Math.log(ce/$))/K,Ve=function(){return 0},De=function(nt){return Math.exp(We*K*nt)}}i.duration="duration"in i?+i.duration:1e3*Fe/("screenSpeed"in i?+i.screenSpeed/K:+i.speed),i.maxDuration&&i.duration>i.maxDuration&&(i.duration=0);const Je=f!==A,Ie=M!==_,Oe=!u.isPaddingEqual(F),it=We=>nt=>{const Ft=nt*Fe,qt=1/De(Ft);We.zoom=nt===1?v:h+We.scaleZoom(qt),Je&&(We.bearing=n.number(f,A,nt)),Ie&&(We.pitch=n.number(_,M,nt)),Oe&&(We.interpolatePadding(g,F,nt),Z=We.centerPoint.add(j));const St=nt===1?W:We.unproject(L.add(V.mult(Ve(Ft))).mult(qt));return We.setLocationAtPoint(We.renderWorldCopies?St.wrap():St,Z),We._updateCameraOnTerrain(),i.preloadOnly||this._fireMoveEvents(s),We};if(i.preloadOnly){const We=this._emulate(it,i.duration,u);return this._preloadTiles(We),this}return this._zooming=!0,this._rotating=Je,this._pitching=Ie,this._padding=Oe,this._prepareEase(s,!1),this._ease(it(u),()=>this._afterEase(s),i),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(i,s){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const u=this._onEaseEnd;this._onEaseEnd=void 0,u.call(this,s)}if(!i){const u=this.handlers;u&&u.stop(!1)}return this}_ease(i,s,u){u.animate===!1||u.duration===0?(i(1),s()):(this._easeStart=n.exported.now(),this._easeOptions=u,this._onEaseFrame=i,this._onEaseEnd=s,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const i=Math.min((n.exported.now()-this._easeStart)/this._easeOptions.duration,1),s=this._onEaseFrame;s&&s(this._easeOptions.easing(i)),i<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(i,s){i=n.wrap(i,-180,180);const u=Math.abs(i-s);return Math.abs(i-360-s)<u&&(i-=360),Math.abs(i+360-s)<u&&(i+=360),i}_normalizeCenter(i){const s=this.transform;if(!s.renderWorldCopies||s.maxBounds)return;const u=i.lng-s.center.lng;i.lng+=u>180?-360:u<-180?360:0}_prefersReducedMotion(i){return this._respectPrefersReducedMotion&&n.exported.prefersReducedMotion&&!(i&&i.essential)}_emulate(i,s,u){const h=Math.ceil(15*s/1e3),f=[],_=i(u.clone());for(let g=0;g<=h;g++){const v=_(g/h);f.push(v.clone())}return f}}class Ct{constructor(i={}){this.options=i,n.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(i){const s=this.options&&this.options.compact;return this._map=i,this._container=ye("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=ye("button","mapboxgl-ctrl-attrib-button",this._container),ye("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=ye("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),s&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),s===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(i,s){const u=this._map._getUIString(`AttributionControl.${s}`);i.setAttribute("aria-label",u),i.removeAttribute("title"),i.firstElementChild&&i.firstElementChild.setAttribute("title",u)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let i=this._editLink;i||(i=this._editLink=this._container.querySelector(".mapbox-improve-map"));const s=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||n.config.ACCESS_TOKEN}];if(i){const u=s.reduce((h,f,_)=>(f.value&&(h+=`${f.key}=${f.value}${_<s.length-1?"&":""}`),h),"?");i.href=`${n.config.FEEDBACK_URL}/${u}#${$n(this._map,!0)}`,i.rel="noopener nofollow",this._setElementTitle(i,"MapFeedback")}}_updateData(i){!i||i.sourceDataType!=="metadata"&&i.sourceDataType!=="visibility"&&i.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let i=[];if(this._map.style.stylesheet){const h=this._map.style.stylesheet;this.styleOwner=h.owner,this.styleId=h.id}const s=this._map.style._sourceCaches;for(const h in s){const f=s[h];if(f.used){const _=f.getSource();_.attribution&&i.indexOf(_.attribution)<0&&i.push(_.attribution)}}i.sort((h,f)=>h.length-f.length),i=i.filter((h,f)=>{for(let _=f+1;_<i.length;_++)if(i[_].indexOf(h)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?i=[...this.options.customAttribution,...i]:i.unshift(this.options.customAttribution));const u=i.join(" | ");u!==this._attribHTML&&(this._attribHTML=u,i.length?(this._innerContainer.innerHTML=u,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class u7{constructor(){n.bindAll(["_updateLogo","_updateCompact"],this)}onAdd(i){this._map=i,this._container=ye("div","mapboxgl-ctrl");const s=ye("a","mapboxgl-ctrl-logo");return s.target="_blank",s.rel="noopener nofollow",s.href="https://www.mapbox.com/",s.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),s.setAttribute("rel","noopener nofollow"),this._container.appendChild(s),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(i){i&&i.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const i=this._map.style._sourceCaches;if(Object.entries(i).length===0)return!0;for(const s in i){const u=i[s].getSource();if(u.hasOwnProperty("mapbox_logo")&&!u.mapbox_logo)return!1}return!0}_updateCompact(){const i=this._container.children;if(i.length){const s=i[0];this._map.getCanvasContainer().offsetWidth<250?s.classList.add("mapboxgl-compact"):s.classList.remove("mapboxgl-compact")}}}class p7{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(i){const s=++this._id;return this._queue.push({callback:i,id:s,cancelled:!1}),s}remove(i){const s=this._currentlyRunning,u=s?this._queue.concat(s):this._queue;for(const h of u)if(h.id===i)return void(h.cancelled=!0)}run(i=0){const s=this._currentlyRunning=this._queue;this._queue=[];for(const u of s)if(!u.cancelled&&(u.callback(i),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function Cn(l,i,s){if(l=new n.LngLat(l.lng,l.lat),i){const u=new n.LngLat(l.lng-360,l.lat),h=new n.LngLat(l.lng+360,l.lat),f=360*Math.ceil(Math.abs(l.lng-s.center.lng)/360),_=s.locationPoint(l).distSqr(i),g=i.x<0||i.y<0||i.x>s.width||i.y>s.height;s.locationPoint(u).distSqr(i)<_&&(g||Math.abs(u.lng-s.center.lng)<f)?l=u:s.locationPoint(h).distSqr(i)<_&&(g||Math.abs(h.lng-s.center.lng)<f)&&(l=h)}for(;Math.abs(l.lng-s.center.lng)>180;){const u=s.locationPoint(l);if(u.x>=0&&u.y>=0&&u.x<=s.width&&u.y<=s.height)break;l.lng>s.center.lng?l.lng-=360:l.lng+=360}return l}const Xo={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class ft extends n.Evented{constructor(i,s){if(super(),(i instanceof n.window.HTMLElement||s)&&(i=n.extend({element:i},s)),n.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=i&&i.anchor||"center",this._color=i&&i.color||"#3FB1CE",this._scale=i&&i.scale||1,this._draggable=i&&i.draggable||!1,this._clickTolerance=i&&i.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=i&&i.rotation||0,this._rotationAlignment=i&&i.rotationAlignment||"auto",this._pitchAlignment=i&&i.pitchAlignment&&i.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=i&&i.occludedOpacity||.2,i&&i.element)this._element=i.element,this._offset=n.Point.convert(i&&i.offset||[0,0]);else{this._defaultMarker=!0,this._element=ye("div");const h=41,f=27,_=me("svg",{display:"block",height:h*this._scale+"px",width:f*this._scale+"px",viewBox:`0 0 ${f} ${h}`},this._element),g=me("radialGradient",{id:"shadowGradient"},me("defs",{},_));me("stop",{offset:"10%","stop-opacity":.4},g),me("stop",{offset:"100%","stop-opacity":.05},g),me("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},_),me("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},_),me("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},_),me("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},_),this._offset=n.Point.convert(i&&i.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",h=>{h.preventDefault()}),this._element.addEventListener("mousedown",h=>{h.preventDefault()});const u=this._element.classList;for(const h in Xo)u.remove(`mapboxgl-marker-anchor-${h}`);u.add(`mapboxgl-marker-anchor-${this._anchor}`),this._popup=null}addTo(i){return i===this._map||(this.remove(),this._map=i,i.getCanvasContainer().appendChild(this._element),i.on("move",this._updateMoving),i.on("moveend",this._update),i.on("remove",this._clearFadeTimer),i._addMarker(this),this.setDraggable(this._draggable),this._update(),i.on("click",this._onMapClick)),this}remove(){const i=this._map;return i&&(i.off("click",this._onMapClick),i.off("move",this._updateMoving),i.off("moveend",this._update),i.off("mousedown",this._addDragHandler),i.off("touchstart",this._addDragHandler),i.off("mouseup",this._onUp),i.off("touchend",this._onUp),i.off("mousemove",this._onMove),i.off("touchmove",this._onMove),i.off("remove",this._clearFadeTimer),i._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(i){return this._lngLat=n.LngLat.convert(i),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(i){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),i){if(!("offset"in i.options)){const h=Math.sqrt(Math.pow(13.5,2)/2);i.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[h,-1*(38.1-13.5+h)],"bottom-right":[-h,-1*(38.1-13.5+h)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=i,i._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(i){const s=i.code,u=i.charCode||i.keyCode;s!=="Space"&&s!=="Enter"&&u!==32&&u!==13||this.togglePopup()}_onMapClick(i){const s=i.originalEvent.target,u=this._element;this._popup&&(s===u||u.contains(s))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const i=this._popup;return i?(i.isOpen()?(i.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(i.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const i=this._map,s=this._pos;if(!i||!s)return!1;const u=i.unproject(s),h=i.getFreeCameraOptions();if(!h.position)return!1;const f=h.position.toLngLat();return f.distanceTo(u)<.9*f.distanceTo(this._lngLat)}_evaluateOpacity(){const i=this._map;if(!i)return;const s=this._pos;if(!s||s.x<0||s.x>i.transform.width||s.y<0||s.y>i.transform.height)return void this._clearFadeTimer();const u=i.unproject(s);let h;i._showingGlobe()&&n.isLngLatBehindGlobe(i.transform,this._lngLat)?h=0:(h=1-i._queryFogOpacity(u),i.transform._terrainEnabled()&&i.getTerrain()&&this._behindTerrain()&&(h*=this._occludedOpacity)),this._element.style.opacity=`${h}`,this._element.style.pointerEvents=h>0?"auto":"none",this._popup&&this._popup._setOpacity(h),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const i=this._pos;if(!i||!this._map)return;const s=this._offset.mult(this._scale);this._element.style.transform=`
            translate(${i.x}px,${i.y}px)
            ${Xo[this._anchor]}
            ${this._calculateXYTransform()} ${this._calculateZTransform()}
            translate(${s.x}px,${s.y}px)
        `}_calculateXYTransform(){const i=this._pos,s=this._map,u=this.getPitchAlignment();if(!s||!i||u!=="map")return"";if(!s._showingGlobe()){const v=s.getPitch();return v?`rotateX(${v}deg)`:""}const h=n.radToDeg(n.globeTiltAtLngLat(s.transform,this._lngLat)),f=i.sub(n.globeCenterToScreenPoint(s.transform)),_=Math.abs(f.x)+Math.abs(f.y);if(_===0)return"";const g=h/_;return`rotateX(${-f.y*g}deg) rotateY(${f.x*g}deg)`}_calculateZTransform(){const i=this._pos,s=this._map;if(!s||!i)return"";let u=0;const h=this.getRotationAlignment();if(h==="map")if(s._showingGlobe()){const f=s.project(new n.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),_=s.project(new n.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(f);u=n.radToDeg(Math.atan2(_.y,_.x))-90}else u=-s.getBearing();else if(h==="horizon"){const f=n.smoothstep(4,6,s.getZoom()),_=n.globeCenterToScreenPoint(s.transform);_.y+=f*s.transform.height;const g=i.sub(_),v=n.radToDeg(Math.atan2(g.y,g.x));u=(v>90?v-270:v+90)*(1-f)}return u+=this._rotation,u?`rotateZ(${u}deg)`:""}_update(i){n.window.cancelAnimationFrame(this._updateFrameId);const s=this._map;s&&(s.transform.renderWorldCopies&&(this._lngLat=Cn(this._lngLat,this._pos,s.transform)),this._pos=s.project(this._lngLat),i===!0?this._updateFrameId=n.window.requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),s._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(s._showingGlobe()||s.getTerrain()||s.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(i){return this._offset=n.Point.convert(i),this._update(),this}_onMove(i){const s=this._map;if(!s)return;const u=this._pointerdownPos,h=this._positionDelta;if(u&&h){if(!this._isDragging){const f=this._clickTolerance||s._clickTolerance;if(i.point.dist(u)<f)return;this._isDragging=!0}this._pos=i.point.sub(h),this._lngLat=s.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new n.Event("dragstart"))),this.fire(new n.Event("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const i=this._map;i&&(i.off("mousemove",this._onMove),i.off("touchmove",this._onMove)),this._state==="active"&&this.fire(new n.Event("dragend")),this._state="inactive"}_addDragHandler(i){const s=this._map,u=this._pos;s&&u&&this._element.contains(i.originalEvent.target)&&(i.preventDefault(),this._positionDelta=i.point.sub(u),this._pointerdownPos=i.point,this._state="pending",s.on("mousemove",this._onMove),s.on("touchmove",this._onMove),s.once("mouseup",this._onUp),s.once("touchend",this._onUp))}setDraggable(i){this._draggable=!!i;const s=this._map;return s&&(i?(s.on("mousedown",this._addDragHandler),s.on("touchstart",this._addDragHandler)):(s.off("mousedown",this._addDragHandler),s.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(i){return this._rotation=i||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(i){return this._rotationAlignment=i||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment==="auto"||this._rotationAlignment==="horizon"&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(i){return this._pitchAlignment=i||"auto",this._update(),this}getPitchAlignment(){return this._pitchAlignment==="auto"?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(i){return this._occludedOpacity=i||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const h7={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},a1=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function O3(l=new n.Point(0,0),i="bottom"){if(typeof l=="number"){const s=Math.round(Math.sqrt(.5*Math.pow(l,2)));switch(i){case"top":return new n.Point(0,l);case"top-left":return new n.Point(s,s);case"top-right":return new n.Point(-s,s);case"bottom":return new n.Point(0,-l);case"bottom-left":return new n.Point(s,-s);case"bottom-right":return new n.Point(-s,-s);case"left":return new n.Point(l,0);case"right":return new n.Point(-l,0)}return new n.Point(0,0)}return l instanceof n.Point||Array.isArray(l)?n.Point.convert(l):n.Point.convert(l[i]||[0,0])}class d7{constructor(i){this.jumpTo(i)}getValue(i){if(i<=this._startTime)return this._start;if(i>=this._endTime)return this._end;const s=n.easeCubicInOut((i-this._startTime)/(this._endTime-this._startTime));return this._start*(1-s)+this._end*s}isEasing(i){return i>=this._startTime&&i<=this._endTime}jumpTo(i){this._startTime=-1/0,this._endTime=-1/0,this._start=i,this._end=i}easeTo(i,s,u){this._start=this.getValue(s),this._end=i,this._startTime=s,this._endTime=s+u}}const V3={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use ⌘ + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},j3={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,respectPrefersReducedMotion:!0,crossSourceCollisions:!0},l1={showCompass:!0,showZoom:!0,visualizePitch:!1};class c1{constructor(i,s,u=!1){this._clickTolerance=10,this.element=s,this.mouseRotate=new n7({clickTolerance:i.dragRotate._mouseRotate._clickTolerance}),this.map=i,u&&(this.mousePitch=new s7({clickTolerance:i.dragRotate._mousePitch._clickTolerance})),n.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),s.addEventListener("mousedown",this.mousedown),s.addEventListener("touchstart",this.touchstart,{passive:!1}),s.addEventListener("touchmove",this.touchmove),s.addEventListener("touchend",this.touchend),s.addEventListener("touchcancel",this.reset)}down(i,s){this.mouseRotate.mousedown(i,s),this.mousePitch&&this.mousePitch.mousedown(i,s),$e()}move(i,s){const u=this.map,h=this.mouseRotate.mousemoveWindow(i,s),f=h&&h.bearingDelta;if(f&&u.setBearing(u.getBearing()+f),this.mousePitch){const _=this.mousePitch.mousemoveWindow(i,s),g=_&&_.pitchDelta;g&&u.setPitch(u.getPitch()+g)}}off(){const i=this.element;i.removeEventListener("mousedown",this.mousedown),i.removeEventListener("touchstart",this.touchstart,{passive:!1}),i.removeEventListener("touchmove",this.touchmove),i.removeEventListener("touchend",this.touchend),i.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){Qe(),n.window.removeEventListener("mousemove",this.mousemove),n.window.removeEventListener("mouseup",this.mouseup)}mousedown(i){this.down(n.extend({},i,{ctrlKey:!0,preventDefault:()=>i.preventDefault()}),ot(this.element,i)),n.window.addEventListener("mousemove",this.mousemove),n.window.addEventListener("mouseup",this.mouseup)}mousemove(i){this.move(i,ot(this.element,i))}mouseup(i){this.mouseRotate.mouseupWindow(i),this.mousePitch&&this.mousePitch.mouseupWindow(i),this.offTemp()}touchstart(i){i.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=ut(this.element,i.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>i.preventDefault()},this._startPos))}touchmove(i){i.targetTouches.length!==1?this.reset():(this._lastPos=ut(this.element,i.targetTouches)[0],this.move({preventDefault:()=>i.preventDefault()},this._lastPos))}touchend(i){i.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const f7={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},m7={maxWidth:100,unit:"metric"},y7={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"},wn={version:n.version,supported:ee,setRTLTextPlugin:n.setRTLTextPlugin,getRTLTextPluginStatus:n.getRTLTextPluginStatus,Map:class extends K5{constructor(l){if(n.LivePerformanceUtils.mark(n.PerformanceMarkers.create),(l=n.extend({},j3,l)).minZoom!=null&&l.maxZoom!=null&&l.minZoom>l.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(l.minPitch!=null&&l.maxPitch!=null&&l.minPitch>l.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(l.minPitch!=null&&l.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(l.maxPitch!=null&&l.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(l.antialias&&n.isSafariWithAntialiasingBug(n.window)&&(l.antialias=!1,n.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new gn(l.minZoom,l.maxZoom,l.minPitch,l.maxPitch,l.renderWorldCopies),l),this._interactive=l.interactive,this._minTileCacheSize=l.minTileCacheSize,this._maxTileCacheSize=l.maxTileCacheSize,this._failIfMajorPerformanceCaveat=l.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=l.preserveDrawingBuffer,this._antialias=l.antialias,this._useWebGL2=l.useWebGL2,this._trackResize=l.trackResize,this._bearingSnap=l.bearingSnap,this._refreshExpiredTiles=l.refreshExpiredTiles,this._fadeDuration=l.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=l.crossSourceCollisions,this._collectResourceTiming=l.collectResourceTiming,this._optimizeForTerrain=l.optimizeForTerrain,this._language=this._parseLanguage(l.language),this._worldview=l.worldview,this._renderTaskQueue=new p7,this._domRenderTaskQueue=new p7,this._controls=[],this._markers=[],this._popups=[],this._mapId=n.uniqueId(),this._locale=n.extend({},V3,l.locale),this._clickTolerance=l.clickTolerance,this._cooperativeGestures=l.cooperativeGestures,this._performanceMetricsCollection=l.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new d7(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new n.RequestManager(l.transformRequest,l.accessToken,l.testMode),this._silenceAuthErrors=!!l.testMode,typeof l.container=="string"){if(this._container=n.window.document.getElementById(l.container),!this._container)throw new Error(`Container '${l.container}' not found.`)}else{if(!(l.container instanceof n.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=l.container}if(this._container.childNodes.length>0&&n.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),l.maxBounds&&this.setMaxBounds(l.maxBounds),n.bindAll(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),n.window!==void 0&&(n.window.addEventListener("online",this._onWindowOnline,!1),n.window.addEventListener("resize",this._onWindowResize,!1),n.window.addEventListener("orientationchange",this._onWindowResize,!1),n.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1),n.window.addEventListener("visibilitychange",this._onVisibilityChange,!1)),this.handlers=new eo(this,l),this._localFontFamily=l.localFontFamily,this._localIdeographFontFamily=l.localIdeographFontFamily,l.style&&this.setStyle(l.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),l.projection&&this.setProjection(l.projection),this._hash=l.hash&&new t7(typeof l.hash=="string"&&l.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:l.center,zoom:l.zoom,bearing:l.bearing,pitch:l.pitch}),l.bounds&&(this.resize(),this.fitBounds(l.bounds,n.extend({},l.fitBoundsOptions,{duration:0})))),this.resize(),l.attributionControl&&this.addControl(new Ct({customAttribution:l.customAttribution})),this._logoControl=new u7,this.addControl(this._logoControl,l.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",i=>{this._update(i.dataType==="style"),this.fire(new n.Event(`${i.dataType}data`,i))}),this.on("dataloading",i=>{this.fire(new n.Event(`${i.dataType}dataloading`,i))})}_getMapId(){return this._mapId}addControl(l,i){if(i===void 0&&(i=l.getDefaultPosition?l.getDefaultPosition():"top-right"),!l||!l.onAdd)return this.fire(new n.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const s=l.onAdd(this);this._controls.push(l);const u=this._controlPositions[i];return i.indexOf("bottom")!==-1?u.insertBefore(s,u.firstChild):u.appendChild(s),this}removeControl(l){if(!l||!l.onRemove)return this.fire(new n.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const i=this._controls.indexOf(l);return i>-1&&this._controls.splice(i,1),l.onRemove(this),this}hasControl(l){return this._controls.indexOf(l)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(l){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const i=!this._moving;return i&&this.fire(new n.Event("movestart",l)).fire(new n.Event("move",l)),this.fire(new n.Event("resize",l)),i&&this.fire(new n.Event("moveend",l)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(l){return this.transform.setMaxBounds(n.LngLatBounds.convert(l)),this._update()}setMinZoom(l){if((l=l??-2)>=-2&&l<=this.transform.maxZoom)return this.transform.minZoom=l,this._update(),this.getZoom()<l?this.setZoom(l):this.fire(new n.Event("zoomstart")).fire(new n.Event("zoom")).fire(new n.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(l){if((l=l??22)>=this.transform.minZoom)return this.transform.maxZoom=l,this._update(),this.getZoom()>l?this.setZoom(l):this.fire(new n.Event("zoomstart")).fire(new n.Event("zoom")).fire(new n.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(l){if((l=l??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(l>=0&&l<=this.transform.maxPitch)return this.transform.minPitch=l,this._update(),this.getPitch()<l?this.setPitch(l):this.fire(new n.Event("pitchstart")).fire(new n.Event("pitch")).fire(new n.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(l){if((l=l??85)>85)throw new Error("maxPitch must be less than or equal to 85");if(l>=this.transform.minPitch)return this.transform.maxPitch=l,this._update(),this.getPitch()>l?this.setPitch(l):this.fire(new n.Event("pitchstart")).fire(new n.Event("pitch")).fire(new n.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(l){return this.transform.renderWorldCopies=l,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(l){return l==="auto"?n.window.navigator.language:Array.isArray(l)?l.length===0?void 0:l.map(i=>i==="auto"?n.window.navigator.language:i):l}setLanguage(l){const i=this._parseLanguage(l);if(!this.style||i===this._language)return this;this._language=i,this.style._reloadSources();for(const s of this._controls)s._setLanguage&&s._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(l){return this.style&&l!==this._worldview?(this._worldview=l,this.style._reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return this.transform.projection.name==="globe"}setProjection(l){return this._lazyInitEmptyStyle(),l?typeof l=="string"&&(l={name:l}):l=null,this._useExplicitProjection=!!l,this._prioritizeAndUpdateProjection(l,this.style.stylesheet?this.style.stylesheet.projection:null)}_updateProjectionTransition(){if(this.getProjection().name!=="globe")return;const l=this.transform,i=l.projection.name;let s;i==="globe"&&l.zoom>=n.GLOBE_ZOOM_THRESHOLD_MAX?(l.setMercatorFromTransition(),s=!0):i==="mercator"&&l.zoom<n.GLOBE_ZOOM_THRESHOLD_MAX&&(l.setProjection({name:"globe"}),s=!0),s&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(l,i){return this._updateProjection(l||i||{name:"mercator"})}_updateProjection(l){let i;if(i=l.name==="globe"&&this.transform.zoom>=n.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(l),this.style.applyProjectionUpdate(),i){this.painter.clearBackgroundTiles();for(const s in this.style._sourceCaches)this.style._sourceCaches[s].clearTiles();this._update(!0),this._forceMarkerAndPopupUpdate(!0)}return this}project(l){return this.transform.locationPoint3D(n.LngLat.convert(l))}unproject(l){return this.transform.pointLocation3D(n.Point.convert(l))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(l,i,s){if(l==="mouseenter"||l==="mouseover"){let u=!1;const h=_=>{const g=i.filter(A=>this.getLayer(A)),v=g.length?this.queryRenderedFeatures(_.point,{layers:g}):[];v.length?u||(u=!0,s.call(this,new Ur(l,this,_.originalEvent,{features:v}))):u=!1},f=()=>{u=!1};return{layers:new Set(i),listener:s,delegates:{mousemove:h,mouseout:f}}}if(l==="mouseleave"||l==="mouseout"){let u=!1;const h=_=>{const g=i.filter(v=>this.getLayer(v));(g.length?this.queryRenderedFeatures(_.point,{layers:g}):[]).length?u=!0:u&&(u=!1,s.call(this,new Ur(l,this,_.originalEvent)))},f=_=>{u&&(u=!1,s.call(this,new Ur(l,this,_.originalEvent)))};return{layers:new Set(i),listener:s,delegates:{mousemove:h,mouseout:f}}}{const u=h=>{const f=i.filter(g=>this.getLayer(g)),_=f.length?this.queryRenderedFeatures(h.point,{layers:f}):[];_.length&&(h.features=_,s.call(this,h),delete h.features)};return{layers:new Set(i),listener:s,delegates:{[l]:u}}}}on(l,i,s){if(s===void 0)return super.on(l,i);Array.isArray(i)||(i=[i]);const u=this._createDelegatedListener(l,i,s);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[l]=this._delegatedListeners[l]||[],this._delegatedListeners[l].push(u);for(const h in u.delegates)this.on(h,u.delegates[h]);return this}once(l,i,s){if(s===void 0)return super.once(l,i);Array.isArray(i)||(i=[i]);const u=this._createDelegatedListener(l,i,s);for(const h in u.delegates)this.once(h,u.delegates[h]);return this}off(l,i,s){if(s===void 0)return super.off(l,i);i=new Set(Array.isArray(i)?i:[i]);const u=(f,_)=>{if(f.size!==_.size)return!1;for(const g of f)if(!_.has(g))return!1;return!0},h=this._delegatedListeners?this._delegatedListeners[l]:void 0;return h&&(f=>{for(let _=0;_<f.length;_++){const g=f[_];if(g.listener===s&&u(g.layers,i)){for(const v in g.delegates)this.off(v,g.delegates[v]);return f.splice(_,1),this}}})(h),this}queryRenderedFeatures(l,i){return this.style?(i!==void 0||l===void 0||l instanceof n.Point||Array.isArray(l)||(i=l,l=void 0),this.style.queryRenderedFeatures(l=l||[[0,0],[this.transform.width,this.transform.height]],i=i||{},this.transform)):[]}querySourceFeatures(l,i){return this.style.querySourceFeatures(l,i)}isPointOnSurface(l){const{name:i}=this.transform.projection;return i!=="globe"&&i!=="mercator"&&n.warnOnce(`${i} projection does not support isPointOnSurface, this API may behave unexpectedly.`),this.transform.isPointOnSurface(n.Point.convert(l))}setStyle(l,i){return(i=n.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},i)).diff!==!1&&i.localIdeographFontFamily===this._localIdeographFontFamily&&i.localFontFamily===this._localFontFamily&&this.style&&l?(this._diffStyle(l,i),this):(this._localIdeographFontFamily=i.localIdeographFontFamily,this._localFontFamily=i.localFontFamily,this._updateStyle(l,i))}_getUIString(l){const i=this._locale[l];if(i==null)throw new Error(`Missing UI string '${l}'`);return i}_updateStyle(l,i){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),l&&(this.style=new $i(this,i||{}),this.style.setEventedParent(this,{style:this.style}),typeof l=="string"?this.style.loadURL(l):this.style.loadJSON(l)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new $i(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(l,i){if(typeof l=="string"){const s=this._requestManager.normalizeStyleURL(l),u=this._requestManager.transformRequest(s,n.ResourceType.Style);n.getJSON(u,(h,f)=>{h?this.fire(new n.ErrorEvent(h)):f&&this._updateDiff(f,i)})}else typeof l=="object"&&this._updateDiff(l,i)}_updateDiff(l,i){try{this.style.setState(l)&&this._update(!0)}catch(s){n.warnOnce(`Unable to perform style diff: ${s.message||s.error||s}.  Rebuilding the style from scratch.`),this._updateStyle(l,i)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(n.warnOnce("There is no style added to the map."),!1)}addSource(l,i){return this._lazyInitEmptyStyle(),this.style.addSource(l,i),this._update(!0)}isSourceLoaded(l){return!!this.style&&this.style._isSourceCacheLoaded(l)}areTilesLoaded(){const l=this.style&&this.style._sourceCaches;for(const i in l){const s=l[i]._tiles;for(const u in s){const h=s[u];if(h.state!=="loaded"&&h.state!=="errored")return!1}}return!0}addSourceType(l,i,s){this._lazyInitEmptyStyle(),this.style.addSourceType(l,i,s)}removeSource(l){return this.style.removeSource(l),this._updateTerrain(),this._update(!0)}getSource(l){return this.style.getSource(l)}addImage(l,i,{pixelRatio:s=1,sdf:u=!1,stretchX:h,stretchY:f,content:_}={}){if(this._lazyInitEmptyStyle(),i instanceof n.window.HTMLImageElement||n.window.ImageBitmap&&i instanceof n.window.ImageBitmap){const{width:g,height:v,data:A}=n.exported.getImageData(i);this.style.addImage(l,{data:new n.RGBAImage({width:g,height:v},A),pixelRatio:s,stretchX:h,stretchY:f,content:_,sdf:u,version:0})}else if(i.width===void 0||i.height===void 0)this.fire(new n.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:g,height:v}=i,A=i;this.style.addImage(l,{data:new n.RGBAImage({width:g,height:v},new Uint8Array(A.data)),pixelRatio:s,stretchX:h,stretchY:f,content:_,sdf:u,version:0,userImage:A}),A.onAdd&&A.onAdd(this,l)}}updateImage(l,i){const s=this.style.getImage(l);if(!s)return void this.fire(new n.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const u=i instanceof n.window.HTMLImageElement||n.window.ImageBitmap&&i instanceof n.window.ImageBitmap?n.exported.getImageData(i):i,{width:h,height:f}=u;h!==void 0&&f!==void 0?h===s.data.width&&f===s.data.height?(s.data.replace(u.data,!(i instanceof n.window.HTMLImageElement||n.window.ImageBitmap&&i instanceof n.window.ImageBitmap)),this.style.updateImage(l,s)):this.fire(new n.ErrorEvent(new Error(`The width and height of the updated image (${h}, ${f})
                must be that same as the previous version of the image
                (${s.data.width}, ${s.data.height})`))):this.fire(new n.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}hasImage(l){return l?!!this.style.getImage(l):(this.fire(new n.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(l){this.style.removeImage(l)}loadImage(l,i){n.getImage(this._requestManager.transformRequest(l,n.ResourceType.Image),(s,u)=>{i(s,u instanceof n.window.HTMLImageElement?n.exported.getImageData(u):u)})}listImages(){return this.style.listImages()}addLayer(l,i){return this._lazyInitEmptyStyle(),this.style.addLayer(l,i),this._update(!0)}moveLayer(l,i){return this.style.moveLayer(l,i),this._update(!0)}removeLayer(l){return this.style.removeLayer(l),this._update(!0)}getLayer(l){return this.style.getLayer(l)}setLayerZoomRange(l,i,s){return this.style.setLayerZoomRange(l,i,s),this._update(!0)}setFilter(l,i,s={}){return this.style.setFilter(l,i,s),this._update(!0)}getFilter(l){return this.style.getFilter(l)}setPaintProperty(l,i,s,u={}){return this.style.setPaintProperty(l,i,s,u),this._update(!0)}getPaintProperty(l,i){return this.style.getPaintProperty(l,i)}setLayoutProperty(l,i,s,u={}){return this.style.setLayoutProperty(l,i,s,u),this._update(!0)}getLayoutProperty(l,i){return this.style.getLayoutProperty(l,i)}setLight(l,i={}){return this._lazyInitEmptyStyle(),this.style.setLight(l,i),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(l){return this._lazyInitEmptyStyle(),!l&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(l),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(l){return this._lazyInitEmptyStyle(),this.style.setFog(l),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(l){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(n.LngLat.convert(l),this.transform):0}setFeatureState(l,i){return this.style.setFeatureState(l,i),this._update()}removeFeatureState(l,i){return this.style.removeFeatureState(l,i),this._update()}getFeatureState(l){return this.style.getFeatureState(l)}_updateContainerDimensions(){if(!this._container)return;const l=this._container.getBoundingClientRect().width||400,i=this._container.getBoundingClientRect().height||300;let s,u,h,f=this._container;for(;f&&(!u||!h);){const _=n.window.getComputedStyle(f).transform;_&&_!=="none"&&(s=_.match(/matrix.*\((.+)\)/)[1].split(", "),s[0]&&s[0]!=="0"&&s[0]!=="1"&&(u=s[0]),s[3]&&s[3]!=="0"&&s[3]!=="1"&&(h=s[3])),f=f.parentElement}this._containerWidth=u?Math.abs(l/u):l,this._containerHeight=h?Math.abs(i/h):i}_detectMissingCSS(){n.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&n.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const l=this._container;l.classList.add("mapboxgl-map"),(this._missingCSSCanary=ye("div","mapboxgl-canary",l)).style.visibility="hidden",this._detectMissingCSS();const i=this._canvasContainer=ye("div","mapboxgl-canvas-container",l);this._interactive&&i.classList.add("mapboxgl-interactive"),this._canvas=ye("canvas","mapboxgl-canvas",i),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const s=this._controlContainer=ye("div","mapboxgl-control-container",l),u=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(h=>{u[h]=ye("div",`mapboxgl-ctrl-${h}`,s)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(l,i){const s=n.exported.devicePixelRatio||1;this._canvas.width=s*Math.ceil(l),this._canvas.height=s*Math.ceil(i),this._canvas.style.width=`${l}px`,this._canvas.style.height=`${i}px`}_addMarker(l){this._markers.push(l)}_removeMarker(l){const i=this._markers.indexOf(l);i!==-1&&this._markers.splice(i,1)}_addPopup(l){this._popups.push(l)}_removePopup(l){const i=this._popups.indexOf(l);i!==-1&&this._popups.splice(i,1)}_setupPainter(){const l=n.extend({},ee.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),i=this._useWebGL2&&this._canvas.getContext("webgl2",l),s=i||this._canvas.getContext("webgl",l)||this._canvas.getContext("experimental-webgl",l);s?(this._useWebGL2&&!i&&n.warnOnce("Failed to create WebGL 2 context. Using WebGL 1."),n.storeAuthState(s,!0),this.painter=new yn(s,this.transform,!!i),this.on("data",u=>{u.dataType==="source"&&this.painter.setTileLoadedFlag(!0)}),n.exported$1.testSupport(s)):this.fire(new n.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(l){l.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new n.Event("webglcontextlost",{originalEvent:l}))}_contextRestored(l){this._setupPainter(),this.resize(),this._update(),this.fire(new n.Event("webglcontextrestored",{originalEvent:l}))}_onMapScroll(l){if(l.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(l){return this.style?(this._styleDirty=this._styleDirty||l,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(l){return this._update(),this._renderTaskQueue.add(l)}_cancelRenderFrame(l){this._renderTaskQueue.remove(l)}_requestDomTask(l){!this.loaded()||this.loaded()&&!this.isMoving()?l():this._domRenderTaskQueue.add(l)}_render(l){let i;const s=this.painter.context.extTimerQuery,u=n.exported.now();if(this.listens("gpu-timing-frame")&&(i=s.createQueryEXT(),s.beginQueryEXT(s.TIME_ELAPSED_EXT,i)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],n.window.performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],n.window.performance.now())),this._renderTaskQueue.run(l),this._domRenderTaskQueue.run(l),this._removed)return;this._updateProjectionTransition();const h=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const g=this.transform.zoom,v=this.transform.pitch,A=n.exported.now(),M=new n.EvaluationParameters(g,{now:A,fadeDuration:h,pitch:v,transition:this.style.getTransition()});this.style.update(M)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let f=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),f=this._updateAverageElevation(u),this.style._updateSources(this.transform),this._forceMarkerAndPopupUpdate()):f=this._updateAverageElevation(u),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,h,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:h,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new n.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new n.Event("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),i){const g=n.exported.now()-u;s.endQueryEXT(s.TIME_ELAPSED_EXT,i),setTimeout(()=>{const v=s.getQueryObjectEXT(i,s.QUERY_RESULT_EXT)/1e6;s.deleteQueryEXT(i),this.fire(new n.Event("gpu-timing-frame",{cpuTime:g,gpuTime:v})),n.window.performance.mark("frame-gpu",{startTime:u,detail:{gpuTime:v}})},50)}if(this.listens("gpu-timing-layer")){const g=this.painter.collectGpuTimers();setTimeout(()=>{const v=this.painter.queryGpuTimers(g);this.fire(new n.Event("gpu-timing-layer",{layerTimes:v}))},50)}if(this.listens("gpu-timing-deferred-render")){const g=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const v=this.painter.queryGpuTimeDeferredRender(g);this.fire(new n.Event("gpu-timing-deferred-render",{gpuTime:v}))},50)}const _=this._sourcesDirty||this._styleDirty||this._placementDirty||f;if(_||this._repaint)this.triggerRepaint();else{const g=!this.isMoving()&&this.loaded();if(g&&(f=this._updateAverageElevation(u,!0)),f)this.triggerRepaint();else if(this._triggerFrame(!1),g&&(this.fire(new n.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const v=this._calculateSpeedIndex();this.fire(new n.Event("speedindexcompleted",{speedIndex:v})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||_||(this._fullyLoaded=!0,n.LivePerformanceUtils.mark(n.PerformanceMarkers.fullLoad),this._performanceMetricsCollection&&n.postPerformanceEvent(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(l){for(const i of this._markers)l&&!this.getRenderWorldCopies()&&(i._lngLat=i._lngLat.wrap()),i._update();for(const i of this._popups)!l||this.getRenderWorldCopies()||i._trackPointer||(i._lngLat=i._lngLat.wrap()),i._update()}_updateAverageElevation(l,i=!1){const s=u=>(this.transform.averageElevation=u,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return this.transform.averageElevation!==0&&s(0);if((i||l-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(l)){const u=this.transform.averageElevation;let h=this.transform.sampleAverageElevation(),f=!1;this.transform.elevation&&(f=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(h)?h=0:this._averageElevationLastSampledAt=l;const _=Math.abs(u-h);if(_>1){if(this._isInitialLoad||f)return this._averageElevation.jumpTo(h),s(h);this._averageElevation.easeTo(h,l,300)}else if(_>1e-4)return this._averageElevation.jumpTo(h),s(h)}return!!this._averageElevation.isEasing(l)&&s(this._averageElevation.getValue(l))}_authenticate(){n.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,l=>{if(l&&(l.message===n.AUTH_ERR_MSG||l.status===401)){const i=this.painter.context.gl;n.storeAuthState(i,!1),this._logoControl instanceof u7&&this._logoControl._updateLogo(),i&&i.clear(i.DEPTH_BUFFER_BIT|i.COLOR_BUFFER_BIT|i.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new n.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),n.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){const l=this._isDragging();this.painter.updateTerrain(this.style,l)}_calculateSpeedIndex(){const l=this.painter.canvasCopy(),i=this.painter.getCanvasCopiesAndTimestamps();i.timeStamps.push(performance.now());const s=this.painter.context.gl,u=s.createFramebuffer();function h(f){s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,f,0);const _=new Uint8Array(s.drawingBufferWidth*s.drawingBufferHeight*4);return s.readPixels(0,0,s.drawingBufferWidth,s.drawingBufferHeight,s.RGBA,s.UNSIGNED_BYTE,_),_}return s.bindFramebuffer(s.FRAMEBUFFER,u),this._canvasPixelComparison(h(l),i.canvasCopies.map(h),i.timeStamps)}_canvasPixelComparison(l,i,s){let u=s[1]-s[0];const h=l.length/4;for(let f=0;f<i.length;f++){const _=i[f];let g=0;for(let v=0;v<_.length;v+=4)_[v]===l[v]&&_[v+1]===l[v+1]&&_[v+2]===l[v+2]&&_[v+3]===l[v+3]&&(g+=1);u+=(s[f+2]-s[f+1])*(1-g/h)}return u}remove(){this._hash&&this._hash.remove();for(const i of this._controls)i.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),n.window!==void 0&&(n.window.removeEventListener("resize",this._onWindowResize,!1),n.window.removeEventListener("orientationchange",this._onWindowResize,!1),n.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),n.window.removeEventListener("online",this._onWindowOnline,!1),n.window.removeEventListener("visibilitychange",this._onVisibilityChange,!1));const l=this.painter.context.gl.getExtension("WEBGL_lose_context");l&&l.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),n.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new n.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(l){this._renderNextFrame=this._renderNextFrame||l,this.style&&!this._frame&&(this._frame=n.exported.frame(i=>{const s=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,s&&this._render(i)}))}_preloadTiles(l){const i=this.style?Object.values(this.style._sourceCaches):[];return n.asyncAll(i,(s,u)=>s._preloadTiles(l,u),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(l){this._trackResize&&this.resize({originalEvent:l})._update()}_onVisibilityChange(){n.window.document.visibilityState==="hidden"&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(l){this._showTileBoundaries!==l&&(this._showTileBoundaries=l,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(l){this._showTerrainWireframe!==l&&(this._showTerrainWireframe=l,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(l){this._speedIndexTiming!==l&&(this._speedIndexTiming=l,this._update())}get showPadding(){return!!this._showPadding}set showPadding(l){this._showPadding!==l&&(this._showPadding=l,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(l){this._showCollisionBoxes!==l&&(this._showCollisionBoxes=l,l?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(l){this._showOverdrawInspector!==l&&(this._showOverdrawInspector=l,this._update())}get repaint(){return!!this._repaint}set repaint(l){this._repaint!==l&&(this._repaint=l,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(l){this._vertices=l,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(l){this._showTileAABBs!==l&&(this._showTileAABBs=l,l&&this._update())}_setCacheLimits(l,i){n.setCacheLimits(l,i)}get version(){return n.version}},NavigationControl:class{constructor(l){this.options=n.extend({},l1,l),this._container=ye("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",i=>i.preventDefault()),this.options.showZoom&&(n.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",i=>{this._map&&this._map.zoomIn({},{originalEvent:i})}),ye("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",i=>{this._map&&this._map.zoomOut({},{originalEvent:i})}),ye("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(n.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",i=>{const s=this._map;s&&(this.options.visualizePitch?s.resetNorthPitch({},{originalEvent:i}):s.resetNorth({},{originalEvent:i}))}),this._compassIcon=ye("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const l=this._map;if(!l)return;const i=l.getZoom(),s=i===l.getMaxZoom(),u=i===l.getMinZoom();this._zoomInButton.disabled=s,this._zoomOutButton.disabled=u,this._zoomInButton.setAttribute("aria-disabled",s.toString()),this._zoomOutButton.setAttribute("aria-disabled",u.toString())}_rotateCompassArrow(){const l=this._map;if(!l)return;const i=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(l.transform.pitch*(Math.PI/180)),.5)}) rotateX(${l.transform.pitch}deg) rotateZ(${l.transform.angle*(180/Math.PI)}deg)`:`rotate(${l.transform.angle*(180/Math.PI)}deg)`;l._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=i)})}onAdd(l){return this._map=l,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),l.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&l.on("pitch",this._rotateCompassArrow),l.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new c1(l,this._compass,this.options.visualizePitch)),this._container}onRemove(){const l=this._map;l&&(this._container.remove(),this.options.showZoom&&l.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&l.off("pitch",this._rotateCompassArrow),l.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(l,i){const s=ye("button",l,this._container);return s.type="button",s.addEventListener("click",i),s}_setButtonTitle(l,i){if(!this._map)return;const s=this._map._getUIString(`NavigationControl.${i}`);l.setAttribute("aria-label",s),l.firstElementChild&&l.firstElementChild.setAttribute("title",s)}},GeolocateControl:class extends n.Evented{constructor(l){super(),this.options=n.extend({geolocation:n.window.navigator.geolocation},f7,l),n.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=xn(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(l){return this._map=l,this._container=ye("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(l){const i=(s=!!this.options.geolocation)=>{this._supportsGeolocation=s,l(s)};this._supportsGeolocation!==void 0?l(this._supportsGeolocation):n.window.navigator.permissions!==void 0?n.window.navigator.permissions.query({name:"geolocation"}).then(s=>i(s.state!=="denied")).catch(()=>i()):i()}_isOutOfMapMaxBounds(l){const i=this._map.getMaxBounds(),s=l.coords;return!!i&&(s.longitude<i.getWest()||s.longitude>i.getEast()||s.latitude<i.getSouth()||s.latitude>i.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(l){if(this._map){if(this._isOutOfMapMaxBounds(l))return this._setErrorState(),this.fire(new n.Event("outofmaxbounds",l)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=l,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(l),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(l),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new n.Event("geolocate",l)),this._finish()}}_updateCamera(l){const i=new n.LngLat(l.coords.longitude,l.coords.latitude),s=l.coords.accuracy,u=this._map.getBearing(),h=n.extend({bearing:u},this.options.fitBoundsOptions);this._map.fitBounds(i.toBounds(s),h,{geolocateSource:!0})}_updateMarker(l){if(l){const i=new n.LngLat(l.coords.longitude,l.coords.latitude);this._accuracyCircleMarker.setLngLat(i).addTo(this._map),this._userLocationDotMarker.setLngLat(i).addTo(this._map),this._accuracy=l.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const l=this._map.transform,i=n.mercatorZfromAltitude(1,l._center.lat)*l.worldSize,s=Math.ceil(2*this._accuracy*i);this._circleElement.style.width=`${s}px`,this._circleElement.style.height=`${s}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&typeof this._heading=="number"?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(l){if(this._map){if(this.options.trackUserLocation)if(l.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const i=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",i),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",i),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(l.code===3&&this._noTimeout)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new n.Event("error",l)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(l){if(this._map!==void 0){if(this._container.addEventListener("contextmenu",i=>i.preventDefault()),this._geolocateButton=ye("button","mapboxgl-ctrl-geolocate",this._container),ye("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",l===!1){n.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const i=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",i),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",i)}else{const i=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",i),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",i)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=ye("div","mapboxgl-user-location"),this._dotElement.appendChild(ye("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(ye("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new ft({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=ye("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new ft({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",i=>{i.geolocateSource||this._watchState!=="ACTIVE_LOCK"||i.originalEvent&&i.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new n.Event("trackuserlocationend")))})}}_onDeviceOrientation(l){this._userLocationDotMarker&&(l.webkitCompassHeading?this._heading=l.webkitCompassHeading:l.absolute===!0&&(this._heading=-1*l.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return n.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new n.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new n.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new n.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let l;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(l={maximumAge:6e5,timeout:0},this._noTimeout=!0):(l=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,l),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const l=()=>{n.window.addEventListener("ondeviceorientationabsolute"in n.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientation)};n.window.DeviceMotionEvent!==void 0&&typeof n.window.DeviceMotionEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(i=>{i==="granted"&&l()}).catch(console.error):l()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),n.window.removeEventListener("deviceorientation",this._onDeviceOrientation),n.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:Ct,ScaleControl:class{constructor(l){this.options=n.extend({},m7,l),this._isNumberFormatSupported=function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"short",unit:"meter"}),!0}catch{return!1}}(),n.bindAll(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const l=this.options.maxWidth||100,i=this._map,s=i._containerHeight/2,u=i._containerWidth/2-l/2,h=i.unproject([u,s]),f=i.unproject([u+l,s]),_=h.distanceTo(f);if(this.options.unit==="imperial"){const g=3.2808*_;g>5280?this._setScale(l,g/5280,"mile"):this._setScale(l,g,"foot")}else this.options.unit==="nautical"?this._setScale(l,_/1852,"nautical-mile"):_>=1e3?this._setScale(l,_/1e3,"kilometer"):this._setScale(l,_,"meter")}_setScale(l,i,s){this._map._requestDomTask(()=>{const u=function(f){const _=Math.pow(10,`${Math.floor(f)}`.length-1);let g=f/_;return g=g>=10?10:g>=5?5:g>=3?3:g>=2?2:g>=1?1:function(v){const A=Math.pow(10,Math.ceil(-Math.log(v)/Math.LN10));return Math.round(v*A)/A}(g),_*g}(i),h=u/i;this._container.innerHTML=this._isNumberFormatSupported&&s!=="nautical-mile"?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"short",unit:s}).format(u):`${u}&nbsp;${y7[s]}`,this._container.style.width=l*h+"px"})}onAdd(l){return this._map=l,this._language=l.getLanguage(),this._container=ye("div","mapboxgl-ctrl mapboxgl-ctrl-scale",l.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(l){this._language=l,this._update()}setUnit(l){this.options.unit=l,this._update()}},FullscreenControl:class{constructor(l){this._fullscreen=!1,l&&l.container&&(l.container instanceof n.window.HTMLElement?this._container=l.container:n.warnOnce("Full screen control 'container' must be a DOM element.")),n.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in n.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in n.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(l){return this._map=l,this._container||(this._container=this._map.getContainer()),this._controlContainer=ye("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",n.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,n.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!n.window.document.fullscreenEnabled&&!n.window.document.webkitFullscreenEnabled)}_setupUI(){const l=this._fullscreenButton=ye("button","mapboxgl-ctrl-fullscreen",this._controlContainer);ye("span","mapboxgl-ctrl-icon",l).setAttribute("aria-hidden","true"),l.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),n.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const l=this._getTitle();this._fullscreenButton.setAttribute("aria-label",l),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",l)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(n.window.document.fullscreenElement||n.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?n.window.document.exitFullscreen?n.window.document.exitFullscreen():n.window.document.webkitCancelFullScreen&&n.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends n.Evented{constructor(l){super(),this.options=n.extend(Object.create(h7),l),n.bindAll(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(l&&l.className?l.className.trim().split(/\s+/):[])}addTo(l){return this._map&&this.remove(),this._map=l,this.options.closeOnClick&&l.on("preclick",this._onClose),this.options.closeOnMove&&l.on("move",this._onClose),l.on("remove",this.remove),this._update(),l._addPopup(this),this._focusFirstElement(),this._trackPointer?(l.on("mousemove",this._onMouseEvent),l.on("mouseup",this._onMouseEvent),l._canvasContainer.classList.add("mapboxgl-track-pointer")):l.on("move",this._update),this.fire(new n.Event("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const l=this._map;return l&&(l.off("move",this._update),l.off("move",this._onClose),l.off("preclick",this._onClose),l.off("click",this._onClose),l.off("remove",this.remove),l.off("mousemove",this._onMouseEvent),l.off("mouseup",this._onMouseEvent),l.off("drag",this._onMouseEvent),l._canvasContainer&&l._canvasContainer.classList.remove("mapboxgl-track-pointer"),l._removePopup(this),this._map=void 0),this.fire(new n.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(l){this._lngLat=n.LngLat.convert(l),this._pos=null,this._trackPointer=!1,this._update();const i=this._map;return i&&(i.on("move",this._update),i.off("mousemove",this._onMouseEvent),i._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const l=this._map;return l&&(l.off("move",this._update),l.on("mousemove",this._onMouseEvent),l.on("drag",this._onMouseEvent),l._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(l){return this.setDOMContent(n.window.document.createTextNode(l))}setHTML(l){const i=n.window.document.createDocumentFragment(),s=n.window.document.createElement("body");let u;for(s.innerHTML=l;u=s.firstChild,u;)i.appendChild(u);return this.setDOMContent(i)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(l){return this.options.maxWidth=l,this._update(),this}setDOMContent(l){let i=this._content;if(i)for(;i.hasChildNodes();)i.firstChild&&i.removeChild(i.firstChild);else i=this._content=ye("div","mapboxgl-popup-content",this._container||void 0);if(i.appendChild(l),this.options.closeButton){const s=this._closeButton=ye("button","mapboxgl-popup-close-button",i);s.type="button",s.setAttribute("aria-label","Close popup"),s.setAttribute("aria-hidden","true"),s.innerHTML="&#215;",s.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(l){return this._classList.add(l),this._updateClassList(),this}removeClassName(l){return this._classList.delete(l),this._updateClassList(),this}setOffset(l){return this.options.offset=l,this._update(),this}toggleClassName(l){let i;return this._classList.delete(l)?i=!1:(this._classList.add(l),i=!0),this._updateClassList(),i}_onMouseEvent(l){this._update(l.point)}_getAnchor(l){if(this.options.anchor)return this.options.anchor;const i=this._map,s=this._container,u=this._pos;if(!i||!s||!u)return"bottom";const h=s.offsetWidth,f=s.offsetHeight,_=u.x<h/2,g=u.x>i.transform.width-h/2;if(u.y+l<f)return _?"top-left":g?"top-right":"top";if(u.y>i.transform.height-f){if(_)return"bottom-left";if(g)return"bottom-right"}return _?"left":g?"right":"bottom"}_updateClassList(){const l=this._container;if(!l)return;const i=[...this._classList];i.push("mapboxgl-popup"),this._anchor&&i.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&i.push("mapboxgl-popup-track-pointer"),l.className=i.join(" ")}_update(l){const i=this._map,s=this._content;if(!i||!this._lngLat&&!this._trackPointer||!s)return;let u=this._container;if(u||(u=this._container=ye("div","mapboxgl-popup",i.getContainer()),this._tip=ye("div","mapboxgl-popup-tip",u),u.appendChild(s)),this.options.maxWidth&&u.style.maxWidth!==this.options.maxWidth&&(u.style.maxWidth=this.options.maxWidth),i.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Cn(this._lngLat,this._pos,i.transform)),!this._trackPointer||l){const h=this._pos=this._trackPointer&&l?l:i.project(this._lngLat),f=O3(this.options.offset),_=this._anchor=this._getAnchor(f.y),g=O3(this.options.offset,_),v=h.add(g).round();i._requestDomTask(()=>{this._container&&_&&(this._container.style.transform=`${Xo[_]} translate(${v.x}px,${v.y}px)`)})}if(!this._marker&&i._showingGlobe()){const h=n.isLngLatBehindGlobe(i.transform,this._lngLat)?0:1;this._setOpacity(h)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const l=this._container.querySelector(a1);l&&l.focus()}_onClose(){this.remove()}_setOpacity(l){this._container&&(this._container.style.opacity=`${l}`),this._content&&(this._content.style.pointerEvents=l?"auto":"none")}},Marker:ft,Style:$i,LngLat:n.LngLat,LngLatBounds:n.LngLatBounds,Point:n.Point,MercatorCoordinate:n.MercatorCoordinate,FreeCameraOptions:S3,Evented:n.Evented,config:n.config,prewarm:function(){W4().acquire(qr)},clearPrewarmedResources:function(){const l=m4;l&&(l.isPreloaded()&&l.numActive()===1?(l.release(qr),m4=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return n.config.ACCESS_TOKEN},set accessToken(l){n.config.ACCESS_TOKEN=l},get baseApiUrl(){return n.config.API_URL},set baseApiUrl(l){n.config.API_URL=l},get workerCount(){return ur.workerCount},set workerCount(l){ur.workerCount=l},get maxParallelImageRequests(){return n.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(l){n.config.MAX_PARALLEL_IMAGE_REQUESTS=l},clearStorage(l){n.clearTileCache(l)},workerUrl:"",workerClass:null,setNow:n.exported.setNow,restoreNow:n.exported.restoreNow};return wn});var R=U;return R})})(h0);var vp=h0.exports;const Ea=xp(vp);function bp(C){return C}function Cp(C){if(C==null)return bp;var w,D,T=C.scale[0],U=C.scale[1],Y=C.translate[0],R=C.translate[1];return function(n,G){G||(w=D=0);var ee=2,fe=n.length,ie=new Array(fe);for(ie[0]=(w+=n[0])*T+Y,ie[1]=(D+=n[1])*U+R;ee<fe;)ie[ee]=n[ee],++ee;return ie}}function wp(C,w){for(var D,T=C.length,U=T-w;U<--T;)D=C[U],C[U++]=C[T],C[T]=D}function Dp(C,w){return typeof w=="string"&&(w=C.objects[w]),w.type==="GeometryCollection"?{type:"FeatureCollection",features:w.geometries.map(function(D){return j2(C,D)})}:j2(C,w)}function j2(C,w){var D=w.id,T=w.bbox,U=w.properties==null?{}:w.properties,Y=Sp(C,w);return D==null&&T==null?{type:"Feature",properties:U,geometry:Y}:T==null?{type:"Feature",id:D,properties:U,geometry:Y}:{type:"Feature",id:D,bbox:T,properties:U,geometry:Y}}function Sp(C,w){var D=Cp(C.transform),T=C.arcs;function U(fe,ie){ie.length&&ie.pop();for(var ye=T[fe<0?~fe:fe],me=0,Ae=ye.length;me<Ae;++me)ie.push(D(ye[me],me));fe<0&&wp(ie,Ae)}function Y(fe){return D(fe)}function R(fe){for(var ie=[],ye=0,me=fe.length;ye<me;++ye)U(fe[ye],ie);return ie.length<2&&ie.push(ie[0]),ie}function n(fe){for(var ie=R(fe);ie.length<4;)ie.push(ie[0]);return ie}function G(fe){return fe.map(n)}function ee(fe){var ie=fe.type,ye;switch(ie){case"GeometryCollection":return{type:ie,geometries:fe.geometries.map(ee)};case"Point":ye=Y(fe.coordinates);break;case"MultiPoint":ye=fe.coordinates.map(Y);break;case"LineString":ye=R(fe.arcs);break;case"MultiLineString":ye=fe.arcs.map(R);break;case"Polygon":ye=G(fe.arcs);break;case"MultiPolygon":ye=fe.arcs.map(G);break;default:return null}return{type:ie,coordinates:ye}}return ee(w)}var G2={},b9={},C9=34,Q7=10,w9=13;function f0(C){return new Function("d","return {"+C.map(function(w,D){return JSON.stringify(w)+": d["+D+'] || ""'}).join(",")+"}")}function Mp(C,w){var D=f0(C);return function(T,U){return w(D(T),U,C)}}function q2(C){var w=Object.create(null),D=[];return C.forEach(function(T){for(var U in T)U in w||D.push(w[U]=U)}),D}function Ui(C,w){var D=C+"",T=D.length;return T<w?new Array(w-T+1).join(0)+D:D}function Ap(C){return C<0?"-"+Ui(-C,6):C>9999?"+"+Ui(C,6):Ui(C,4)}function Ip(C){var w=C.getUTCHours(),D=C.getUTCMinutes(),T=C.getUTCSeconds(),U=C.getUTCMilliseconds();return isNaN(C)?"Invalid Date":Ap(C.getUTCFullYear())+"-"+Ui(C.getUTCMonth()+1,2)+"-"+Ui(C.getUTCDate(),2)+(U?"T"+Ui(w,2)+":"+Ui(D,2)+":"+Ui(T,2)+"."+Ui(U,3)+"Z":T?"T"+Ui(w,2)+":"+Ui(D,2)+":"+Ui(T,2)+"Z":D||w?"T"+Ui(w,2)+":"+Ui(D,2)+"Z":"")}function Ep(C){var w=new RegExp('["'+C+`
\r]`),D=C.charCodeAt(0);function T(ie,ye){var me,Ae,xe=U(ie,function(ze,$e){if(me)return me(ze,$e-1);Ae=ze,me=ye?Mp(ze,ye):f0(ze)});return xe.columns=Ae||[],xe}function U(ie,ye){var me=[],Ae=ie.length,xe=0,ze=0,$e,Qe=Ae<=0,He=!1;ie.charCodeAt(Ae-1)===Q7&&--Ae,ie.charCodeAt(Ae-1)===w9&&--Ae;function Re(){if(Qe)return b9;if(He)return He=!1,G2;var ut,Xe=xe,mt;if(ie.charCodeAt(Xe)===C9){for(;xe++<Ae&&ie.charCodeAt(xe)!==C9||ie.charCodeAt(++xe)===C9;);return(ut=xe)>=Ae?Qe=!0:(mt=ie.charCodeAt(xe++))===Q7?He=!0:mt===w9&&(He=!0,ie.charCodeAt(xe)===Q7&&++xe),ie.slice(Xe+1,ut-1).replace(/""/g,'"')}for(;xe<Ae;){if((mt=ie.charCodeAt(ut=xe++))===Q7)He=!0;else if(mt===w9)He=!0,ie.charCodeAt(xe)===Q7&&++xe;else if(mt!==D)continue;return ie.slice(Xe,ut)}return Qe=!0,ie.slice(Xe,Ae)}for(;($e=Re())!==b9;){for(var ot=[];$e!==G2&&$e!==b9;)ot.push($e),$e=Re();ye&&(ot=ye(ot,ze++))==null||me.push(ot)}return me}function Y(ie,ye){return ie.map(function(me){return ye.map(function(Ae){return fe(me[Ae])}).join(C)})}function R(ie,ye){return ye==null&&(ye=q2(ie)),[ye.map(fe).join(C)].concat(Y(ie,ye)).join(`
`)}function n(ie,ye){return ye==null&&(ye=q2(ie)),Y(ie,ye).join(`
`)}function G(ie){return ie.map(ee).join(`
`)}function ee(ie){return ie.map(fe).join(C)}function fe(ie){return ie==null?"":ie instanceof Date?Ip(ie):w.test(ie+="")?'"'+ie.replace(/"/g,'""')+'"':ie}return{parse:T,parseRows:U,format:R,formatBody:n,formatRows:G,formatRow:ee,formatValue:fe}}var Pp=Ep(","),Tp=Pp.parse;function Fp(C){if(!C.ok)throw new Error(C.status+" "+C.statusText);return C.text()}function Lp(C,w){return fetch(C,w).then(Fp)}function kp(C){return function(w,D,T){return arguments.length===2&&typeof D=="function"&&(T=D,D=void 0),Lp(w,D).then(function(U){return C(U,T)})}}var Up=kp(Tp);const zp=[{Rank:999,CMAUID:0,CMANAME:"NA",Population_2021:"NA",Dwellings_2021:"NA",Households_2021:"NA",Labour_Force_2021:"NA","Median_Individual_Income_2020_(before_tax)":"NA","Median_Household_Income_2020_(before_tax)":"NA","GDP_2019_(millions)":"NA",Total_Number_of_Municipalities:"NA",Proportion_of_Population_In_Central:"NA",Central_City_CSDUID:"NA",Central_City_CSDNAME:"NA",CSDTYPE:"NA",Central_City_Population_2021:"NA","Land_Area_(sq_km)":"NA",x:"NA",y:"NA"},{Rank:1,CMAUID:535,CMANAME:"Toronto",Population_2021:6202225,Dwellings_2021:2394205,Households_2021:2262470,Labour_Force_2021:3347860,"Median_Individual_Income_2020_(before_tax)":39600,"Median_Household_Income_2020_(before_tax)":97e3,"GDP_2019_(millions)":442180,Total_Number_of_Municipalities:24,Proportion_of_Population_In_Central:45.1,Central_City_CSDUID:3520005,Central_City_CSDNAME:"Toronto",CSDTYPE:"C",Central_City_Population_2021:2794356,"Land_Area_(sq_km)":5902.7,x:-79.58,y:43.9},{Rank:2,CMAUID:462,CMANAME:"Montréal",Population_2021:4291732,Dwellings_2021:1929263,Households_2021:1835700,Labour_Force_2021:2310440,"Median_Individual_Income_2020_(before_tax)":40800,"Median_Household_Income_2020_(before_tax)":76e3,"GDP_2019_(millions)":233996,Total_Number_of_Municipalities:93,Proportion_of_Population_In_Central:41.1,Central_City_CSDUID:2466023,Central_City_CSDNAME:"Montréal",CSDTYPE:"V",Central_City_Population_2021:1762949,"Land_Area_(sq_km)":4670.1,x:-73.70474439,y:45.57714311},{Rank:3,CMAUID:933,CMANAME:"Vancouver",Population_2021:2642825,Dwellings_2021:1104532,Households_2021:1043315,Labour_Force_2021:1468220,"Median_Individual_Income_2020_(before_tax)":40800,"Median_Household_Income_2020_(before_tax)":9e4,"GDP_2019_(millions)":163475,Total_Number_of_Municipalities:38,Proportion_of_Population_In_Central:25.1,Central_City_CSDUID:5915022,Central_City_CSDNAME:"Vancouver",CSDTYPE:"CY",Central_City_Population_2021:662248,"Land_Area_(sq_km)":2878.9,x:-122.8360663,y:49.28271522},{Rank:4,CMAUID:505,CMANAME:"Ottawa - Gatineau",Population_2021:1488307,Dwellings_2021:638013,Households_2021:604725,Labour_Force_2021:801005,"Median_Individual_Income_2020_(before_tax)":49200,"Median_Household_Income_2020_(before_tax)":98e3,"GDP_2019_(millions)":88664,Total_Number_of_Municipalities:25,Proportion_of_Population_In_Central:68.4,Central_City_CSDUID:3506008,Central_City_CSDNAME:"Ottawa",CSDTYPE:"CV",Central_City_Population_2021:1017449,"Land_Area_(sq_km)":8047,x:-75.82783297,y:45.27261538},{Rank:5,CMAUID:825,CMANAME:"Calgary",Population_2021:1481806,Dwellings_2021:594513,Households_2021:563440,Labour_Force_2021:825630,"Median_Individual_Income_2020_(before_tax)":44800,"Median_Household_Income_2020_(before_tax)":1e5,"GDP_2019_(millions)":111259,Total_Number_of_Municipalities:9,Proportion_of_Population_In_Central:88.2,Central_City_CSDUID:4806016,Central_City_CSDNAME:"Calgary",CSDTYPE:"CY",Central_City_Population_2021:1306784,"Land_Area_(sq_km)":5098.7,x:-114.0781257,y:51.18077945},{Rank:6,CMAUID:835,CMANAME:"Edmonton",Population_2021:1418118,Dwellings_2021:589554,Households_2021:548625,Labour_Force_2021:772075,"Median_Individual_Income_2020_(before_tax)":45600,"Median_Household_Income_2020_(before_tax)":96e3,"GDP_2019_(millions)":91568,Total_Number_of_Municipalities:34,Proportion_of_Population_In_Central:71.3,Central_City_CSDUID:4811061,Central_City_CSDNAME:"Edmonton",CSDTYPE:"CY",Central_City_Population_2021:1010899,"Land_Area_(sq_km)":9416.2,x:-113.7884675,y:53.51319328},{Rank:7,CMAUID:421,CMANAME:"Québec",Population_2021:839311,Dwellings_2021:411415,Households_2021:387950,Labour_Force_2021:453375,"Median_Individual_Income_2020_(before_tax)":46e3,"Median_Household_Income_2020_(before_tax)":76500,"GDP_2019_(millions)":48544,Total_Number_of_Municipalities:30,Proportion_of_Population_In_Central:65.5,Central_City_CSDUID:2423027,Central_City_CSDNAME:"Québec",CSDTYPE:"V",Central_City_Population_2021:549459,"Land_Area_(sq_km)":3499.5,x:-71.34189993,y:46.91263204},{Rank:8,CMAUID:602,CMANAME:"Winnipeg",Population_2021:834678,Dwellings_2021:347144,Households_2021:330325,Labour_Force_2021:448445,"Median_Individual_Income_2020_(before_tax)":40400,"Median_Household_Income_2020_(before_tax)":83e3,"GDP_2019_(millions)":46301,Total_Number_of_Municipalities:13,Proportion_of_Population_In_Central:89.8,Central_City_CSDUID:4611040,Central_City_CSDNAME:"Winnipeg",CSDTYPE:"CY",Central_City_Population_2021:749607,"Land_Area_(sq_km)":5285.5,x:-97.04814617,y:49.88738995},{Rank:9,CMAUID:537,CMANAME:"Hamilton",Population_2021:785184,Dwellings_2021:320081,Households_2021:307380,Labour_Force_2021:406505,"Median_Individual_Income_2020_(before_tax)":42400,"Median_Household_Income_2020_(before_tax)":91e3,"GDP_2019_(millions)":37578,Total_Number_of_Municipalities:3,Proportion_of_Population_In_Central:72.5,Central_City_CSDUID:3525005,Central_City_CSDNAME:"Hamilton",CSDTYPE:"C",Central_City_Population_2021:569353,"Land_Area_(sq_km)":1373.1,x:-79.92584989,y:43.26608973},{Rank:10,CMAUID:541,CMANAME:"Kitchener - Cambridge - Waterloo",Population_2021:575847,Dwellings_2021:229809,Households_2021:219060,Labour_Force_2021:311910,"Median_Individual_Income_2020_(before_tax)":42400,"Median_Household_Income_2020_(before_tax)":92e3,"GDP_2019_(millions)":33538,Total_Number_of_Municipalities:6,Proportion_of_Population_In_Central:44.6,Central_City_CSDUID:3530013,Central_City_CSDNAME:"Kitchener",CSDTYPE:"CY",Central_City_Population_2021:256885,"Land_Area_(sq_km)":1092.3,x:-80.49086067,y:43.44191534},{Rank:11,CMAUID:555,CMANAME:"London",Population_2021:543551,Dwellings_2021:235522,Households_2021:222240,Labour_Force_2021:276860,"Median_Individual_Income_2020_(before_tax)":40400,"Median_Household_Income_2020_(before_tax)":79500,"GDP_2019_(millions)":28750,Total_Number_of_Municipalities:8,Proportion_of_Population_In_Central:77.7,Central_City_CSDUID:3539036,Central_City_CSDNAME:"London",CSDTYPE:"CY",Central_City_Population_2021:422324,"Land_Area_(sq_km)":2661.5},{Rank:12,CMAUID:205,CMANAME:"Halifax",Population_2021:465703,Dwellings_2021:211789,Households_2021:201140,Labour_Force_2021:256260,"Median_Individual_Income_2020_(before_tax)":42e3,"Median_Household_Income_2020_(before_tax)":81e3,"GDP_2019_(millions)":24098,Total_Number_of_Municipalities:7,Proportion_of_Population_In_Central:94.4,Central_City_CSDUID:1209034,Central_City_CSDNAME:"Halifax",CSDTYPE:"RGM",Central_City_Population_2021:439819,"Land_Area_(sq_km)":7276.2},{Rank:13,CMAUID:539,CMANAME:"St. Catharines - Niagara",Population_2021:433604,Dwellings_2021:190878,Households_2021:179220,Labour_Force_2021:210185,"Median_Individual_Income_2020_(before_tax)":38e3,"Median_Household_Income_2020_(before_tax)":77e3,"GDP_2019_(millions)":17272,Total_Number_of_Municipalities:10,Proportion_of_Population_In_Central:31.6,Central_City_CSDUID:3526053,Central_City_CSDNAME:"St. Catharines",CSDTYPE:"CY",Central_City_Population_2021:136803,"Land_Area_(sq_km)":1397.1},{Rank:14,CMAUID:559,CMANAME:"Windsor",Population_2021:422630,Dwellings_2021:174072,Households_2021:165665,Labour_Force_2021:203570,"Median_Individual_Income_2020_(before_tax)":4e4,"Median_Household_Income_2020_(before_tax)":82e3,"GDP_2019_(millions)":16359,Total_Number_of_Municipalities:8,Proportion_of_Population_In_Central:54.3,Central_City_CSDUID:3537039,Central_City_CSDNAME:"Windsor",CSDTYPE:"CY",Central_City_Population_2021:229660,"Land_Area_(sq_km)":1803.2},{Rank:15,CMAUID:532,CMANAME:"Oshawa",Population_2021:415311,Dwellings_2021:153565,Households_2021:149045,Labour_Force_2021:215720,"Median_Individual_Income_2020_(before_tax)":44e3,"Median_Household_Income_2020_(before_tax)":102e3,"GDP_2019_(millions)":14056,Total_Number_of_Municipalities:3,Proportion_of_Population_In_Central:42.2,Central_City_CSDUID:3518013,Central_City_CSDNAME:"Oshawa",CSDTYPE:"CY",Central_City_Population_2021:175383,"Land_Area_(sq_km)":903.3},{Rank:16,CMAUID:935,CMANAME:"Victoria",Population_2021:397237,Dwellings_2021:186674,Households_2021:176675,Labour_Force_2021:214820,"Median_Individual_Income_2020_(before_tax)":45600,"Median_Household_Income_2020_(before_tax)":85e3,"GDP_2019_(millions)":22758,Total_Number_of_Municipalities:22,Proportion_of_Population_In_Central:23.1,Central_City_CSDUID:5917034,Central_City_CSDNAME:"Victoria",CSDTYPE:"CY",Central_City_Population_2021:91867,"Land_Area_(sq_km)":695.3},{Rank:17,CMAUID:725,CMANAME:"Saskatoon",Population_2021:317480,Dwellings_2021:134720,Households_2021:125100,Labour_Force_2021:172315,"Median_Individual_Income_2020_(before_tax)":44e3,"Median_Household_Income_2020_(before_tax)":89e3,"GDP_2019_(millions)":20691,Total_Number_of_Municipalities:25,Proportion_of_Population_In_Central:83.8,Central_City_CSDUID:4711066,Central_City_CSDNAME:"Saskatoon",CSDTYPE:"CY",Central_City_Population_2021:266141,"Land_Area_(sq_km)":5864.5},{Rank:18,CMAUID:705,CMANAME:"Regina",Population_2021:249217,Dwellings_2021:108120,Households_2021:100215,Labour_Force_2021:134155,"Median_Individual_Income_2020_(before_tax)":47200,"Median_Household_Income_2020_(before_tax)":9e4,"GDP_2019_(millions)":18460,Total_Number_of_Municipalities:19,Proportion_of_Population_In_Central:90.8,Central_City_CSDUID:4706027,Central_City_CSDNAME:"Regina",CSDTYPE:"CY",Central_City_Population_2021:226404,"Land_Area_(sq_km)":4323.7},{Rank:19,CMAUID:433,CMANAME:"Sherbrooke",Population_2021:227398,Dwellings_2021:113325,Households_2021:104650,Labour_Force_2021:116170,"Median_Individual_Income_2020_(before_tax)":39200,"Median_Household_Income_2020_(before_tax)":65e3,"GDP_2019_(millions)":9761,Total_Number_of_Municipalities:11,Proportion_of_Population_In_Central:76.1,Central_City_CSDUID:2443027,Central_City_CSDNAME:"Sherbrooke",CSDTYPE:"V",Central_City_Population_2021:172950,"Land_Area_(sq_km)":1458.1},{Rank:20,CMAUID:915,CMANAME:"Kelowna",Population_2021:222162,Dwellings_2021:102097,Households_2021:94335,Labour_Force_2021:119495,"Median_Individual_Income_2020_(before_tax)":41600,"Median_Household_Income_2020_(before_tax)":85e3,"GDP_2019_(millions)":10911,Total_Number_of_Municipalities:9,Proportion_of_Population_In_Central:65.1,Central_City_CSDUID:5935010,Central_City_CSDNAME:"Kelowna",CSDTYPE:"CY",Central_City_Population_2021:144576,"Land_Area_(sq_km)":2902.5},{Rank:21,CMAUID:568,CMANAME:"Barrie",Population_2021:212856,Dwellings_2021:82649,Households_2021:78540,Labour_Force_2021:115555,"Median_Individual_Income_2020_(before_tax)":42e3,"Median_Household_Income_2020_(before_tax)":97e3,"GDP_2019_(millions)":8468,Total_Number_of_Municipalities:3,Proportion_of_Population_In_Central:69.5,Central_City_CSDUID:3543042,Central_City_CSDNAME:"Barrie",CSDTYPE:"CY",Central_City_Population_2021:147829,"Land_Area_(sq_km)":897.3},{Rank:22,CMAUID:1,CMANAME:"St. John's",Population_2021:212579,Dwellings_2021:97429,Households_2021:9e4,Labour_Force_2021:112880,"Median_Individual_Income_2020_(before_tax)":42800,"Median_Household_Income_2020_(before_tax)":85e3,"GDP_2019_(millions)":13272,Total_Number_of_Municipalities:14,Proportion_of_Population_In_Central:52,Central_City_CSDUID:1001519,Central_City_CSDNAME:"St. John's",CSDTYPE:"CY",Central_City_Population_2021:110525,"Land_Area_(sq_km)":931.6},{Rank:23,CMAUID:932,CMANAME:"Abbotsford - Mission",Population_2021:195726,Dwellings_2021:70648,Households_2021:67615,Labour_Force_2021:102725,"Median_Individual_Income_2020_(before_tax)":38400,"Median_Household_Income_2020_(before_tax)":91e3,"GDP_2019_(millions)":8148,Total_Number_of_Municipalities:5,Proportion_of_Population_In_Central:78.4,Central_City_CSDUID:5909052,Central_City_CSDNAME:"Abbotsford",CSDTYPE:"CY",Central_City_Population_2021:153524,"Land_Area_(sq_km)":606.7},{Rank:24,CMAUID:521,CMANAME:"Kingston",Population_2021:172546,Dwellings_2021:80955,Households_2021:73510,Labour_Force_2021:86915,"Median_Individual_Income_2020_(before_tax)":42800,"Median_Household_Income_2020_(before_tax)":83e3,"GDP_2019_(millions)":9409,Total_Number_of_Municipalities:4,Proportion_of_Population_In_Central:76.8,Central_City_CSDUID:3510010,Central_City_CSDNAME:"Kingston",CSDTYPE:"CY",Central_City_Population_2021:132485,"Land_Area_(sq_km)":1919.2},{Rank:25,CMAUID:580,CMANAME:"Greater Sudbury / Grand Sudbury",Population_2021:170605,Dwellings_2021:78225,Households_2021:73385,Labour_Force_2021:86090,"Median_Individual_Income_2020_(before_tax)":44800,"Median_Household_Income_2020_(before_tax)":84e3,"GDP_2019_(millions)":10142,Total_Number_of_Municipalities:6,Proportion_of_Population_In_Central:97.3,Central_City_CSDUID:3553005,Central_City_CSDNAME:"Greater Sudbury / Grand Sudbury",CSDTYPE:"CV",Central_City_Population_2021:166004,"Land_Area_(sq_km)":4187.4},{Rank:26,CMAUID:550,CMANAME:"Guelph",Population_2021:165588,Dwellings_2021:67685,Households_2021:64175,Labour_Force_2021:92120,"Median_Individual_Income_2020_(before_tax)":44800,"Median_Household_Income_2020_(before_tax)":97e3,"GDP_2019_(millions)":10503,Total_Number_of_Municipalities:3,Proportion_of_Population_In_Central:86.8,Central_City_CSDUID:3523008,Central_City_CSDNAME:"Guelph",CSDTYPE:"CY",Central_City_Population_2021:143740,"Land_Area_(sq_km)":595.1},{Rank:27,CMAUID:408,CMANAME:"Saguenay",Population_2021:161567,Dwellings_2021:79976,Households_2021:74810,Labour_Force_2021:79955,"Median_Individual_Income_2020_(before_tax)":41600,"Median_Household_Income_2020_(before_tax)":7e4,"GDP_2019_(millions)":8364,Total_Number_of_Municipalities:10,Proportion_of_Population_In_Central:89.6,Central_City_CSDUID:2494068,Central_City_CSDNAME:"Saguenay",CSDTYPE:"V",Central_City_Population_2021:144723,"Land_Area_(sq_km)":3133.5},{Rank:28,CMAUID:442,CMANAME:"Trois-Rivières",Population_2021:161489,Dwellings_2021:80767,Households_2021:76635,Labour_Force_2021:78570,"Median_Individual_Income_2020_(before_tax)":38800,"Median_Household_Income_2020_(before_tax)":62400,"GDP_2019_(millions)":6823,Total_Number_of_Municipalities:7,Proportion_of_Population_In_Central:86.2,Central_City_CSDUID:2437067,Central_City_CSDNAME:"Trois-Rivières",CSDTYPE:"V",Central_City_Population_2021:139163,"Land_Area_(sq_km)":1038.6},{Rank:29,CMAUID:305,CMANAME:"Moncton",Population_2021:157717,Dwellings_2021:70460,Households_2021:67180,Labour_Force_2021:84660,"Median_Individual_Income_2020_(before_tax)":4e4,"Median_Household_Income_2020_(before_tax)":74500,"GDP_2019_(millions)":8149,Total_Number_of_Municipalities:15,Proportion_of_Population_In_Central:50.4,Central_City_CSDUID:1307022,Central_City_CSDNAME:"Moncton",CSDTYPE:"C",Central_City_Population_2021:79470,"Land_Area_(sq_km)":2562.5},{Rank:30,CMAUID:543,CMANAME:"Brantford",Population_2021:144162,Dwellings_2021:58047,Households_2021:56e3,Labour_Force_2021:73310,"Median_Individual_Income_2020_(before_tax)":40800,"Median_Household_Income_2020_(before_tax)":85e3,"GDP_2019_(millions)":5984,Total_Number_of_Municipalities:3,Proportion_of_Population_In_Central:72.6,Central_City_CSDUID:3529006,Central_City_CSDNAME:"Brantford",CSDTYPE:"CY",Central_City_Population_2021:104688,"Land_Area_(sq_km)":1074},{Rank:31,CMAUID:310,CMANAME:"Saint John",Population_2021:130613,Dwellings_2021:59272,Households_2021:55865,Labour_Force_2021:66705,"Median_Individual_Income_2020_(before_tax)":4e4,"Median_Household_Income_2020_(before_tax)":74e3,"GDP_2019_(millions)":6521,Total_Number_of_Municipalities:18,Proportion_of_Population_In_Central:53.5,Central_City_CSDUID:1301006,Central_City_CSDNAME:"Saint John",CSDTYPE:"C",Central_City_Population_2021:69895,"Land_Area_(sq_km)":3505.7},{Rank:32,CMAUID:529,CMANAME:"Peterborough",Population_2021:128624,Dwellings_2021:57761,Households_2021:53370,Labour_Force_2021:61950,"Median_Individual_Income_2020_(before_tax)":39200,"Median_Household_Income_2020_(before_tax)":79e3,"GDP_2019_(millions)":5163,Total_Number_of_Municipalities:7,Proportion_of_Population_In_Central:65,Central_City_CSDUID:3515014,Central_City_CSDNAME:"Peterborough",CSDTYPE:"CY",Central_City_Population_2021:83651,"Land_Area_(sq_km)":1508.4},{Rank:33,CMAUID:810,CMANAME:"Lethbridge",Population_2021:123847,Dwellings_2021:51735,Households_2021:48645,Labour_Force_2021:63900,"Median_Individual_Income_2020_(before_tax)":42e3,"Median_Household_Income_2020_(before_tax)":84e3,"GDP_2019_(millions)":6743,Total_Number_of_Municipalities:7,Proportion_of_Population_In_Central:79.5,Central_City_CSDUID:4802012,Central_City_CSDNAME:"Lethbridge",CSDTYPE:"CY",Central_City_Population_2021:98406,"Land_Area_(sq_km)":2959},{Rank:34,CMAUID:595,CMANAME:"Thunder Bay",Population_2021:123258,Dwellings_2021:57877,Households_2021:54215,Labour_Force_2021:60485,"Median_Individual_Income_2020_(before_tax)":43200,"Median_Household_Income_2020_(before_tax)":8e4,"GDP_2019_(millions)":6554,Total_Number_of_Municipalities:8,Proportion_of_Population_In_Central:88.3,Central_City_CSDUID:3558004,Central_City_CSDNAME:"Thunder Bay",CSDTYPE:"CY",Central_City_Population_2021:108843,"Land_Area_(sq_km)":2550.8},{Rank:35,CMAUID:938,CMANAME:"Nanaimo",Population_2021:115459,Dwellings_2021:51568,Households_2021:49350,Labour_Force_2021:57645,"Median_Individual_Income_2020_(before_tax)":4e4,"Median_Household_Income_2020_(before_tax)":77500,"GDP_2019_(millions)":null,Total_Number_of_Municipalities:7,Proportion_of_Population_In_Central:86.5,Central_City_CSDUID:5921007,Central_City_CSDNAME:"Nanaimo",CSDTYPE:"CY",Central_City_Population_2021:99863,"Land_Area_(sq_km)":1279.3},{Rank:36,CMAUID:925,CMANAME:"Kamloops",Population_2021:114142,Dwellings_2021:50235,Households_2021:47100,Labour_Force_2021:58590,"Median_Individual_Income_2020_(before_tax)":42800,"Median_Household_Income_2020_(before_tax)":87e3,"GDP_2019_(millions)":null,Total_Number_of_Municipalities:9,Proportion_of_Population_In_Central:85.8,Central_City_CSDUID:5933042,Central_City_CSDNAME:"Kamloops",CSDTYPE:"CY",Central_City_Population_2021:97902,"Land_Area_(sq_km)":5654.1},{Rank:37,CMAUID:930,CMANAME:"Chilliwack",Population_2021:113767,Dwellings_2021:46708,Households_2021:44365,Labour_Force_2021:55110,"Median_Individual_Income_2020_(before_tax)":39600,"Median_Household_Income_2020_(before_tax)":82e3,"GDP_2019_(millions)":null,Total_Number_of_Municipalities:22,Proportion_of_Population_In_Central:81.9,Central_City_CSDUID:5909020,Central_City_CSDNAME:"Chilliwack",CSDTYPE:"CY",Central_City_Population_2021:93203,"Land_Area_(sq_km)":1444},{Rank:38,CMAUID:522,CMANAME:"Belleville - Quinte West",Population_2021:111184,Dwellings_2021:48274,Households_2021:46215,Labour_Force_2021:52550,"Median_Individual_Income_2020_(before_tax)":4e4,"Median_Household_Income_2020_(before_tax)":78e3,"GDP_2019_(millions)":5280,Total_Number_of_Municipalities:4,Proportion_of_Population_In_Central:41.9,Central_City_CSDUID:3512015,Central_City_CSDNAME:"Quinte West",CSDTYPE:"CY",Central_City_Population_2021:46560,"Land_Area_(sq_km)":1337.5},{Rank:39,CMAUID:320,CMANAME:"Fredericton",Population_2021:108610,Dwellings_2021:48761,Households_2021:46360,Labour_Force_2021:59030,"Median_Individual_Income_2020_(before_tax)":41600,"Median_Household_Income_2020_(before_tax)":79e3,"GDP_2019_(millions)":null,Total_Number_of_Municipalities:18,Proportion_of_Population_In_Central:58.1,Central_City_CSDUID:1310032,Central_City_CSDNAME:"Fredericton",CSDTYPE:"C",Central_City_Population_2021:63116,"Land_Area_(sq_km)":6014.7},{Rank:40,CMAUID:447,CMANAME:"Drummondville",Population_2021:101610,Dwellings_2021:47323,Households_2021:45700,Labour_Force_2021:51840,"Median_Individual_Income_2020_(before_tax)":38800,"Median_Household_Income_2020_(before_tax)":64e3,"GDP_2019_(millions)":null,Total_Number_of_Municipalities:12,Proportion_of_Population_In_Central:78,Central_City_CSDUID:2449058,Central_City_CSDNAME:"Drummondville",CSDTYPE:"V",Central_City_Population_2021:79258,"Land_Area_(sq_km)":1094.4},{Rank:41,CMAUID:830,CMANAME:"Red Deer",Population_2021:100844,Dwellings_2021:43404,Households_2021:40515,Labour_Force_2021:53410,"Median_Individual_Income_2020_(before_tax)":42800,"Median_Household_Income_2020_(before_tax)":85e3,"GDP_2019_(millions)":null,Total_Number_of_Municipalities:1,Proportion_of_Population_In_Central:100,Central_City_CSDUID:4808011,Central_City_CSDNAME:"Red Deer",CSDTYPE:"CY",Central_City_Population_2021:100844,"Land_Area_(sq_km)":104.3}],Rp="FeatureCollection",Bp=[{type:"Feature",properties:{cmauid:462,cmaname:"Montréal"},geometry:{coordinates:[-73.57308922491553,45.51117224229921],type:"Point"}},{type:"Feature",properties:{cmauid:535,cmaname:"Toronto"},geometry:{coordinates:[-79.42808074612881,43.72007624585177],type:"Point"}},{type:"Feature",properties:{cmauid:537,cmaname:"Hamilton"},geometry:{coordinates:[-79.8773046874366,43.25383557354564],type:"Point"}},{type:"Feature",properties:{cmauid:933,cmaname:"Vancouver"},geometry:{coordinates:[-123.08262253929195,49.246637712206564],type:"Point"}},{type:"Feature",properties:{cmauid:505,cmaname:"Ottawa - Gatineau"},geometry:{coordinates:[-75.70194346520749,45.42440930025691],type:"Point"}},{type:"Feature",properties:{cmauid:825,cmaname:"Calgary"},geometry:{coordinates:[-114.07134022379509,51.04882547368169],type:"Point"}},{type:"Feature",properties:{cmauid:835,cmaname:"Edmonton"},geometry:{coordinates:[-113.49114254135274,53.54335267149037],type:"Point"}},{type:"Feature",properties:{cmaname:"Québec",cmauid:421},geometry:{coordinates:[-71.22402975971343,46.810845551763805],type:"Point"}},{type:"Feature",properties:{cmauid:602,cmaname:"Winnipeg"},geometry:{coordinates:[-97.14053172170749,49.89380324169656],type:"Point"}},{type:"Feature",properties:{cmaname:"Kitchener - Cambridge - Waterloo",cmauid:541},geometry:{coordinates:[-80.4888937785775,43.449121740399335],type:"Point"}}],Np={type:Rp,features:Bp},Op="FeatureCollection",Vp="transit-lines-canada",jp={type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},Gp=[{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-122.89292,49.25144],[-122.8929,49.24931],[-122.89289,49.24882],[-122.8929,49.24807],[-122.89293,49.24784],[-122.893,49.24768],[-122.89313,49.24752],[-122.8933,49.24739],[-122.89351,49.2473],[-122.89373,49.24723],[-122.89397,49.2472],[-122.89432,49.24721],[-122.89459,49.24728],[-122.89487,49.24741],[-122.89518,49.24758]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-122.89115,49.26041],[-122.89121,49.26036],[-122.89211,49.2597],[-122.89239,49.25947],[-122.89261,49.25924],[-122.89281,49.25898],[-122.89296,49.25869],[-122.89305,49.25835],[-122.89307,49.25803],[-122.89306,49.25733],[-122.89302,49.25651],[-122.89299,49.25494],[-122.89296,49.25388],[-122.89294,49.2529],[-122.89292,49.25144]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-122.88936,49.26177],[-122.88919,49.26192],[-122.88906,49.26207],[-122.8889,49.2623],[-122.88863,49.26284],[-122.88849,49.26307],[-122.88834,49.26325],[-122.88817,49.26342],[-122.88795,49.2636],[-122.88758,49.26387]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-122.88758,49.26387],[-122.88641,49.26481]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-122.88518,49.26574],[-122.88225,49.26773],[-122.87816,49.27089],[-122.87657,49.27212],[-122.87632,49.27236],[-122.87591,49.27284],[-122.8739,49.27561],[-122.87277,49.27718],[-122.87224,49.27773],[-122.87161,49.27822],[-122.87083,49.27872],[-122.87013,49.27901],[-122.86914,49.27924],[-122.86836,49.27933],[-122.86771,49.27934],[-122.86729,49.27931],[-122.86693,49.27928],[-122.86647,49.27923]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-122.8661,49.27919],[-122.86525,49.2791],[-122.86461,49.27903],[-122.86305,49.27885],[-122.86208,49.27874],[-122.86154,49.27867]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-122.83621,49.27783],[-122.83591,49.2778],[-122.83557,49.27776],[-122.83515,49.27771],[-122.83474,49.27767],[-122.83456,49.27765],[-122.83438,49.27763],[-122.83419,49.27762],[-122.834,49.27762],[-122.83383,49.27762],[-122.83367,49.27763],[-122.83307,49.27766],[-122.83248,49.2777],[-122.83198,49.27771],[-122.83148,49.27768],[-122.83099,49.27762],[-122.83019,49.27754],[-122.82914,49.2774],[-122.82856,49.27729]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-122.82856,49.27729],[-122.82776,49.27713],[-122.82674,49.27694]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-122.82674,49.27694],[-122.82626,49.27686],[-122.82594,49.27682],[-122.82397,49.27678],[-122.82165,49.27674],[-122.81827,49.27667],[-122.8168,49.27662],[-122.81244,49.27654],[-122.81239,49.27654]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-122.80909,49.2765],[-122.80779,49.2765],[-122.80727,49.27647],[-122.80657,49.27639],[-122.80498,49.27615],[-122.80461,49.27608],[-122.80428,49.276],[-122.80388,49.27588],[-122.80346,49.27572],[-122.80293,49.27552],[-122.80282,49.27548],[-122.80272,49.27545],[-122.80247,49.27538],[-122.80241,49.27536],[-122.80233,49.27533],[-122.80211,49.27525],[-122.80198,49.2752],[-122.8019,49.27518],[-122.80141,49.27504],[-122.8004,49.27475],[-122.80034,49.27473],[-122.80006,49.27465],[-122.79987,49.27461],[-122.79968,49.27459],[-122.79949,49.2746],[-122.79932,49.27462],[-122.79914,49.27466],[-122.79892,49.27474],[-122.79873,49.27486],[-122.79862,49.27497],[-122.79853,49.27508],[-122.79822,49.27553]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-122.86154,49.27867],[-122.8597,49.27834],[-122.85782,49.27799],[-122.85744,49.27793],[-122.8571,49.27789],[-122.85675,49.27787],[-122.85446,49.27786],[-122.85422,49.27786],[-122.85397,49.27787],[-122.85362,49.27789],[-122.85278,49.27793],[-122.85234,49.27796],[-122.85213,49.27796],[-122.85192,49.27797],[-122.8516,49.27797],[-122.85127,49.27797],[-122.85063,49.27797],[-122.85002,49.27796],[-122.84815,49.27793],[-122.8467,49.27791],[-122.84641,49.27791],[-122.84608,49.2779]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-122.79242,49.28423],[-122.79233,49.28439],[-122.79223,49.28453],[-122.79197,49.28487],[-122.79187,49.28502],[-122.79171,49.28531],[-122.79131,49.28604],[-122.7911,49.28641]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-122.84608,49.2779],[-122.8459,49.2779],[-122.84494,49.27789],[-122.84487,49.27789]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-122.84419,49.27788],[-122.84401,49.27788],[-122.84376,49.27788],[-122.84343,49.27788],[-122.843,49.27789],[-122.84229,49.27791],[-122.84204,49.27792],[-122.84178,49.27792],[-122.84151,49.27793],[-122.8412,49.27792],[-122.8403,49.27791],[-122.83888,49.27788],[-122.83771,49.27786],[-122.83656,49.27784],[-122.83621,49.27783]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-122.86647,49.27923],[-122.8661,49.27919]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-122.89115,49.26041],[-122.89072,49.26073],[-122.89012,49.2612],[-122.88936,49.26177]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-122.81239,49.27654],[-122.81074,49.2765],[-122.81001,49.27649],[-122.80909,49.2765]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-122.79822,49.27553],[-122.79807,49.27572],[-122.79791,49.27589],[-122.79671,49.27714],[-122.79637,49.27752],[-122.79485,49.27943],[-122.79445,49.27988],[-122.79402,49.28035],[-122.79344,49.28098],[-122.79323,49.28124],[-122.79316,49.28135],[-122.79309,49.28147],[-122.79299,49.28168],[-122.79293,49.28191],[-122.7929,49.28215],[-122.79291,49.2824],[-122.79294,49.28293],[-122.79294,49.28318],[-122.79288,49.28339],[-122.79277,49.28362]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-122.79277,49.28362],[-122.79242,49.28423]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-122.88606,49.26509],[-122.88518,49.26574]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-122.88641,49.26481],[-122.88626,49.26493],[-122.88606,49.26509]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-122.84487,49.27789],[-122.84464,49.27788]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-122.84464,49.27788],[-122.84459,49.27788],[-122.84427,49.27788],[-122.84419,49.27788]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-74.05056,45.39901],[-74.0475,45.39763],[-74.04666,45.39725],[-74.04655,45.3972],[-74.04582,45.39687],[-74.0446,45.39632],[-74.04427,45.39617],[-74.04407,45.39608],[-74.04368,45.3959],[-74.043,45.3956],[-74.04225,45.39526],[-74.04161,45.39498],[-74.04107,45.39473],[-74.04055,45.3945],[-74.04005,45.39427],[-74.03859,45.39362],[-74.03804,45.39337],[-74.03756,45.39315],[-74.03736,45.39306],[-74.03723,45.39301],[-74.03706,45.39294],[-74.03695,45.39288],[-74.03651,45.39268],[-74.03598,45.39244],[-74.03549,45.39221],[-74.03495,45.39197],[-74.03428,45.39166],[-74.03372,45.39141],[-74.02931,45.38942],[-74.02878,45.38918],[-74.02837,45.38899],[-74.02801,45.38883],[-74.02759,45.38864],[-74.0272,45.38846],[-74.02697,45.38836],[-74.02686,45.38831],[-74.02641,45.38809],[-74.02617,45.38797],[-74.02596,45.38788],[-74.02569,45.38777],[-74.02536,45.38762],[-74.02427,45.38712],[-74.02385,45.38693],[-74.023,45.38655],[-74.02281,45.38646],[-74.02248,45.38632],[-74.02222,45.38623],[-74.02215,45.3862],[-74.02205,45.38617],[-74.02187,45.38611],[-74.0218,45.3861],[-74.02152,45.38603],[-74.02132,45.38598],[-74.02106,45.38595],[-74.02089,45.38593],[-74.02065,45.38592],[-74.02028,45.38592],[-74.0198,45.38593],[-74.01914,45.38596],[-74.01866,45.38598],[-74.01782,45.38602],[-74.01694,45.38606],[-74.0163,45.38609],[-74.01524,45.38615],[-74.01473,45.38617],[-74.01433,45.38619],[-74.01316,45.38624],[-74.0127,45.38626],[-74.01217,45.38628],[-74.01211,45.38628],[-74.0121,45.38628],[-74.01167,45.38629],[-74.01148,45.38629],[-74.0111,45.3863],[-74.01093,45.38631],[-74.01034,45.38633],[-74.00995,45.38634],[-74.00951,45.38634],[-74.00826,45.3864],[-74.00826,45.3864],[-74.00754,45.38643],[-74.00717,45.38645],[-74.00624,45.38649],[-74.00558,45.38652],[-74.00373,45.38661],[-74.00167,45.38672],[-73.99702,45.38694],[-73.99417,45.38707],[-73.99327,45.38712],[-73.99301,45.38713],[-73.99295,45.38713],[-73.99291,45.38713],[-73.99227,45.38717],[-73.99227,45.38717],[-73.99136,45.38723],[-73.9908,45.38728],[-73.99044,45.38731],[-73.99021,45.38733],[-73.98996,45.38736],[-73.98982,45.38737],[-73.98891,45.38748],[-73.98853,45.38752],[-73.98831,45.38755],[-73.9876,45.38765],[-73.9869,45.38775],[-73.98653,45.38781],[-73.98621,45.38786],[-73.98582,45.38793],[-73.98557,45.38797],[-73.98492,45.38809],[-73.98432,45.3882],[-73.98392,45.38828],[-73.98355,45.38836],[-73.98335,45.3884],[-73.98318,45.38844],[-73.98277,45.38853],[-73.98231,45.38863],[-73.98193,45.38873],[-73.98141,45.38885],[-73.98096,45.38897],[-73.98055,45.38908],[-73.98011,45.3892],[-73.98001,45.38922],[-73.97992,45.38925],[-73.97879,45.38958],[-73.97848,45.38968],[-73.9779,45.38986],[-73.97773,45.38991],[-73.97756,45.38997],[-73.97716,45.39011],[-73.97677,45.39024],[-73.97653,45.39033],[-73.97637,45.39038],[-73.97618,45.39045],[-73.97557,45.39067],[-73.97504,45.39088],[-73.97474,45.39099],[-73.97428,45.39117],[-73.97403,45.39128],[-73.97389,45.39133],[-73.97364,45.39144],[-73.97269,45.39184],[-73.97234,45.392],[-73.9719,45.3922],[-73.97155,45.39236],[-73.9711,45.39258],[-73.97085,45.3927],[-73.97059,45.39283],[-73.97006,45.3931],[-73.96982,45.39322],[-73.96967,45.39331],[-73.96885,45.39375],[-73.96816,45.39415],[-73.96778,45.39437],[-73.96753,45.39452],[-73.96743,45.39458],[-73.96692,45.3949],[-73.96683,45.39495],[-73.96668,45.39505],[-73.96643,45.39522],[-73.96623,45.39535],[-73.96586,45.3956],[-73.96567,45.39572],[-73.9654,45.39591],[-73.9654,45.39591],[-73.96459,45.39646],[-73.96438,45.39662],[-73.96409,45.39684],[-73.96391,45.39697],[-73.96386,45.39701],[-73.96348,45.39733],[-73.96331,45.39746],[-73.9631,45.39764],[-73.96276,45.39791],[-73.96207,45.3985],[-73.96165,45.39887],[-73.9613,45.39918],[-73.96114,45.39932],[-73.96104,45.39941],[-73.96058,45.39985],[-73.96001,45.40039],[-73.95953,45.40085],[-73.95905,45.4013],[-73.95873,45.4016],[-73.95865,45.40168],[-73.95823,45.40209],[-73.9577,45.40261],[-73.95729,45.403],[-73.95682,45.40346],[-73.95629,45.40398],[-73.95574,45.40451],[-73.95564,45.40462],[-73.95555,45.4047],[-73.9552,45.40503],[-73.955,45.40522],[-73.95481,45.40539],[-73.95475,45.40545],[-73.95467,45.40551],[-73.95425,45.40588],[-73.95405,45.40604],[-73.95401,45.40607],[-73.95397,45.40611],[-73.95361,45.40638],[-73.95341,45.40651],[-73.95324,45.40663],[-73.95318,45.40667],[-73.95288,45.40685],[-73.95285,45.40686],[-73.95282,45.40688],[-73.95254,45.40703],[-73.95249,45.40706],[-73.95235,45.40712],[-73.95215,45.40722],[-73.95199,45.40729],[-73.95171,45.40741],[-73.95155,45.40748],[-73.9513,45.40758],[-73.95119,45.40761],[-73.95119,45.40761],[-73.95086,45.40774],[-73.95061,45.40781],[-73.95011,45.40796],[-73.94991,45.40802],[-73.94956,45.4081],[-73.94916,45.4082],[-73.94857,45.40834],[-73.9475,45.40858],[-73.94693,45.40872],[-73.94676,45.40875],[-73.9465,45.40882],[-73.9464,45.40885],[-73.94629,45.40888],[-73.94591,45.40898],[-73.94588,45.40899],[-73.94577,45.40902],[-73.94503,45.40926],[-73.9448,45.40933],[-73.94388,45.40965],[-73.94367,45.40973],[-73.94326,45.40988],[-73.94286,45.41002],[-73.9422,45.41026],[-73.93938,45.41127],[-73.93915,45.41135],[-73.93707,45.41211],[-73.93469,45.41298],[-73.9337,45.41333],[-73.93242,45.4138],[-73.932,45.41395],[-73.93127,45.41421],[-73.9303,45.41457],[-73.92952,45.41485],[-73.92923,45.41495],[-73.92865,45.41516],[-73.92795,45.41541],[-73.92712,45.41571],[-73.92612,45.41607],[-73.92442,45.41669],[-73.91892,45.41867],[-73.91687,45.41942],[-73.91676,45.41946],[-73.9165,45.41955],[-73.91554,45.4199],[-73.91554,45.4199],[-73.91315,45.42076],[-73.91065,45.42166],[-73.90757,45.42277],[-73.90633,45.42322],[-73.90542,45.42355],[-73.90523,45.42361],[-73.9051,45.42366],[-73.90378,45.42409],[-73.9034,45.42422],[-73.90265,45.42444],[-73.90262,45.42446],[-73.90248,45.42449],[-73.90132,45.42481],[-73.90041,45.42505],[-73.90024,45.42509],[-73.89921,45.42534],[-73.89903,45.42538],[-73.89859,45.42548],[-73.89778,45.42564],[-73.89679,45.42584],[-73.89579,45.42601],[-73.89442,45.42624],[-73.89403,45.4263],[-73.89212,45.4266],[-73.88993,45.42695],[-73.88938,45.42704],[-73.88724,45.42737],[-73.88724,45.42737],[-73.8841,45.42787],[-73.88338,45.42799],[-73.88218,45.42818],[-73.87899,45.42868],[-73.87713,45.42898],[-73.87365,45.42953],[-73.87322,45.4296],[-73.87019,45.43008],[-73.8661,45.43072],[-73.86248,45.4313],[-73.86203,45.43137],[-73.86138,45.43147],[-73.86117,45.43151],[-73.8601,45.43171],[-73.85937,45.43186],[-73.85885,45.43197],[-73.85777,45.43222],[-73.85689,45.43243],[-73.85676,45.43247],[-73.85645,45.43255],[-73.85601,45.43267],[-73.85543,45.43282],[-73.85371,45.43329],[-73.85031,45.4342],[-73.84966,45.43437],[-73.84892,45.43457],[-73.84817,45.43477],[-73.84746,45.43496],[-73.84739,45.43498],[-73.84739,45.43498],[-73.8464,45.43525],[-73.84567,45.43545],[-73.84494,45.43565],[-73.84418,45.43585],[-73.84344,45.43605],[-73.84263,45.43627],[-73.83901,45.43724],[-73.8371,45.43776],[-73.83486,45.43837],[-73.83188,45.43916],[-73.83125,45.43933],[-73.8305,45.43954],[-73.82975,45.43975],[-73.829,45.43995],[-73.82791,45.44024],[-73.82673,45.44056],[-73.82592,45.44078],[-73.82505,45.44102],[-73.82404,45.44129],[-73.82303,45.44156],[-73.82247,45.44171],[-73.82189,45.44186],[-73.82132,45.44202],[-73.82105,45.44209],[-73.81987,45.44241],[-73.81987,45.44241],[-73.81845,45.4428],[-73.81585,45.44349],[-73.81561,45.44356],[-73.81478,45.44379],[-73.81436,45.4439],[-73.81417,45.44396],[-73.81333,45.44422],[-73.81154,45.44476],[-73.81034,45.44513],[-73.8097,45.44532],[-73.80906,45.44552],[-73.80829,45.44575],[-73.80528,45.44666],[-73.80467,45.44684],[-73.80342,45.44722],[-73.80342,45.44722],[-73.80221,45.44758],[-73.8008,45.44797],[-73.80049,45.44806],[-73.8004,45.44808],[-73.79995,45.44819],[-73.79904,45.4484],[-73.79879,45.44846],[-73.79791,45.44866],[-73.79766,45.44871],[-73.79744,45.44875],[-73.79665,45.44891],[-73.7965,45.44894],[-73.79615,45.449],[-73.79562,45.44909],[-73.79506,45.44918],[-73.7949,45.44921],[-73.79389,45.44936],[-73.79371,45.44939],[-73.79361,45.4494],[-73.79213,45.44958],[-73.79191,45.44961],[-73.79153,45.44965],[-73.79134,45.44967],[-73.79085,45.44971],[-73.79086,45.44971],[-73.79041,45.44976],[-73.78964,45.44982],[-73.78957,45.44982],[-73.78935,45.44984],[-73.78816,45.44991],[-73.78787,45.44993],[-73.78767,45.44993],[-73.78603,45.44998],[-73.78449,45.44998],[-73.78418,45.44998],[-73.78174,45.44993],[-73.78135,45.44993],[-73.7805,45.44991],[-73.78042,45.44991],[-73.78015,45.4499],[-73.77746,45.44985],[-73.77674,45.44984],[-73.77546,45.44981],[-73.76959,45.44969],[-73.76862,45.44967],[-73.76839,45.44967],[-73.7668,45.44964],[-73.76587,45.44963],[-73.76426,45.44959],[-73.76426,45.44959],[-73.76343,45.44957],[-73.76192,45.44954],[-73.7605,45.44951],[-73.76019,45.4495],[-73.75716,45.44944],[-73.75616,45.44943],[-73.75546,45.44941],[-73.75364,45.44938],[-73.7503,45.44932],[-73.74989,45.44931],[-73.74806,45.44927],[-73.74411,45.4492],[-73.74311,45.44918],[-73.74311,45.44918],[-73.73897,45.4491],[-73.73808,45.44908],[-73.73717,45.44907],[-73.73708,45.44906],[-73.73669,45.44907],[-73.73615,45.44908],[-73.73603,45.44908],[-73.73535,45.4491],[-73.73496,45.44911],[-73.73429,45.44911],[-73.73417,45.44911],[-73.73387,45.44911],[-73.73334,45.4491],[-73.73304,45.44909],[-73.73299,45.44909],[-73.73233,45.44908],[-73.73175,45.44907],[-73.73141,45.44906],[-73.73119,45.44906],[-73.73099,45.44906],[-73.73073,45.44905],[-73.73051,45.44904],[-73.72915,45.44902],[-73.7286,45.449],[-73.72815,45.449],[-73.72343,45.44891],[-73.72168,45.44887],[-73.72088,45.44886],[-73.71837,45.44881],[-73.71684,45.44877],[-73.71464,45.44873],[-73.71354,45.44871],[-73.71133,45.44866],[-73.71133,45.44866],[-73.70923,45.44862],[-73.708,45.4486],[-73.70788,45.4486],[-73.70779,45.4486],[-73.70735,45.4486],[-73.70714,45.4486],[-73.70691,45.4486],[-73.70686,45.4486],[-73.70673,45.44861],[-73.70616,45.44864],[-73.70599,45.44864],[-73.70552,45.44867],[-73.70505,45.4487],[-73.70499,45.44871],[-73.70485,45.44872],[-73.70411,45.44877],[-73.70341,45.44883],[-73.70286,45.44887],[-73.70198,45.44893],[-73.70111,45.449],[-73.70011,45.44907],[-73.69956,45.44911],[-73.69895,45.44916],[-73.69763,45.44925],[-73.69646,45.44934],[-73.69387,45.44953],[-73.6931,45.44959],[-73.69265,45.44962],[-73.69224,45.44965],[-73.69183,45.44969],[-73.69159,45.44971],[-73.69127,45.44975],[-73.69109,45.44976],[-73.69098,45.44978],[-73.6907,45.44982],[-73.69038,45.44986],[-73.68949,45.45],[-73.68924,45.45004],[-73.68847,45.45017],[-73.68808,45.45023],[-73.68724,45.45037],[-73.68694,45.45041],[-73.68675,45.45045],[-73.6866,45.45047],[-73.68645,45.45049],[-73.68633,45.45051],[-73.6854,45.45066],[-73.68445,45.45081],[-73.68334,45.45099],[-73.68235,45.45115],[-73.68108,45.45136],[-73.68033,45.45148],[-73.67794,45.45187],[-73.67744,45.45195],[-73.67683,45.45205],[-73.67614,45.45217],[-73.67545,45.45228],[-73.67434,45.45245],[-73.67365,45.45256],[-73.6718,45.45287],[-73.67109,45.45297],[-73.67101,45.45299],[-73.67093,45.453],[-73.67063,45.45303],[-73.67044,45.45305],[-73.67024,45.45307],[-73.67015,45.45308],[-73.66986,45.4531],[-73.6697,45.45311],[-73.66933,45.45313],[-73.66889,45.45314],[-73.66854,45.45313],[-73.66844,45.45313],[-73.66834,45.45312],[-73.668,45.45311],[-73.66732,45.45306],[-73.66673,45.45298],[-73.66652,45.45296],[-73.66385,45.45261],[-73.66086,45.45222],[-73.65854,45.45191],[-73.65784,45.45182],[-73.65681,45.45168],[-73.65642,45.45164],[-73.65611,45.4516],[-73.65581,45.45156],[-73.65291,45.45115],[-73.65223,45.45106],[-73.65215,45.45105],[-73.65187,45.45102],[-73.65144,45.45097],[-73.65101,45.45092],[-73.65057,45.45089],[-73.65052,45.45089],[-73.65011,45.45088],[-73.64995,45.45088],[-73.64959,45.45089],[-73.64948,45.4509],[-73.64942,45.4509],[-73.64899,45.45093],[-73.64853,45.45097],[-73.64805,45.45104],[-73.64799,45.45105],[-73.64759,45.45112],[-73.64714,45.45123],[-73.647,45.45126],[-73.64646,45.45141],[-73.646,45.45157],[-73.64593,45.45159],[-73.64582,45.45163],[-73.64552,45.45175],[-73.64548,45.45176],[-73.64528,45.45185],[-73.64511,45.45192],[-73.64503,45.45196],[-73.64458,45.45218],[-73.64448,45.45224],[-73.64319,45.4529],[-73.64261,45.45321],[-73.64173,45.45367],[-73.64179,45.45376],[-73.64106,45.45414],[-73.64046,45.45445],[-73.64004,45.45467],[-73.63949,45.45493],[-73.63915,45.45508],[-73.63887,45.45519],[-73.63856,45.45535],[-73.63784,45.45568],[-73.63752,45.45584],[-73.63554,45.45687],[-73.63451,45.45741],[-73.63365,45.45785],[-73.63074,45.45936],[-73.62989,45.4598],[-73.6274,45.46111],[-73.62553,45.46207],[-73.62521,45.46224],[-73.62434,45.46269],[-73.62376,45.46299],[-73.62263,45.46358],[-73.62116,45.46435],[-73.61998,45.46497],[-73.61911,45.46542],[-73.61678,45.46663],[-73.61525,45.46742],[-73.6144,45.46785],[-73.61387,45.46813],[-73.61294,45.46861],[-73.61156,45.46933],[-73.60985,45.47023],[-73.60858,45.47088],[-73.60849,45.47093],[-73.60838,45.47098],[-73.60773,45.47132],[-73.60759,45.47139],[-73.60745,45.47147],[-73.60632,45.47205],[-73.60612,45.47215],[-73.60602,45.47221],[-73.60594,45.47225],[-73.60587,45.47228],[-73.60503,45.47272],[-73.60471,45.47289],[-73.60438,45.47306],[-73.60343,45.47358],[-73.60334,45.47363],[-73.60327,45.47366],[-73.60309,45.47377],[-73.60309,45.47377],[-73.60267,45.474],[-73.60161,45.4746],[-73.59945,45.47581],[-73.5985,45.47635],[-73.59783,45.47673],[-73.59758,45.47687],[-73.59719,45.4771],[-73.59572,45.47795],[-73.59514,45.47828],[-73.59477,45.47849],[-73.59474,45.4785],[-73.59425,45.47883],[-73.59409,45.47893],[-73.59399,45.47898],[-73.5929,45.47958],[-73.59191,45.48015],[-73.59104,45.48068],[-73.59007,45.48127],[-73.59006,45.48128],[-73.58944,45.48168],[-73.58819,45.4825],[-73.58717,45.48317],[-73.58636,45.4837],[-73.58491,45.48465],[-73.5848,45.48472],[-73.5818,45.48664],[-73.58027,45.48763],[-73.58016,45.4877],[-73.57998,45.48782],[-73.57951,45.48815],[-73.57912,45.48842],[-73.57903,45.48849],[-73.57824,45.48908],[-73.57801,45.48927],[-73.57695,45.49011],[-73.57679,45.49024],[-73.57672,45.4903],[-73.5764,45.49054],[-73.57608,45.49079],[-73.57595,45.49089],[-73.57585,45.49096],[-73.57507,45.49153],[-73.57463,45.49184],[-73.57398,45.49231],[-73.57336,45.49276],[-73.5727,45.49325],[-73.57243,45.49354],[-73.57077,45.49475]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.57077,45.49475],[-73.57243,45.49354],[-73.57271,45.49325],[-73.57336,45.49276],[-73.57409,45.49223],[-73.57463,45.49184],[-73.57494,45.49162],[-73.57524,45.49141],[-73.57581,45.49099],[-73.57615,45.49073],[-73.57676,45.49027],[-73.57757,45.48962],[-73.57798,45.48929],[-73.57841,45.48896],[-73.57909,45.48844],[-73.57972,45.48801],[-73.58001,45.4878],[-73.58028,45.48762],[-73.5814,45.4869],[-73.58297,45.48589],[-73.58487,45.48468],[-73.58636,45.4837],[-73.58767,45.48284],[-73.58916,45.48187],[-73.59007,45.48127],[-73.59137,45.48048],[-73.59189,45.48017],[-73.5929,45.47958],[-73.5931,45.47947],[-73.5941,45.47892],[-73.59422,45.47884],[-73.59474,45.4785],[-73.59533,45.47817],[-73.59581,45.4779],[-73.59723,45.47708],[-73.59748,45.47693],[-73.5982,45.47652],[-73.59927,45.47591],[-73.59982,45.47561],[-73.60146,45.47468],[-73.60309,45.47377],[-73.60309,45.47377],[-73.60348,45.47355],[-73.6048,45.47284],[-73.60587,45.47228],[-73.60974,45.47028],[-73.6122,45.469],[-73.61423,45.46794],[-73.61737,45.46632],[-73.61928,45.46533],[-73.61976,45.46508],[-73.62131,45.46427],[-73.62343,45.46316],[-73.62525,45.46222],[-73.62837,45.4606],[-73.62973,45.45989],[-73.63368,45.45783],[-73.6352,45.45705],[-73.63607,45.4566],[-73.63781,45.4557],[-73.63792,45.45564],[-73.63857,45.45535],[-73.63887,45.45519],[-73.63919,45.45506],[-73.63951,45.45492],[-73.64005,45.45467],[-73.64015,45.45461],[-73.6403,45.45453],[-73.64182,45.45374],[-73.64173,45.45367],[-73.64274,45.45314],[-73.64366,45.45266],[-73.64458,45.45218],[-73.64506,45.45195],[-73.64515,45.4519],[-73.64545,45.45177],[-73.6459,45.4516],[-73.64636,45.45145],[-73.64646,45.45141],[-73.64684,45.45131],[-73.64702,45.45126],[-73.64733,45.45119],[-73.64767,45.45111],[-73.64813,45.45103],[-73.64853,45.45097],[-73.64899,45.45093],[-73.64942,45.4509],[-73.64959,45.45089],[-73.64998,45.45088],[-73.65047,45.45089],[-73.65098,45.45092],[-73.65144,45.45097],[-73.6519,45.45102],[-73.65215,45.45105],[-73.65235,45.45108],[-73.65354,45.45124],[-73.65588,45.45157],[-73.65657,45.45165],[-73.65809,45.45185],[-73.66091,45.45222],[-73.66611,45.45291],[-73.66671,45.45298],[-73.66729,45.45305],[-73.668,45.45311],[-73.66841,45.45313],[-73.66866,45.45313],[-73.66889,45.45314],[-73.66918,45.45313],[-73.66938,45.45313],[-73.66961,45.45312],[-73.66978,45.45311],[-73.67018,45.45308],[-73.67059,45.45304],[-73.67093,45.453],[-73.6718,45.45287],[-73.67268,45.45272],[-73.67352,45.45258],[-73.67557,45.45226],[-73.67734,45.45197],[-73.67871,45.45174],[-73.68006,45.45153],[-73.68376,45.45092],[-73.68592,45.45058],[-73.68654,45.45048],[-73.68747,45.45033],[-73.68803,45.45024],[-73.68901,45.45008],[-73.69031,45.44987],[-73.6907,45.44982],[-73.69111,45.44976],[-73.69141,45.44973],[-73.69172,45.4497],[-73.69221,45.44965],[-73.69248,45.44963],[-73.69438,45.44949],[-73.6965,45.44934],[-73.69801,45.44923],[-73.69936,45.44913],[-73.70093,45.44901],[-73.70263,45.44889],[-73.70349,45.44882],[-73.70447,45.44875],[-73.70518,45.44869],[-73.70571,45.44866],[-73.70605,45.44864],[-73.70688,45.4486],[-73.70739,45.4486],[-73.70791,45.4486],[-73.70897,45.44862],[-73.71133,45.44866],[-73.71133,45.44866],[-73.71482,45.44873],[-73.71684,45.44877],[-73.72071,45.44885],[-73.72444,45.44892],[-73.7287,45.44901],[-73.73158,45.44907],[-73.73296,45.44909],[-73.73377,45.44911],[-73.73417,45.44911],[-73.73463,45.44911],[-73.73499,45.44911],[-73.73598,45.44908],[-73.73626,45.44908],[-73.73703,45.44907],[-73.7379,45.44908],[-73.73864,45.44913],[-73.74,45.44916],[-73.74167,45.44919],[-73.74311,45.44922],[-73.74311,45.44922],[-73.74531,45.44926],[-73.7463,45.44924],[-73.75414,45.44939],[-73.75715,45.44944],[-73.75986,45.4495],[-73.76225,45.44955],[-73.76426,45.44959],[-73.76426,45.44959],[-73.76531,45.44962],[-73.76833,45.44967],[-73.77156,45.44973],[-73.7763,45.44983],[-73.77777,45.44986],[-73.78011,45.4499],[-73.7828,45.44996],[-73.78346,45.44997],[-73.78412,45.44998],[-73.78436,45.44998],[-73.78605,45.44998],[-73.78634,45.44997],[-73.78782,45.44993],[-73.7879,45.44993],[-73.78958,45.44982],[-73.79034,45.44976],[-73.79088,45.44971],[-73.79087,45.44971],[-73.79177,45.44962],[-73.79295,45.44948],[-73.79368,45.44939],[-73.79504,45.44919],[-73.79634,45.44897],[-73.79758,45.44873],[-73.79873,45.44848],[-73.80043,45.44808],[-73.80189,45.44767],[-73.80343,45.44722],[-73.80342,45.44722],[-73.80588,45.44648],[-73.80776,45.44591],[-73.80984,45.44528],[-73.81154,45.44476],[-73.81297,45.44433],[-73.81436,45.4439],[-73.81542,45.44361],[-73.81745,45.44306],[-73.81834,45.44282],[-73.81986,45.44241],[-73.81986,45.44241],[-73.82122,45.44204],[-73.82348,45.44144],[-73.82655,45.44061],[-73.82891,45.43997],[-73.83001,45.43968],[-73.83048,45.43955],[-73.83119,45.43935],[-73.83255,45.43899],[-73.8339,45.43862],[-73.83601,45.43806],[-73.84048,45.43685],[-73.84739,45.43498],[-73.84739,45.43498],[-73.84795,45.43483],[-73.85031,45.4342],[-73.85295,45.43349],[-73.85587,45.4327],[-73.8568,45.43246],[-73.85757,45.43227],[-73.85817,45.43213],[-73.85885,45.43197],[-73.85974,45.43179],[-73.86023,45.43169],[-73.86105,45.43154],[-73.86138,45.43147],[-73.8616,45.43144],[-73.8627,45.43126],[-73.86414,45.43103],[-73.8688,45.4303],[-73.87082,45.42998],[-73.87515,45.42929],[-73.87906,45.42867],[-73.88239,45.42815],[-73.88554,45.42764],[-73.88724,45.42737],[-73.88724,45.42737],[-73.88906,45.42709],[-73.89146,45.42671],[-73.89285,45.42648],[-73.89419,45.42627],[-73.89615,45.42595],[-73.89676,45.42585],[-73.89728,45.42574],[-73.89851,45.4255],[-73.89864,45.42547],[-73.89902,45.42538],[-73.89995,45.42516],[-73.9004,45.42506],[-73.90107,45.42488],[-73.90135,45.4248],[-73.90186,45.42466],[-73.9024,45.42451],[-73.90263,45.42445],[-73.90287,45.42438],[-73.90338,45.42422],[-73.90365,45.42413],[-73.90483,45.42375],[-73.90529,45.42359],[-73.90645,45.42318],[-73.90745,45.42282],[-73.91022,45.42182],[-73.91455,45.42025],[-73.91554,45.4199],[-73.91554,45.4199],[-73.91676,45.41946],[-73.91857,45.4188],[-73.92164,45.41769],[-73.92442,45.41669],[-73.92636,45.41599],[-73.92921,45.41496],[-73.93197,45.41396],[-73.93336,45.41346],[-73.93672,45.41224],[-73.93918,45.41134],[-73.94114,45.41064],[-73.94232,45.41022],[-73.94291,45.41],[-73.94356,45.40977],[-73.94394,45.40963],[-73.94467,45.40938],[-73.94486,45.40931],[-73.94568,45.40905],[-73.94588,45.40899],[-73.94635,45.40886],[-73.94683,45.40874],[-73.9473,45.40863],[-73.94754,45.40857],[-73.94784,45.4085],[-73.94823,45.40842],[-73.94875,45.4083],[-73.94919,45.40819],[-73.94958,45.4081],[-73.94991,45.40802],[-73.95086,45.40774],[-73.9512,45.40761],[-73.9512,45.40761],[-73.95132,45.40757],[-73.95145,45.40752],[-73.95169,45.40742],[-73.95211,45.40724],[-73.95218,45.4072],[-73.95251,45.40705],[-73.95285,45.40687],[-73.95321,45.40665],[-73.95328,45.4066],[-73.95362,45.40637],[-73.95394,45.40613],[-73.95407,45.40603],[-73.95469,45.4055],[-73.95484,45.40536],[-73.95502,45.4052],[-73.95555,45.4047],[-73.95566,45.4046],[-73.95693,45.40335],[-73.95729,45.403],[-73.95856,45.40177],[-73.95873,45.40161],[-73.9596,45.40077],[-73.96106,45.39939],[-73.96114,45.39932],[-73.96143,45.39906],[-73.96204,45.39852],[-73.96278,45.3979],[-73.96315,45.39759],[-73.96389,45.39699],[-73.96437,45.39663],[-73.96456,45.39648],[-73.9654,45.39591],[-73.9654,45.39591],[-73.96584,45.39561],[-73.96628,45.39531],[-73.96644,45.39521],[-73.96681,45.39497],[-73.96722,45.39471],[-73.9675,45.39454],[-73.96807,45.3942],[-73.96865,45.39386],[-73.96889,45.39373],[-73.96964,45.39332],[-73.96983,45.39322],[-73.9702,45.39303],[-73.97069,45.39278],[-73.97118,45.39254],[-73.97154,45.39236],[-73.9716,45.39233],[-73.97228,45.39202],[-73.97306,45.39168],[-73.97375,45.39139],[-73.97392,45.39132],[-73.97454,45.39107],[-73.97474,45.39099],[-73.97553,45.39068],[-73.97568,45.39063],[-73.97649,45.39034],[-73.97753,45.38998],[-73.97773,45.38992],[-73.97841,45.3897],[-73.97933,45.38942],[-73.98004,45.38921],[-73.98051,45.38909],[-73.98146,45.38884],[-73.98199,45.38871],[-73.98233,45.38863],[-73.98327,45.38841],[-73.98337,45.38839],[-73.98381,45.3883],[-73.98484,45.3881],[-73.98574,45.38794],[-73.98588,45.38792],[-73.98668,45.38779],[-73.98744,45.38767],[-73.98791,45.38761],[-73.98849,45.38753],[-73.98975,45.38738],[-73.99039,45.38732],[-73.99111,45.38725],[-73.99132,45.38723],[-73.99149,45.38722],[-73.99228,45.38717],[-73.99227,45.38717],[-73.99296,45.38713],[-73.99389,45.38709],[-73.99659,45.38696],[-73.99928,45.38683],[-74.00195,45.3867],[-74.00426,45.38659],[-74.00581,45.38651],[-74.00625,45.38649],[-74.00732,45.38644],[-74.00825,45.3864],[-74.00825,45.3864],[-74.00949,45.38634],[-74.00992,45.38634],[-74.01059,45.38632],[-74.01144,45.38629],[-74.01193,45.38629],[-74.0122,45.38628],[-74.01264,45.38626],[-74.01455,45.38618],[-74.01745,45.38604],[-74.0187,45.38598],[-74.01912,45.38596],[-74.01982,45.38593],[-74.02029,45.38592],[-74.0205,45.38592],[-74.02066,45.38592],[-74.02078,45.38593],[-74.0209,45.38593],[-74.02104,45.38595],[-74.02132,45.38598],[-74.02187,45.38611],[-74.02193,45.38614],[-74.02215,45.3862],[-74.02248,45.38632],[-74.02275,45.38643],[-74.02332,45.38669],[-74.02407,45.38703],[-74.02534,45.38761],[-74.02621,45.38799],[-74.02693,45.38833],[-74.02734,45.38852],[-74.02898,45.38927],[-74.03101,45.39018],[-74.03338,45.39126],[-74.03526,45.39211],[-74.03657,45.39271],[-74.03703,45.39292],[-74.03719,45.39299],[-74.03737,45.39307],[-74.03765,45.39319],[-74.04019,45.39434],[-74.0454,45.39668],[-74.04666,45.39724],[-74.05054,45.399]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-74.14091,45.45967],[-74.14085,45.45964],[-74.14073,45.45957],[-74.14054,45.45947],[-74.14052,45.45946],[-74.1399,45.45914],[-74.13987,45.45912],[-74.1398,45.45908],[-74.13925,45.45882],[-74.13907,45.45873],[-74.13861,45.45851],[-74.13814,45.45829],[-74.1378,45.45811],[-74.13751,45.45796],[-74.13716,45.45778],[-74.13711,45.45775],[-74.13697,45.45769],[-74.13661,45.45751],[-74.13652,45.45747],[-74.13622,45.45732],[-74.13619,45.4573],[-74.13618,45.4573],[-74.13502,45.45672],[-74.13487,45.45664],[-74.13475,45.45659],[-74.13394,45.4562],[-74.13381,45.45614],[-74.13356,45.45602],[-74.13315,45.45583],[-74.13296,45.45574],[-74.13286,45.45569],[-74.13254,45.45553],[-74.13252,45.45552],[-74.13224,45.45535],[-74.13204,45.45523],[-74.13201,45.45521],[-74.13192,45.45515],[-74.13178,45.45507],[-74.13175,45.45505],[-74.13142,45.45483],[-74.13115,45.45464],[-74.13107,45.45459],[-74.13106,45.45458],[-74.13101,45.45454],[-74.1307,45.4543],[-74.13064,45.45426],[-74.1303,45.45403],[-74.13027,45.45401],[-74.1302,45.45396],[-74.13012,45.45389],[-74.12999,45.4538],[-74.12978,45.45363],[-74.12969,45.45356],[-74.12963,45.45352],[-74.1293,45.45328],[-74.12911,45.45314],[-74.12894,45.45302],[-74.12879,45.45292],[-74.12877,45.4529],[-74.12859,45.45277],[-74.12735,45.45187],[-74.12596,45.45086],[-74.1255,45.45053],[-74.12537,45.45043],[-74.12456,45.44984],[-74.12317,45.44882],[-74.12252,45.44835],[-74.12176,45.4478],[-74.12144,45.44757],[-74.12139,45.44753],[-74.12135,45.4475],[-74.12116,45.44737],[-74.12107,45.44731],[-74.12102,45.44727],[-74.12069,45.44702],[-74.12032,45.44677],[-74.12028,45.44675],[-74.12023,45.44672],[-74.11987,45.44651],[-74.11966,45.44639],[-74.11964,45.44638],[-74.11963,45.44638],[-74.11872,45.44591],[-74.1184,45.44577],[-74.11822,45.44569],[-74.11799,45.44558],[-74.11787,45.44553],[-74.1177,45.44545],[-74.1168,45.44503],[-74.11603,45.44467],[-74.11563,45.44449],[-74.11527,45.44432],[-74.1148,45.4441],[-74.11431,45.44387],[-74.11397,45.44371],[-74.11364,45.44356],[-74.11269,45.44312],[-74.11215,45.44287],[-74.11185,45.44273],[-74.11176,45.44269],[-74.11165,45.44264],[-74.10994,45.44184],[-74.10898,45.44139],[-74.10884,45.44133],[-74.10876,45.44129],[-74.10852,45.44118],[-74.10811,45.441],[-74.10789,45.4409],[-74.10749,45.44071],[-74.10666,45.44033],[-74.10477,45.43946],[-74.10424,45.43922],[-74.10324,45.43876],[-74.10292,45.43861],[-74.10276,45.43853],[-74.10228,45.43831],[-74.10161,45.438],[-74.10116,45.43779],[-74.10016,45.43732],[-74.09995,45.43723],[-74.09973,45.43711],[-74.09951,45.43701],[-74.09947,45.43699],[-74.09927,45.43689],[-74.0992,45.43686],[-74.09909,45.43681],[-74.09904,45.43678],[-74.09884,45.43668],[-74.09867,45.4366],[-74.09852,45.43651],[-74.09829,45.43639],[-74.09803,45.43624],[-74.09785,45.43614],[-74.09778,45.4361],[-74.09769,45.43604],[-74.09752,45.43594],[-74.0975,45.43592],[-74.09726,45.43576],[-74.09705,45.4356],[-74.09701,45.43557],[-74.09695,45.43552],[-74.0968,45.4354],[-74.09674,45.43534],[-74.09669,45.4353],[-74.09648,45.43512],[-74.09637,45.43503],[-74.09628,45.43495],[-74.09619,45.43486],[-74.09615,45.43482],[-74.09607,45.43475],[-74.09579,45.43447],[-74.09536,45.43405],[-74.09533,45.43402],[-74.09504,45.43374],[-74.09488,45.43359],[-74.0943,45.43305],[-74.09382,45.4326],[-74.09372,45.4325],[-74.09351,45.43231],[-74.09298,45.4318],[-74.09241,45.43126],[-74.09204,45.43091],[-74.09171,45.43059],[-74.09148,45.43037],[-74.09068,45.42961],[-74.09025,45.4292],[-74.08991,45.42887],[-74.08982,45.42878],[-74.08952,45.42851],[-74.08909,45.42809],[-74.0888,45.42782],[-74.0883,45.42733],[-74.08807,45.42711],[-74.08775,45.4268],[-74.08764,45.42669],[-74.08751,45.42656],[-74.08744,45.42649],[-74.08738,45.42641],[-74.08722,45.4262],[-74.08717,45.42611],[-74.08706,45.42595],[-74.08693,45.42573],[-74.08679,45.42543],[-74.08668,45.4252],[-74.08658,45.42488],[-74.08637,45.42444],[-74.0863,45.4243],[-74.08625,45.4242],[-74.08614,45.42401],[-74.08597,45.42377],[-74.08565,45.42339],[-74.08561,45.42334],[-74.08557,45.42331],[-74.08544,45.42317],[-74.0854,45.42312],[-74.08536,45.42309],[-74.08522,45.42296],[-74.08501,45.42277],[-74.0838,45.42163],[-74.08372,45.42156],[-74.08292,45.42082],[-74.08231,45.42026],[-74.08217,45.42013],[-74.08209,45.42005],[-74.08187,45.41985],[-74.08075,45.41877],[-74.0805,45.41853],[-74.08023,45.41828],[-74.0791,45.41722],[-74.07826,45.41643],[-74.07557,45.41391],[-74.0755,45.41385],[-74.07542,45.41379],[-74.07517,45.41358],[-74.07492,45.41339],[-74.07485,45.41334],[-74.0747,45.41323],[-74.07461,45.41318],[-74.07435,45.41301],[-74.07412,45.41287],[-74.07399,45.41279],[-74.07366,45.4126],[-74.07353,45.41253],[-74.07341,45.41247],[-74.07325,45.41239],[-74.07315,45.41234],[-74.07294,45.41224],[-74.07282,45.41218],[-74.07267,45.41211],[-74.07258,45.41208],[-74.07239,45.412],[-74.07229,45.41196],[-74.07222,45.41194],[-74.07202,45.41186],[-74.07182,45.4118],[-74.07152,45.4117],[-74.07091,45.4115],[-74.07022,45.41127],[-74.06996,45.41119],[-74.06966,45.4111],[-74.06919,45.41094],[-74.06877,45.4108],[-74.06829,45.41065],[-74.06697,45.41023],[-74.06658,45.41011],[-74.06615,45.40996],[-74.06595,45.40989],[-74.06569,45.4098],[-74.06552,45.40973],[-74.06516,45.40959],[-74.06479,45.40941],[-74.06466,45.40935],[-74.0645,45.40926],[-74.06428,45.40914],[-74.06426,45.40913],[-74.06416,45.40907],[-74.06396,45.40895],[-74.06368,45.40875],[-74.06361,45.4087],[-74.06356,45.40866],[-74.06334,45.40849],[-74.06327,45.40842],[-74.06306,45.40823],[-74.063,45.40818],[-74.06288,45.40807],[-74.06261,45.40781],[-74.06192,45.40712],[-74.06175,45.40695],[-74.06104,45.40628],[-74.06083,45.40607],[-74.0597,45.40493],[-74.05956,45.4048],[-74.05906,45.40432],[-74.05827,45.40357],[-74.05815,45.40346],[-74.05749,45.40281],[-74.05738,45.40271],[-74.05718,45.40252],[-74.05706,45.40241],[-74.05692,45.4023],[-74.05673,45.40215],[-74.05634,45.40186],[-74.05619,45.40176],[-74.05584,45.40152],[-74.0558,45.40149],[-74.0556,45.40136],[-74.05538,45.40123],[-74.05533,45.4012],[-74.05505,45.40106],[-74.05479,45.40093],[-74.05471,45.40089],[-74.0546,45.40084],[-74.05344,45.40032],[-74.05306,45.40015],[-74.0528,45.40003],[-74.05223,45.39977],[-74.05141,45.39939],[-74.05062,45.39904],[-74.05056,45.39901],[-74.05056,45.39901],[-74.0475,45.39763],[-74.04666,45.39725],[-74.04655,45.3972],[-74.04582,45.39687],[-74.0446,45.39632],[-74.04427,45.39617],[-74.04407,45.39608],[-74.04368,45.3959],[-74.043,45.3956],[-74.04225,45.39526],[-74.04161,45.39498],[-74.04107,45.39473],[-74.04055,45.3945],[-74.04005,45.39427],[-74.03859,45.39362],[-74.03804,45.39337],[-74.03756,45.39315],[-74.03736,45.39306],[-74.03723,45.39301],[-74.03706,45.39294],[-74.03695,45.39288],[-74.03651,45.39268],[-74.03598,45.39244],[-74.03549,45.39221],[-74.03495,45.39197],[-74.03428,45.39166],[-74.03372,45.39141],[-74.02931,45.38942],[-74.02878,45.38918],[-74.02837,45.38899],[-74.02801,45.38883],[-74.02759,45.38864],[-74.0272,45.38846],[-74.02697,45.38836],[-74.02686,45.38831],[-74.02641,45.38809],[-74.02617,45.38797],[-74.02596,45.38788],[-74.02569,45.38777],[-74.02536,45.38762],[-74.02427,45.38712],[-74.02385,45.38693],[-74.023,45.38655],[-74.02281,45.38646],[-74.02248,45.38632],[-74.02222,45.38623],[-74.02215,45.3862],[-74.02205,45.38617],[-74.02187,45.38611],[-74.0218,45.3861],[-74.02152,45.38603],[-74.02132,45.38598],[-74.02106,45.38595],[-74.02089,45.38593],[-74.02065,45.38592],[-74.02028,45.38592],[-74.0198,45.38593],[-74.01914,45.38596],[-74.01866,45.38598],[-74.01782,45.38602],[-74.01694,45.38606],[-74.0163,45.38609],[-74.01524,45.38615],[-74.01473,45.38617],[-74.01433,45.38619],[-74.01316,45.38624],[-74.0127,45.38626],[-74.01217,45.38628],[-74.01211,45.38628],[-74.0121,45.38628],[-74.01167,45.38629],[-74.01148,45.38629],[-74.0111,45.3863],[-74.01093,45.38631],[-74.01034,45.38633],[-74.00995,45.38634],[-74.00951,45.38634],[-74.00826,45.3864],[-74.00826,45.3864],[-74.00754,45.38643],[-74.00717,45.38645],[-74.00624,45.38649],[-74.00558,45.38652],[-74.00373,45.38661],[-74.00167,45.38672],[-73.99702,45.38694],[-73.99417,45.38707],[-73.99327,45.38712],[-73.99301,45.38713],[-73.99295,45.38713],[-73.99291,45.38713],[-73.99227,45.38717],[-73.99227,45.38717],[-73.99136,45.38723],[-73.9908,45.38728],[-73.99044,45.38731],[-73.99021,45.38733],[-73.98996,45.38736],[-73.98982,45.38737],[-73.98891,45.38748],[-73.98853,45.38752],[-73.98831,45.38755],[-73.9876,45.38765],[-73.9869,45.38775],[-73.98653,45.38781],[-73.98621,45.38786],[-73.98582,45.38793],[-73.98557,45.38797],[-73.98492,45.38809],[-73.98432,45.3882],[-73.98392,45.38828],[-73.98355,45.38836],[-73.98335,45.3884],[-73.98318,45.38844],[-73.98277,45.38853],[-73.98231,45.38863],[-73.98193,45.38873],[-73.98141,45.38885],[-73.98096,45.38897],[-73.98055,45.38908],[-73.98011,45.3892],[-73.98001,45.38922],[-73.97992,45.38925],[-73.97879,45.38958],[-73.97848,45.38968],[-73.9779,45.38986],[-73.97773,45.38991],[-73.97756,45.38997],[-73.97716,45.39011],[-73.97677,45.39024],[-73.97653,45.39033],[-73.97637,45.39038],[-73.97618,45.39045],[-73.97557,45.39067],[-73.97504,45.39088],[-73.97474,45.39099],[-73.97428,45.39117],[-73.97403,45.39128],[-73.97389,45.39133],[-73.97364,45.39144],[-73.97269,45.39184],[-73.97234,45.392],[-73.9719,45.3922],[-73.97155,45.39236],[-73.9711,45.39258],[-73.97085,45.3927],[-73.97059,45.39283],[-73.97006,45.3931],[-73.96982,45.39322],[-73.96967,45.39331],[-73.96885,45.39375],[-73.96816,45.39415],[-73.96778,45.39437],[-73.96753,45.39452],[-73.96743,45.39458],[-73.96692,45.3949],[-73.96683,45.39495],[-73.96668,45.39505],[-73.96643,45.39522],[-73.96623,45.39535],[-73.96586,45.3956],[-73.96567,45.39572],[-73.9654,45.39591],[-73.9654,45.39591],[-73.96459,45.39646],[-73.96438,45.39662],[-73.96409,45.39684],[-73.96391,45.39697],[-73.96386,45.39701],[-73.96348,45.39733],[-73.96331,45.39746],[-73.9631,45.39764],[-73.96276,45.39791],[-73.96207,45.3985],[-73.96165,45.39887],[-73.9613,45.39918],[-73.96114,45.39932],[-73.96104,45.39941],[-73.96058,45.39985],[-73.96001,45.40039],[-73.95953,45.40085],[-73.95905,45.4013],[-73.95873,45.4016],[-73.95865,45.40168],[-73.95823,45.40209],[-73.9577,45.40261],[-73.95729,45.403],[-73.95682,45.40346],[-73.95629,45.40398],[-73.95574,45.40451],[-73.95564,45.40462],[-73.95555,45.4047],[-73.9552,45.40503],[-73.955,45.40522],[-73.95481,45.40539],[-73.95475,45.40545],[-73.95467,45.40551],[-73.95425,45.40588],[-73.95405,45.40604],[-73.95401,45.40607],[-73.95397,45.40611],[-73.95361,45.40638],[-73.95341,45.40651],[-73.95324,45.40663],[-73.95318,45.40667],[-73.95288,45.40685],[-73.95285,45.40686],[-73.95282,45.40688],[-73.95254,45.40703],[-73.95249,45.40706],[-73.95235,45.40712],[-73.95215,45.40722],[-73.95199,45.40729],[-73.95171,45.40741],[-73.95155,45.40748],[-73.9513,45.40758],[-73.95119,45.40761],[-73.95119,45.40761],[-73.95086,45.40774],[-73.95061,45.40781],[-73.95011,45.40796],[-73.94991,45.40802],[-73.94956,45.4081],[-73.94916,45.4082],[-73.94857,45.40834],[-73.9475,45.40858],[-73.94693,45.40872],[-73.94676,45.40875],[-73.9465,45.40882],[-73.9464,45.40885],[-73.94629,45.40888],[-73.94591,45.40898],[-73.94588,45.40899],[-73.94577,45.40902],[-73.94503,45.40926],[-73.9448,45.40933],[-73.94388,45.40965],[-73.94367,45.40973],[-73.94326,45.40988],[-73.94286,45.41002],[-73.9422,45.41026],[-73.93938,45.41127],[-73.93915,45.41135],[-73.93707,45.41211],[-73.93469,45.41298],[-73.9337,45.41333],[-73.93242,45.4138],[-73.932,45.41395],[-73.93127,45.41421],[-73.9303,45.41457],[-73.92952,45.41485],[-73.92923,45.41495],[-73.92865,45.41516],[-73.92795,45.41541],[-73.92712,45.41571],[-73.92612,45.41607],[-73.92442,45.41669],[-73.91892,45.41867],[-73.91687,45.41942],[-73.91676,45.41946],[-73.9165,45.41955],[-73.91554,45.4199],[-73.91554,45.4199],[-73.91315,45.42076],[-73.91065,45.42166],[-73.90757,45.42277],[-73.90633,45.42322],[-73.90542,45.42355],[-73.90523,45.42361],[-73.9051,45.42366],[-73.90378,45.42409],[-73.9034,45.42422],[-73.90265,45.42444],[-73.90262,45.42446],[-73.90248,45.42449],[-73.90132,45.42481],[-73.90041,45.42505],[-73.90024,45.42509],[-73.89921,45.42534],[-73.89903,45.42538],[-73.89859,45.42548],[-73.89778,45.42564],[-73.89679,45.42584],[-73.89579,45.42601],[-73.89442,45.42624],[-73.89403,45.4263],[-73.89212,45.4266],[-73.88993,45.42695],[-73.88938,45.42704],[-73.88724,45.42737],[-73.88724,45.42737],[-73.8841,45.42787],[-73.88338,45.42799],[-73.88218,45.42818],[-73.87899,45.42868],[-73.87713,45.42898],[-73.87365,45.42953],[-73.87322,45.4296],[-73.87019,45.43008],[-73.8661,45.43072],[-73.86248,45.4313],[-73.86203,45.43137],[-73.86138,45.43147],[-73.86117,45.43151],[-73.8601,45.43171],[-73.85937,45.43186],[-73.85885,45.43197],[-73.85777,45.43222],[-73.85689,45.43243],[-73.85676,45.43247],[-73.85645,45.43255],[-73.85601,45.43267],[-73.85543,45.43282],[-73.85371,45.43329],[-73.85031,45.4342],[-73.84966,45.43437],[-73.84892,45.43457],[-73.84817,45.43477],[-73.84746,45.43496],[-73.84739,45.43498],[-73.84739,45.43498],[-73.8464,45.43525],[-73.84567,45.43545],[-73.84494,45.43565],[-73.84418,45.43585],[-73.84344,45.43605],[-73.84263,45.43627],[-73.83901,45.43724],[-73.8371,45.43776],[-73.83486,45.43837],[-73.83188,45.43916],[-73.83125,45.43933],[-73.8305,45.43954],[-73.82975,45.43975],[-73.829,45.43995],[-73.82791,45.44024],[-73.82673,45.44056],[-73.82592,45.44078],[-73.82505,45.44102],[-73.82404,45.44129],[-73.82303,45.44156],[-73.82247,45.44171],[-73.82189,45.44186],[-73.82132,45.44202],[-73.82105,45.44209],[-73.81987,45.44241],[-73.81987,45.44241],[-73.81845,45.4428],[-73.81585,45.44349],[-73.81561,45.44356],[-73.81478,45.44379],[-73.81436,45.4439],[-73.81417,45.44396],[-73.81333,45.44422],[-73.81154,45.44476],[-73.81034,45.44513],[-73.8097,45.44532],[-73.80906,45.44552],[-73.80829,45.44575],[-73.80528,45.44666],[-73.80467,45.44684],[-73.80342,45.44722],[-73.80342,45.44722],[-73.80221,45.44758],[-73.8008,45.44797],[-73.80049,45.44806],[-73.8004,45.44808],[-73.79995,45.44819],[-73.79904,45.4484],[-73.79879,45.44846],[-73.79791,45.44866],[-73.79766,45.44871],[-73.79744,45.44875],[-73.79665,45.44891],[-73.7965,45.44894],[-73.79615,45.449],[-73.79562,45.44909],[-73.79506,45.44918],[-73.7949,45.44921],[-73.79389,45.44936],[-73.79371,45.44939],[-73.79361,45.4494],[-73.79213,45.44958],[-73.79191,45.44961],[-73.79153,45.44965],[-73.79134,45.44967],[-73.79085,45.44971],[-73.79086,45.44971],[-73.79041,45.44976],[-73.78964,45.44982],[-73.78957,45.44982],[-73.78935,45.44984],[-73.78816,45.44991],[-73.78787,45.44993],[-73.78767,45.44993],[-73.78603,45.44998],[-73.78449,45.44998],[-73.78418,45.44998],[-73.78174,45.44993],[-73.78135,45.44993],[-73.7805,45.44991],[-73.78042,45.44991],[-73.78015,45.4499],[-73.77746,45.44985],[-73.77674,45.44984],[-73.77546,45.44981],[-73.76959,45.44969],[-73.76862,45.44967],[-73.76839,45.44967],[-73.7668,45.44964],[-73.76587,45.44963],[-73.76426,45.44959],[-73.76426,45.44959],[-73.76343,45.44957],[-73.76192,45.44954],[-73.7605,45.44951],[-73.76019,45.4495],[-73.75716,45.44944],[-73.75616,45.44943],[-73.75546,45.44941],[-73.75364,45.44938],[-73.7503,45.44932],[-73.74989,45.44931],[-73.74806,45.44927],[-73.74411,45.4492],[-73.74311,45.44918],[-73.74311,45.44918],[-73.73897,45.4491],[-73.73808,45.44908],[-73.73717,45.44907],[-73.73708,45.44906],[-73.73669,45.44907],[-73.73615,45.44908],[-73.73603,45.44908],[-73.73535,45.4491],[-73.73496,45.44911],[-73.73429,45.44911],[-73.73417,45.44911],[-73.73387,45.44911],[-73.73334,45.4491],[-73.73304,45.44909],[-73.73299,45.44909],[-73.73233,45.44908],[-73.73175,45.44907],[-73.73141,45.44906],[-73.73119,45.44906],[-73.73099,45.44906],[-73.73073,45.44905],[-73.73051,45.44904],[-73.72915,45.44902],[-73.7286,45.449],[-73.72815,45.449],[-73.72343,45.44891],[-73.72168,45.44887],[-73.72088,45.44886],[-73.71837,45.44881],[-73.71684,45.44877],[-73.71464,45.44873],[-73.71354,45.44871],[-73.71133,45.44866],[-73.71133,45.44866],[-73.70923,45.44862],[-73.708,45.4486],[-73.70788,45.4486],[-73.70779,45.4486],[-73.70735,45.4486],[-73.70714,45.4486],[-73.70691,45.4486],[-73.70686,45.4486],[-73.70673,45.44861],[-73.70616,45.44864],[-73.70599,45.44864],[-73.70552,45.44867],[-73.70505,45.4487],[-73.70499,45.44871],[-73.70485,45.44872],[-73.70411,45.44877],[-73.70341,45.44883],[-73.70286,45.44887],[-73.70198,45.44893],[-73.70111,45.449],[-73.70011,45.44907],[-73.69956,45.44911],[-73.69895,45.44916],[-73.69763,45.44925],[-73.69646,45.44934],[-73.69387,45.44953],[-73.6931,45.44959],[-73.69265,45.44962],[-73.69224,45.44965],[-73.69183,45.44969],[-73.69159,45.44971],[-73.69127,45.44975],[-73.69109,45.44976],[-73.69098,45.44978],[-73.6907,45.44982],[-73.69038,45.44986],[-73.68949,45.45],[-73.68924,45.45004],[-73.68847,45.45017],[-73.68808,45.45023],[-73.68724,45.45037],[-73.68694,45.45041],[-73.68675,45.45045],[-73.6866,45.45047],[-73.68645,45.45049],[-73.68633,45.45051],[-73.6854,45.45066],[-73.68445,45.45081],[-73.68334,45.45099],[-73.68235,45.45115],[-73.68108,45.45136],[-73.68033,45.45148],[-73.67794,45.45187],[-73.67744,45.45195],[-73.67683,45.45205],[-73.67614,45.45217],[-73.67545,45.45228],[-73.67434,45.45245],[-73.67365,45.45256],[-73.6718,45.45287],[-73.67109,45.45297],[-73.67101,45.45299],[-73.67093,45.453],[-73.67063,45.45303],[-73.67044,45.45305],[-73.67024,45.45307],[-73.67015,45.45308],[-73.66986,45.4531],[-73.6697,45.45311],[-73.66933,45.45313],[-73.66889,45.45314],[-73.66854,45.45313],[-73.66844,45.45313],[-73.66834,45.45312],[-73.668,45.45311],[-73.66732,45.45306],[-73.66673,45.45298],[-73.66652,45.45296],[-73.66385,45.45261],[-73.66086,45.45222],[-73.65854,45.45191],[-73.65784,45.45182],[-73.65681,45.45168],[-73.65642,45.45164],[-73.65611,45.4516],[-73.65581,45.45156],[-73.65291,45.45115],[-73.65223,45.45106],[-73.65215,45.45105],[-73.65187,45.45102],[-73.65144,45.45097],[-73.65101,45.45092],[-73.65057,45.45089],[-73.65052,45.45089],[-73.65011,45.45088],[-73.64995,45.45088],[-73.64959,45.45089],[-73.64948,45.4509],[-73.64942,45.4509],[-73.64899,45.45093],[-73.64853,45.45097],[-73.64805,45.45104],[-73.64799,45.45105],[-73.64759,45.45112],[-73.64714,45.45123],[-73.647,45.45126],[-73.64646,45.45141],[-73.646,45.45157],[-73.64593,45.45159],[-73.64582,45.45163],[-73.64552,45.45175],[-73.64548,45.45176],[-73.64528,45.45185],[-73.64511,45.45192],[-73.64503,45.45196],[-73.64458,45.45218],[-73.64448,45.45224],[-73.64319,45.4529],[-73.64261,45.45321],[-73.64173,45.45367],[-73.64179,45.45376],[-73.64106,45.45414],[-73.64046,45.45445],[-73.64004,45.45467],[-73.63949,45.45493],[-73.63915,45.45508],[-73.63887,45.45519],[-73.63856,45.45535],[-73.63784,45.45568],[-73.63752,45.45584],[-73.63554,45.45687],[-73.63451,45.45741],[-73.63365,45.45785],[-73.63074,45.45936],[-73.62989,45.4598],[-73.6274,45.46111],[-73.62553,45.46207],[-73.62521,45.46224],[-73.62434,45.46269],[-73.62376,45.46299],[-73.62263,45.46358],[-73.62116,45.46435],[-73.61998,45.46497],[-73.61911,45.46542],[-73.61678,45.46663],[-73.61525,45.46742],[-73.6144,45.46785],[-73.61387,45.46813],[-73.61294,45.46861],[-73.61156,45.46933],[-73.60985,45.47023],[-73.60858,45.47088],[-73.60849,45.47093],[-73.60838,45.47098],[-73.60773,45.47132],[-73.60759,45.47139],[-73.60745,45.47147],[-73.60632,45.47205],[-73.60612,45.47215],[-73.60602,45.47221],[-73.60594,45.47225],[-73.60587,45.47228],[-73.60503,45.47272],[-73.60471,45.47289],[-73.60438,45.47306],[-73.60343,45.47358],[-73.60334,45.47363],[-73.60327,45.47366],[-73.60309,45.47377],[-73.60309,45.47377],[-73.60267,45.474],[-73.60161,45.4746],[-73.59945,45.47581],[-73.5985,45.47635],[-73.59783,45.47673],[-73.59758,45.47687],[-73.59719,45.4771],[-73.59572,45.47795],[-73.59514,45.47828],[-73.59477,45.47849],[-73.59474,45.4785],[-73.59425,45.47883],[-73.59409,45.47893],[-73.59399,45.47898],[-73.5929,45.47958],[-73.59191,45.48015],[-73.59104,45.48068],[-73.59007,45.48127],[-73.59006,45.48128],[-73.58944,45.48168],[-73.58819,45.4825],[-73.58717,45.48317],[-73.58636,45.4837],[-73.58491,45.48465],[-73.5848,45.48472],[-73.5818,45.48664],[-73.58027,45.48763],[-73.58016,45.4877],[-73.57998,45.48782],[-73.57951,45.48815],[-73.57912,45.48842],[-73.57903,45.48849],[-73.57824,45.48908],[-73.57801,45.48927],[-73.57695,45.49011],[-73.57679,45.49024],[-73.57672,45.4903],[-73.5764,45.49054],[-73.57608,45.49079],[-73.57595,45.49089],[-73.57585,45.49096],[-73.57507,45.49153],[-73.57463,45.49184],[-73.57398,45.49231],[-73.57336,45.49276],[-73.5727,45.49325],[-73.57243,45.49354],[-73.57077,45.49475]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.57077,45.49475],[-73.57243,45.49354],[-73.57271,45.49325],[-73.57336,45.49276],[-73.57409,45.49223],[-73.57463,45.49184],[-73.57494,45.49162],[-73.57524,45.49141],[-73.57581,45.49099],[-73.57615,45.49073],[-73.57676,45.49027],[-73.57757,45.48962],[-73.57798,45.48929],[-73.57841,45.48896],[-73.57909,45.48844],[-73.57972,45.48801],[-73.58001,45.4878],[-73.58028,45.48762],[-73.5814,45.4869],[-73.58297,45.48589],[-73.58487,45.48468],[-73.58636,45.4837],[-73.58767,45.48284],[-73.58916,45.48187],[-73.59007,45.48127],[-73.59137,45.48048],[-73.59189,45.48017],[-73.5929,45.47958],[-73.5931,45.47947],[-73.5941,45.47892],[-73.59422,45.47884],[-73.59474,45.4785],[-73.59533,45.47817],[-73.59581,45.4779],[-73.59723,45.47708],[-73.59748,45.47693],[-73.5982,45.47652],[-73.59927,45.47591],[-73.59982,45.47561],[-73.60146,45.47468],[-73.60309,45.47377],[-73.60309,45.47377],[-73.60348,45.47355],[-73.6048,45.47284],[-73.60587,45.47228],[-73.60974,45.47028],[-73.6122,45.469],[-73.61423,45.46794],[-73.61737,45.46632],[-73.61928,45.46533],[-73.61976,45.46508],[-73.62131,45.46427],[-73.62343,45.46316],[-73.62525,45.46222],[-73.62837,45.4606],[-73.62973,45.45989],[-73.63368,45.45783],[-73.6352,45.45705],[-73.63607,45.4566],[-73.63781,45.4557],[-73.63792,45.45564],[-73.63857,45.45535],[-73.63887,45.45519],[-73.63919,45.45506],[-73.63951,45.45492],[-73.64005,45.45467],[-73.64015,45.45461],[-73.6403,45.45453],[-73.64182,45.45374],[-73.64173,45.45367],[-73.64274,45.45314],[-73.64366,45.45266],[-73.64458,45.45218],[-73.64506,45.45195],[-73.64515,45.4519],[-73.64545,45.45177],[-73.6459,45.4516],[-73.64636,45.45145],[-73.64646,45.45141],[-73.64684,45.45131],[-73.64702,45.45126],[-73.64733,45.45119],[-73.64767,45.45111],[-73.64813,45.45103],[-73.64853,45.45097],[-73.64899,45.45093],[-73.64942,45.4509],[-73.64959,45.45089],[-73.64998,45.45088],[-73.65047,45.45089],[-73.65098,45.45092],[-73.65144,45.45097],[-73.6519,45.45102],[-73.65215,45.45105],[-73.65235,45.45108],[-73.65354,45.45124],[-73.65588,45.45157],[-73.65657,45.45165],[-73.65809,45.45185],[-73.66091,45.45222],[-73.66611,45.45291],[-73.66671,45.45298],[-73.66729,45.45305],[-73.668,45.45311],[-73.66841,45.45313],[-73.66866,45.45313],[-73.66889,45.45314],[-73.66918,45.45313],[-73.66938,45.45313],[-73.66961,45.45312],[-73.66978,45.45311],[-73.67018,45.45308],[-73.67059,45.45304],[-73.67093,45.453],[-73.6718,45.45287],[-73.67268,45.45272],[-73.67352,45.45258],[-73.67557,45.45226],[-73.67734,45.45197],[-73.67871,45.45174],[-73.68006,45.45153],[-73.68376,45.45092],[-73.68592,45.45058],[-73.68654,45.45048],[-73.68747,45.45033],[-73.68803,45.45024],[-73.68901,45.45008],[-73.69031,45.44987],[-73.6907,45.44982],[-73.69111,45.44976],[-73.69141,45.44973],[-73.69172,45.4497],[-73.69221,45.44965],[-73.69248,45.44963],[-73.69438,45.44949],[-73.6965,45.44934],[-73.69801,45.44923],[-73.69936,45.44913],[-73.70093,45.44901],[-73.70263,45.44889],[-73.70349,45.44882],[-73.70447,45.44875],[-73.70518,45.44869],[-73.70571,45.44866],[-73.70605,45.44864],[-73.70688,45.4486],[-73.70739,45.4486],[-73.70791,45.4486],[-73.70897,45.44862],[-73.71133,45.44866],[-73.71133,45.44866],[-73.71482,45.44873],[-73.71684,45.44877],[-73.72071,45.44885],[-73.72444,45.44892],[-73.7287,45.44901],[-73.73158,45.44907],[-73.73296,45.44909],[-73.73377,45.44911],[-73.73417,45.44911],[-73.73463,45.44911],[-73.73499,45.44911],[-73.73598,45.44908],[-73.73626,45.44908],[-73.73703,45.44907],[-73.7379,45.44908],[-73.73864,45.44913],[-73.74,45.44916],[-73.74167,45.44919],[-73.74311,45.44922],[-73.74311,45.44922],[-73.74703,45.44929],[-73.75022,45.44935],[-73.75307,45.44941],[-73.75593,45.44946],[-73.75845,45.44951],[-73.75936,45.44953],[-73.76048,45.44955],[-73.76414,45.44963],[-73.76601,45.44967],[-73.76796,45.4497],[-73.76931,45.44973],[-73.77126,45.44977],[-73.7767,45.44988],[-73.77927,45.44993],[-73.7802,45.44994],[-73.78227,45.44998],[-73.78278,45.45],[-73.78415,45.45002],[-73.78605,45.45002],[-73.78787,45.44997],[-73.78929,45.44988],[-73.78959,45.44986],[-73.79032,45.4498],[-73.79047,45.44979],[-73.79107,45.44973],[-73.79136,45.44971],[-73.79195,45.44964],[-73.79206,45.44963],[-73.79371,45.44943],[-73.79505,45.44923],[-73.79646,45.44899],[-73.7968,45.44892],[-73.79764,45.44876],[-73.79879,45.4485],[-73.80049,45.4481],[-73.80223,45.44762],[-73.80343,45.44726],[-73.80343,45.44726],[-73.80463,45.4469],[-73.80573,45.44657],[-73.80785,45.44593],[-73.80929,45.44549],[-73.81041,45.44515],[-73.81436,45.44394],[-73.81563,45.4436],[-73.81623,45.44344],[-73.81852,45.44282],[-73.81975,45.44248],[-73.82075,45.44221],[-73.82147,45.44202],[-73.82378,45.4414],[-73.8258,45.44085],[-73.82938,45.43989],[-73.8302,45.43967],[-73.8312,45.43939],[-73.83235,45.43908],[-73.83476,45.43844],[-73.83728,45.43776],[-73.83875,45.43736],[-73.84003,45.43701],[-73.84249,45.43635],[-73.84305,45.43615],[-73.84485,45.43567],[-73.84727,45.43501],[-73.84739,45.43498]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.57077,45.49475],[-73.57243,45.49354],[-73.57271,45.49325],[-73.57336,45.49276],[-73.57409,45.49223],[-73.57463,45.49184],[-73.57494,45.49162],[-73.57524,45.49141],[-73.57581,45.49099],[-73.57615,45.49073],[-73.57676,45.49027],[-73.57757,45.48962],[-73.57798,45.48929],[-73.57841,45.48896],[-73.57909,45.48844],[-73.57972,45.48801],[-73.58001,45.4878],[-73.58028,45.48762],[-73.5814,45.4869],[-73.58297,45.48589],[-73.58487,45.48468],[-73.58636,45.4837],[-73.58767,45.48284],[-73.58916,45.48187],[-73.59007,45.48127],[-73.59137,45.48048],[-73.59189,45.48017],[-73.5929,45.47958],[-73.5931,45.47947],[-73.5941,45.47892],[-73.59422,45.47884],[-73.59474,45.4785],[-73.59533,45.47817],[-73.59581,45.4779],[-73.59723,45.47708],[-73.59748,45.47693],[-73.5982,45.47652],[-73.59927,45.47591],[-73.59982,45.47561],[-73.60146,45.47468],[-73.60309,45.47377],[-73.60309,45.47377],[-73.60348,45.47355],[-73.6048,45.47284],[-73.60587,45.47228],[-73.60974,45.47028],[-73.6122,45.469],[-73.61423,45.46794],[-73.61737,45.46632],[-73.61928,45.46533],[-73.61976,45.46508],[-73.62131,45.46427],[-73.62343,45.46316],[-73.62525,45.46222],[-73.62837,45.4606],[-73.62973,45.45989],[-73.63368,45.45783],[-73.6352,45.45705],[-73.63607,45.4566],[-73.63781,45.4557],[-73.63792,45.45564],[-73.63857,45.45535],[-73.63887,45.45519],[-73.63919,45.45506],[-73.63951,45.45492],[-73.64005,45.45467],[-73.64015,45.45461],[-73.6403,45.45453],[-73.64182,45.45374],[-73.64173,45.45367],[-73.64274,45.45314],[-73.64366,45.45266],[-73.64458,45.45218],[-73.64506,45.45195],[-73.64515,45.4519],[-73.64545,45.45177],[-73.6459,45.4516],[-73.64636,45.45145],[-73.64646,45.45141],[-73.64684,45.45131],[-73.64702,45.45126],[-73.64733,45.45119],[-73.64767,45.45111],[-73.64813,45.45103],[-73.64853,45.45097],[-73.64899,45.45093],[-73.64942,45.4509],[-73.64959,45.45089],[-73.64998,45.45088],[-73.65047,45.45089],[-73.65098,45.45092],[-73.65144,45.45097],[-73.6519,45.45102],[-73.65215,45.45105],[-73.65235,45.45108],[-73.65354,45.45124],[-73.65588,45.45157],[-73.65657,45.45165],[-73.65809,45.45185],[-73.66091,45.45222],[-73.66611,45.45291],[-73.66671,45.45298],[-73.66729,45.45305],[-73.668,45.45311],[-73.66841,45.45313],[-73.66866,45.45313],[-73.66889,45.45314],[-73.66918,45.45313],[-73.66938,45.45313],[-73.66961,45.45312],[-73.66978,45.45311],[-73.67018,45.45308],[-73.67059,45.45304],[-73.67093,45.453],[-73.6718,45.45287],[-73.67268,45.45272],[-73.67352,45.45258],[-73.67557,45.45226],[-73.67734,45.45197],[-73.67871,45.45174],[-73.68006,45.45153],[-73.68376,45.45092],[-73.68592,45.45058],[-73.68654,45.45048],[-73.68747,45.45033],[-73.68803,45.45024],[-73.68901,45.45008],[-73.69031,45.44987],[-73.6907,45.44982],[-73.69111,45.44976],[-73.69141,45.44973],[-73.69172,45.4497],[-73.69221,45.44965],[-73.69248,45.44963],[-73.69438,45.44949],[-73.6965,45.44934],[-73.69801,45.44923],[-73.69936,45.44913],[-73.70093,45.44901],[-73.70263,45.44889],[-73.70349,45.44882],[-73.70447,45.44875],[-73.70518,45.44869],[-73.70571,45.44866],[-73.70605,45.44864],[-73.70688,45.4486],[-73.70739,45.4486],[-73.70791,45.4486],[-73.70897,45.44862],[-73.71133,45.44866],[-73.71133,45.44866],[-73.71482,45.44873],[-73.71684,45.44877],[-73.72071,45.44885],[-73.72444,45.44892],[-73.7287,45.44901],[-73.73158,45.44907],[-73.73296,45.44909],[-73.73377,45.44911],[-73.73417,45.44911],[-73.73463,45.44911],[-73.73499,45.44911],[-73.73598,45.44908],[-73.73626,45.44908],[-73.73703,45.44907],[-73.7379,45.44908],[-73.73864,45.44913],[-73.74,45.44916],[-73.74167,45.44919],[-73.74311,45.44922],[-73.74311,45.44922],[-73.74703,45.44929],[-73.75022,45.44935],[-73.75307,45.44941],[-73.75593,45.44946],[-73.75845,45.44951],[-73.75936,45.44953],[-73.76048,45.44955],[-73.76414,45.44963],[-73.76601,45.44967],[-73.76796,45.4497],[-73.76931,45.44973],[-73.77126,45.44977],[-73.7767,45.44988],[-73.77927,45.44993],[-73.7802,45.44994],[-73.78227,45.44998],[-73.78278,45.45],[-73.78415,45.45002],[-73.78605,45.45002],[-73.78787,45.44997],[-73.78929,45.44988],[-73.78959,45.44986],[-73.79032,45.4498],[-73.79047,45.44979],[-73.79107,45.44973],[-73.79136,45.44971],[-73.79195,45.44964],[-73.79206,45.44963],[-73.79371,45.44943],[-73.79505,45.44923],[-73.79646,45.44899],[-73.7968,45.44892],[-73.79764,45.44876],[-73.79879,45.4485],[-73.80049,45.4481],[-73.80223,45.44762],[-73.80343,45.44726],[-73.80343,45.44726],[-73.80463,45.4469],[-73.80573,45.44657],[-73.80785,45.44593],[-73.80929,45.44549],[-73.81041,45.44515],[-73.81436,45.44394],[-73.81563,45.4436],[-73.81623,45.44344],[-73.81852,45.44282],[-73.81975,45.44248],[-73.82075,45.44221],[-73.82147,45.44202],[-73.82378,45.4414],[-73.8258,45.44085],[-73.82938,45.43989],[-73.8302,45.43967],[-73.8312,45.43939],[-73.83235,45.43908],[-73.83476,45.43844],[-73.83728,45.43776],[-73.83875,45.43736],[-73.84003,45.43701],[-73.84249,45.43635],[-73.84305,45.43615],[-73.84485,45.43567],[-73.84727,45.43501],[-73.84739,45.43498],[-73.84739,45.43498],[-73.8475,45.43495],[-73.84862,45.43465],[-73.851,45.43401],[-73.85525,45.43287],[-73.8561,45.43264],[-73.8568,45.43246],[-73.85779,45.43221],[-73.85853,45.43204],[-73.85887,45.43196],[-73.85899,45.43194],[-73.85981,45.43177],[-73.86023,45.43169],[-73.86133,45.43148],[-73.86196,45.43138],[-73.86262,45.43127],[-73.86514,45.43088],[-73.86615,45.43071],[-73.8673,45.43053],[-73.86904,45.43026],[-73.87213,45.42977],[-73.8755,45.42923],[-73.8787,45.42873],[-73.88217,45.42818],[-73.88483,45.42776],[-73.88556,45.42764],[-73.88574,45.42761],[-73.88943,45.42703],[-73.89098,45.42678],[-73.89345,45.42639],[-73.89422,45.42627],[-73.89579,45.42601],[-73.89655,45.42588],[-73.89677,45.42585],[-73.89688,45.42583],[-73.89758,45.42568],[-73.89852,45.42549],[-73.89913,45.42536],[-73.90045,45.42504],[-73.90127,45.42483],[-73.90199,45.42463],[-73.9025,45.42449],[-73.90263,45.42445],[-73.90335,45.42423],[-73.90483,45.42375],[-73.90518,45.42363],[-73.9054,45.42355],[-73.9073,45.42287],[-73.9077,45.42273],[-73.91289,45.42085],[-73.91554,45.4199],[-73.91554,45.4199],[-73.91676,45.41946],[-73.91857,45.4188],[-73.92164,45.41769],[-73.92442,45.41669],[-73.92636,45.41599],[-73.92921,45.41496],[-73.93197,45.41396],[-73.93336,45.41346],[-73.93672,45.41224],[-73.93918,45.41134],[-73.94114,45.41064],[-73.94232,45.41022],[-73.94291,45.41],[-73.94356,45.40977],[-73.94394,45.40963],[-73.94467,45.40938],[-73.94486,45.40931],[-73.94568,45.40905],[-73.94588,45.40899],[-73.94635,45.40886],[-73.94683,45.40874],[-73.9473,45.40863],[-73.94754,45.40857],[-73.94784,45.4085],[-73.94823,45.40842],[-73.94875,45.4083],[-73.94919,45.40819],[-73.94958,45.4081],[-73.94991,45.40802],[-73.95086,45.40774],[-73.9512,45.40761],[-73.9512,45.40761],[-73.95132,45.40757],[-73.95145,45.40752],[-73.95169,45.40742],[-73.95211,45.40724],[-73.95218,45.4072],[-73.95251,45.40705],[-73.95285,45.40687],[-73.95321,45.40665],[-73.95328,45.4066],[-73.95362,45.40637],[-73.95394,45.40613],[-73.95407,45.40603],[-73.95469,45.4055],[-73.95484,45.40536],[-73.95502,45.4052],[-73.95555,45.4047],[-73.95566,45.4046],[-73.95693,45.40335],[-73.95729,45.403],[-73.95856,45.40177],[-73.95873,45.40161],[-73.9596,45.40077],[-73.96106,45.39939],[-73.96114,45.39932],[-73.96143,45.39906],[-73.96204,45.39852],[-73.96278,45.3979],[-73.96315,45.39759],[-73.96389,45.39699],[-73.96437,45.39663],[-73.96456,45.39648],[-73.9654,45.39591],[-73.9654,45.39591],[-73.96584,45.39561],[-73.96628,45.39531],[-73.96644,45.39521],[-73.96681,45.39497],[-73.96722,45.39471],[-73.9675,45.39454],[-73.96807,45.3942],[-73.96865,45.39386],[-73.96889,45.39373],[-73.96964,45.39332],[-73.96983,45.39322],[-73.9702,45.39303],[-73.97069,45.39278],[-73.97118,45.39254],[-73.97154,45.39236],[-73.9716,45.39233],[-73.97228,45.39202],[-73.97306,45.39168],[-73.97375,45.39139],[-73.97392,45.39132],[-73.97454,45.39107],[-73.97474,45.39099],[-73.97553,45.39068],[-73.97568,45.39063],[-73.97649,45.39034],[-73.97753,45.38998],[-73.97773,45.38992],[-73.97841,45.3897],[-73.97933,45.38942],[-73.98004,45.38921],[-73.98051,45.38909],[-73.98146,45.38884],[-73.98199,45.38871],[-73.98233,45.38863],[-73.98327,45.38841],[-73.98337,45.38839],[-73.98381,45.3883],[-73.98484,45.3881],[-73.98574,45.38794],[-73.98588,45.38792],[-73.98668,45.38779],[-73.98744,45.38767],[-73.98791,45.38761],[-73.98849,45.38753],[-73.98975,45.38738],[-73.99039,45.38732],[-73.99111,45.38725],[-73.99132,45.38723],[-73.99149,45.38722],[-73.99228,45.38717],[-73.99227,45.38717],[-73.99296,45.38713],[-73.99389,45.38709],[-73.99659,45.38696],[-73.99928,45.38683],[-74.00195,45.3867],[-74.00426,45.38659],[-74.00581,45.38651],[-74.00625,45.38649],[-74.00732,45.38644],[-74.00825,45.3864],[-74.00825,45.3864],[-74.00949,45.38634],[-74.00992,45.38634],[-74.01059,45.38632],[-74.01144,45.38629],[-74.01193,45.38629],[-74.0122,45.38628],[-74.01264,45.38626],[-74.01455,45.38618],[-74.01745,45.38604],[-74.0187,45.38598],[-74.01912,45.38596],[-74.01982,45.38593],[-74.02029,45.38592],[-74.0205,45.38592],[-74.02066,45.38592],[-74.02078,45.38593],[-74.0209,45.38593],[-74.02104,45.38595],[-74.02132,45.38598],[-74.02187,45.38611],[-74.02193,45.38614],[-74.02215,45.3862],[-74.02248,45.38632],[-74.02275,45.38643],[-74.02332,45.38669],[-74.02407,45.38703],[-74.02534,45.38761],[-74.02621,45.38799],[-74.02693,45.38833],[-74.02734,45.38852],[-74.02898,45.38927],[-74.03101,45.39018],[-74.03338,45.39126],[-74.03526,45.39211],[-74.03657,45.39271],[-74.03703,45.39292],[-74.03719,45.39299],[-74.03737,45.39307],[-74.03765,45.39319],[-74.04019,45.39434],[-74.0454,45.39668],[-74.04666,45.39724],[-74.05054,45.399]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.84739,45.43498],[-73.8464,45.43525],[-73.84567,45.43545],[-73.84494,45.43565],[-73.84418,45.43585],[-73.84344,45.43605],[-73.84263,45.43627],[-73.83901,45.43724],[-73.8371,45.43776],[-73.83486,45.43837],[-73.83188,45.43916],[-73.83125,45.43933],[-73.8305,45.43954],[-73.82975,45.43975],[-73.829,45.43995],[-73.82791,45.44024],[-73.82673,45.44056],[-73.82592,45.44078],[-73.82505,45.44102],[-73.82404,45.44129],[-73.82303,45.44156],[-73.82247,45.44171],[-73.82189,45.44186],[-73.82132,45.44202],[-73.82105,45.44209],[-73.81987,45.44241],[-73.81987,45.44241],[-73.81845,45.4428],[-73.81585,45.44349],[-73.81561,45.44356],[-73.81478,45.44379],[-73.81436,45.4439],[-73.81417,45.44396],[-73.81333,45.44422],[-73.81154,45.44476],[-73.81034,45.44513],[-73.8097,45.44532],[-73.80906,45.44552],[-73.80829,45.44575],[-73.80528,45.44666],[-73.80467,45.44684],[-73.80342,45.44722],[-73.80342,45.44722],[-73.80221,45.44758],[-73.8008,45.44797],[-73.80049,45.44806],[-73.8004,45.44808],[-73.79995,45.44819],[-73.79904,45.4484],[-73.79879,45.44846],[-73.79791,45.44866],[-73.79766,45.44871],[-73.79744,45.44875],[-73.79665,45.44891],[-73.7965,45.44894],[-73.79615,45.449],[-73.79562,45.44909],[-73.79506,45.44918],[-73.7949,45.44921],[-73.79389,45.44936],[-73.79371,45.44939],[-73.79361,45.4494],[-73.79213,45.44958],[-73.79191,45.44961],[-73.79153,45.44965],[-73.79134,45.44967],[-73.79085,45.44971],[-73.79086,45.44971],[-73.79041,45.44976],[-73.78964,45.44982],[-73.78957,45.44982],[-73.78935,45.44984],[-73.78816,45.44991],[-73.78787,45.44993],[-73.78767,45.44993],[-73.78603,45.44998],[-73.78449,45.44998],[-73.78418,45.44998],[-73.78174,45.44993],[-73.78135,45.44993],[-73.7805,45.44991],[-73.78042,45.44991],[-73.78015,45.4499],[-73.77746,45.44985],[-73.77674,45.44984],[-73.77546,45.44981],[-73.76959,45.44969],[-73.76862,45.44967],[-73.76839,45.44967],[-73.7668,45.44964],[-73.76587,45.44963],[-73.76426,45.44959],[-73.76426,45.44959],[-73.76343,45.44957],[-73.76192,45.44954],[-73.7605,45.44951],[-73.76019,45.4495],[-73.75716,45.44944],[-73.75616,45.44943],[-73.75546,45.44941],[-73.75364,45.44938],[-73.7503,45.44932],[-73.74989,45.44931],[-73.74806,45.44927],[-73.74411,45.4492],[-73.74311,45.44918],[-73.74311,45.44918],[-73.73897,45.4491],[-73.73808,45.44908],[-73.73717,45.44907],[-73.73708,45.44906],[-73.73669,45.44907],[-73.73615,45.44908],[-73.73603,45.44908],[-73.73535,45.4491],[-73.73496,45.44911],[-73.73429,45.44911],[-73.73417,45.44911],[-73.73387,45.44911],[-73.73334,45.4491],[-73.73304,45.44909],[-73.73299,45.44909],[-73.73233,45.44908],[-73.73175,45.44907],[-73.73141,45.44906],[-73.73119,45.44906],[-73.73099,45.44906],[-73.73073,45.44905],[-73.73051,45.44904],[-73.72915,45.44902],[-73.7286,45.449],[-73.72815,45.449],[-73.72343,45.44891],[-73.72168,45.44887],[-73.72088,45.44886],[-73.71837,45.44881],[-73.71684,45.44877],[-73.71464,45.44873],[-73.71354,45.44871],[-73.71133,45.44866],[-73.71133,45.44866],[-73.70923,45.44862],[-73.708,45.4486],[-73.70788,45.4486],[-73.70779,45.4486],[-73.70735,45.4486],[-73.70714,45.4486],[-73.70691,45.4486],[-73.70686,45.4486],[-73.70673,45.44861],[-73.70616,45.44864],[-73.70599,45.44864],[-73.70552,45.44867],[-73.70505,45.4487],[-73.70499,45.44871],[-73.70485,45.44872],[-73.70411,45.44877],[-73.70341,45.44883],[-73.70286,45.44887],[-73.70198,45.44893],[-73.70111,45.449],[-73.70011,45.44907],[-73.69956,45.44911],[-73.69895,45.44916],[-73.69763,45.44925],[-73.69646,45.44934],[-73.69387,45.44953],[-73.6931,45.44959],[-73.69265,45.44962],[-73.69224,45.44965],[-73.69183,45.44969],[-73.69159,45.44971],[-73.69127,45.44975],[-73.69109,45.44976],[-73.69098,45.44978],[-73.6907,45.44982],[-73.69038,45.44986],[-73.68949,45.45],[-73.68924,45.45004],[-73.68847,45.45017],[-73.68808,45.45023],[-73.68724,45.45037],[-73.68694,45.45041],[-73.68675,45.45045],[-73.6866,45.45047],[-73.68645,45.45049],[-73.68633,45.45051],[-73.6854,45.45066],[-73.68445,45.45081],[-73.68334,45.45099],[-73.68235,45.45115],[-73.68108,45.45136],[-73.68033,45.45148],[-73.67794,45.45187],[-73.67744,45.45195],[-73.67683,45.45205],[-73.67614,45.45217],[-73.67545,45.45228],[-73.67434,45.45245],[-73.67365,45.45256],[-73.6718,45.45287],[-73.67109,45.45297],[-73.67101,45.45299],[-73.67093,45.453],[-73.67063,45.45303],[-73.67044,45.45305],[-73.67024,45.45307],[-73.67015,45.45308],[-73.66986,45.4531],[-73.6697,45.45311],[-73.66933,45.45313],[-73.66889,45.45314],[-73.66854,45.45313],[-73.66844,45.45313],[-73.66834,45.45312],[-73.668,45.45311],[-73.66732,45.45306],[-73.66673,45.45298],[-73.66652,45.45296],[-73.66385,45.45261],[-73.66086,45.45222],[-73.65854,45.45191],[-73.65784,45.45182],[-73.65681,45.45168],[-73.65642,45.45164],[-73.65611,45.4516],[-73.65581,45.45156],[-73.65291,45.45115],[-73.65223,45.45106],[-73.65215,45.45105],[-73.65187,45.45102],[-73.65144,45.45097],[-73.65101,45.45092],[-73.65057,45.45089],[-73.65052,45.45089],[-73.65011,45.45088],[-73.64995,45.45088],[-73.64959,45.45089],[-73.64948,45.4509],[-73.64942,45.4509],[-73.64899,45.45093],[-73.64853,45.45097],[-73.64805,45.45104],[-73.64799,45.45105],[-73.64759,45.45112],[-73.64714,45.45123],[-73.647,45.45126],[-73.64646,45.45141],[-73.646,45.45157],[-73.64593,45.45159],[-73.64582,45.45163],[-73.64552,45.45175],[-73.64548,45.45176],[-73.64528,45.45185],[-73.64511,45.45192],[-73.64503,45.45196],[-73.64458,45.45218],[-73.64448,45.45224],[-73.64319,45.4529],[-73.64261,45.45321],[-73.64173,45.45367],[-73.64179,45.45376],[-73.64106,45.45414],[-73.64046,45.45445],[-73.64004,45.45467],[-73.63949,45.45493],[-73.63915,45.45508],[-73.63887,45.45519],[-73.63856,45.45535],[-73.63784,45.45568],[-73.63752,45.45584],[-73.63554,45.45687],[-73.63451,45.45741],[-73.63365,45.45785],[-73.63074,45.45936],[-73.62989,45.4598],[-73.6274,45.46111],[-73.62553,45.46207],[-73.62521,45.46224],[-73.62434,45.46269],[-73.62376,45.46299],[-73.62263,45.46358],[-73.62116,45.46435],[-73.61998,45.46497],[-73.61911,45.46542],[-73.61678,45.46663],[-73.61525,45.46742],[-73.6144,45.46785],[-73.61387,45.46813],[-73.61294,45.46861],[-73.61156,45.46933],[-73.60985,45.47023],[-73.60858,45.47088],[-73.60849,45.47093],[-73.60838,45.47098],[-73.60773,45.47132],[-73.60759,45.47139],[-73.60745,45.47147],[-73.60632,45.47205],[-73.60612,45.47215],[-73.60602,45.47221],[-73.60594,45.47225],[-73.60587,45.47228],[-73.60503,45.47272],[-73.60471,45.47289],[-73.60438,45.47306],[-73.60343,45.47358],[-73.60334,45.47363],[-73.60327,45.47366],[-73.60309,45.47377],[-73.60309,45.47377],[-73.60267,45.474],[-73.60161,45.4746],[-73.59945,45.47581],[-73.5985,45.47635],[-73.59783,45.47673],[-73.59758,45.47687],[-73.59719,45.4771],[-73.59572,45.47795],[-73.59514,45.47828],[-73.59477,45.47849],[-73.59474,45.4785],[-73.59425,45.47883],[-73.59409,45.47893],[-73.59399,45.47898],[-73.5929,45.47958],[-73.59191,45.48015],[-73.59104,45.48068],[-73.59007,45.48127],[-73.59006,45.48128],[-73.58944,45.48168],[-73.58819,45.4825],[-73.58717,45.48317],[-73.58636,45.4837],[-73.58491,45.48465],[-73.5848,45.48472],[-73.5818,45.48664],[-73.58027,45.48763],[-73.58016,45.4877],[-73.57998,45.48782],[-73.57951,45.48815],[-73.57912,45.48842],[-73.57903,45.48849],[-73.57824,45.48908],[-73.57801,45.48927],[-73.57695,45.49011],[-73.57679,45.49024],[-73.57672,45.4903],[-73.5764,45.49054],[-73.57608,45.49079],[-73.57595,45.49089],[-73.57585,45.49096],[-73.57507,45.49153],[-73.57463,45.49184],[-73.57398,45.49231],[-73.57336,45.49276],[-73.5727,45.49325],[-73.57243,45.49354],[-73.57077,45.49475]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-74.05056,45.39901],[-74.0475,45.39763],[-74.04666,45.39725],[-74.04655,45.3972],[-74.04582,45.39687],[-74.0446,45.39632],[-74.04427,45.39617],[-74.04407,45.39608],[-74.04368,45.3959],[-74.043,45.3956],[-74.04225,45.39526],[-74.04161,45.39498],[-74.04107,45.39473],[-74.04055,45.3945],[-74.04005,45.39427],[-74.03859,45.39362],[-74.03804,45.39337],[-74.03756,45.39315],[-74.03736,45.39306],[-74.03723,45.39301],[-74.03706,45.39294],[-74.03695,45.39288],[-74.03651,45.39268],[-74.03598,45.39244],[-74.03549,45.39221],[-74.03495,45.39197],[-74.03428,45.39166],[-74.03372,45.39141],[-74.02931,45.38942],[-74.02878,45.38918],[-74.02837,45.38899],[-74.02801,45.38883],[-74.02759,45.38864],[-74.0272,45.38846],[-74.02697,45.38836],[-74.02686,45.38831],[-74.02641,45.38809],[-74.02617,45.38797],[-74.02596,45.38788],[-74.02569,45.38777],[-74.02536,45.38762],[-74.02427,45.38712],[-74.02385,45.38693],[-74.023,45.38655],[-74.02281,45.38646],[-74.02248,45.38632],[-74.02222,45.38623],[-74.02215,45.3862],[-74.02205,45.38617],[-74.02187,45.38611],[-74.0218,45.3861],[-74.02152,45.38603],[-74.02132,45.38598],[-74.02106,45.38595],[-74.02089,45.38593],[-74.02065,45.38592],[-74.02028,45.38592],[-74.0198,45.38593],[-74.01914,45.38596],[-74.01866,45.38598],[-74.01782,45.38602],[-74.01694,45.38606],[-74.0163,45.38609],[-74.01524,45.38615],[-74.01473,45.38617],[-74.01433,45.38619],[-74.01316,45.38624],[-74.0127,45.38626],[-74.01217,45.38628],[-74.01211,45.38628],[-74.0121,45.38628],[-74.01167,45.38629],[-74.01148,45.38629],[-74.0111,45.3863],[-74.01093,45.38631],[-74.01034,45.38633],[-74.00995,45.38634],[-74.00951,45.38634],[-74.00826,45.3864],[-74.00826,45.3864],[-74.00687,45.38646],[-74.00633,45.38649],[-74.00581,45.38651],[-74.00397,45.3866],[-74.00156,45.38672],[-73.99976,45.38681],[-73.99914,45.38684],[-73.99749,45.38692],[-73.9943,45.38707],[-73.99304,45.38712],[-73.99279,45.38714],[-73.99243,45.38716],[-73.99146,45.38722],[-73.9913,45.38723],[-73.99084,45.38728],[-73.99045,45.38731],[-73.99021,45.38733],[-73.98994,45.38736],[-73.98975,45.38738],[-73.98864,45.38751],[-73.98853,45.38752],[-73.98831,45.38755],[-73.98772,45.38763],[-73.98749,45.38767],[-73.98675,45.38778],[-73.98645,45.38782],[-73.98581,45.38793],[-73.98576,45.38794],[-73.9857,45.38795],[-73.98475,45.38812],[-73.9839,45.38828],[-73.98336,45.38839],[-73.98327,45.38841],[-73.9823,45.38864],[-73.98169,45.38879],[-73.98145,45.38884],[-73.98119,45.38891],[-73.98067,45.38905],[-73.98024,45.38916],[-73.98001,45.38922],[-73.97984,45.38927],[-73.97895,45.38954],[-73.97854,45.38966],[-73.97844,45.38969],[-73.97775,45.38991],[-73.97756,45.38997],[-73.97645,45.39035],[-73.97636,45.39038],[-73.97566,45.39064],[-73.97549,45.3907],[-73.97504,45.39088],[-73.97471,45.391],[-73.97409,45.39125],[-73.97389,45.39133],[-73.97302,45.3917],[-73.97241,45.39197],[-73.97216,45.39208],[-73.9716,45.39233],[-73.97149,45.39239],[-73.97082,45.39271],[-73.96986,45.3932],[-73.96942,45.39344],[-73.969,45.39367],[-73.96879,45.39378],[-73.96814,45.39416],[-73.96753,45.39452],[-73.96743,45.39458],[-73.9669,45.39491],[-73.96686,45.39493],[-73.96668,45.39505],[-73.96638,45.39525],[-73.96619,45.39538],[-73.96567,45.39572],[-73.96511,45.3961],[-73.96469,45.3964],[-73.96456,45.39648],[-73.96439,45.39661],[-73.96392,45.39697],[-73.96382,45.39705],[-73.96356,45.39726],[-73.96329,45.39747],[-73.96316,45.39759],[-73.96285,45.39784],[-73.96251,45.39813],[-73.96205,45.39852],[-73.96203,45.39853],[-73.96199,45.39857],[-73.96162,45.39889],[-73.96132,45.39916],[-73.96111,45.39935],[-73.96103,45.39942],[-73.96058,45.39985],[-73.95896,45.40138],[-73.95875,45.40158],[-73.95861,45.40171],[-73.95725,45.40304],[-73.95713,45.40316],[-73.95689,45.40339],[-73.95611,45.40415],[-73.95564,45.40462],[-73.95556,45.40469],[-73.95548,45.40476],[-73.95539,45.40486],[-73.95499,45.40523],[-73.95485,45.40536],[-73.95475,45.40545],[-73.95462,45.40556],[-73.95416,45.40595],[-73.95401,45.40608],[-73.95389,45.40617],[-73.95361,45.40638],[-73.95321,45.40665],[-73.95283,45.40687],[-73.95256,45.40702],[-73.95248,45.40707],[-73.95214,45.40722],[-73.95182,45.40736],[-73.95168,45.40743],[-73.95157,45.40747],[-73.9513,45.40758],[-73.95119,45.40761],[-73.95119,45.40761],[-73.95086,45.40774],[-73.95061,45.40781],[-73.95011,45.40796],[-73.94991,45.40802],[-73.94956,45.4081],[-73.94916,45.4082],[-73.94857,45.40834],[-73.9475,45.40858],[-73.94693,45.40872],[-73.94676,45.40875],[-73.9465,45.40882],[-73.9464,45.40885],[-73.94629,45.40888],[-73.94591,45.40898],[-73.94588,45.40899],[-73.94577,45.40902],[-73.94503,45.40926],[-73.9448,45.40933],[-73.94388,45.40965],[-73.94367,45.40973],[-73.94326,45.40988],[-73.94286,45.41002],[-73.9422,45.41026],[-73.93938,45.41127],[-73.93915,45.41135],[-73.93707,45.41211],[-73.93469,45.41298],[-73.9337,45.41333],[-73.93242,45.4138],[-73.932,45.41395],[-73.93127,45.41421],[-73.9303,45.41457],[-73.92952,45.41485],[-73.92923,45.41495],[-73.92865,45.41516],[-73.92795,45.41541],[-73.92712,45.41571],[-73.92612,45.41607],[-73.92442,45.41669],[-73.91892,45.41867],[-73.91687,45.41942],[-73.91676,45.41946],[-73.9165,45.41955],[-73.91554,45.4199],[-73.91555,45.41989],[-73.91555,45.41989],[-73.91429,45.42035],[-73.91321,45.42074],[-73.90935,45.42213],[-73.90817,45.42256],[-73.90702,45.42297],[-73.90596,45.42335],[-73.90525,45.42361],[-73.90476,45.42377],[-73.9034,45.42422],[-73.90312,45.4243],[-73.90263,45.42445],[-73.90132,45.42481],[-73.90087,45.42493],[-73.90048,45.42503],[-73.90034,45.42507],[-73.89911,45.42536],[-73.89862,45.42547],[-73.89848,45.4255],[-73.8971,45.42578],[-73.89679,45.42584],[-73.89672,45.42585],[-73.89631,45.42592],[-73.89565,45.42603],[-73.89436,45.42625],[-73.89141,45.42671],[-73.88915,45.42708],[-73.88701,45.42741],[-73.88572,45.42762],[-73.88255,45.42812],[-73.88187,45.42823],[-73.88119,45.42834],[-73.8784,45.42877],[-73.87338,45.42957],[-73.8701,45.43009],[-73.86813,45.4304],[-73.86585,45.43076],[-73.86392,45.43107],[-73.86278,45.43125],[-73.86242,45.43131],[-73.86141,45.43147],[-73.86092,45.43156],[-73.86002,45.43173],[-73.85929,45.43188],[-73.85886,45.43196],[-73.85813,45.43214],[-73.85757,45.43227],[-73.85681,45.43245],[-73.85603,45.43266],[-73.85405,45.43319],[-73.8523,45.43366],[-73.84997,45.43429],[-73.84933,45.43446],[-73.84739,45.43498],[-73.84739,45.43498],[-73.84714,45.43505],[-73.8455,45.4355],[-73.84513,45.4356],[-73.84304,45.43616],[-73.84248,45.43631],[-73.84182,45.43649],[-73.83996,45.43699],[-73.83829,45.43744],[-73.83699,45.43779],[-73.8348,45.43838],[-73.833,45.43886],[-73.83141,45.43929],[-73.8311,45.43937],[-73.83063,45.43951],[-73.83029,45.4396],[-73.82922,45.43989],[-73.8287,45.44003],[-73.82693,45.44051],[-73.82436,45.4412],[-73.82396,45.44131],[-73.82374,45.44137],[-73.82132,45.44202],[-73.82012,45.44234],[-73.81853,45.44277],[-73.81836,45.44282],[-73.81735,45.44309],[-73.81576,45.44352],[-73.81487,45.44376],[-73.81435,45.44391],[-73.81422,45.44395],[-73.81367,45.44411],[-73.80966,45.44533],[-73.809,45.44553],[-73.80842,45.44571],[-73.80548,45.4466],[-73.8041,45.44702],[-73.80343,45.44722],[-73.80343,45.44722],[-73.80239,45.44753],[-73.80217,45.44759],[-73.80176,45.44771],[-73.80055,45.44804],[-73.80045,45.44807],[-73.7994,45.44832],[-73.79886,45.44845],[-73.7987,45.44848],[-73.7977,45.4487],[-73.79765,45.44871],[-73.79719,45.4488],[-73.7965,45.44894],[-73.79572,45.44907],[-73.79504,45.44919],[-73.79405,45.44933],[-73.7937,45.44939],[-73.79306,45.44947],[-73.79217,45.44958],[-73.79197,45.4496],[-73.79136,45.44967],[-73.79058,45.44974],[-73.79044,45.44975],[-73.78974,45.44981],[-73.78958,45.44982],[-73.78933,45.44984],[-73.78787,45.44993],[-73.78624,45.44998],[-73.78603,45.44998],[-73.7852,45.44998],[-73.78426,45.44998],[-73.78418,45.44998],[-73.78382,45.44998],[-73.78254,45.44995],[-73.78206,45.44994],[-73.78153,45.44993],[-73.78092,45.44992],[-73.78058,45.44991],[-73.78042,45.44991],[-73.78029,45.4499],[-73.77883,45.44988],[-73.7783,45.44987],[-73.77763,45.44986],[-73.77596,45.44982],[-73.77362,45.44978],[-73.77074,45.44972],[-73.76839,45.44967],[-73.76713,45.44965],[-73.76573,45.44962],[-73.76413,45.44959],[-73.76283,45.44956],[-73.76183,45.44954],[-73.76021,45.4495],[-73.75922,45.44948],[-73.75734,45.44945],[-73.75549,45.44942],[-73.75398,45.44939],[-73.75354,45.44938],[-73.75223,45.44935],[-73.7506,45.44932],[-73.74826,45.44928],[-73.74311,45.44918],[-73.74311,45.44918],[-73.73897,45.4491],[-73.73808,45.44908],[-73.73717,45.44907],[-73.73708,45.44906],[-73.73669,45.44907],[-73.73615,45.44908],[-73.73603,45.44908],[-73.73535,45.4491],[-73.73496,45.44911],[-73.73429,45.44911],[-73.73417,45.44911],[-73.73387,45.44911],[-73.73334,45.4491],[-73.73304,45.44909],[-73.73299,45.44909],[-73.73233,45.44908],[-73.73175,45.44907],[-73.73141,45.44906],[-73.73119,45.44906],[-73.73099,45.44906],[-73.73073,45.44905],[-73.73051,45.44904],[-73.72915,45.44902],[-73.7286,45.449],[-73.72815,45.449],[-73.72343,45.44891],[-73.72168,45.44887],[-73.72088,45.44886],[-73.71837,45.44881],[-73.71684,45.44877],[-73.71464,45.44873],[-73.71354,45.44871],[-73.71133,45.44866],[-73.71133,45.44866],[-73.70923,45.44862],[-73.708,45.4486],[-73.70788,45.4486],[-73.70779,45.4486],[-73.70735,45.4486],[-73.70714,45.4486],[-73.70691,45.4486],[-73.70686,45.4486],[-73.70673,45.44861],[-73.70616,45.44864],[-73.70599,45.44864],[-73.70552,45.44867],[-73.70505,45.4487],[-73.70499,45.44871],[-73.70485,45.44872],[-73.70411,45.44877],[-73.70341,45.44883],[-73.70286,45.44887],[-73.70198,45.44893],[-73.70111,45.449],[-73.70011,45.44907],[-73.69956,45.44911],[-73.69895,45.44916],[-73.69763,45.44925],[-73.69646,45.44934],[-73.69387,45.44953],[-73.6931,45.44959],[-73.69265,45.44962],[-73.69224,45.44965],[-73.69183,45.44969],[-73.69159,45.44971],[-73.69127,45.44975],[-73.69109,45.44976],[-73.69098,45.44978],[-73.6907,45.44982],[-73.69038,45.44986],[-73.68949,45.45],[-73.68924,45.45004],[-73.68847,45.45017],[-73.68808,45.45023],[-73.68724,45.45037],[-73.68694,45.45041],[-73.68675,45.45045],[-73.6866,45.45047],[-73.68645,45.45049],[-73.68633,45.45051],[-73.6854,45.45066],[-73.68445,45.45081],[-73.68334,45.45099],[-73.68235,45.45115],[-73.68108,45.45136],[-73.68033,45.45148],[-73.67794,45.45187],[-73.67744,45.45195],[-73.67683,45.45205],[-73.67614,45.45217],[-73.67545,45.45228],[-73.67434,45.45245],[-73.67365,45.45256],[-73.6718,45.45287],[-73.67109,45.45297],[-73.67101,45.45299],[-73.67093,45.453],[-73.67063,45.45303],[-73.67044,45.45305],[-73.67024,45.45307],[-73.67015,45.45308],[-73.66986,45.4531],[-73.6697,45.45311],[-73.66933,45.45313],[-73.66889,45.45314],[-73.66854,45.45313],[-73.66844,45.45313],[-73.66834,45.45312],[-73.668,45.45311],[-73.66732,45.45306],[-73.66673,45.45298],[-73.66652,45.45296],[-73.66385,45.45261],[-73.66086,45.45222],[-73.65854,45.45191],[-73.65784,45.45182],[-73.65681,45.45168],[-73.65642,45.45164],[-73.65611,45.4516],[-73.65581,45.45156],[-73.65291,45.45115],[-73.65223,45.45106],[-73.65215,45.45105],[-73.65187,45.45102],[-73.65144,45.45097],[-73.65101,45.45092],[-73.65057,45.45089],[-73.65052,45.45089],[-73.65011,45.45088],[-73.64995,45.45088],[-73.64959,45.45089],[-73.64948,45.4509],[-73.64942,45.4509],[-73.64899,45.45093],[-73.64853,45.45097],[-73.64805,45.45104],[-73.64799,45.45105],[-73.64759,45.45112],[-73.64714,45.45123],[-73.647,45.45126],[-73.64646,45.45141],[-73.646,45.45157],[-73.64593,45.45159],[-73.64582,45.45163],[-73.64552,45.45175],[-73.64548,45.45176],[-73.64528,45.45185],[-73.64511,45.45192],[-73.64503,45.45196],[-73.64458,45.45218],[-73.64448,45.45224],[-73.64319,45.4529],[-73.64261,45.45321],[-73.64173,45.45367],[-73.64179,45.45376],[-73.64106,45.45414],[-73.64046,45.45445],[-73.64004,45.45467],[-73.63949,45.45493],[-73.63915,45.45508],[-73.63887,45.45519],[-73.63856,45.45535],[-73.63784,45.45568],[-73.63752,45.45584],[-73.63554,45.45687],[-73.63451,45.45741],[-73.63365,45.45785],[-73.63074,45.45936],[-73.62989,45.4598],[-73.6274,45.46111],[-73.62553,45.46207],[-73.62521,45.46224],[-73.62434,45.46269],[-73.62376,45.46299],[-73.62263,45.46358],[-73.62116,45.46435],[-73.61998,45.46497],[-73.61911,45.46542],[-73.61678,45.46663],[-73.61525,45.46742],[-73.6144,45.46785],[-73.61387,45.46813],[-73.61294,45.46861],[-73.61156,45.46933],[-73.60985,45.47023],[-73.60858,45.47088],[-73.60849,45.47093],[-73.60838,45.47098],[-73.60773,45.47132],[-73.60759,45.47139],[-73.60745,45.47147],[-73.60632,45.47205],[-73.60612,45.47215],[-73.60602,45.47221],[-73.60594,45.47225],[-73.60587,45.47228],[-73.60503,45.47272],[-73.60471,45.47289],[-73.60438,45.47306],[-73.60343,45.47358],[-73.60334,45.47363],[-73.60327,45.47366],[-73.60309,45.47377],[-73.60309,45.47377],[-73.60267,45.474],[-73.60161,45.4746],[-73.59945,45.47581],[-73.5985,45.47635],[-73.59783,45.47673],[-73.59758,45.47687],[-73.59719,45.4771],[-73.59572,45.47795],[-73.59514,45.47828],[-73.59477,45.47849],[-73.59474,45.4785],[-73.59425,45.47883],[-73.59409,45.47893],[-73.59399,45.47898],[-73.5929,45.47958],[-73.59191,45.48015],[-73.59104,45.48068],[-73.59007,45.48127],[-73.59006,45.48128],[-73.58944,45.48168],[-73.58819,45.4825],[-73.58717,45.48317],[-73.58636,45.4837],[-73.58491,45.48465],[-73.5848,45.48472],[-73.5818,45.48664],[-73.58027,45.48763],[-73.58016,45.4877],[-73.57998,45.48782],[-73.57951,45.48815],[-73.57912,45.48842],[-73.57903,45.48849],[-73.57824,45.48908],[-73.57801,45.48927],[-73.57695,45.49011],[-73.57679,45.49024],[-73.57672,45.4903],[-73.5764,45.49054],[-73.57608,45.49079],[-73.57595,45.49089],[-73.57585,45.49096],[-73.57507,45.49153],[-73.57463,45.49184],[-73.57398,45.49231],[-73.57336,45.49276],[-73.5727,45.49325],[-73.57243,45.49354],[-73.57077,45.49475]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.57077,45.49475],[-73.57243,45.49354],[-73.57271,45.49325],[-73.57336,45.49276],[-73.57409,45.49223],[-73.57463,45.49184],[-73.57494,45.49162],[-73.57524,45.49141],[-73.57581,45.49099],[-73.57615,45.49073],[-73.57676,45.49027],[-73.57757,45.48962],[-73.57798,45.48929],[-73.57841,45.48896],[-73.57909,45.48844],[-73.57972,45.48801],[-73.58001,45.4878],[-73.58028,45.48762],[-73.5814,45.4869],[-73.58297,45.48589],[-73.58487,45.48468],[-73.58636,45.4837],[-73.58767,45.48284],[-73.58916,45.48187],[-73.59007,45.48127],[-73.59137,45.48048],[-73.59189,45.48017],[-73.5929,45.47958],[-73.5931,45.47947],[-73.5941,45.47892],[-73.59422,45.47884],[-73.59474,45.4785],[-73.59533,45.47817],[-73.59581,45.4779],[-73.59723,45.47708],[-73.59748,45.47693],[-73.5982,45.47652],[-73.59927,45.47591],[-73.59982,45.47561],[-73.60146,45.47468],[-73.60309,45.47377],[-73.60309,45.47377],[-73.60348,45.47355],[-73.6048,45.47284],[-73.60587,45.47228],[-73.60974,45.47028],[-73.6122,45.469],[-73.61423,45.46794],[-73.61737,45.46632],[-73.61928,45.46533],[-73.61976,45.46508],[-73.62131,45.46427],[-73.62343,45.46316],[-73.62525,45.46222],[-73.62837,45.4606],[-73.62973,45.45989],[-73.63368,45.45783],[-73.6352,45.45705],[-73.63607,45.4566],[-73.63781,45.4557],[-73.63792,45.45564],[-73.63857,45.45535],[-73.63887,45.45519],[-73.63919,45.45506],[-73.63951,45.45492],[-73.64005,45.45467],[-73.64015,45.45461],[-73.6403,45.45453],[-73.64182,45.45374],[-73.64173,45.45367],[-73.64274,45.45314],[-73.64366,45.45266],[-73.64458,45.45218],[-73.64506,45.45195],[-73.64515,45.4519],[-73.64545,45.45177],[-73.6459,45.4516],[-73.64636,45.45145],[-73.64646,45.45141],[-73.64684,45.45131],[-73.64702,45.45126],[-73.64733,45.45119],[-73.64767,45.45111],[-73.64813,45.45103],[-73.64853,45.45097],[-73.64899,45.45093],[-73.64942,45.4509],[-73.64959,45.45089],[-73.64998,45.45088],[-73.65047,45.45089],[-73.65098,45.45092],[-73.65144,45.45097],[-73.6519,45.45102],[-73.65215,45.45105],[-73.65235,45.45108],[-73.65354,45.45124],[-73.65588,45.45157],[-73.65657,45.45165],[-73.65809,45.45185],[-73.66091,45.45222],[-73.66611,45.45291],[-73.66671,45.45298],[-73.66729,45.45305],[-73.668,45.45311],[-73.66841,45.45313],[-73.66866,45.45313],[-73.66889,45.45314],[-73.66918,45.45313],[-73.66938,45.45313],[-73.66961,45.45312],[-73.66978,45.45311],[-73.67018,45.45308],[-73.67059,45.45304],[-73.67093,45.453],[-73.6718,45.45287],[-73.67268,45.45272],[-73.67352,45.45258],[-73.67557,45.45226],[-73.67734,45.45197],[-73.67871,45.45174],[-73.68006,45.45153],[-73.68376,45.45092],[-73.68592,45.45058],[-73.68654,45.45048],[-73.68747,45.45033],[-73.68803,45.45024],[-73.68901,45.45008],[-73.69031,45.44987],[-73.6907,45.44982],[-73.69111,45.44976],[-73.69141,45.44973],[-73.69172,45.4497],[-73.69221,45.44965],[-73.69248,45.44963],[-73.69438,45.44949],[-73.6965,45.44934],[-73.69801,45.44923],[-73.69936,45.44913],[-73.70093,45.44901],[-73.70263,45.44889],[-73.70349,45.44882],[-73.70447,45.44875],[-73.70518,45.44869],[-73.70571,45.44866],[-73.70605,45.44864],[-73.70688,45.4486],[-73.70739,45.4486],[-73.70791,45.4486],[-73.70897,45.44862],[-73.71133,45.44866],[-73.71133,45.44866],[-73.71482,45.44873],[-73.71684,45.44877],[-73.72071,45.44885],[-73.72444,45.44892],[-73.7287,45.44901],[-73.73158,45.44907],[-73.73296,45.44909],[-73.73377,45.44911],[-73.73417,45.44911],[-73.73463,45.44911],[-73.73499,45.44911],[-73.73598,45.44908],[-73.73626,45.44908],[-73.73703,45.44907],[-73.7379,45.44908],[-73.73864,45.44913],[-73.74,45.44916],[-73.74167,45.44919],[-73.74311,45.44922],[-73.74311,45.44922],[-73.74531,45.44926],[-73.7463,45.44924],[-73.75414,45.44939],[-73.75715,45.44944],[-73.75986,45.4495],[-73.76225,45.44955],[-73.76426,45.44959],[-73.76426,45.44959],[-73.76531,45.44962],[-73.76833,45.44967],[-73.77156,45.44973],[-73.7763,45.44983],[-73.77777,45.44986],[-73.78011,45.4499],[-73.7828,45.44996],[-73.78346,45.44997],[-73.78412,45.44998],[-73.78436,45.44998],[-73.78605,45.44998],[-73.78634,45.44997],[-73.78782,45.44993],[-73.7879,45.44993],[-73.78958,45.44982],[-73.79034,45.44976],[-73.79088,45.44971],[-73.79087,45.44971],[-73.79177,45.44962],[-73.79295,45.44948],[-73.79368,45.44939],[-73.79504,45.44919],[-73.79634,45.44897],[-73.79758,45.44873],[-73.79873,45.44848],[-73.80043,45.44808],[-73.80189,45.44767],[-73.80343,45.44722],[-73.80342,45.44722],[-73.80588,45.44648],[-73.80776,45.44591],[-73.80984,45.44528],[-73.81154,45.44476],[-73.81297,45.44433],[-73.81436,45.4439],[-73.81542,45.44361],[-73.81745,45.44306],[-73.81834,45.44282],[-73.81986,45.44241],[-73.81986,45.44241],[-73.82122,45.44204],[-73.82348,45.44144],[-73.82655,45.44061],[-73.82891,45.43997],[-73.83001,45.43968],[-73.83048,45.43955],[-73.83119,45.43935],[-73.83255,45.43899],[-73.8339,45.43862],[-73.83601,45.43806],[-73.84048,45.43685],[-73.84739,45.43498],[-73.84739,45.43498],[-73.84795,45.43483],[-73.85031,45.4342],[-73.85295,45.43349],[-73.85587,45.4327],[-73.8568,45.43246],[-73.85757,45.43227],[-73.85817,45.43213],[-73.85885,45.43197],[-73.85974,45.43179],[-73.86023,45.43169],[-73.86105,45.43154],[-73.86138,45.43147],[-73.8616,45.43144],[-73.8627,45.43126],[-73.86414,45.43103],[-73.8688,45.4303],[-73.87082,45.42998],[-73.87515,45.42929],[-73.87906,45.42867],[-73.88239,45.42815],[-73.88554,45.42764],[-73.88724,45.42737],[-73.88724,45.42737],[-73.88906,45.42709],[-73.89146,45.42671],[-73.89285,45.42648],[-73.89419,45.42627],[-73.89615,45.42595],[-73.89676,45.42585],[-73.89728,45.42574],[-73.89851,45.4255],[-73.89864,45.42547],[-73.89902,45.42538],[-73.89995,45.42516],[-73.9004,45.42506],[-73.90107,45.42488],[-73.90135,45.4248],[-73.90186,45.42466],[-73.9024,45.42451],[-73.90263,45.42445],[-73.90287,45.42438],[-73.90338,45.42422],[-73.90365,45.42413],[-73.90483,45.42375],[-73.90529,45.42359],[-73.90645,45.42318],[-73.90745,45.42282],[-73.91022,45.42182],[-73.91455,45.42025],[-73.91554,45.4199],[-73.91554,45.4199],[-73.91676,45.41946],[-73.91857,45.4188],[-73.92164,45.41769],[-73.92442,45.41669],[-73.92636,45.41599],[-73.92921,45.41496],[-73.93197,45.41396],[-73.93336,45.41346],[-73.93672,45.41224],[-73.93918,45.41134],[-73.94114,45.41064],[-73.94232,45.41022],[-73.94291,45.41],[-73.94356,45.40977],[-73.94394,45.40963],[-73.94467,45.40938],[-73.94486,45.40931],[-73.94568,45.40905],[-73.94588,45.40899],[-73.94635,45.40886],[-73.94683,45.40874],[-73.9473,45.40863],[-73.94754,45.40857],[-73.94784,45.4085],[-73.94823,45.40842],[-73.94875,45.4083],[-73.94919,45.40819],[-73.94958,45.4081],[-73.94991,45.40802],[-73.95086,45.40774],[-73.9512,45.40761],[-73.9512,45.40761],[-73.95132,45.40757],[-73.95145,45.40752],[-73.95169,45.40742],[-73.95211,45.40724],[-73.95218,45.4072],[-73.95251,45.40705],[-73.95285,45.40687],[-73.95321,45.40665],[-73.95328,45.4066],[-73.95362,45.40637],[-73.95394,45.40613],[-73.95407,45.40603],[-73.95469,45.4055],[-73.95484,45.40536],[-73.95502,45.4052],[-73.95555,45.4047],[-73.95566,45.4046],[-73.95693,45.40335],[-73.95729,45.403],[-73.95856,45.40177],[-73.95873,45.40161],[-73.9596,45.40077],[-73.96106,45.39939],[-73.96114,45.39932],[-73.96143,45.39906],[-73.96204,45.39852],[-73.96278,45.3979],[-73.96315,45.39759],[-73.96389,45.39699],[-73.96437,45.39663],[-73.96456,45.39648],[-73.9654,45.39591],[-73.9654,45.39591],[-73.96584,45.39561],[-73.96628,45.39531],[-73.96644,45.39521],[-73.96681,45.39497],[-73.96722,45.39471],[-73.9675,45.39454],[-73.96807,45.3942],[-73.96865,45.39386],[-73.96889,45.39373],[-73.96964,45.39332],[-73.96983,45.39322],[-73.9702,45.39303],[-73.97069,45.39278],[-73.97118,45.39254],[-73.97154,45.39236],[-73.9716,45.39233],[-73.97228,45.39202],[-73.97306,45.39168],[-73.97375,45.39139],[-73.97392,45.39132],[-73.97454,45.39107],[-73.97474,45.39099],[-73.97553,45.39068],[-73.97568,45.39063],[-73.97649,45.39034],[-73.97753,45.38998],[-73.97773,45.38992],[-73.97841,45.3897],[-73.97933,45.38942],[-73.98004,45.38921],[-73.98051,45.38909],[-73.98146,45.38884],[-73.98199,45.38871],[-73.98233,45.38863],[-73.98327,45.38841],[-73.98337,45.38839],[-73.98381,45.3883],[-73.98484,45.3881],[-73.98574,45.38794],[-73.98588,45.38792],[-73.98668,45.38779],[-73.98744,45.38767],[-73.98791,45.38761],[-73.98849,45.38753],[-73.98975,45.38738],[-73.99039,45.38732],[-73.99111,45.38725],[-73.99132,45.38723],[-73.99149,45.38722],[-73.99228,45.38717],[-73.99227,45.38717],[-73.99296,45.38713],[-73.99389,45.38709],[-73.99659,45.38696],[-73.99928,45.38683],[-74.00195,45.3867],[-74.00426,45.38659],[-74.00581,45.38651],[-74.00625,45.38649],[-74.00732,45.38644],[-74.00825,45.3864],[-74.00825,45.3864],[-74.00949,45.38634],[-74.00992,45.38634],[-74.01059,45.38632],[-74.01144,45.38629],[-74.01193,45.38629],[-74.0122,45.38628],[-74.01264,45.38626],[-74.01455,45.38618],[-74.01745,45.38604],[-74.0187,45.38598],[-74.01912,45.38596],[-74.01982,45.38593],[-74.02029,45.38592],[-74.0205,45.38592],[-74.02066,45.38592],[-74.02078,45.38593],[-74.0209,45.38593],[-74.02104,45.38595],[-74.02132,45.38598],[-74.02187,45.38611],[-74.02193,45.38614],[-74.02215,45.3862],[-74.02248,45.38632],[-74.02275,45.38643],[-74.02332,45.38669],[-74.02407,45.38703],[-74.02534,45.38761],[-74.02621,45.38799],[-74.02693,45.38833],[-74.02734,45.38852],[-74.02898,45.38927],[-74.03101,45.39018],[-74.03338,45.39126],[-74.03526,45.39211],[-74.03657,45.39271],[-74.03703,45.39292],[-74.03719,45.39299],[-74.03737,45.39307],[-74.03765,45.39319],[-74.04019,45.39434],[-74.0454,45.39668],[-74.04666,45.39724],[-74.05054,45.399],[-74.05054,45.399],[-74.05124,45.39932],[-74.05267,45.39997],[-74.05356,45.40038],[-74.05473,45.4009],[-74.05512,45.4011],[-74.05537,45.40123],[-74.05581,45.40149],[-74.05595,45.40159],[-74.05612,45.4017],[-74.05628,45.40181],[-74.05661,45.40206],[-74.05677,45.40218],[-74.05705,45.40241],[-74.05727,45.4026],[-74.05747,45.40278],[-74.05788,45.40319],[-74.05807,45.40337],[-74.05858,45.40387],[-74.05929,45.40455],[-74.05967,45.40491],[-74.06055,45.40578],[-74.06092,45.40616],[-74.06102,45.40625],[-74.06139,45.40662],[-74.06173,45.40694],[-74.06198,45.40718],[-74.06252,45.40772],[-74.06263,45.40783],[-74.06276,45.40795],[-74.06298,45.40816],[-74.06334,45.40849],[-74.06357,45.40867],[-74.06368,45.40875],[-74.06395,45.40894],[-74.06426,45.40914],[-74.06449,45.40926],[-74.06466,45.40935],[-74.06516,45.40959],[-74.06559,45.40976],[-74.06584,45.40985],[-74.06599,45.40991],[-74.06618,45.40997],[-74.06654,45.41009],[-74.06676,45.41016],[-74.0687,45.41078],[-74.06966,45.4111],[-74.07016,45.41125],[-74.07087,45.41148],[-74.07163,45.41173],[-74.07185,45.41181],[-74.07229,45.41196],[-74.07264,45.4121],[-74.07268,45.41212],[-74.07297,45.41225],[-74.07325,45.41239],[-74.07355,45.41254],[-74.07386,45.41272],[-74.07416,45.41289],[-74.07469,45.41322],[-74.07491,45.41339],[-74.07515,45.41357],[-74.07526,45.41365],[-74.0755,45.41385],[-74.07579,45.41412],[-74.07717,45.41541],[-74.07855,45.4167],[-74.08021,45.41826],[-74.08051,45.41854],[-74.08154,45.41952],[-74.08199,45.41995],[-74.08217,45.42013],[-74.08235,45.42029],[-74.08386,45.42168],[-74.0845,45.42229],[-74.08494,45.4227],[-74.08534,45.42307],[-74.08541,45.42314],[-74.0856,45.42334],[-74.08589,45.42368],[-74.08597,45.42377],[-74.08613,45.424],[-74.08617,45.42406],[-74.08629,45.42428],[-74.08634,45.42438],[-74.08656,45.42484],[-74.08658,45.42488],[-74.08669,45.4252],[-74.08671,45.42527],[-74.08679,45.42544],[-74.08688,45.42563],[-74.08693,45.42573],[-74.08706,45.42595],[-74.08723,45.4262],[-74.0874,45.42643],[-74.08744,45.42649],[-74.08754,45.42659],[-74.08765,45.4267],[-74.08776,45.42681],[-74.08826,45.42729],[-74.08902,45.42802],[-74.0902,45.42915],[-74.09174,45.43062],[-74.09292,45.43174],[-74.09369,45.43248],[-74.09449,45.43323],[-74.09536,45.43405],[-74.09615,45.43483],[-74.09635,45.435],[-74.09653,45.43516],[-74.09685,45.43544],[-74.09703,45.43559],[-74.09726,45.43576],[-74.09752,45.43594],[-74.09771,45.43606],[-74.0978,45.43611],[-74.09828,45.43639],[-74.09837,45.43644],[-74.09868,45.4366],[-74.09905,45.43679],[-74.09923,45.43688],[-74.09949,45.437],[-74.10001,45.43725],[-74.1004,45.43743],[-74.10122,45.43782],[-74.10203,45.43819],[-74.10294,45.43862],[-74.10405,45.43913],[-74.10757,45.44075],[-74.10792,45.44091],[-74.10869,45.44126],[-74.10891,45.44136],[-74.11091,45.44229],[-74.11205,45.44282],[-74.11268,45.44311],[-74.11349,45.44349],[-74.11512,45.44425],[-74.11607,45.44469],[-74.11698,45.44512],[-74.11793,45.44556],[-74.11827,45.44571],[-74.11869,45.4459],[-74.11903,45.44607],[-74.11964,45.44638],[-74.12017,45.44668],[-74.12028,45.44674],[-74.12069,45.44702],[-74.12085,45.44715],[-74.12104,45.44729],[-74.12145,45.44757],[-74.12177,45.44781],[-74.12311,45.44878],[-74.12435,45.44968],[-74.12511,45.45024],[-74.12871,45.45286],[-74.12964,45.45352],[-74.12981,45.45365],[-74.12995,45.45377],[-74.13014,45.45391],[-74.13031,45.45404],[-74.13059,45.45423],[-74.1307,45.45431],[-74.13106,45.45458],[-74.1314,45.45482],[-74.13178,45.45507],[-74.13188,45.45513],[-74.13252,45.45552],[-74.13294,45.45573],[-74.1331,45.45581],[-74.13381,45.45614],[-74.13435,45.4564],[-74.13482,45.45662],[-74.13604,45.45723],[-74.1364,45.45741],[-74.13651,45.45746],[-74.13712,45.45776],[-74.1374,45.45791],[-74.13806,45.45824],[-74.13819,45.45831],[-74.13916,45.45878],[-74.13989,45.45913],[-74.13998,45.45918],[-74.14067,45.45954],[-74.14091,45.45967]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.56671,45.49997],[-73.56617,45.49972],[-73.56522,45.4993],[-73.5644,45.49893],[-73.56315,45.49836],[-73.56252,45.49808],[-73.56189,45.49779],[-73.56177,45.49773],[-73.56122,45.49748],[-73.56035,45.49707],[-73.5594,45.49662],[-73.55768,45.49583],[-73.55748,45.49572],[-73.55728,45.49561],[-73.55712,45.4955],[-73.55701,45.49542],[-73.55695,45.49538],[-73.55679,45.49523],[-73.55667,45.49512],[-73.55662,45.49508],[-73.5565,45.49495],[-73.55641,45.49484],[-73.55633,45.49472],[-73.55627,45.49463],[-73.55617,45.49441],[-73.55615,45.49436],[-73.55609,45.49419],[-73.55607,45.49411],[-73.55602,45.49386],[-73.55601,45.49376],[-73.556,45.49357],[-73.556,45.49349],[-73.556,45.49327],[-73.55602,45.49314],[-73.55602,45.49308],[-73.55602,45.49294],[-73.556,45.49267],[-73.55601,45.49256],[-73.55607,45.49205],[-73.55611,45.49175],[-73.55616,45.4913],[-73.5562,45.49106],[-73.5563,45.49038],[-73.55631,45.49025],[-73.55643,45.48964],[-73.55644,45.48932],[-73.55645,45.48924],[-73.55652,45.48887],[-73.55656,45.4886],[-73.55659,45.48842],[-73.55661,45.4882],[-73.55662,45.48802],[-73.55662,45.48776],[-73.55662,45.48756],[-73.55662,45.48751],[-73.55661,45.48748],[-73.5566,45.48738],[-73.55659,45.48733],[-73.55657,45.48719],[-73.55655,45.48708],[-73.55652,45.48701],[-73.5565,45.48696],[-73.55645,45.48684],[-73.55642,45.48678],[-73.55635,45.48663],[-73.55634,45.4866],[-73.55624,45.48645],[-73.55615,45.4863],[-73.55596,45.48606],[-73.55568,45.48579],[-73.55556,45.4857],[-73.55534,45.48555],[-73.55526,45.4855],[-73.55501,45.48537],[-73.55475,45.48525],[-73.55454,45.48517],[-73.55427,45.48508],[-73.55387,45.48499],[-73.55354,45.48494],[-73.55322,45.48491],[-73.55299,45.48489],[-73.5528,45.48489],[-73.55232,45.48491],[-73.55219,45.48492],[-73.55192,45.48496],[-73.5517,45.48501],[-73.55155,45.48504],[-73.54997,45.48542],[-73.54746,45.48603],[-73.54612,45.48635],[-73.54546,45.48652],[-73.54528,45.48657],[-73.54493,45.48667],[-73.54444,45.4868],[-73.54398,45.4869],[-73.54387,45.48693],[-73.54345,45.48701],[-73.54291,45.48712],[-73.54267,45.48718],[-73.54252,45.48722],[-73.54225,45.4873],[-73.54207,45.48736],[-73.54174,45.48744],[-73.54147,45.48753],[-73.5411,45.48765],[-73.54091,45.48771],[-73.54063,45.4878],[-73.53918,45.4883],[-73.53666,45.48918],[-73.53648,45.48924],[-73.53375,45.49017],[-73.52899,45.49179],[-73.52356,45.49362],[-73.52096,45.49449],[-73.51878,45.49521],[-73.51781,45.49553],[-73.5171,45.49576],[-73.51693,45.49583],[-73.51666,45.49592],[-73.51623,45.49607],[-73.51541,45.49635],[-73.51398,45.49683],[-73.51166,45.49761],[-73.51101,45.49783],[-73.50875,45.49859],[-73.50847,45.49873],[-73.50836,45.49878],[-73.50582,45.49963],[-73.50582,45.49963],[-73.5054,45.49977],[-73.50055,45.50142],[-73.49996,45.50161],[-73.49849,45.50209],[-73.49777,45.50232],[-73.49725,45.50247],[-73.49691,45.50258],[-73.49603,45.50282],[-73.49533,45.50301],[-73.495,45.5031],[-73.49456,45.5032],[-73.4943,45.50327],[-73.49375,45.5034],[-73.49352,45.50345],[-73.49291,45.50359],[-73.49243,45.50369],[-73.49209,45.50376],[-73.49163,45.50385],[-73.49114,45.50394],[-73.49036,45.50408],[-73.4901,45.50412],[-73.48969,45.50418],[-73.48902,45.50429],[-73.48858,45.50434],[-73.48796,45.50443],[-73.4871,45.50453],[-73.48624,45.50462],[-73.48612,45.50463],[-73.48537,45.5047],[-73.48472,45.50475],[-73.48393,45.50481],[-73.48365,45.50483],[-73.48341,45.50485],[-73.481,45.50501],[-73.47797,45.50521],[-73.47772,45.50523],[-73.47536,45.50538],[-73.47256,45.50557],[-73.46867,45.50583],[-73.46785,45.50588],[-73.46626,45.50598],[-73.46385,45.50614],[-73.4631,45.50619],[-73.46068,45.50635],[-73.45797,45.50653],[-73.45509,45.50672],[-73.45461,45.50675],[-73.45182,45.50693],[-73.44915,45.50711],[-73.44755,45.50722],[-73.44582,45.50734],[-73.43977,45.50773],[-73.43382,45.50812],[-73.43382,45.50812],[-73.43256,45.5082],[-73.4316,45.50827],[-73.43104,45.50831],[-73.42775,45.50852],[-73.42196,45.5089],[-73.4158,45.50931],[-73.40958,45.50971],[-73.40336,45.51012],[-73.40181,45.51022],[-73.40136,45.51025],[-73.39714,45.51052],[-73.39464,45.51068],[-73.39437,45.5107],[-73.39339,45.51078],[-73.39318,45.51079],[-73.39106,45.51093],[-73.38495,45.51132],[-73.3831,45.51145],[-73.38233,45.5115],[-73.38098,45.51159],[-73.3794,45.51169],[-73.37902,45.51171],[-73.37796,45.51179],[-73.37659,45.51188],[-73.3744,45.51203],[-73.3744,45.51203],[-73.37327,45.5121],[-73.37206,45.51218],[-73.37139,45.51223],[-73.37114,45.51224],[-73.36858,45.51241],[-73.36303,45.51277],[-73.362,45.51283],[-73.36096,45.51291],[-73.35737,45.51314],[-73.3494,45.51365],[-73.34914,45.51367],[-73.34801,45.51375],[-73.34685,45.51383],[-73.34384,45.51401],[-73.34348,45.51403],[-73.3417,45.51414],[-73.33967,45.51429],[-73.33767,45.51444],[-73.33734,45.51447],[-73.337,45.51451],[-73.33644,45.51457],[-73.33577,45.51467],[-73.33493,45.5148],[-73.33423,45.51494],[-73.33377,45.51504],[-73.33353,45.51509],[-73.33318,45.51517],[-73.33259,45.51532],[-73.33207,45.51546],[-73.33137,45.51566],[-73.33072,45.51585],[-73.32892,45.51639],[-73.32818,45.51662],[-73.32373,45.51795],[-73.31774,45.51974],[-73.31197,45.52147],[-73.30592,45.52329],[-73.30592,45.52329],[-73.30552,45.52341],[-73.30208,45.52444],[-73.30047,45.52493],[-73.29979,45.52513],[-73.29846,45.52552],[-73.29718,45.5259],[-73.29537,45.52644],[-73.28929,45.52826],[-73.28565,45.52936],[-73.28342,45.53002],[-73.28025,45.53097],[-73.27428,45.53276],[-73.26826,45.53456],[-73.26749,45.53479],[-73.2668,45.535],[-73.26562,45.53536],[-73.26372,45.53593],[-73.26216,45.5364],[-73.25638,45.53812],[-73.25367,45.53893],[-73.2505,45.53987],[-73.24982,45.54008],[-73.24786,45.54067],[-73.24567,45.54131],[-73.24443,45.54168],[-73.24423,45.54174],[-73.24348,45.54197],[-73.24168,45.54251],[-73.23927,45.54322],[-73.23756,45.54373],[-73.23688,45.54394],[-73.23564,45.54431],[-73.23484,45.54454],[-73.23223,45.54534],[-73.23192,45.54543],[-73.23099,45.5457],[-73.23027,45.54591],[-73.22977,45.54606],[-73.22978,45.54606],[-73.22933,45.5462],[-73.22872,45.54639],[-73.22776,45.54667],[-73.22694,45.5469],[-73.22596,45.54715],[-73.22531,45.54731],[-73.22446,45.54751],[-73.22416,45.54757],[-73.22335,45.5477],[-73.22293,45.54777],[-73.22228,45.54786],[-73.22167,45.54793],[-73.22116,45.54798],[-73.22052,45.54803],[-73.21991,45.54807],[-73.21935,45.5481],[-73.21875,45.54811],[-73.21828,45.54812],[-73.21444,45.54811],[-73.21244,45.5481],[-73.21223,45.5481],[-73.20993,45.54808],[-73.20829,45.54808],[-73.2076,45.54808],[-73.20725,45.54809],[-73.20697,45.54812],[-73.20658,45.54815],[-73.20644,45.54817],[-73.20615,45.54823],[-73.20588,45.5483],[-73.20555,45.5484],[-73.20529,45.54848],[-73.20507,45.54857],[-73.20482,45.54868],[-73.2046,45.54879],[-73.20444,45.54888],[-73.20417,45.54904],[-73.20396,45.54919],[-73.20379,45.54932],[-73.20367,45.54944],[-73.20347,45.54966],[-73.20331,45.54985],[-73.20313,45.55007],[-73.20307,45.55016],[-73.20292,45.55038],[-73.20257,45.55091],[-73.20167,45.55224],[-73.20088,45.55339],[-73.19979,45.55502],[-73.19853,45.55684],[-73.19791,45.5578],[-73.19781,45.55796],[-73.19733,45.55865],[-73.19695,45.5592],[-73.19601,45.56058],[-73.19527,45.56167],[-73.19481,45.56235],[-73.19412,45.56335],[-73.19298,45.56504],[-73.19249,45.56578],[-73.19229,45.56607],[-73.192,45.56648],[-73.19155,45.56712],[-73.19149,45.56722],[-73.19069,45.56843],[-73.19047,45.56875],[-73.18861,45.57151],[-73.1884,45.57182],[-73.18813,45.57221],[-73.18785,45.57261],[-73.18774,45.57278],[-73.18761,45.57294],[-73.18744,45.57316],[-73.18728,45.57334],[-73.18692,45.57369],[-73.18674,45.57387],[-73.18669,45.57391],[-73.18622,45.57431],[-73.18578,45.57464],[-73.18543,45.57487],[-73.18516,45.57503],[-73.18485,45.57521],[-73.18439,45.57545],[-73.18405,45.57562],[-73.18365,45.57579],[-73.18326,45.57595],[-73.18293,45.57608],[-73.18254,45.57621],[-73.18214,45.57633],[-73.18175,45.57644],[-73.18131,45.57655],[-73.18064,45.57671],[-73.17864,45.57715],[-73.17849,45.57718]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.99913,45.77317],[-73.99899,45.77287],[-73.99883,45.77255],[-73.99871,45.77233],[-73.99858,45.77212],[-73.99851,45.77202],[-73.99844,45.77191],[-73.99841,45.77187],[-73.99814,45.77154],[-73.99799,45.77137],[-73.99764,45.771],[-73.99714,45.77062],[-73.99678,45.77031],[-73.99664,45.7702],[-73.99649,45.77007],[-73.99609,45.76978],[-73.99571,45.76949],[-73.9952,45.76912],[-73.99483,45.76884],[-73.99356,45.7679],[-73.99301,45.76749],[-73.99228,45.76695],[-73.99178,45.76657],[-73.99129,45.7662],[-73.99021,45.76538],[-73.98956,45.76488],[-73.98936,45.76474],[-73.98768,45.76347],[-73.98743,45.76328],[-73.98724,45.76314],[-73.98626,45.76241],[-73.98289,45.7599],[-73.98253,45.75964],[-73.98196,45.75922],[-73.98154,45.7589],[-73.98119,45.75863],[-73.98089,45.75841],[-73.9805,45.75811],[-73.97989,45.75764],[-73.97971,45.75751],[-73.97956,45.75739],[-73.97778,45.75608],[-73.97753,45.75589],[-73.97728,45.7557],[-73.97674,45.75529],[-73.97616,45.75486],[-73.9751,45.75407],[-73.9744,45.75354],[-73.97263,45.75222],[-73.97107,45.75103],[-73.96977,45.75004],[-73.96852,45.74912],[-73.96772,45.74852],[-73.96439,45.74603],[-73.96409,45.7458],[-73.96345,45.74533],[-73.96101,45.74349],[-73.96041,45.74304],[-73.95986,45.74263],[-73.95929,45.74221],[-73.95609,45.7398],[-73.95471,45.73877],[-73.95414,45.73835],[-73.9528,45.73735],[-73.9523,45.73697],[-73.9519,45.73668],[-73.94952,45.7349],[-73.94611,45.73235],[-73.94475,45.73135],[-73.94399,45.73078],[-73.94288,45.72995],[-73.94055,45.7282],[-73.93955,45.72745],[-73.93619,45.72493],[-73.93315,45.72263],[-73.93272,45.72232],[-73.92944,45.71986],[-73.92606,45.71733],[-73.92267,45.71479],[-73.9193,45.71226],[-73.91855,45.71171],[-73.91855,45.71171],[-73.91802,45.71131],[-73.91714,45.71065],[-73.91675,45.71035],[-73.91604,45.70982],[-73.91472,45.70882],[-73.91264,45.70727],[-73.91162,45.7065],[-73.91086,45.70593],[-73.90927,45.70472],[-73.90691,45.70295],[-73.90675,45.70283],[-73.90644,45.7026],[-73.90611,45.70235],[-73.90589,45.70219],[-73.90434,45.70104],[-73.90386,45.70069],[-73.90308,45.7001],[-73.90244,45.69962],[-73.90138,45.69883],[-73.90107,45.6986],[-73.90082,45.69841],[-73.90059,45.69824],[-73.9001,45.69787],[-73.89914,45.69715],[-73.89899,45.69703],[-73.89828,45.69651],[-73.89754,45.69595],[-73.89646,45.69514],[-73.89575,45.69461],[-73.89236,45.69206],[-73.89193,45.69174],[-73.89074,45.69084],[-73.88895,45.68951],[-73.88819,45.68894],[-73.88748,45.6884],[-73.88717,45.68816],[-73.88698,45.68802],[-73.88632,45.68754],[-73.88555,45.68696],[-73.88212,45.68438],[-73.87869,45.68181],[-73.87552,45.67943],[-73.87206,45.67683],[-73.86984,45.67517],[-73.86861,45.67424],[-73.86618,45.67242],[-73.86618,45.67242],[-73.86548,45.6719],[-73.86478,45.67136],[-73.86467,45.67128],[-73.86454,45.67119],[-73.86371,45.67057],[-73.86339,45.67034],[-73.86239,45.66957],[-73.86232,45.66951],[-73.86213,45.66938],[-73.86126,45.66873],[-73.86042,45.6681],[-73.85984,45.66766],[-73.85954,45.66744],[-73.85864,45.66677],[-73.8582,45.66645],[-73.85787,45.6662],[-73.85723,45.66571],[-73.85471,45.66383],[-73.85392,45.66322],[-73.85146,45.66139],[-73.85058,45.66072],[-73.84966,45.66003],[-73.84726,45.65823],[-73.84549,45.6569],[-73.84477,45.65636],[-73.84459,45.65622],[-73.84436,45.65604],[-73.84423,45.65594],[-73.84414,45.65586],[-73.8438,45.65556],[-73.8436,45.65538],[-73.84322,45.65499],[-73.84307,45.65484],[-73.84286,45.6546],[-73.84243,45.65409],[-73.84238,45.65404],[-73.84219,45.65375],[-73.84211,45.6536],[-73.84202,45.65344],[-73.84187,45.65315],[-73.84176,45.65288],[-73.84165,45.65253],[-73.8416,45.6523],[-73.84155,45.65188],[-73.84154,45.65177],[-73.84153,45.65159],[-73.84154,45.65137],[-73.84155,45.65129],[-73.84156,45.65116],[-73.84159,45.65098],[-73.84161,45.65085],[-73.84173,45.6504],[-73.84181,45.65021],[-73.84192,45.64994],[-73.84203,45.64973],[-73.84216,45.6495],[-73.84228,45.64932],[-73.84237,45.6492],[-73.84247,45.64907],[-73.84253,45.64898],[-73.84284,45.64864],[-73.843,45.64847],[-73.84342,45.64811],[-73.84349,45.64806],[-73.84368,45.64791],[-73.84393,45.64775],[-73.84418,45.64759],[-73.84444,45.64743],[-73.84451,45.64739],[-73.84471,45.64728],[-73.84497,45.64716],[-73.84526,45.64703],[-73.84574,45.64684],[-73.84631,45.64661],[-73.84813,45.64588],[-73.84837,45.64579],[-73.84862,45.64567],[-73.84894,45.64551],[-73.84923,45.64534],[-73.84947,45.6452],[-73.84961,45.6451],[-73.84975,45.64499],[-73.84989,45.64489],[-73.85003,45.64477],[-73.85023,45.64461],[-73.85037,45.64449],[-73.85058,45.64428],[-73.85074,45.64411],[-73.85094,45.64387],[-73.85107,45.64371],[-73.85122,45.64348],[-73.85135,45.64327],[-73.85142,45.64313],[-73.8515,45.64298],[-73.85156,45.64283],[-73.85165,45.64261],[-73.85173,45.64238],[-73.85179,45.64216],[-73.85183,45.64185],[-73.85188,45.64157],[-73.85187,45.64137],[-73.85187,45.64124],[-73.85186,45.64102],[-73.85184,45.64083],[-73.85183,45.64077],[-73.85179,45.6406],[-73.85173,45.6403],[-73.85165,45.64009],[-73.85156,45.63985],[-73.85145,45.63962],[-73.85135,45.63942],[-73.85128,45.63931],[-73.85114,45.63911],[-73.85105,45.63898],[-73.8509,45.63877],[-73.85071,45.63856],[-73.85064,45.63848],[-73.85053,45.63836],[-73.85015,45.63801],[-73.84999,45.63787],[-73.84988,45.63779],[-73.84952,45.63752],[-73.84919,45.6373],[-73.84898,45.63715],[-73.84874,45.63702],[-73.84866,45.63698],[-73.84838,45.63682],[-73.84799,45.63664],[-73.84775,45.63654],[-73.84734,45.63638],[-73.84702,45.63627],[-73.84685,45.63622],[-73.84662,45.63615],[-73.84636,45.63608],[-73.84619,45.63604],[-73.8459,45.63597],[-73.84532,45.63586],[-73.84513,45.63582],[-73.84474,45.63577],[-73.84435,45.63573],[-73.84408,45.63571],[-73.84398,45.6357],[-73.84357,45.63569],[-73.84298,45.63569],[-73.84131,45.63574],[-73.83858,45.63584],[-73.83738,45.63589],[-73.83681,45.63591],[-73.83353,45.63602],[-73.83353,45.63602],[-73.83039,45.63614],[-73.82731,45.63626],[-73.82375,45.6364],[-73.82344,45.63641],[-73.81735,45.63664],[-73.81599,45.63669],[-73.81575,45.6367],[-73.81558,45.63671],[-73.81543,45.63672],[-73.81488,45.63674],[-73.814,45.63677],[-73.81289,45.63681],[-73.81129,45.63687],[-73.80602,45.63708],[-73.80516,45.6371],[-73.80472,45.6371],[-73.80431,45.63709],[-73.80348,45.63704],[-73.80325,45.63702],[-73.80296,45.63698],[-73.80264,45.63694],[-73.80223,45.63688],[-73.80142,45.63672],[-73.80102,45.63663],[-73.80056,45.63649],[-73.80019,45.63638],[-73.79986,45.63627],[-73.79949,45.63614],[-73.79917,45.63601],[-73.79889,45.6359],[-73.79877,45.63585],[-73.7979,45.63545],[-73.79575,45.6345],[-73.79575,45.6345],[-73.79447,45.63394],[-73.79319,45.63337],[-73.79174,45.63273],[-73.79038,45.63213],[-73.78896,45.63151],[-73.78738,45.63082],[-73.7861,45.63026],[-73.78489,45.62974],[-73.78399,45.62935],[-73.7836,45.62921],[-73.78319,45.62908],[-73.78266,45.62892],[-73.78238,45.62884],[-73.78221,45.62881],[-73.78155,45.62865],[-73.78107,45.62856],[-73.78053,45.62848],[-73.77856,45.62822],[-73.77648,45.62794],[-73.77615,45.6279],[-73.77537,45.62779],[-73.77417,45.62763],[-73.77232,45.62737],[-73.76934,45.62696],[-73.76895,45.62689],[-73.7686,45.62683],[-73.76834,45.62677],[-73.76815,45.62673],[-73.7678,45.62664],[-73.76742,45.62653],[-73.7672,45.62647],[-73.76698,45.6264],[-73.7666,45.62628],[-73.76624,45.62615],[-73.76587,45.626],[-73.7656,45.62588],[-73.76551,45.62584],[-73.76519,45.62568],[-73.7649,45.62554],[-73.76474,45.62545],[-73.76474,45.62545],[-73.76453,45.62533],[-73.76425,45.62516],[-73.76402,45.62501],[-73.76356,45.62467],[-73.76347,45.62461],[-73.76277,45.62404],[-73.76246,45.62376],[-73.76236,45.62367],[-73.7621,45.62341],[-73.76176,45.62307],[-73.76082,45.62211],[-73.75826,45.61952],[-73.75596,45.6172],[-73.75337,45.61459],[-73.75082,45.61202],[-73.75042,45.61162],[-73.74997,45.61117],[-73.74967,45.61087],[-73.74838,45.60956],[-73.74679,45.60796],[-73.74582,45.60701],[-73.7434,45.60455],[-73.74263,45.60378],[-73.74263,45.60378],[-73.7402,45.60132],[-73.7377,45.59879],[-73.73538,45.59644],[-73.73439,45.59544],[-73.73426,45.59532],[-73.73197,45.593],[-73.73119,45.59222],[-73.73069,45.59172],[-73.72966,45.59067],[-73.72812,45.58911],[-73.72794,45.58893],[-73.72785,45.58883],[-73.72768,45.58866],[-73.72731,45.58827],[-73.72714,45.5881],[-73.72617,45.58712],[-73.72498,45.58592],[-73.72477,45.58571],[-73.72393,45.58487],[-73.72373,45.58468],[-73.72321,45.58414],[-73.72284,45.58376],[-73.72272,45.58365],[-73.7218,45.58272],[-73.7216,45.58252],[-73.7215,45.58242],[-73.72116,45.58207],[-73.72109,45.58199],[-73.72101,45.5819],[-73.72078,45.58164],[-73.72067,45.58151],[-73.72054,45.58136],[-73.72039,45.58114],[-73.72026,45.58097],[-73.72003,45.58057],[-73.71998,45.58049],[-73.71968,45.57989],[-73.7191,45.57874],[-73.71793,45.5764],[-73.71696,45.57448],[-73.71682,45.57421],[-73.71674,45.57404],[-73.71669,45.57393],[-73.71656,45.57366],[-73.71652,45.57358],[-73.71621,45.57297],[-73.71577,45.57209],[-73.71451,45.56959],[-73.71331,45.56719],[-73.71218,45.56494],[-73.71119,45.56295],[-73.71051,45.56159],[-73.71022,45.56101],[-73.71012,45.56082],[-73.70987,45.56033],[-73.70987,45.56033],[-73.70916,45.55895],[-73.70908,45.55879],[-73.70882,45.55836],[-73.70873,45.55824],[-73.70846,45.55786],[-73.70805,45.55739],[-73.70713,45.5564],[-73.70535,45.55449],[-73.7031,45.55206],[-73.70097,45.54975],[-73.70046,45.54919],[-73.7003,45.54893],[-73.69958,45.54816],[-73.69829,45.54678],[-73.69807,45.54653],[-73.6977,45.54611],[-73.6976,45.54601],[-73.69721,45.54562],[-73.69696,45.54536],[-73.69687,45.54527],[-73.6967,45.54513],[-73.69648,45.54494],[-73.69621,45.54473],[-73.69589,45.54449],[-73.69552,45.54424],[-73.69531,45.54411],[-73.69494,45.5439],[-73.69467,45.54375],[-73.69431,45.54357],[-73.69404,45.54344],[-73.69376,45.54333],[-73.6934,45.54319],[-73.69308,45.54306],[-73.69268,45.54293],[-73.6919,45.54272],[-73.69155,45.54264],[-73.69123,45.54258],[-73.69099,45.54254],[-73.68486,45.54153],[-73.68315,45.54125],[-73.68168,45.54101],[-73.67863,45.54051],[-73.6769,45.54023],[-73.6769,45.54023],[-73.67067,45.5392],[-73.66517,45.53829],[-73.66167,45.53771],[-73.6605,45.53752],[-73.65981,45.53739],[-73.65963,45.53736],[-73.65854,45.53714],[-73.65802,45.53702],[-73.65802,45.53702],[-73.6573,45.53686],[-73.65669,45.53673],[-73.65586,45.5366],[-73.65559,45.53655],[-73.6552,45.53649],[-73.65454,45.53639],[-73.65371,45.53627],[-73.65196,45.53607],[-73.65175,45.53605],[-73.6509,45.53594],[-73.64607,45.53514],[-73.63968,45.53409],[-73.63477,45.53328],[-73.62857,45.53227],[-73.62531,45.53173],[-73.62378,45.53148],[-73.62378,45.53148],[-73.62165,45.53113],[-73.62139,45.53108],[-73.61954,45.53077],[-73.61948,45.53075],[-73.6193,45.53071],[-73.6192,45.53069],[-73.61903,45.53064],[-73.61868,45.53052],[-73.61843,45.53042],[-73.61828,45.53034],[-73.61812,45.53025],[-73.61806,45.53021],[-73.61785,45.53006],[-73.61777,45.53],[-73.61771,45.52994],[-73.61763,45.52987],[-73.61751,45.52976],[-73.61742,45.52966],[-73.61739,45.52962],[-73.61732,45.52954],[-73.61721,45.52937],[-73.61713,45.52922],[-73.61706,45.52908],[-73.61701,45.5289],[-73.61696,45.52865],[-73.61695,45.52844],[-73.61696,45.52819],[-73.617,45.52801],[-73.61704,45.52786],[-73.61709,45.52772],[-73.61717,45.52752],[-73.61723,45.52742],[-73.61738,45.5272],[-73.6175,45.52704],[-73.61754,45.52698],[-73.61798,45.52648],[-73.61865,45.52573],[-73.61894,45.52541],[-73.61958,45.5247],[-73.62089,45.52322],[-73.62118,45.5229],[-73.62143,45.52263],[-73.62222,45.52175],[-73.62257,45.52135],[-73.62275,45.52113],[-73.62282,45.52105],[-73.62328,45.52039],[-73.62345,45.52019],[-73.62377,45.51984],[-73.62403,45.51959],[-73.62421,45.51943],[-73.62441,45.51926],[-73.6245,45.51919],[-73.62467,45.51907],[-73.62521,45.51872],[-73.62574,45.51842],[-73.62609,45.51822],[-73.62791,45.5172],[-73.62854,45.51686],[-73.62882,45.5167],[-73.6289,45.51665],[-73.62908,45.51654],[-73.62929,45.51639],[-73.6295,45.51622],[-73.62972,45.51604],[-73.62993,45.51586],[-73.6302,45.51558],[-73.63056,45.5152],[-73.63103,45.5147],[-73.63127,45.51444],[-73.63192,45.51372],[-73.63224,45.51337],[-73.63355,45.51192],[-73.63483,45.51052],[-73.63539,45.50989],[-73.6359,45.50932],[-73.63827,45.50666],[-73.64007,45.50465],[-73.6403,45.50439],[-73.64073,45.50391],[-73.64306,45.50129],[-73.64448,45.4997],[-73.64548,45.4986],[-73.64612,45.49788],[-73.64748,45.49636],[-73.6498,45.49378],[-73.65022,45.4933],[-73.65044,45.49305],[-73.65051,45.49297],[-73.65067,45.4928],[-73.65081,45.49264],[-73.6516,45.49176],[-73.6522,45.49108],[-73.65304,45.49013],[-73.65341,45.48972],[-73.65369,45.48942],[-73.65396,45.48912],[-73.65418,45.48888],[-73.65447,45.48855],[-73.65471,45.48825],[-73.65494,45.48797],[-73.65506,45.4878],[-73.65522,45.48756],[-73.6554,45.48727],[-73.65554,45.48702],[-73.65568,45.48675],[-73.65589,45.48622],[-73.65593,45.4861],[-73.65601,45.48584],[-73.65606,45.48571],[-73.6561,45.4855],[-73.65611,45.48544],[-73.6562,45.4848],[-73.65622,45.48449],[-73.65622,45.48436],[-73.65621,45.48421],[-73.6562,45.48389],[-73.65616,45.48312],[-73.65614,45.48276],[-73.65612,45.48217],[-73.65609,45.48121],[-73.65609,45.48056],[-73.65608,45.48001],[-73.65607,45.47897],[-73.65607,45.47819],[-73.65606,45.4769],[-73.65606,45.47624],[-73.65605,45.47556],[-73.65605,45.47479],[-73.65605,45.47455],[-73.65606,45.47401],[-73.65608,45.47378],[-73.65612,45.47312],[-73.65612,45.47295],[-73.65613,45.47256],[-73.65614,45.47207],[-73.65608,45.4718],[-73.65608,45.47166],[-73.65607,45.47104],[-73.65606,45.47015],[-73.65606,45.46956],[-73.65606,45.46859],[-73.65605,45.46607],[-73.65604,45.46467],[-73.65605,45.46414],[-73.65605,45.46353],[-73.65605,45.46251],[-73.65604,45.46098],[-73.65603,45.45981],[-73.65603,45.45946],[-73.65602,45.45901],[-73.65601,45.45838],[-73.656,45.45736],[-73.65599,45.45706],[-73.65599,45.45689],[-73.65599,45.45667],[-73.65597,45.45621],[-73.65597,45.45608],[-73.65596,45.45598],[-73.65593,45.45563],[-73.65591,45.45543],[-73.65588,45.45513],[-73.65582,45.45454],[-73.65571,45.45397],[-73.65564,45.4537],[-73.6555,45.45337],[-73.65541,45.45318],[-73.65523,45.45295],[-73.65507,45.45274],[-73.65474,45.45242],[-73.6545,45.45223],[-73.65427,45.45206],[-73.654,45.45188],[-73.65374,45.45174],[-73.65363,45.45169],[-73.65343,45.45159],[-73.65322,45.4515],[-73.65283,45.45136],[-73.65252,45.45126],[-73.65221,45.45118],[-73.65179,45.45109],[-73.65139,45.45104],[-73.65099,45.451],[-73.65051,45.45097],[-73.64995,45.45096],[-73.64941,45.45098],[-73.64902,45.451],[-73.64856,45.45105],[-73.64804,45.45113],[-73.64762,45.45121],[-73.64707,45.45133],[-73.64651,45.45148],[-73.64599,45.45166],[-73.64566,45.45178],[-73.6455,45.45185],[-73.6451,45.45204],[-73.64438,45.45241],[-73.64364,45.4528],[-73.64179,45.45376],[-73.64179,45.45376],[-73.64106,45.45414],[-73.64046,45.45445],[-73.64004,45.45467],[-73.63949,45.45493],[-73.63915,45.45508],[-73.63887,45.45519],[-73.63856,45.45535],[-73.63784,45.45568],[-73.63752,45.45584],[-73.63554,45.45687],[-73.63451,45.45741],[-73.63365,45.45785],[-73.63074,45.45936],[-73.62989,45.4598],[-73.6274,45.46111],[-73.62553,45.46207],[-73.62521,45.46224],[-73.62434,45.46269],[-73.62376,45.46299],[-73.62263,45.46358],[-73.62116,45.46435],[-73.61998,45.46497],[-73.61911,45.46542],[-73.61678,45.46663],[-73.61525,45.46742],[-73.6144,45.46785],[-73.61387,45.46813],[-73.61294,45.46861],[-73.61156,45.46933],[-73.60985,45.47023],[-73.60858,45.47088],[-73.60849,45.47093],[-73.60838,45.47098],[-73.60773,45.47132],[-73.60759,45.47139],[-73.60745,45.47147],[-73.60632,45.47205],[-73.60612,45.47215],[-73.60602,45.47221],[-73.60594,45.47225],[-73.60587,45.47228],[-73.60503,45.47272],[-73.60471,45.47289],[-73.60438,45.47306],[-73.60343,45.47358],[-73.60334,45.47363],[-73.60327,45.47366],[-73.60309,45.47377],[-73.60309,45.47377],[-73.60267,45.474],[-73.60161,45.4746],[-73.59945,45.47581],[-73.5985,45.47635],[-73.59783,45.47673],[-73.59758,45.47687],[-73.59719,45.4771],[-73.59572,45.47795],[-73.59514,45.47828],[-73.59477,45.47849],[-73.59474,45.4785],[-73.59425,45.47883],[-73.59409,45.47893],[-73.59399,45.47898],[-73.5929,45.47958],[-73.59191,45.48015],[-73.59104,45.48068],[-73.59007,45.48127],[-73.59006,45.48128],[-73.58944,45.48168],[-73.58819,45.4825],[-73.58717,45.48317],[-73.58636,45.4837],[-73.58491,45.48465],[-73.5848,45.48472],[-73.5818,45.48664],[-73.58027,45.48763],[-73.58016,45.4877],[-73.57998,45.48782],[-73.57951,45.48815],[-73.57912,45.48842],[-73.57903,45.48849],[-73.57824,45.48908],[-73.57801,45.48927],[-73.57695,45.49011],[-73.57679,45.49024],[-73.57672,45.4903],[-73.5764,45.49054],[-73.57608,45.49079],[-73.57595,45.49089],[-73.57585,45.49096],[-73.57507,45.49153],[-73.57463,45.49184],[-73.57398,45.49231],[-73.57336,45.49276],[-73.5727,45.49325],[-73.57243,45.49354],[-73.57077,45.49475]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.99913,45.77317],[-73.99899,45.77287],[-73.99883,45.77255],[-73.99871,45.77233],[-73.99858,45.77212],[-73.99851,45.77202],[-73.99844,45.77191],[-73.99841,45.77187],[-73.99814,45.77154],[-73.99799,45.77137],[-73.99764,45.771],[-73.99714,45.77062],[-73.99678,45.77031],[-73.99664,45.7702],[-73.99649,45.77007],[-73.99609,45.76978],[-73.99571,45.76949],[-73.9952,45.76912],[-73.99483,45.76884],[-73.99356,45.7679],[-73.99301,45.76749],[-73.99228,45.76695],[-73.99178,45.76657],[-73.99129,45.7662],[-73.99021,45.76538],[-73.98956,45.76488],[-73.98936,45.76474],[-73.98768,45.76347],[-73.98743,45.76328],[-73.98724,45.76314],[-73.98626,45.76241],[-73.98289,45.7599],[-73.98253,45.75964],[-73.98196,45.75922],[-73.98154,45.7589],[-73.98119,45.75863],[-73.98089,45.75841],[-73.9805,45.75811],[-73.97989,45.75764],[-73.97971,45.75751],[-73.97956,45.75739],[-73.97778,45.75608],[-73.97753,45.75589],[-73.97728,45.7557],[-73.97674,45.75529],[-73.97616,45.75486],[-73.9751,45.75407],[-73.9744,45.75354],[-73.97263,45.75222],[-73.97107,45.75103],[-73.96977,45.75004],[-73.96852,45.74912],[-73.96772,45.74852],[-73.96439,45.74603],[-73.96409,45.7458],[-73.96345,45.74533],[-73.96101,45.74349],[-73.96041,45.74304],[-73.95986,45.74263],[-73.95929,45.74221],[-73.95609,45.7398],[-73.95471,45.73877],[-73.95414,45.73835],[-73.9528,45.73735],[-73.9523,45.73697],[-73.9519,45.73668],[-73.94952,45.7349],[-73.94611,45.73235],[-73.94475,45.73135],[-73.94399,45.73078],[-73.94288,45.72995],[-73.94055,45.7282],[-73.93955,45.72745],[-73.93619,45.72493],[-73.93315,45.72263],[-73.93272,45.72232],[-73.92944,45.71986],[-73.92606,45.71733],[-73.92267,45.71479],[-73.9193,45.71226],[-73.91855,45.71171],[-73.91855,45.71171],[-73.91802,45.71131],[-73.91714,45.71065],[-73.91675,45.71035],[-73.91604,45.70982],[-73.91472,45.70882],[-73.91264,45.70727],[-73.91162,45.7065],[-73.91086,45.70593],[-73.90927,45.70472],[-73.90691,45.70295],[-73.90675,45.70283],[-73.90644,45.7026],[-73.90611,45.70235],[-73.90589,45.70219],[-73.90434,45.70104],[-73.90386,45.70069],[-73.90308,45.7001],[-73.90244,45.69962],[-73.90138,45.69883],[-73.90107,45.6986],[-73.90082,45.69841],[-73.90059,45.69824],[-73.9001,45.69787],[-73.89914,45.69715],[-73.89899,45.69703],[-73.89828,45.69651],[-73.89754,45.69595],[-73.89646,45.69514],[-73.89575,45.69461],[-73.89236,45.69206],[-73.89193,45.69174],[-73.89074,45.69084],[-73.88895,45.68951],[-73.88819,45.68894],[-73.88748,45.6884],[-73.88717,45.68816],[-73.88698,45.68802],[-73.88632,45.68754],[-73.88555,45.68696],[-73.88212,45.68438],[-73.87869,45.68181],[-73.87552,45.67943],[-73.87206,45.67683],[-73.86984,45.67517],[-73.86861,45.67424],[-73.86618,45.67242],[-73.86618,45.67242],[-73.86548,45.6719],[-73.86478,45.67136],[-73.86467,45.67128],[-73.86454,45.67119],[-73.86371,45.67057],[-73.86339,45.67034],[-73.86239,45.66957],[-73.86232,45.66951],[-73.86213,45.66938],[-73.86126,45.66873],[-73.86042,45.6681],[-73.85984,45.66766],[-73.85954,45.66744],[-73.85864,45.66677],[-73.8582,45.66645],[-73.85787,45.6662],[-73.85723,45.66571],[-73.85471,45.66383],[-73.85392,45.66322],[-73.85146,45.66139],[-73.85058,45.66072],[-73.84966,45.66003],[-73.84726,45.65823],[-73.84549,45.6569],[-73.84477,45.65636],[-73.84459,45.65622],[-73.84436,45.65604],[-73.84423,45.65594],[-73.84414,45.65586],[-73.8438,45.65556],[-73.8436,45.65538],[-73.84322,45.65499],[-73.84307,45.65484],[-73.84286,45.6546],[-73.84243,45.65409],[-73.84238,45.65404],[-73.84219,45.65375],[-73.84211,45.6536],[-73.84202,45.65344],[-73.84187,45.65315],[-73.84176,45.65288],[-73.84165,45.65253],[-73.8416,45.6523],[-73.84155,45.65188],[-73.84154,45.65177],[-73.84153,45.65159],[-73.84154,45.65137],[-73.84155,45.65129],[-73.84156,45.65116],[-73.84159,45.65098],[-73.84161,45.65085],[-73.84173,45.6504],[-73.84181,45.65021],[-73.84192,45.64994],[-73.84203,45.64973],[-73.84216,45.6495],[-73.84228,45.64932],[-73.84237,45.6492],[-73.84247,45.64907],[-73.84253,45.64898],[-73.84284,45.64864],[-73.843,45.64847],[-73.84342,45.64811],[-73.84349,45.64806],[-73.84368,45.64791],[-73.84393,45.64775],[-73.84418,45.64759],[-73.84444,45.64743],[-73.84451,45.64739],[-73.84471,45.64728],[-73.84497,45.64716],[-73.84526,45.64703],[-73.84574,45.64684],[-73.84631,45.64661],[-73.84813,45.64588],[-73.84837,45.64579],[-73.84862,45.64567],[-73.84894,45.64551],[-73.84923,45.64534],[-73.84947,45.6452],[-73.84961,45.6451],[-73.84975,45.64499],[-73.84989,45.64489],[-73.85003,45.64477],[-73.85023,45.64461],[-73.85037,45.64449],[-73.85058,45.64428],[-73.85074,45.64411],[-73.85094,45.64387],[-73.85107,45.64371],[-73.85122,45.64348],[-73.85135,45.64327],[-73.85142,45.64313],[-73.8515,45.64298],[-73.85156,45.64283],[-73.85165,45.64261],[-73.85173,45.64238],[-73.85179,45.64216],[-73.85183,45.64185],[-73.85188,45.64157],[-73.85187,45.64137],[-73.85187,45.64124],[-73.85186,45.64102],[-73.85184,45.64083],[-73.85183,45.64077],[-73.85179,45.6406],[-73.85173,45.6403],[-73.85165,45.64009],[-73.85156,45.63985],[-73.85145,45.63962],[-73.85135,45.63942],[-73.85128,45.63931],[-73.85114,45.63911],[-73.85105,45.63898],[-73.8509,45.63877],[-73.85071,45.63856],[-73.85064,45.63848],[-73.85053,45.63836],[-73.85015,45.63801],[-73.84999,45.63787],[-73.84988,45.63779],[-73.84952,45.63752],[-73.84919,45.6373],[-73.84898,45.63715],[-73.84874,45.63702],[-73.84866,45.63698],[-73.84838,45.63682],[-73.84799,45.63664],[-73.84775,45.63654],[-73.84734,45.63638],[-73.84702,45.63627],[-73.84685,45.63622],[-73.84662,45.63615],[-73.84636,45.63608],[-73.84619,45.63604],[-73.8459,45.63597],[-73.84532,45.63586],[-73.84513,45.63582],[-73.84474,45.63577],[-73.84435,45.63573],[-73.84408,45.63571],[-73.84398,45.6357],[-73.84357,45.63569],[-73.84298,45.63569],[-73.84131,45.63574],[-73.83858,45.63584],[-73.83738,45.63589],[-73.83681,45.63591],[-73.83353,45.63602],[-73.83353,45.63602],[-73.83039,45.63614],[-73.82731,45.63626],[-73.82375,45.6364],[-73.82344,45.63641],[-73.81735,45.63664],[-73.81599,45.63669],[-73.81575,45.6367],[-73.81558,45.63671],[-73.81543,45.63672],[-73.81488,45.63674],[-73.814,45.63677],[-73.81289,45.63681],[-73.81129,45.63687],[-73.80602,45.63708],[-73.80516,45.6371],[-73.80472,45.6371],[-73.80431,45.63709],[-73.80348,45.63704],[-73.80325,45.63702],[-73.80296,45.63698],[-73.80264,45.63694],[-73.80223,45.63688],[-73.80142,45.63672],[-73.80102,45.63663],[-73.80056,45.63649],[-73.80019,45.63638],[-73.79986,45.63627],[-73.79949,45.63614],[-73.79917,45.63601],[-73.79889,45.6359],[-73.79877,45.63585],[-73.7979,45.63545],[-73.79575,45.6345],[-73.79575,45.6345],[-73.79447,45.63394],[-73.79319,45.63337],[-73.79174,45.63273],[-73.79038,45.63213],[-73.78896,45.63151],[-73.78738,45.63082],[-73.7861,45.63026],[-73.78489,45.62974],[-73.78399,45.62935],[-73.7836,45.62921],[-73.78319,45.62908],[-73.78266,45.62892],[-73.78238,45.62884],[-73.78221,45.62881],[-73.78155,45.62865],[-73.78107,45.62856],[-73.78053,45.62848],[-73.77856,45.62822],[-73.77648,45.62794],[-73.77615,45.6279],[-73.77537,45.62779],[-73.77417,45.62763],[-73.77232,45.62737],[-73.76934,45.62696],[-73.76895,45.62689],[-73.7686,45.62683],[-73.76834,45.62677],[-73.76815,45.62673],[-73.7678,45.62664],[-73.76742,45.62653],[-73.7672,45.62647],[-73.76698,45.6264],[-73.7666,45.62628],[-73.76624,45.62615],[-73.76587,45.626],[-73.7656,45.62588],[-73.76551,45.62584],[-73.76519,45.62568],[-73.7649,45.62554],[-73.76474,45.62545],[-73.76474,45.62545],[-73.76453,45.62533],[-73.76425,45.62516],[-73.76402,45.62501],[-73.76356,45.62467],[-73.76347,45.62461],[-73.76277,45.62404],[-73.76246,45.62376],[-73.76236,45.62367],[-73.7621,45.62341],[-73.76176,45.62307],[-73.76082,45.62211],[-73.75826,45.61952],[-73.75596,45.6172],[-73.75337,45.61459],[-73.75082,45.61202],[-73.75042,45.61162],[-73.74997,45.61117],[-73.74967,45.61087],[-73.74838,45.60956],[-73.74679,45.60796],[-73.74582,45.60701],[-73.7434,45.60455],[-73.74263,45.60378],[-73.74263,45.60378],[-73.7402,45.60132],[-73.7377,45.59879],[-73.73538,45.59644],[-73.73439,45.59544],[-73.73426,45.59532],[-73.73197,45.593],[-73.73119,45.59222],[-73.73069,45.59172],[-73.72966,45.59067],[-73.72812,45.58911],[-73.72794,45.58893],[-73.72785,45.58883],[-73.72768,45.58866],[-73.72731,45.58827],[-73.72714,45.5881],[-73.72617,45.58712],[-73.72498,45.58592],[-73.72477,45.58571],[-73.72393,45.58487],[-73.72373,45.58468],[-73.72321,45.58414],[-73.72284,45.58376],[-73.72272,45.58365],[-73.7218,45.58272],[-73.7216,45.58252],[-73.7215,45.58242],[-73.72116,45.58207],[-73.72109,45.58199],[-73.72101,45.5819],[-73.72078,45.58164],[-73.72067,45.58151],[-73.72054,45.58136],[-73.72039,45.58114],[-73.72026,45.58097],[-73.72003,45.58057],[-73.71998,45.58049],[-73.71968,45.57989],[-73.7191,45.57874],[-73.71793,45.5764],[-73.71696,45.57448],[-73.71682,45.57421],[-73.71674,45.57404],[-73.71669,45.57393],[-73.71656,45.57366],[-73.71652,45.57358],[-73.71621,45.57297],[-73.71577,45.57209],[-73.71451,45.56959],[-73.71331,45.56719],[-73.71218,45.56494],[-73.71119,45.56295],[-73.71051,45.56159],[-73.71022,45.56101],[-73.71012,45.56082],[-73.70987,45.56033],[-73.70987,45.56033],[-73.70916,45.55895],[-73.70908,45.55879],[-73.70882,45.55836],[-73.70873,45.55824],[-73.70846,45.55786],[-73.70805,45.55739],[-73.70713,45.5564],[-73.70535,45.55449],[-73.7031,45.55206],[-73.70097,45.54975],[-73.70046,45.54919],[-73.7003,45.54893],[-73.69958,45.54816],[-73.69829,45.54678],[-73.69807,45.54653],[-73.6977,45.54611],[-73.6976,45.54601],[-73.69721,45.54562],[-73.69696,45.54536],[-73.69687,45.54527],[-73.6967,45.54513],[-73.69648,45.54494],[-73.69621,45.54473],[-73.69589,45.54449],[-73.69552,45.54424],[-73.69531,45.54411],[-73.69494,45.5439],[-73.69467,45.54375],[-73.69431,45.54357],[-73.69404,45.54344],[-73.69376,45.54333],[-73.6934,45.54319],[-73.69308,45.54306],[-73.69268,45.54293],[-73.6919,45.54272],[-73.69155,45.54264],[-73.69123,45.54258],[-73.69099,45.54254],[-73.68486,45.54153],[-73.68315,45.54125],[-73.68168,45.54101],[-73.67863,45.54051],[-73.6769,45.54023],[-73.6769,45.54023],[-73.67067,45.5392],[-73.66517,45.53829],[-73.66167,45.53771],[-73.6605,45.53752],[-73.65981,45.53739],[-73.65963,45.53736],[-73.65854,45.53714],[-73.65802,45.53702],[-73.65802,45.53702],[-73.6573,45.53686],[-73.65669,45.53673],[-73.65586,45.5366],[-73.65559,45.53655],[-73.6552,45.53649],[-73.65454,45.53639],[-73.65371,45.53627],[-73.65196,45.53607],[-73.65175,45.53605],[-73.6509,45.53594],[-73.64607,45.53514],[-73.63968,45.53409],[-73.63477,45.53328],[-73.62857,45.53227],[-73.62531,45.53173],[-73.62378,45.53148]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.57077,45.49475],[-73.57243,45.49354],[-73.57271,45.49325],[-73.57336,45.49276],[-73.57409,45.49223],[-73.57463,45.49184],[-73.57494,45.49162],[-73.57524,45.49141],[-73.57581,45.49099],[-73.57615,45.49073],[-73.57676,45.49027],[-73.57757,45.48962],[-73.57798,45.48929],[-73.57841,45.48896],[-73.57909,45.48844],[-73.57972,45.48801],[-73.58001,45.4878],[-73.58028,45.48762],[-73.5814,45.4869],[-73.58297,45.48589],[-73.58487,45.48468],[-73.58636,45.4837],[-73.58767,45.48284],[-73.58916,45.48187],[-73.59007,45.48127],[-73.59137,45.48048],[-73.59189,45.48017],[-73.5929,45.47958],[-73.5931,45.47947],[-73.5941,45.47892],[-73.59422,45.47884],[-73.59474,45.4785],[-73.59533,45.47817],[-73.59581,45.4779],[-73.59723,45.47708],[-73.59748,45.47693],[-73.5982,45.47652],[-73.59927,45.47591],[-73.59982,45.47561],[-73.60146,45.47468],[-73.60309,45.47377],[-73.60309,45.47377],[-73.60348,45.47355],[-73.6048,45.47284],[-73.60587,45.47228],[-73.60974,45.47028],[-73.6122,45.469],[-73.61423,45.46794],[-73.61737,45.46632],[-73.61928,45.46533],[-73.61976,45.46508],[-73.62131,45.46427],[-73.62343,45.46316],[-73.62525,45.46222],[-73.62837,45.4606],[-73.62973,45.45989],[-73.63368,45.45783],[-73.6352,45.45705],[-73.63607,45.4566],[-73.63781,45.4557],[-73.63792,45.45564],[-73.63857,45.45535],[-73.63887,45.45519],[-73.63919,45.45506],[-73.63951,45.45492],[-73.64005,45.45467],[-73.64015,45.45461],[-73.6403,45.45453],[-73.64182,45.45374],[-73.64182,45.45374],[-73.64421,45.4525],[-73.6444,45.4524],[-73.645,45.45209],[-73.64519,45.452],[-73.64548,45.45186],[-73.64565,45.45179],[-73.64599,45.45166],[-73.64651,45.45148],[-73.64706,45.45133],[-73.64762,45.45121],[-73.64779,45.45117],[-73.64808,45.45112],[-73.64856,45.45105],[-73.649,45.45101],[-73.64949,45.45097],[-73.64995,45.45096],[-73.65052,45.45097],[-73.65099,45.451],[-73.65132,45.45103],[-73.6518,45.4511],[-73.65221,45.45118],[-73.65243,45.45124],[-73.65255,45.45127],[-73.65271,45.45132],[-73.65285,45.45137],[-73.65322,45.4515],[-73.65348,45.45162],[-73.65374,45.45174],[-73.65399,45.45187],[-73.65404,45.4519],[-73.65425,45.45204],[-73.65437,45.45213],[-73.6545,45.45223],[-73.6547,45.45238],[-73.6549,45.45258],[-73.65507,45.45274],[-73.65541,45.45318],[-73.65551,45.45338],[-73.65564,45.4537],[-73.65572,45.45399],[-73.65581,45.45447],[-73.65582,45.45458],[-73.65591,45.45537],[-73.65595,45.45591],[-73.65596,45.45606],[-73.65597,45.45616],[-73.65599,45.4565],[-73.656,45.45671],[-73.65599,45.45689],[-73.65599,45.45709],[-73.65601,45.45833],[-73.65603,45.45956],[-73.65603,45.46039],[-73.65604,45.46148],[-73.65605,45.46257],[-73.65605,45.46283],[-73.65605,45.46313],[-73.65605,45.46362],[-73.65605,45.46407],[-73.65605,45.46513],[-73.65606,45.46873],[-73.65606,45.46933],[-73.65606,45.47009],[-73.65607,45.47051],[-73.65608,45.47125],[-73.65608,45.47181],[-73.65614,45.47207],[-73.65614,45.47222],[-73.65613,45.47284],[-73.65612,45.473],[-73.65611,45.47321],[-73.65607,45.4739],[-73.65606,45.47413],[-73.65605,45.47483],[-73.65605,45.47491],[-73.65606,45.47604],[-73.65607,45.47745],[-73.65608,45.48008],[-73.65609,45.48097],[-73.6561,45.48132],[-73.65612,45.48196],[-73.65613,45.48244],[-73.65614,45.48272],[-73.65618,45.48356],[-73.65621,45.48417],[-73.65622,45.48444],[-73.65622,45.48452],[-73.65619,45.48483],[-73.65611,45.48541],[-73.6561,45.48549],[-73.65606,45.48571],[-73.6559,45.4862],[-73.65567,45.48676],[-73.65563,45.48684],[-73.65548,45.48713],[-73.65542,45.48725],[-73.6552,45.48759],[-73.65502,45.48785],[-73.65495,45.48795],[-73.65491,45.488],[-73.65476,45.48819],[-73.65466,45.48833],[-73.65448,45.48854],[-73.65431,45.48874],[-73.65422,45.48883],[-73.65395,45.48913],[-73.65378,45.48932],[-73.65367,45.48944],[-73.65341,45.48972],[-73.65329,45.48985],[-73.65309,45.49007],[-73.65301,45.49016],[-73.65265,45.49057],[-73.65143,45.49194],[-73.65067,45.4928],[-73.65045,45.49303],[-73.65038,45.49311],[-73.65028,45.49323],[-73.65019,45.49333],[-73.6498,45.49377],[-73.64588,45.49815],[-73.64583,45.49821],[-73.64519,45.49892],[-73.64415,45.50008],[-73.64315,45.5012],[-73.64235,45.5021],[-73.64174,45.50278],[-73.6403,45.50439],[-73.64016,45.50455],[-73.64007,45.50464],[-73.6378,45.50719],[-73.63536,45.50992],[-73.63492,45.5104],[-73.63406,45.51137],[-73.633,45.51253],[-73.63219,45.51342],[-73.63103,45.5147],[-73.63064,45.51512],[-73.63017,45.51561],[-73.62993,45.51586],[-73.62975,45.51601],[-73.6295,45.51622],[-73.62945,45.51626],[-73.6293,45.51638],[-73.62915,45.51649],[-73.62907,45.51654],[-73.62882,45.5167],[-73.62854,45.51686],[-73.62804,45.51713],[-73.62605,45.51825],[-73.62579,45.51839],[-73.62527,45.51869],[-73.62521,45.51872],[-73.62484,45.51896],[-73.62464,45.51909],[-73.6244,45.51926],[-73.62423,45.5194],[-73.62396,45.51965],[-73.62375,45.51986],[-73.62345,45.52019],[-73.62327,45.5204],[-73.62316,45.52056],[-73.62282,45.52105],[-73.62265,45.52126],[-73.62256,45.52136],[-73.62252,45.52141],[-73.62242,45.52152],[-73.62177,45.52225],[-73.62028,45.52391],[-73.6187,45.52567],[-73.61754,45.52698],[-73.61742,45.52714],[-73.61726,45.52737],[-73.61723,45.52741],[-73.6172,45.52747],[-73.61717,45.52752],[-73.61716,45.52755],[-73.61709,45.5277],[-73.61706,45.52778],[-73.61704,45.52786],[-73.61701,45.52799],[-73.61696,45.52819],[-73.61695,45.52844],[-73.61695,45.52858],[-73.61696,45.52865],[-73.61701,45.5289],[-73.61706,45.52907],[-73.61713,45.52923],[-73.6172,45.52935],[-73.61724,45.52942],[-73.61732,45.52953],[-73.61737,45.5296],[-73.6174,45.52964],[-73.61748,45.52973],[-73.61762,45.52987],[-73.61769,45.52993],[-73.61778,45.53001],[-73.61793,45.53012],[-73.61803,45.53019],[-73.61812,45.53025],[-73.61828,45.53034],[-73.61838,45.53039],[-73.61849,45.53044],[-73.61868,45.53052],[-73.61877,45.53055],[-73.61903,45.53064],[-73.61909,45.53066],[-73.61929,45.53071],[-73.61949,45.53076],[-73.61957,45.53077],[-73.62133,45.53107],[-73.62165,45.53113],[-73.62378,45.53148],[-73.62378,45.53148],[-73.62555,45.53177],[-73.63,45.5325],[-73.63443,45.53323],[-73.64068,45.53426],[-73.64556,45.53506],[-73.6461,45.53515],[-73.65087,45.53593],[-73.65166,45.53603],[-73.65199,45.53607],[-73.65275,45.53616],[-73.65371,45.53627],[-73.65518,45.53648],[-73.65559,45.53655],[-73.65588,45.5366],[-73.65669,45.53673],[-73.65705,45.53681],[-73.65727,45.53685],[-73.65804,45.53702],[-73.65804,45.53702],[-73.65855,45.53714],[-73.65872,45.53717],[-73.65963,45.53736],[-73.66039,45.5375],[-73.66485,45.53823],[-73.67098,45.53925],[-73.6769,45.54023],[-73.6769,45.54023],[-73.68283,45.54119],[-73.68342,45.54129],[-73.68555,45.54164],[-73.68891,45.54219],[-73.69123,45.54258],[-73.69158,45.54265],[-73.6919,45.54272],[-73.69267,45.54293],[-73.69308,45.54306],[-73.69341,45.54319],[-73.69373,45.54331],[-73.69401,45.54343],[-73.69467,45.54375],[-73.69531,45.54411],[-73.6956,45.54429],[-73.69589,45.54449],[-73.69618,45.5447],[-73.69648,45.54494],[-73.6967,45.54513],[-73.69694,45.54534],[-73.69725,45.54566],[-73.6976,45.54601],[-73.6977,45.54611],[-73.69782,45.54625],[-73.69828,45.54677],[-73.69841,45.5469],[-73.69882,45.54734],[-73.69944,45.54801],[-73.70004,45.54865],[-73.70035,45.54899],[-73.70095,45.54965],[-73.70114,45.54986],[-73.70175,45.55051],[-73.70237,45.55118],[-73.70446,45.55344],[-73.70675,45.55591],[-73.70809,45.55736],[-73.70822,45.55751],[-73.70851,45.55785],[-73.70867,45.55805],[-73.70883,45.55827],[-73.70911,45.55874],[-73.70994,45.56033],[-73.70994,45.56033],[-73.71016,45.56076],[-73.71127,45.56297],[-73.7126,45.56562],[-73.71366,45.56772],[-73.7139,45.56821],[-73.71522,45.57086],[-73.7165,45.57343],[-73.71659,45.57362],[-73.71673,45.57391],[-73.71702,45.57448],[-73.71734,45.57511],[-73.71775,45.57594],[-73.71886,45.57813],[-73.71906,45.57852],[-73.71935,45.57909],[-73.7196,45.57958],[-73.71968,45.57974],[-73.71982,45.58004],[-73.72006,45.58053],[-73.72008,45.58058],[-73.72025,45.58086],[-73.72033,45.58099],[-73.72044,45.58115],[-73.7205,45.58123],[-73.72072,45.58149],[-73.72089,45.5817],[-73.72093,45.58174],[-73.7213,45.58213],[-73.72142,45.58226],[-73.72204,45.58288],[-73.72242,45.58329],[-73.72304,45.58388],[-73.72356,45.58443],[-73.72382,45.58469],[-73.72433,45.58521],[-73.72462,45.58549],[-73.7248,45.58567],[-73.72553,45.5864],[-73.72576,45.58663],[-73.72677,45.58765],[-73.72773,45.58863],[-73.72837,45.58929],[-73.72886,45.58978],[-73.72978,45.59071],[-73.73023,45.59116],[-73.73047,45.59142],[-73.73178,45.59274],[-73.73318,45.59414],[-73.73428,45.59526],[-73.73443,45.59541],[-73.73505,45.59604],[-73.73757,45.59859],[-73.74014,45.60119],[-73.74269,45.60376],[-73.74269,45.60376],[-73.74323,45.60431],[-73.7445,45.6056],[-73.74462,45.6058],[-73.74565,45.60684],[-73.7459,45.60709],[-73.74616,45.60734],[-73.74679,45.60796],[-73.74791,45.60909],[-73.74983,45.61103],[-73.7501,45.61129],[-73.75039,45.61158],[-73.75065,45.61185],[-73.75129,45.6125],[-73.75224,45.61346],[-73.75446,45.61569],[-73.75657,45.61782],[-73.75917,45.62044],[-73.76091,45.6222],[-73.7618,45.62311],[-73.76203,45.62335],[-73.7624,45.62371],[-73.76278,45.62405],[-73.76345,45.62459],[-73.76399,45.62498],[-73.76424,45.62515],[-73.76452,45.62532],[-73.76474,45.62545],[-73.76474,45.62545],[-73.76492,45.62555],[-73.76524,45.62571],[-73.76551,45.62583],[-73.76587,45.626],[-73.76624,45.62615],[-73.76645,45.62622],[-73.76659,45.62628],[-73.76703,45.62642],[-73.76742,45.62653],[-73.7678,45.62664],[-73.76815,45.62673],[-73.76855,45.62682],[-73.76895,45.62689],[-73.76947,45.62697],[-73.77031,45.62709],[-73.77116,45.62721],[-73.77395,45.6276],[-73.77616,45.6279],[-73.77646,45.62794],[-73.77815,45.62816],[-73.78036,45.62846],[-73.78054,45.62848],[-73.78106,45.62856],[-73.78152,45.62865],[-73.78238,45.62884],[-73.78319,45.62908],[-73.78361,45.62921],[-73.78402,45.62937],[-73.78444,45.62955],[-73.78569,45.63009],[-73.78614,45.63027],[-73.78736,45.63081],[-73.79098,45.6324],[-73.79194,45.63282],[-73.79295,45.63327],[-73.79462,45.634],[-73.79512,45.63423],[-73.79574,45.6345],[-73.79574,45.6345],[-73.79715,45.63512],[-73.7978,45.63541],[-73.79838,45.63567],[-73.7988,45.63586],[-73.79912,45.63599],[-73.79949,45.63614],[-73.79989,45.63628],[-73.80023,45.63639],[-73.80064,45.63652],[-73.80102,45.63662],[-73.80142,45.63672],[-73.80223,45.63688],[-73.80269,45.63695],[-73.80306,45.637],[-73.80315,45.63701],[-73.80329,45.63702],[-73.80348,45.63704],[-73.80431,45.63709],[-73.80474,45.6371],[-73.80516,45.6371],[-73.80593,45.63708],[-73.80745,45.63702],[-73.80895,45.63696],[-73.81047,45.6369],[-73.81199,45.63684],[-73.81256,45.63682],[-73.81301,45.6368],[-73.81354,45.63678],[-73.81503,45.63673],[-73.81563,45.63671],[-73.81575,45.6367],[-73.81599,45.63669],[-73.82059,45.63652],[-73.8265,45.63629],[-73.83089,45.63612],[-73.83217,45.63607],[-73.83356,45.63602],[-73.83355,45.63602],[-73.8368,45.63591],[-73.83699,45.6359],[-73.83779,45.63587],[-73.83966,45.6358],[-73.84071,45.63576],[-73.8415,45.63573],[-73.84298,45.63569],[-73.8436,45.63569],[-73.84401,45.6357],[-73.84435,45.63573],[-73.84478,45.63578],[-73.84513,45.63582],[-73.84546,45.63589],[-73.84588,45.63596],[-73.84621,45.63604],[-73.84662,45.63615],[-73.84698,45.63626],[-73.84734,45.63638],[-73.84774,45.63653],[-73.84806,45.63667],[-73.84838,45.63682],[-73.84867,45.63698],[-73.84897,45.63715],[-73.84925,45.63734],[-73.84955,45.63755],[-73.8499,45.6378],[-73.85002,45.6379],[-73.85011,45.63798],[-73.85035,45.6382],[-73.85053,45.63836],[-73.85062,45.63846],[-73.85075,45.6386],[-73.8509,45.63877],[-73.85105,45.63898],[-73.85128,45.63931],[-73.85135,45.63942],[-73.85146,45.63963],[-73.85156,45.63985],[-73.85161,45.63998],[-73.85165,45.64009],[-73.85173,45.6403],[-73.85177,45.64051],[-73.85182,45.64073],[-73.85183,45.64078],[-73.85186,45.64102],[-73.85187,45.64124],[-73.85187,45.64142],[-73.85188,45.64157],[-73.85185,45.64174],[-73.85183,45.64189],[-73.85178,45.64217],[-73.85173,45.64237],[-73.85165,45.64261],[-73.85156,45.64285],[-73.85146,45.64305],[-73.85135,45.64328],[-73.8512,45.64351],[-73.85107,45.64371],[-73.85098,45.64382],[-73.85073,45.64412],[-73.85059,45.64426],[-73.85035,45.6445],[-73.85011,45.6447],[-73.84992,45.64486],[-73.84978,45.64497],[-73.84962,45.64509],[-73.84947,45.6452],[-73.84925,45.64533],[-73.84911,45.64541],[-73.84889,45.64553],[-73.84863,45.64567],[-73.84837,45.64578],[-73.84824,45.64584],[-73.84776,45.64603],[-73.84626,45.64663],[-73.84561,45.6469],[-73.84528,45.64702],[-73.84507,45.64712],[-73.84471,45.64728],[-73.84444,45.64743],[-73.84417,45.64759],[-73.84399,45.64771],[-73.84368,45.64791],[-73.84344,45.64809],[-73.84301,45.64846],[-73.84286,45.64862],[-73.84253,45.64898],[-73.84247,45.64907],[-73.84237,45.6492],[-73.84228,45.64932],[-73.84216,45.6495],[-73.84203,45.64973],[-73.84191,45.64997],[-73.84182,45.65018],[-73.84173,45.6504],[-73.84161,45.65087],[-73.84157,45.65111],[-73.84154,45.65135],[-73.84153,45.65158],[-73.84155,45.65183],[-73.84155,45.65188],[-73.8416,45.65232],[-73.84165,45.65253],[-73.84176,45.65288],[-73.84186,45.65314],[-73.84201,45.65343],[-73.84218,45.65373],[-73.84238,45.65404],[-73.84286,45.6546],[-73.84307,45.65484],[-73.84316,45.65493],[-73.8436,45.65538],[-73.84387,45.65562],[-73.84415,45.65587],[-73.8446,45.65623],[-73.84477,45.65636],[-73.84581,45.65713],[-73.84651,45.65766],[-73.84954,45.65994],[-73.85166,45.66154],[-73.8527,45.66231],[-73.85382,45.66315],[-73.85446,45.66363],[-73.8561,45.66486],[-73.85709,45.66561],[-73.85766,45.66605],[-73.85793,45.66625],[-73.85823,45.66647],[-73.85954,45.66744],[-73.8598,45.66763],[-73.86065,45.66827],[-73.8622,45.66943],[-73.86233,45.66952],[-73.86248,45.66963],[-73.86295,45.67],[-73.86353,45.67044],[-73.86452,45.67118],[-73.86478,45.67136],[-73.86535,45.6718],[-73.86544,45.67187],[-73.86618,45.67242],[-73.86618,45.67242],[-73.8696,45.67499],[-73.87303,45.67756],[-73.87539,45.67934],[-73.87886,45.68194],[-73.88228,45.68451],[-73.88566,45.68704],[-73.88629,45.68751],[-73.88715,45.68814],[-73.88746,45.68839],[-73.8876,45.6885],[-73.88812,45.68888],[-73.8885,45.68917],[-73.88908,45.6896],[-73.89166,45.69153],[-73.8925,45.69217],[-73.89596,45.69477],[-73.89737,45.69582],[-73.89772,45.69609],[-73.89823,45.69647],[-73.89848,45.69666],[-73.89898,45.69702],[-73.89929,45.69726],[-73.90059,45.69824],[-73.90079,45.69839],[-73.90102,45.69856],[-73.90278,45.69988],[-73.90375,45.70061],[-73.90405,45.70083],[-73.90409,45.70086],[-73.90592,45.70222],[-73.90631,45.7025],[-73.90649,45.70264],[-73.90684,45.7029],[-73.90716,45.70314],[-73.90791,45.7037],[-73.90904,45.70455],[-73.90981,45.70513],[-73.9116,45.70649],[-73.91182,45.70665],[-73.91333,45.70778],[-73.91471,45.70882],[-73.91541,45.70935],[-73.91682,45.7104],[-73.91712,45.71063],[-73.918,45.71129],[-73.91855,45.71171],[-73.91855,45.71171],[-73.92029,45.71301],[-73.92374,45.71559],[-73.92717,45.71816],[-73.93064,45.72076],[-73.93259,45.72222],[-73.9327,45.7223],[-73.93312,45.72261],[-73.93358,45.72296],[-73.93409,45.72335],[-73.93757,45.72596],[-73.94026,45.72799],[-73.94095,45.7285],[-73.94442,45.7311],[-73.94643,45.73259],[-73.94785,45.73365],[-73.95127,45.73621],[-73.95235,45.73701],[-73.95464,45.73872],[-73.95806,45.74129],[-73.95983,45.74261],[-73.96,45.74273],[-73.96043,45.74305],[-73.96081,45.74333],[-73.96151,45.74386],[-73.96308,45.74505],[-73.96354,45.74539],[-73.96412,45.74582],[-73.9649,45.74641],[-73.96648,45.7476],[-73.96716,45.7481],[-73.96828,45.74894],[-73.96889,45.74939],[-73.96967,45.74997],[-73.96995,45.75018],[-73.97081,45.75084],[-73.97166,45.75149],[-73.97285,45.75239],[-73.97499,45.75399],[-73.97671,45.75527],[-73.97732,45.75573],[-73.97761,45.75595],[-73.9778,45.75609],[-73.97803,45.75626],[-73.97815,45.75635],[-73.97951,45.75735],[-73.9798,45.75757],[-73.97999,45.75771],[-73.98081,45.75835],[-73.98153,45.75889],[-73.98196,45.75922],[-73.98234,45.7595],[-73.98262,45.7597],[-73.98422,45.7609],[-73.98614,45.76232],[-73.98635,45.76248],[-73.98656,45.76264],[-73.98743,45.76328],[-73.98768,45.76347],[-73.98941,45.76477],[-73.99142,45.7663],[-73.99218,45.76687],[-73.99278,45.76732],[-73.99352,45.76787],[-73.99481,45.76883],[-73.99519,45.76912],[-73.99566,45.76945],[-73.99622,45.76988],[-73.99653,45.77011],[-73.99678,45.77031],[-73.99713,45.77061],[-73.99764,45.771],[-73.99799,45.77137],[-73.99844,45.77191],[-73.99857,45.77209],[-73.99868,45.77227],[-73.99872,45.77234],[-73.99882,45.77253],[-73.99896,45.77281],[-73.99913,45.77318]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.62378,45.53148],[-73.62555,45.53177],[-73.63,45.5325],[-73.63443,45.53323],[-73.64068,45.53426],[-73.64556,45.53506],[-73.6461,45.53515],[-73.65087,45.53593],[-73.65166,45.53603],[-73.65199,45.53607],[-73.65275,45.53616],[-73.65371,45.53627],[-73.65518,45.53648],[-73.65559,45.53655],[-73.65588,45.5366],[-73.65669,45.53673],[-73.65705,45.53681],[-73.65727,45.53685],[-73.65804,45.53702],[-73.65804,45.53702],[-73.65855,45.53714],[-73.65872,45.53717],[-73.65963,45.53736],[-73.66039,45.5375],[-73.66485,45.53823],[-73.67098,45.53925],[-73.6769,45.54023],[-73.6769,45.54023],[-73.68283,45.54119],[-73.68342,45.54129],[-73.68555,45.54164],[-73.68891,45.54219],[-73.69123,45.54258],[-73.69158,45.54265],[-73.6919,45.54272],[-73.69267,45.54293],[-73.69308,45.54306],[-73.69341,45.54319],[-73.69373,45.54331],[-73.69401,45.54343],[-73.69467,45.54375],[-73.69531,45.54411],[-73.6956,45.54429],[-73.69589,45.54449],[-73.69618,45.5447],[-73.69648,45.54494],[-73.6967,45.54513],[-73.69694,45.54534],[-73.69725,45.54566],[-73.6976,45.54601],[-73.6977,45.54611],[-73.69782,45.54625],[-73.69828,45.54677],[-73.69841,45.5469],[-73.69882,45.54734],[-73.69944,45.54801],[-73.70004,45.54865],[-73.70035,45.54899],[-73.70095,45.54965],[-73.70114,45.54986],[-73.70175,45.55051],[-73.70237,45.55118],[-73.70446,45.55344],[-73.70675,45.55591],[-73.70809,45.55736],[-73.70822,45.55751],[-73.70851,45.55785],[-73.70867,45.55805],[-73.70883,45.55827],[-73.70911,45.55874],[-73.70994,45.56033],[-73.70994,45.56033],[-73.71016,45.56076],[-73.71127,45.56297],[-73.7126,45.56562],[-73.71366,45.56772],[-73.7139,45.56821],[-73.71522,45.57086],[-73.7165,45.57343],[-73.71659,45.57362],[-73.71673,45.57391],[-73.71702,45.57448],[-73.71734,45.57511],[-73.71775,45.57594],[-73.71886,45.57813],[-73.71906,45.57852],[-73.71935,45.57909],[-73.7196,45.57958],[-73.71968,45.57974],[-73.71982,45.58004],[-73.72006,45.58053],[-73.72008,45.58058],[-73.72025,45.58086],[-73.72033,45.58099],[-73.72044,45.58115],[-73.7205,45.58123],[-73.72072,45.58149],[-73.72089,45.5817],[-73.72093,45.58174],[-73.7213,45.58213],[-73.72142,45.58226],[-73.72204,45.58288],[-73.72242,45.58329],[-73.72304,45.58388],[-73.72356,45.58443],[-73.72382,45.58469],[-73.72433,45.58521],[-73.72462,45.58549],[-73.7248,45.58567],[-73.72553,45.5864],[-73.72576,45.58663],[-73.72677,45.58765],[-73.72773,45.58863],[-73.72837,45.58929],[-73.72886,45.58978],[-73.72978,45.59071],[-73.73023,45.59116],[-73.73047,45.59142],[-73.73178,45.59274],[-73.73318,45.59414],[-73.73428,45.59526],[-73.73443,45.59541],[-73.73505,45.59604],[-73.73757,45.59859],[-73.74014,45.60119],[-73.74269,45.60376],[-73.74269,45.60376],[-73.74323,45.60431],[-73.7445,45.6056],[-73.74462,45.6058],[-73.74565,45.60684],[-73.7459,45.60709],[-73.74616,45.60734],[-73.74679,45.60796],[-73.74791,45.60909],[-73.74983,45.61103],[-73.7501,45.61129],[-73.75039,45.61158],[-73.75065,45.61185],[-73.75129,45.6125],[-73.75224,45.61346],[-73.75446,45.61569],[-73.75657,45.61782],[-73.75917,45.62044],[-73.76091,45.6222],[-73.7618,45.62311],[-73.76203,45.62335],[-73.7624,45.62371],[-73.76278,45.62405],[-73.76345,45.62459],[-73.76399,45.62498],[-73.76424,45.62515],[-73.76452,45.62532],[-73.76474,45.62545],[-73.76474,45.62545],[-73.76492,45.62555],[-73.76524,45.62571],[-73.76551,45.62583],[-73.76587,45.626],[-73.76624,45.62615],[-73.76645,45.62622],[-73.76659,45.62628],[-73.76703,45.62642],[-73.76742,45.62653],[-73.7678,45.62664],[-73.76815,45.62673],[-73.76855,45.62682],[-73.76895,45.62689],[-73.76947,45.62697],[-73.77031,45.62709],[-73.77116,45.62721],[-73.77395,45.6276],[-73.77616,45.6279],[-73.77646,45.62794],[-73.77815,45.62816],[-73.78036,45.62846],[-73.78054,45.62848],[-73.78106,45.62856],[-73.78152,45.62865],[-73.78238,45.62884],[-73.78319,45.62908],[-73.78361,45.62921],[-73.78402,45.62937],[-73.78444,45.62955],[-73.78569,45.63009],[-73.78614,45.63027],[-73.78736,45.63081],[-73.79098,45.6324],[-73.79194,45.63282],[-73.79295,45.63327],[-73.79462,45.634],[-73.79512,45.63423],[-73.79574,45.6345],[-73.79574,45.6345],[-73.79715,45.63512],[-73.7978,45.63541],[-73.79838,45.63567],[-73.7988,45.63586],[-73.79912,45.63599],[-73.79949,45.63614],[-73.79989,45.63628],[-73.80023,45.63639],[-73.80064,45.63652],[-73.80102,45.63662],[-73.80142,45.63672],[-73.80223,45.63688],[-73.80269,45.63695],[-73.80306,45.637],[-73.80315,45.63701],[-73.80329,45.63702],[-73.80348,45.63704],[-73.80431,45.63709],[-73.80474,45.6371],[-73.80516,45.6371],[-73.80593,45.63708],[-73.80745,45.63702],[-73.80895,45.63696],[-73.81047,45.6369],[-73.81199,45.63684],[-73.81256,45.63682],[-73.81301,45.6368],[-73.81354,45.63678],[-73.81503,45.63673],[-73.81563,45.63671],[-73.81575,45.6367],[-73.81599,45.63669],[-73.82059,45.63652],[-73.8265,45.63629],[-73.83089,45.63612],[-73.83217,45.63607],[-73.83356,45.63602],[-73.83355,45.63602],[-73.8368,45.63591],[-73.83699,45.6359],[-73.83779,45.63587],[-73.83966,45.6358],[-73.84071,45.63576],[-73.8415,45.63573],[-73.84298,45.63569],[-73.8436,45.63569],[-73.84401,45.6357],[-73.84435,45.63573],[-73.84478,45.63578],[-73.84513,45.63582],[-73.84546,45.63589],[-73.84588,45.63596],[-73.84621,45.63604],[-73.84662,45.63615],[-73.84698,45.63626],[-73.84734,45.63638],[-73.84774,45.63653],[-73.84806,45.63667],[-73.84838,45.63682],[-73.84867,45.63698],[-73.84897,45.63715],[-73.84925,45.63734],[-73.84955,45.63755],[-73.8499,45.6378],[-73.85002,45.6379],[-73.85011,45.63798],[-73.85035,45.6382],[-73.85053,45.63836],[-73.85062,45.63846],[-73.85075,45.6386],[-73.8509,45.63877],[-73.85105,45.63898],[-73.85128,45.63931],[-73.85135,45.63942],[-73.85146,45.63963],[-73.85156,45.63985],[-73.85161,45.63998],[-73.85165,45.64009],[-73.85173,45.6403],[-73.85177,45.64051],[-73.85182,45.64073],[-73.85183,45.64078],[-73.85186,45.64102],[-73.85187,45.64124],[-73.85187,45.64142],[-73.85188,45.64157],[-73.85185,45.64174],[-73.85183,45.64189],[-73.85178,45.64217],[-73.85173,45.64237],[-73.85165,45.64261],[-73.85156,45.64285],[-73.85146,45.64305],[-73.85135,45.64328],[-73.8512,45.64351],[-73.85107,45.64371],[-73.85098,45.64382],[-73.85073,45.64412],[-73.85059,45.64426],[-73.85035,45.6445],[-73.85011,45.6447],[-73.84992,45.64486],[-73.84978,45.64497],[-73.84962,45.64509],[-73.84947,45.6452],[-73.84925,45.64533],[-73.84911,45.64541],[-73.84889,45.64553],[-73.84863,45.64567],[-73.84837,45.64578],[-73.84824,45.64584],[-73.84776,45.64603],[-73.84626,45.64663],[-73.84561,45.6469],[-73.84528,45.64702],[-73.84507,45.64712],[-73.84471,45.64728],[-73.84444,45.64743],[-73.84417,45.64759],[-73.84399,45.64771],[-73.84368,45.64791],[-73.84344,45.64809],[-73.84301,45.64846],[-73.84286,45.64862],[-73.84253,45.64898],[-73.84247,45.64907],[-73.84237,45.6492],[-73.84228,45.64932],[-73.84216,45.6495],[-73.84203,45.64973],[-73.84191,45.64997],[-73.84182,45.65018],[-73.84173,45.6504],[-73.84161,45.65087],[-73.84157,45.65111],[-73.84154,45.65135],[-73.84153,45.65158],[-73.84155,45.65183],[-73.84155,45.65188],[-73.8416,45.65232],[-73.84165,45.65253],[-73.84176,45.65288],[-73.84186,45.65314],[-73.84201,45.65343],[-73.84218,45.65373],[-73.84238,45.65404],[-73.84286,45.6546],[-73.84307,45.65484],[-73.84316,45.65493],[-73.8436,45.65538],[-73.84387,45.65562],[-73.84415,45.65587],[-73.8446,45.65623],[-73.84477,45.65636],[-73.84581,45.65713],[-73.84651,45.65766],[-73.84954,45.65994],[-73.85166,45.66154],[-73.8527,45.66231],[-73.85382,45.66315],[-73.85446,45.66363],[-73.8561,45.66486],[-73.85709,45.66561],[-73.85766,45.66605],[-73.85793,45.66625],[-73.85823,45.66647],[-73.85954,45.66744],[-73.8598,45.66763],[-73.86065,45.66827],[-73.8622,45.66943],[-73.86233,45.66952],[-73.86248,45.66963],[-73.86295,45.67],[-73.86353,45.67044],[-73.86452,45.67118],[-73.86478,45.67136],[-73.86535,45.6718],[-73.86544,45.67187],[-73.86618,45.67242],[-73.86618,45.67242],[-73.8696,45.67499],[-73.87303,45.67756],[-73.87539,45.67934],[-73.87886,45.68194],[-73.88228,45.68451],[-73.88566,45.68704],[-73.88629,45.68751],[-73.88715,45.68814],[-73.88746,45.68839],[-73.8876,45.6885],[-73.88812,45.68888],[-73.8885,45.68917],[-73.88908,45.6896],[-73.89166,45.69153],[-73.8925,45.69217],[-73.89596,45.69477],[-73.89737,45.69582],[-73.89772,45.69609],[-73.89823,45.69647],[-73.89848,45.69666],[-73.89898,45.69702],[-73.89929,45.69726],[-73.90059,45.69824],[-73.90079,45.69839],[-73.90102,45.69856],[-73.90278,45.69988],[-73.90375,45.70061],[-73.90405,45.70083],[-73.90409,45.70086],[-73.90592,45.70222],[-73.90631,45.7025],[-73.90649,45.70264],[-73.90684,45.7029],[-73.90716,45.70314],[-73.90791,45.7037],[-73.90904,45.70455],[-73.90981,45.70513],[-73.9116,45.70649],[-73.91182,45.70665],[-73.91333,45.70778],[-73.91471,45.70882],[-73.91541,45.70935],[-73.91682,45.7104],[-73.91712,45.71063],[-73.918,45.71129],[-73.91855,45.71171],[-73.91855,45.71171],[-73.92029,45.71301],[-73.92374,45.71559],[-73.92717,45.71816],[-73.93064,45.72076],[-73.93259,45.72222],[-73.9327,45.7223],[-73.93312,45.72261],[-73.93358,45.72296],[-73.93409,45.72335],[-73.93757,45.72596],[-73.94026,45.72799],[-73.94095,45.7285],[-73.94442,45.7311],[-73.94643,45.73259],[-73.94785,45.73365],[-73.95127,45.73621],[-73.95235,45.73701],[-73.95464,45.73872],[-73.95806,45.74129],[-73.95983,45.74261],[-73.96,45.74273],[-73.96043,45.74305],[-73.96081,45.74333],[-73.96151,45.74386],[-73.96308,45.74505],[-73.96354,45.74539],[-73.96412,45.74582],[-73.9649,45.74641],[-73.96648,45.7476],[-73.96716,45.7481],[-73.96828,45.74894],[-73.96889,45.74939],[-73.96967,45.74997],[-73.96995,45.75018],[-73.97081,45.75084],[-73.97166,45.75149],[-73.97285,45.75239],[-73.97499,45.75399],[-73.97671,45.75527],[-73.97732,45.75573],[-73.97761,45.75595],[-73.9778,45.75609],[-73.97803,45.75626],[-73.97815,45.75635],[-73.97951,45.75735],[-73.9798,45.75757],[-73.97999,45.75771],[-73.98081,45.75835],[-73.98153,45.75889],[-73.98196,45.75922],[-73.98234,45.7595],[-73.98262,45.7597],[-73.98422,45.7609],[-73.98614,45.76232],[-73.98635,45.76248],[-73.98656,45.76264],[-73.98743,45.76328],[-73.98768,45.76347],[-73.98941,45.76477],[-73.99142,45.7663],[-73.99218,45.76687],[-73.99278,45.76732],[-73.99352,45.76787],[-73.99481,45.76883],[-73.99519,45.76912],[-73.99566,45.76945],[-73.99622,45.76988],[-73.99653,45.77011],[-73.99678,45.77031],[-73.99713,45.77061],[-73.99764,45.771],[-73.99799,45.77137],[-73.99844,45.77191],[-73.99857,45.77209],[-73.99868,45.77227],[-73.99872,45.77234],[-73.99882,45.77253],[-73.99896,45.77281],[-73.99913,45.77318]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.99913,45.77317],[-73.99899,45.77287],[-73.99883,45.77255],[-73.99871,45.77233],[-73.99858,45.77212],[-73.99851,45.77202],[-73.99844,45.77191],[-73.99841,45.77187],[-73.99814,45.77154],[-73.99799,45.77137],[-73.99764,45.771],[-73.99714,45.77062],[-73.99678,45.77031],[-73.99664,45.7702],[-73.99649,45.77007],[-73.99609,45.76978],[-73.99571,45.76949],[-73.9952,45.76912],[-73.99483,45.76884],[-73.99356,45.7679],[-73.99301,45.76749],[-73.99228,45.76695],[-73.99178,45.76657],[-73.99129,45.7662],[-73.99021,45.76538],[-73.98956,45.76488],[-73.98936,45.76474],[-73.98768,45.76347],[-73.98743,45.76328],[-73.98724,45.76314],[-73.98626,45.76241],[-73.98289,45.7599],[-73.98253,45.75964],[-73.98196,45.75922],[-73.98154,45.7589],[-73.98119,45.75863],[-73.98089,45.75841],[-73.9805,45.75811],[-73.97989,45.75764],[-73.97971,45.75751],[-73.97956,45.75739],[-73.97778,45.75608],[-73.97753,45.75589],[-73.97728,45.7557],[-73.97674,45.75529],[-73.97616,45.75486],[-73.9751,45.75407],[-73.9744,45.75354],[-73.97263,45.75222],[-73.97107,45.75103],[-73.96977,45.75004],[-73.96852,45.74912],[-73.96772,45.74852],[-73.96439,45.74603],[-73.96409,45.7458],[-73.96345,45.74533],[-73.96101,45.74349],[-73.96041,45.74304],[-73.95986,45.74263],[-73.95929,45.74221],[-73.95609,45.7398],[-73.95471,45.73877],[-73.95414,45.73835],[-73.9528,45.73735],[-73.9523,45.73697],[-73.9519,45.73668],[-73.94952,45.7349],[-73.94611,45.73235],[-73.94475,45.73135],[-73.94399,45.73078],[-73.94288,45.72995],[-73.94055,45.7282],[-73.93955,45.72745],[-73.93619,45.72493],[-73.93315,45.72263],[-73.93272,45.72232],[-73.92944,45.71986],[-73.92606,45.71733],[-73.92267,45.71479],[-73.9193,45.71226],[-73.91855,45.71171],[-73.91802,45.71131],[-73.91714,45.71065],[-73.91675,45.71035],[-73.91604,45.70982],[-73.91472,45.70882],[-73.91264,45.70727],[-73.91162,45.7065],[-73.91086,45.70593],[-73.90927,45.70472],[-73.90691,45.70295],[-73.90675,45.70283],[-73.90644,45.7026],[-73.90611,45.70235],[-73.90589,45.70219],[-73.90434,45.70104],[-73.90386,45.70069],[-73.90308,45.7001],[-73.90244,45.69962],[-73.90138,45.69883],[-73.90107,45.6986],[-73.90082,45.69841],[-73.90059,45.69824],[-73.9001,45.69787],[-73.89914,45.69715],[-73.89899,45.69703],[-73.89828,45.69651],[-73.89754,45.69595],[-73.89646,45.69514],[-73.89575,45.69461],[-73.89236,45.69206],[-73.89193,45.69174],[-73.89074,45.69084],[-73.88895,45.68951],[-73.88819,45.68894],[-73.88748,45.6884],[-73.88717,45.68816],[-73.88698,45.68802],[-73.88632,45.68754],[-73.88555,45.68696],[-73.88212,45.68438],[-73.87869,45.68181],[-73.87552,45.67943],[-73.87206,45.67683],[-73.86984,45.67517],[-73.86861,45.67424],[-73.86618,45.67242],[-73.86618,45.67242],[-73.86548,45.6719],[-73.86478,45.67136],[-73.86467,45.67128],[-73.86454,45.67119],[-73.86371,45.67057],[-73.86339,45.67034],[-73.86239,45.66957],[-73.86232,45.66951],[-73.86213,45.66938],[-73.86126,45.66873],[-73.86042,45.6681],[-73.85984,45.66766],[-73.85954,45.66744],[-73.85864,45.66677],[-73.8582,45.66645],[-73.85787,45.6662],[-73.85723,45.66571],[-73.85471,45.66383],[-73.85392,45.66322],[-73.85146,45.66139],[-73.85058,45.66072],[-73.84966,45.66003],[-73.84726,45.65823],[-73.84549,45.6569],[-73.84477,45.65636],[-73.84459,45.65622],[-73.84436,45.65604],[-73.84423,45.65594],[-73.84414,45.65586],[-73.8438,45.65556],[-73.8436,45.65538],[-73.84322,45.65499],[-73.84307,45.65484],[-73.84286,45.6546],[-73.84243,45.65409],[-73.84238,45.65404],[-73.84219,45.65375],[-73.84211,45.6536],[-73.84202,45.65344],[-73.84187,45.65315],[-73.84176,45.65288],[-73.84165,45.65253],[-73.8416,45.6523],[-73.84155,45.65188],[-73.84154,45.65177],[-73.84153,45.65159],[-73.84154,45.65137],[-73.84155,45.65129],[-73.84156,45.65116],[-73.84159,45.65098],[-73.84161,45.65085],[-73.84173,45.6504],[-73.84181,45.65021],[-73.84192,45.64994],[-73.84203,45.64973],[-73.84216,45.6495],[-73.84228,45.64932],[-73.84237,45.6492],[-73.84247,45.64907],[-73.84253,45.64898],[-73.84284,45.64864],[-73.843,45.64847],[-73.84342,45.64811],[-73.84349,45.64806],[-73.84368,45.64791],[-73.84393,45.64775],[-73.84418,45.64759],[-73.84444,45.64743],[-73.84451,45.64739],[-73.84471,45.64728],[-73.84497,45.64716],[-73.84526,45.64703],[-73.84574,45.64684],[-73.84631,45.64661],[-73.84813,45.64588],[-73.84837,45.64579],[-73.84862,45.64567],[-73.84894,45.64551],[-73.84923,45.64534],[-73.84947,45.6452],[-73.84961,45.6451],[-73.84975,45.64499],[-73.84989,45.64489],[-73.85003,45.64477],[-73.85023,45.64461],[-73.85037,45.64449],[-73.85058,45.64428],[-73.85074,45.64411],[-73.85094,45.64387],[-73.85107,45.64371],[-73.85122,45.64348],[-73.85135,45.64327],[-73.85142,45.64313],[-73.8515,45.64298],[-73.85156,45.64283],[-73.85165,45.64261],[-73.85173,45.64238],[-73.85179,45.64216],[-73.85183,45.64185],[-73.85188,45.64157],[-73.85187,45.64137],[-73.85187,45.64124],[-73.85186,45.64102],[-73.85184,45.64083],[-73.85183,45.64077],[-73.85179,45.6406],[-73.85173,45.6403],[-73.85165,45.64009],[-73.85156,45.63985],[-73.85145,45.63962],[-73.85135,45.63942],[-73.85128,45.63931],[-73.85114,45.63911],[-73.85105,45.63898],[-73.8509,45.63877],[-73.85071,45.63856],[-73.85064,45.63848],[-73.85053,45.63836],[-73.85015,45.63801],[-73.84999,45.63787],[-73.84988,45.63779],[-73.84952,45.63752],[-73.84919,45.6373],[-73.84898,45.63715],[-73.84874,45.63702],[-73.84866,45.63698],[-73.84838,45.63682],[-73.84799,45.63664],[-73.84775,45.63654],[-73.84734,45.63638],[-73.84702,45.63627],[-73.84685,45.63622],[-73.84662,45.63615],[-73.84636,45.63608],[-73.84619,45.63604],[-73.8459,45.63597],[-73.84532,45.63586],[-73.84513,45.63582],[-73.84474,45.63577],[-73.84435,45.63573],[-73.84408,45.63571],[-73.84398,45.6357],[-73.84357,45.63569],[-73.84298,45.63569],[-73.84131,45.63574],[-73.83858,45.63584],[-73.83738,45.63589],[-73.83681,45.63591],[-73.83353,45.63602],[-73.83353,45.63602],[-73.83039,45.63614],[-73.82731,45.63626],[-73.82375,45.6364],[-73.82344,45.63641],[-73.81735,45.63664],[-73.81599,45.63669],[-73.81575,45.6367],[-73.81558,45.63671],[-73.81543,45.63672],[-73.81488,45.63674],[-73.814,45.63677],[-73.81289,45.63681],[-73.81129,45.63687],[-73.80602,45.63708],[-73.80516,45.6371],[-73.80472,45.6371],[-73.80431,45.63709],[-73.80348,45.63704],[-73.80325,45.63702],[-73.80296,45.63698],[-73.80264,45.63694],[-73.80223,45.63688],[-73.80142,45.63672],[-73.80102,45.63663],[-73.80056,45.63649],[-73.80019,45.63638],[-73.79986,45.63627],[-73.79949,45.63614],[-73.79917,45.63601],[-73.79889,45.6359],[-73.79877,45.63585],[-73.7979,45.63545],[-73.79575,45.6345],[-73.79575,45.6345],[-73.79447,45.63394],[-73.79319,45.63337],[-73.79174,45.63273],[-73.79038,45.63213],[-73.78896,45.63151],[-73.78738,45.63082],[-73.7861,45.63026],[-73.78489,45.62974],[-73.78399,45.62935],[-73.7836,45.62921],[-73.78319,45.62908],[-73.78266,45.62892],[-73.78238,45.62884],[-73.78221,45.62881],[-73.78155,45.62865],[-73.78107,45.62856],[-73.78053,45.62848],[-73.77856,45.62822],[-73.77648,45.62794],[-73.77615,45.6279],[-73.77537,45.62779],[-73.77417,45.62763],[-73.77232,45.62737],[-73.76934,45.62696],[-73.76895,45.62689],[-73.7686,45.62683],[-73.76834,45.62677],[-73.76815,45.62673],[-73.7678,45.62664],[-73.76742,45.62653],[-73.7672,45.62647],[-73.76698,45.6264],[-73.7666,45.62628],[-73.76624,45.62615],[-73.76587,45.626],[-73.7656,45.62588],[-73.76551,45.62584],[-73.76519,45.62568],[-73.7649,45.62554],[-73.76474,45.62545],[-73.76474,45.62545],[-73.76453,45.62533],[-73.76425,45.62516],[-73.76402,45.62501],[-73.76356,45.62467],[-73.76347,45.62461],[-73.76277,45.62404],[-73.76246,45.62376],[-73.76236,45.62367],[-73.7621,45.62341],[-73.76176,45.62307],[-73.76082,45.62211],[-73.75826,45.61952],[-73.75596,45.6172],[-73.75337,45.61459],[-73.75082,45.61202],[-73.75042,45.61162],[-73.74997,45.61117],[-73.74967,45.61087],[-73.74838,45.60956],[-73.74679,45.60796],[-73.74582,45.60701],[-73.7434,45.60455],[-73.74263,45.60378],[-73.74263,45.60378],[-73.7402,45.60132],[-73.7377,45.59879],[-73.73538,45.59644],[-73.73439,45.59544],[-73.73426,45.59532],[-73.73197,45.593],[-73.73119,45.59222],[-73.73069,45.59172],[-73.72966,45.59067],[-73.72812,45.58911],[-73.72794,45.58893],[-73.72785,45.58883],[-73.72768,45.58866],[-73.72731,45.58827],[-73.72714,45.5881],[-73.72617,45.58712],[-73.72498,45.58592],[-73.72477,45.58571],[-73.72393,45.58487],[-73.72373,45.58468],[-73.72321,45.58414],[-73.72284,45.58376],[-73.72272,45.58365],[-73.7218,45.58272],[-73.7216,45.58252],[-73.7215,45.58242],[-73.72116,45.58207],[-73.72109,45.58199],[-73.72101,45.5819],[-73.72078,45.58164],[-73.72067,45.58151],[-73.72054,45.58136],[-73.72039,45.58114],[-73.72026,45.58097],[-73.72003,45.58057],[-73.71998,45.58049],[-73.71968,45.57989],[-73.7191,45.57874],[-73.71793,45.5764],[-73.71696,45.57448],[-73.71682,45.57421],[-73.71674,45.57404],[-73.71669,45.57393],[-73.71656,45.57366],[-73.71652,45.57358],[-73.71621,45.57297],[-73.71577,45.57209],[-73.71451,45.56959],[-73.71331,45.56719],[-73.71218,45.56494],[-73.71119,45.56295],[-73.71051,45.56159],[-73.71022,45.56101],[-73.71012,45.56082],[-73.70987,45.56033],[-73.70987,45.56033],[-73.70916,45.55895],[-73.70908,45.55879],[-73.70882,45.55836],[-73.70873,45.55824],[-73.70846,45.55786],[-73.70805,45.55739],[-73.70713,45.5564],[-73.70535,45.55449],[-73.7031,45.55206],[-73.70097,45.54975],[-73.70046,45.54919],[-73.7003,45.54893],[-73.69958,45.54816],[-73.69829,45.54678],[-73.69807,45.54653],[-73.6977,45.54611],[-73.6976,45.54601],[-73.69721,45.54562],[-73.69696,45.54536],[-73.69687,45.54527],[-73.6967,45.54513],[-73.69648,45.54494],[-73.69621,45.54473],[-73.69589,45.54449],[-73.69552,45.54424],[-73.69531,45.54411],[-73.69494,45.5439],[-73.69467,45.54375],[-73.69431,45.54357],[-73.69404,45.54344],[-73.69376,45.54333],[-73.6934,45.54319],[-73.69308,45.54306],[-73.69268,45.54293],[-73.6919,45.54272],[-73.69155,45.54264],[-73.69123,45.54258],[-73.69099,45.54254],[-73.68486,45.54153],[-73.68315,45.54125],[-73.68168,45.54101],[-73.67863,45.54051],[-73.6769,45.54023],[-73.6769,45.54023],[-73.67067,45.5392],[-73.66517,45.53829],[-73.66167,45.53771],[-73.6605,45.53752],[-73.65981,45.53739],[-73.65963,45.53736],[-73.65854,45.53714],[-73.65802,45.53702],[-73.65802,45.53702],[-73.6573,45.53686],[-73.65669,45.53673],[-73.65586,45.5366],[-73.65559,45.53655],[-73.6552,45.53649],[-73.65454,45.53639],[-73.65371,45.53627],[-73.65196,45.53607],[-73.65175,45.53605],[-73.6509,45.53594],[-73.64607,45.53514],[-73.63968,45.53409],[-73.63477,45.53328],[-73.62857,45.53227],[-73.62531,45.53173],[-73.62378,45.53148],[-73.62378,45.53148],[-73.62165,45.53113],[-73.62139,45.53108],[-73.61954,45.53077],[-73.61948,45.53075],[-73.6193,45.53071],[-73.6192,45.53069],[-73.61903,45.53064],[-73.61868,45.53052],[-73.61843,45.53042],[-73.61828,45.53034],[-73.61812,45.53025],[-73.61806,45.53021],[-73.61785,45.53006],[-73.61777,45.53],[-73.61771,45.52994],[-73.61763,45.52987],[-73.61751,45.52976],[-73.61742,45.52966],[-73.61739,45.52962],[-73.61732,45.52954],[-73.61721,45.52937],[-73.61713,45.52922],[-73.61706,45.52908],[-73.61701,45.5289],[-73.61696,45.52865],[-73.61695,45.52844],[-73.61696,45.52819],[-73.617,45.52801],[-73.61704,45.52786],[-73.61709,45.52772],[-73.61717,45.52752],[-73.61723,45.52742],[-73.61738,45.5272],[-73.6175,45.52704],[-73.61754,45.52698],[-73.61798,45.52648],[-73.61865,45.52573],[-73.61894,45.52541],[-73.61958,45.5247],[-73.62089,45.52322],[-73.62118,45.5229],[-73.62143,45.52263],[-73.62222,45.52175],[-73.62257,45.52135],[-73.62275,45.52113],[-73.62282,45.52105],[-73.62328,45.52039],[-73.62345,45.52019],[-73.62377,45.51984],[-73.62403,45.51959],[-73.62421,45.51943],[-73.62441,45.51926],[-73.6245,45.51919],[-73.62467,45.51907],[-73.62521,45.51872],[-73.62574,45.51842],[-73.62609,45.51822],[-73.62791,45.5172],[-73.62854,45.51686],[-73.62882,45.5167],[-73.6289,45.51665],[-73.62908,45.51654],[-73.62929,45.51639],[-73.6295,45.51622],[-73.62972,45.51604],[-73.62993,45.51586],[-73.6302,45.51558],[-73.63056,45.5152],[-73.63103,45.5147],[-73.63127,45.51444],[-73.63192,45.51372],[-73.63224,45.51337],[-73.63355,45.51192],[-73.63483,45.51052],[-73.63539,45.50989],[-73.6359,45.50932],[-73.63827,45.50666],[-73.64007,45.50465],[-73.6403,45.50439],[-73.64073,45.50391],[-73.64306,45.50129],[-73.64448,45.4997],[-73.64548,45.4986],[-73.64612,45.49788],[-73.64748,45.49636],[-73.6498,45.49378],[-73.65022,45.4933],[-73.65044,45.49305],[-73.65051,45.49297],[-73.65067,45.4928],[-73.65081,45.49264],[-73.6516,45.49176],[-73.6522,45.49108],[-73.65304,45.49013],[-73.65341,45.48972],[-73.65369,45.48942],[-73.65396,45.48912],[-73.65418,45.48888],[-73.65447,45.48855],[-73.65471,45.48825],[-73.65494,45.48797],[-73.65506,45.4878],[-73.65522,45.48756],[-73.6554,45.48727],[-73.65554,45.48702],[-73.65568,45.48675],[-73.65589,45.48622],[-73.65593,45.4861],[-73.65601,45.48584],[-73.65606,45.48571],[-73.6561,45.4855],[-73.65611,45.48544],[-73.6562,45.4848],[-73.65622,45.48449],[-73.65622,45.48436],[-73.65621,45.48421],[-73.6562,45.48389],[-73.65616,45.48312],[-73.65614,45.48276],[-73.65612,45.48217],[-73.65609,45.48121],[-73.65609,45.48056],[-73.65608,45.48001],[-73.65607,45.47897],[-73.65607,45.47819],[-73.65606,45.4769],[-73.65606,45.47624],[-73.65605,45.47556],[-73.65605,45.47479],[-73.65605,45.47455],[-73.65606,45.47401],[-73.65608,45.47378],[-73.65612,45.47312],[-73.65612,45.47295],[-73.65613,45.47256],[-73.65614,45.47207],[-73.65608,45.4718],[-73.65608,45.47166],[-73.65607,45.47104],[-73.65606,45.47015],[-73.65606,45.46956],[-73.65606,45.46859],[-73.65605,45.46607],[-73.65604,45.46467],[-73.65605,45.46414],[-73.65605,45.46353],[-73.65605,45.46251],[-73.65604,45.46098],[-73.65603,45.45981],[-73.65603,45.45946],[-73.65602,45.45901],[-73.65601,45.45838],[-73.656,45.45736],[-73.65599,45.45706],[-73.65599,45.45689],[-73.65599,45.45667],[-73.65597,45.45621],[-73.65597,45.45608],[-73.65596,45.45598],[-73.65593,45.45563],[-73.65591,45.45543],[-73.65588,45.45513],[-73.65582,45.45454],[-73.65571,45.45397],[-73.65564,45.4537],[-73.6555,45.45337],[-73.65541,45.45318],[-73.65523,45.45295],[-73.65507,45.45274],[-73.65474,45.45242],[-73.6545,45.45223],[-73.65427,45.45206],[-73.654,45.45188],[-73.65374,45.45174],[-73.65363,45.45169],[-73.65343,45.45159],[-73.65322,45.4515],[-73.65283,45.45136],[-73.65252,45.45126],[-73.65221,45.45118],[-73.65179,45.45109],[-73.65139,45.45104],[-73.65099,45.451],[-73.65051,45.45097],[-73.64995,45.45096],[-73.64941,45.45098],[-73.64902,45.451],[-73.64856,45.45105],[-73.64804,45.45113],[-73.64762,45.45121],[-73.64707,45.45133],[-73.64651,45.45148],[-73.64599,45.45166],[-73.64566,45.45178],[-73.6455,45.45185],[-73.6451,45.45204],[-73.64438,45.45241],[-73.64364,45.4528],[-73.64179,45.45376],[-73.64179,45.45376],[-73.64106,45.45414],[-73.64046,45.45445],[-73.64004,45.45467],[-73.63949,45.45493],[-73.63915,45.45508],[-73.63887,45.45519],[-73.63856,45.45535],[-73.63784,45.45568],[-73.63752,45.45584],[-73.63554,45.45687],[-73.63451,45.45741],[-73.63365,45.45785],[-73.63074,45.45936],[-73.62989,45.4598],[-73.6274,45.46111],[-73.62553,45.46207],[-73.62521,45.46224],[-73.62434,45.46269],[-73.62376,45.46299],[-73.62263,45.46358],[-73.62116,45.46435],[-73.61998,45.46497],[-73.61911,45.46542],[-73.61678,45.46663],[-73.61525,45.46742],[-73.6144,45.46785],[-73.61387,45.46813],[-73.61294,45.46861],[-73.61156,45.46933],[-73.60985,45.47023],[-73.60858,45.47088],[-73.60849,45.47093],[-73.60838,45.47098],[-73.60773,45.47132],[-73.60759,45.47139],[-73.60745,45.47147],[-73.60632,45.47205],[-73.60612,45.47215],[-73.60602,45.47221],[-73.60594,45.47225],[-73.60587,45.47228],[-73.60503,45.47272],[-73.60471,45.47289],[-73.60438,45.47306],[-73.60343,45.47358],[-73.60334,45.47363],[-73.60327,45.47366],[-73.60309,45.47377],[-73.60309,45.47377],[-73.60267,45.474],[-73.60161,45.4746],[-73.59945,45.47581],[-73.5985,45.47635],[-73.59783,45.47673],[-73.59758,45.47687],[-73.59719,45.4771],[-73.59572,45.47795],[-73.59514,45.47828],[-73.59477,45.47849],[-73.59474,45.4785],[-73.59425,45.47883],[-73.59409,45.47893],[-73.59399,45.47898],[-73.5929,45.47958],[-73.59191,45.48015],[-73.59104,45.48068],[-73.59007,45.48127],[-73.59006,45.48128],[-73.58944,45.48168],[-73.58819,45.4825],[-73.58717,45.48317],[-73.58636,45.4837],[-73.58491,45.48465],[-73.5848,45.48472],[-73.5818,45.48664],[-73.58027,45.48763],[-73.58016,45.4877],[-73.57998,45.48782],[-73.57951,45.48815],[-73.57912,45.48842],[-73.57903,45.48849],[-73.57824,45.48908],[-73.57801,45.48927],[-73.57695,45.49011],[-73.57679,45.49024],[-73.57672,45.4903],[-73.5764,45.49054],[-73.57608,45.49079],[-73.57595,45.49089],[-73.57585,45.49096],[-73.57507,45.49153],[-73.57463,45.49184],[-73.57398,45.49231],[-73.57336,45.49276],[-73.5727,45.49325],[-73.57243,45.49354],[-73.57077,45.49475]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.70994,45.56033],[-73.71016,45.56076],[-73.71127,45.56297],[-73.7126,45.56562],[-73.71366,45.56772],[-73.7139,45.56821],[-73.71522,45.57086],[-73.7165,45.57343],[-73.71659,45.57362],[-73.71673,45.57391],[-73.71702,45.57448],[-73.71734,45.57511],[-73.71775,45.57594],[-73.71886,45.57813],[-73.71906,45.57852],[-73.71935,45.57909],[-73.7196,45.57958],[-73.71968,45.57974],[-73.71982,45.58004],[-73.72006,45.58053],[-73.72008,45.58058],[-73.72025,45.58086],[-73.72033,45.58099],[-73.72044,45.58115],[-73.7205,45.58123],[-73.72072,45.58149],[-73.72089,45.5817],[-73.72093,45.58174],[-73.7213,45.58213],[-73.72142,45.58226],[-73.72204,45.58288],[-73.72242,45.58329],[-73.72304,45.58388],[-73.72356,45.58443],[-73.72382,45.58469],[-73.72433,45.58521],[-73.72462,45.58549],[-73.7248,45.58567],[-73.72553,45.5864],[-73.72576,45.58663],[-73.72677,45.58765],[-73.72773,45.58863],[-73.72837,45.58929],[-73.72886,45.58978],[-73.72978,45.59071],[-73.73023,45.59116],[-73.73047,45.59142],[-73.73178,45.59274],[-73.73318,45.59414],[-73.73428,45.59526],[-73.73443,45.59541],[-73.73505,45.59604],[-73.73757,45.59859],[-73.74014,45.60119],[-73.74269,45.60376],[-73.74269,45.60376],[-73.74323,45.60431],[-73.7445,45.6056],[-73.74462,45.6058],[-73.74565,45.60684],[-73.7459,45.60709],[-73.74616,45.60734],[-73.74679,45.60796],[-73.74791,45.60909],[-73.74983,45.61103],[-73.7501,45.61129],[-73.75039,45.61158],[-73.75065,45.61185],[-73.75129,45.6125],[-73.75224,45.61346],[-73.75446,45.61569],[-73.75657,45.61782],[-73.75917,45.62044],[-73.76091,45.6222],[-73.7618,45.62311],[-73.76203,45.62335],[-73.7624,45.62371],[-73.76278,45.62405],[-73.76345,45.62459],[-73.76399,45.62498],[-73.76424,45.62515],[-73.76452,45.62532],[-73.76474,45.62545],[-73.76474,45.62545],[-73.76492,45.62555],[-73.76524,45.62571],[-73.76551,45.62583],[-73.76587,45.626],[-73.76624,45.62615],[-73.76645,45.62622],[-73.76659,45.62628],[-73.76703,45.62642],[-73.76742,45.62653],[-73.7678,45.62664],[-73.76815,45.62673],[-73.76855,45.62682],[-73.76895,45.62689],[-73.76947,45.62697],[-73.77031,45.62709],[-73.77116,45.62721],[-73.77395,45.6276],[-73.77616,45.6279],[-73.77646,45.62794],[-73.77815,45.62816],[-73.78036,45.62846],[-73.78054,45.62848],[-73.78106,45.62856],[-73.78152,45.62865],[-73.78238,45.62884],[-73.78319,45.62908],[-73.78361,45.62921],[-73.78402,45.62937],[-73.78444,45.62955],[-73.78569,45.63009],[-73.78614,45.63027],[-73.78736,45.63081],[-73.79098,45.6324],[-73.79194,45.63282],[-73.79295,45.63327],[-73.79462,45.634],[-73.79512,45.63423],[-73.79574,45.6345],[-73.79574,45.6345],[-73.79715,45.63512],[-73.7978,45.63541],[-73.79838,45.63567],[-73.7988,45.63586],[-73.79912,45.63599],[-73.79949,45.63614],[-73.79989,45.63628],[-73.80023,45.63639],[-73.80064,45.63652],[-73.80102,45.63662],[-73.80142,45.63672],[-73.80223,45.63688],[-73.80269,45.63695],[-73.80306,45.637],[-73.80315,45.63701],[-73.80329,45.63702],[-73.80348,45.63704],[-73.80431,45.63709],[-73.80474,45.6371],[-73.80516,45.6371],[-73.80593,45.63708],[-73.80745,45.63702],[-73.80895,45.63696],[-73.81047,45.6369],[-73.81199,45.63684],[-73.81256,45.63682],[-73.81301,45.6368],[-73.81354,45.63678],[-73.81503,45.63673],[-73.81563,45.63671],[-73.81575,45.6367],[-73.81599,45.63669],[-73.82059,45.63652],[-73.8265,45.63629],[-73.83089,45.63612],[-73.83217,45.63607],[-73.83356,45.63602],[-73.83355,45.63602],[-73.8368,45.63591],[-73.83699,45.6359],[-73.83779,45.63587],[-73.83966,45.6358],[-73.84071,45.63576],[-73.8415,45.63573],[-73.84298,45.63569],[-73.8436,45.63569],[-73.84401,45.6357],[-73.84435,45.63573],[-73.84478,45.63578],[-73.84513,45.63582],[-73.84546,45.63589],[-73.84588,45.63596],[-73.84621,45.63604],[-73.84662,45.63615],[-73.84698,45.63626],[-73.84734,45.63638],[-73.84774,45.63653],[-73.84806,45.63667],[-73.84838,45.63682],[-73.84867,45.63698],[-73.84897,45.63715],[-73.84925,45.63734],[-73.84955,45.63755],[-73.8499,45.6378],[-73.85002,45.6379],[-73.85011,45.63798],[-73.85035,45.6382],[-73.85053,45.63836],[-73.85062,45.63846],[-73.85075,45.6386],[-73.8509,45.63877],[-73.85105,45.63898],[-73.85128,45.63931],[-73.85135,45.63942],[-73.85146,45.63963],[-73.85156,45.63985],[-73.85161,45.63998],[-73.85165,45.64009],[-73.85173,45.6403],[-73.85177,45.64051],[-73.85182,45.64073],[-73.85183,45.64078],[-73.85186,45.64102],[-73.85187,45.64124],[-73.85187,45.64142],[-73.85188,45.64157],[-73.85185,45.64174],[-73.85183,45.64189],[-73.85178,45.64217],[-73.85173,45.64237],[-73.85165,45.64261],[-73.85156,45.64285],[-73.85146,45.64305],[-73.85135,45.64328],[-73.8512,45.64351],[-73.85107,45.64371],[-73.85098,45.64382],[-73.85073,45.64412],[-73.85059,45.64426],[-73.85035,45.6445],[-73.85011,45.6447],[-73.84992,45.64486],[-73.84978,45.64497],[-73.84962,45.64509],[-73.84947,45.6452],[-73.84925,45.64533],[-73.84911,45.64541],[-73.84889,45.64553],[-73.84863,45.64567],[-73.84837,45.64578],[-73.84824,45.64584],[-73.84776,45.64603],[-73.84626,45.64663],[-73.84561,45.6469],[-73.84528,45.64702],[-73.84507,45.64712],[-73.84471,45.64728],[-73.84444,45.64743],[-73.84417,45.64759],[-73.84399,45.64771],[-73.84368,45.64791],[-73.84344,45.64809],[-73.84301,45.64846],[-73.84286,45.64862],[-73.84253,45.64898],[-73.84247,45.64907],[-73.84237,45.6492],[-73.84228,45.64932],[-73.84216,45.6495],[-73.84203,45.64973],[-73.84191,45.64997],[-73.84182,45.65018],[-73.84173,45.6504],[-73.84161,45.65087],[-73.84157,45.65111],[-73.84154,45.65135],[-73.84153,45.65158],[-73.84155,45.65183],[-73.84155,45.65188],[-73.8416,45.65232],[-73.84165,45.65253],[-73.84176,45.65288],[-73.84186,45.65314],[-73.84201,45.65343],[-73.84218,45.65373],[-73.84238,45.65404],[-73.84286,45.6546],[-73.84307,45.65484],[-73.84316,45.65493],[-73.8436,45.65538],[-73.84387,45.65562],[-73.84415,45.65587],[-73.8446,45.65623],[-73.84477,45.65636],[-73.84581,45.65713],[-73.84651,45.65766],[-73.84954,45.65994],[-73.85166,45.66154],[-73.8527,45.66231],[-73.85382,45.66315],[-73.85446,45.66363],[-73.8561,45.66486],[-73.85709,45.66561],[-73.85766,45.66605],[-73.85793,45.66625],[-73.85823,45.66647],[-73.85954,45.66744],[-73.8598,45.66763],[-73.86065,45.66827],[-73.8622,45.66943],[-73.86233,45.66952],[-73.86248,45.66963],[-73.86295,45.67],[-73.86353,45.67044],[-73.86452,45.67118],[-73.86478,45.67136],[-73.86535,45.6718],[-73.86544,45.67187],[-73.86618,45.67242],[-73.86618,45.67242],[-73.8696,45.67499],[-73.87303,45.67756],[-73.87539,45.67934],[-73.87886,45.68194],[-73.88228,45.68451],[-73.88566,45.68704],[-73.88629,45.68751],[-73.88715,45.68814],[-73.88746,45.68839],[-73.8876,45.6885],[-73.88812,45.68888],[-73.8885,45.68917],[-73.88908,45.6896],[-73.89166,45.69153],[-73.8925,45.69217],[-73.89596,45.69477],[-73.89737,45.69582],[-73.89772,45.69609],[-73.89823,45.69647],[-73.89848,45.69666],[-73.89898,45.69702],[-73.89929,45.69726],[-73.90059,45.69824],[-73.90079,45.69839],[-73.90102,45.69856],[-73.90278,45.69988],[-73.90375,45.70061],[-73.90405,45.70083],[-73.90409,45.70086],[-73.90592,45.70222],[-73.90631,45.7025],[-73.90649,45.70264],[-73.90684,45.7029],[-73.90716,45.70314],[-73.90791,45.7037],[-73.90904,45.70455],[-73.90981,45.70513],[-73.9116,45.70649],[-73.91182,45.70665],[-73.91333,45.70778],[-73.91471,45.70882],[-73.91541,45.70935],[-73.91682,45.7104],[-73.91712,45.71063],[-73.918,45.71129],[-73.91855,45.71171],[-73.91855,45.71171],[-73.92029,45.71301],[-73.92374,45.71559],[-73.92717,45.71816],[-73.93064,45.72076],[-73.93259,45.72222],[-73.9327,45.7223],[-73.93312,45.72261],[-73.93358,45.72296],[-73.93409,45.72335],[-73.93757,45.72596],[-73.94026,45.72799],[-73.94095,45.7285],[-73.94442,45.7311],[-73.94643,45.73259],[-73.94785,45.73365],[-73.95127,45.73621],[-73.95235,45.73701],[-73.95464,45.73872],[-73.95806,45.74129],[-73.95983,45.74261],[-73.96,45.74273],[-73.96043,45.74305],[-73.96081,45.74333],[-73.96151,45.74386],[-73.96308,45.74505],[-73.96354,45.74539],[-73.96412,45.74582],[-73.9649,45.74641],[-73.96648,45.7476],[-73.96716,45.7481],[-73.96828,45.74894],[-73.96889,45.74939],[-73.96967,45.74997],[-73.96995,45.75018],[-73.97081,45.75084],[-73.97166,45.75149],[-73.97285,45.75239],[-73.97499,45.75399],[-73.97671,45.75527],[-73.97732,45.75573],[-73.97761,45.75595],[-73.9778,45.75609],[-73.97803,45.75626],[-73.97815,45.75635],[-73.97951,45.75735],[-73.9798,45.75757],[-73.97999,45.75771],[-73.98081,45.75835],[-73.98153,45.75889],[-73.98196,45.75922],[-73.98234,45.7595],[-73.98262,45.7597],[-73.98422,45.7609],[-73.98614,45.76232],[-73.98635,45.76248],[-73.98656,45.76264],[-73.98743,45.76328],[-73.98768,45.76347],[-73.98941,45.76477],[-73.99142,45.7663],[-73.99218,45.76687],[-73.99278,45.76732],[-73.99352,45.76787],[-73.99481,45.76883],[-73.99519,45.76912],[-73.99566,45.76945],[-73.99622,45.76988],[-73.99653,45.77011],[-73.99678,45.77031],[-73.99713,45.77061],[-73.99764,45.771],[-73.99799,45.77137],[-73.99844,45.77191],[-73.99857,45.77209],[-73.99868,45.77227],[-73.99872,45.77234],[-73.99882,45.77253],[-73.99896,45.77281],[-73.99913,45.77318]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.99913,45.77317],[-73.99899,45.77287],[-73.99883,45.77255],[-73.99871,45.77233],[-73.99858,45.77212],[-73.99851,45.77202],[-73.99844,45.77191],[-73.99841,45.77187],[-73.99814,45.77154],[-73.99799,45.77137],[-73.99764,45.771],[-73.99714,45.77062],[-73.99678,45.77031],[-73.99664,45.7702],[-73.99649,45.77007],[-73.99609,45.76978],[-73.99571,45.76949],[-73.9952,45.76912],[-73.99483,45.76884],[-73.99356,45.7679],[-73.99301,45.76749],[-73.99228,45.76695],[-73.99178,45.76657],[-73.99129,45.7662],[-73.99021,45.76538],[-73.98956,45.76488],[-73.98936,45.76474],[-73.98768,45.76347],[-73.98743,45.76328],[-73.98724,45.76314],[-73.98626,45.76241],[-73.98289,45.7599],[-73.98253,45.75964],[-73.98196,45.75922],[-73.98154,45.7589],[-73.98119,45.75863],[-73.98089,45.75841],[-73.9805,45.75811],[-73.97989,45.75764],[-73.97971,45.75751],[-73.97956,45.75739],[-73.97778,45.75608],[-73.97753,45.75589],[-73.97728,45.7557],[-73.97674,45.75529],[-73.97616,45.75486],[-73.9751,45.75407],[-73.9744,45.75354],[-73.97263,45.75222],[-73.97107,45.75103],[-73.96977,45.75004],[-73.96852,45.74912],[-73.96772,45.74852],[-73.96439,45.74603],[-73.96409,45.7458],[-73.96345,45.74533],[-73.96101,45.74349],[-73.96041,45.74304],[-73.95986,45.74263],[-73.95929,45.74221],[-73.95609,45.7398],[-73.95471,45.73877],[-73.95414,45.73835],[-73.9528,45.73735],[-73.9523,45.73697],[-73.9519,45.73668],[-73.94952,45.7349],[-73.94611,45.73235],[-73.94475,45.73135],[-73.94399,45.73078],[-73.94288,45.72995],[-73.94055,45.7282],[-73.93955,45.72745],[-73.93619,45.72493],[-73.93315,45.72263],[-73.93272,45.72232],[-73.92944,45.71986],[-73.92606,45.71733],[-73.92267,45.71479],[-73.9193,45.71226],[-73.91855,45.71171],[-73.91855,45.71171],[-73.91802,45.71131],[-73.91714,45.71065],[-73.91675,45.71035],[-73.91604,45.70982],[-73.91472,45.70882],[-73.91264,45.70727],[-73.91162,45.7065],[-73.91086,45.70593],[-73.90927,45.70472],[-73.90691,45.70295],[-73.90675,45.70283],[-73.90644,45.7026],[-73.90611,45.70235],[-73.90589,45.70219],[-73.90434,45.70104],[-73.90386,45.70069],[-73.90308,45.7001],[-73.90244,45.69962],[-73.90138,45.69883],[-73.90107,45.6986],[-73.90082,45.69841],[-73.90059,45.69824],[-73.9001,45.69787],[-73.89914,45.69715],[-73.89899,45.69703],[-73.89828,45.69651],[-73.89754,45.69595],[-73.89646,45.69514],[-73.89575,45.69461],[-73.89236,45.69206],[-73.89193,45.69174],[-73.89074,45.69084],[-73.88895,45.68951],[-73.88819,45.68894],[-73.88748,45.6884],[-73.88717,45.68816],[-73.88698,45.68802],[-73.88632,45.68754],[-73.88555,45.68696],[-73.88212,45.68438],[-73.87869,45.68181],[-73.87552,45.67943],[-73.87206,45.67683],[-73.86984,45.67517],[-73.86861,45.67424],[-73.86618,45.67242],[-73.86618,45.67242],[-73.86548,45.6719],[-73.86478,45.67136],[-73.86467,45.67128],[-73.86454,45.67119],[-73.86371,45.67057],[-73.86339,45.67034],[-73.86239,45.66957],[-73.86232,45.66951],[-73.86213,45.66938],[-73.86126,45.66873],[-73.86042,45.6681],[-73.85984,45.66766],[-73.85954,45.66744],[-73.85864,45.66677],[-73.8582,45.66645],[-73.85787,45.6662],[-73.85723,45.66571],[-73.85471,45.66383],[-73.85392,45.66322],[-73.85146,45.66139],[-73.85058,45.66072],[-73.84966,45.66003],[-73.84726,45.65823],[-73.84549,45.6569],[-73.84477,45.65636],[-73.84459,45.65622],[-73.84436,45.65604],[-73.84423,45.65594],[-73.84414,45.65586],[-73.8438,45.65556],[-73.8436,45.65538],[-73.84322,45.65499],[-73.84307,45.65484],[-73.84286,45.6546],[-73.84243,45.65409],[-73.84238,45.65404],[-73.84219,45.65375],[-73.84211,45.6536],[-73.84202,45.65344],[-73.84187,45.65315],[-73.84176,45.65288],[-73.84165,45.65253],[-73.8416,45.6523],[-73.84155,45.65188],[-73.84154,45.65177],[-73.84153,45.65159],[-73.84154,45.65137],[-73.84155,45.65129],[-73.84156,45.65116],[-73.84159,45.65098],[-73.84161,45.65085],[-73.84173,45.6504],[-73.84181,45.65021],[-73.84192,45.64994],[-73.84203,45.64973],[-73.84216,45.6495],[-73.84228,45.64932],[-73.84237,45.6492],[-73.84247,45.64907],[-73.84253,45.64898],[-73.84284,45.64864],[-73.843,45.64847],[-73.84342,45.64811],[-73.84349,45.64806],[-73.84368,45.64791],[-73.84393,45.64775],[-73.84418,45.64759],[-73.84444,45.64743],[-73.84451,45.64739],[-73.84471,45.64728],[-73.84497,45.64716],[-73.84526,45.64703],[-73.84574,45.64684],[-73.84631,45.64661],[-73.84813,45.64588],[-73.84837,45.64579],[-73.84862,45.64567],[-73.84894,45.64551],[-73.84923,45.64534],[-73.84947,45.6452],[-73.84961,45.6451],[-73.84975,45.64499],[-73.84989,45.64489],[-73.85003,45.64477],[-73.85023,45.64461],[-73.85037,45.64449],[-73.85058,45.64428],[-73.85074,45.64411],[-73.85094,45.64387],[-73.85107,45.64371],[-73.85122,45.64348],[-73.85135,45.64327],[-73.85142,45.64313],[-73.8515,45.64298],[-73.85156,45.64283],[-73.85165,45.64261],[-73.85173,45.64238],[-73.85179,45.64216],[-73.85183,45.64185],[-73.85188,45.64157],[-73.85187,45.64137],[-73.85187,45.64124],[-73.85186,45.64102],[-73.85184,45.64083],[-73.85183,45.64077],[-73.85179,45.6406],[-73.85173,45.6403],[-73.85165,45.64009],[-73.85156,45.63985],[-73.85145,45.63962],[-73.85135,45.63942],[-73.85128,45.63931],[-73.85114,45.63911],[-73.85105,45.63898],[-73.8509,45.63877],[-73.85071,45.63856],[-73.85064,45.63848],[-73.85053,45.63836],[-73.85015,45.63801],[-73.84999,45.63787],[-73.84988,45.63779],[-73.84952,45.63752],[-73.84919,45.6373],[-73.84898,45.63715],[-73.84874,45.63702],[-73.84866,45.63698],[-73.84838,45.63682],[-73.84799,45.63664],[-73.84775,45.63654],[-73.84734,45.63638],[-73.84702,45.63627],[-73.84685,45.63622],[-73.84662,45.63615],[-73.84636,45.63608],[-73.84619,45.63604],[-73.8459,45.63597],[-73.84532,45.63586],[-73.84513,45.63582],[-73.84474,45.63577],[-73.84435,45.63573],[-73.84408,45.63571],[-73.84398,45.6357],[-73.84357,45.63569],[-73.84298,45.63569],[-73.84131,45.63574],[-73.83858,45.63584],[-73.83738,45.63589],[-73.83681,45.63591],[-73.83353,45.63602],[-73.83353,45.63602],[-73.83039,45.63614],[-73.82731,45.63626],[-73.82375,45.6364],[-73.82344,45.63641],[-73.81735,45.63664],[-73.81599,45.63669],[-73.81575,45.6367],[-73.81558,45.63671],[-73.81543,45.63672],[-73.81488,45.63674],[-73.814,45.63677],[-73.81289,45.63681],[-73.81129,45.63687],[-73.80602,45.63708],[-73.80516,45.6371],[-73.80472,45.6371],[-73.80431,45.63709],[-73.80348,45.63704],[-73.80325,45.63702],[-73.80296,45.63698],[-73.80264,45.63694],[-73.80223,45.63688],[-73.80142,45.63672],[-73.80102,45.63663],[-73.80056,45.63649],[-73.80019,45.63638],[-73.79986,45.63627],[-73.79949,45.63614],[-73.79917,45.63601],[-73.79889,45.6359],[-73.79877,45.63585],[-73.7979,45.63545],[-73.79575,45.6345],[-73.79575,45.6345],[-73.79447,45.63394],[-73.79319,45.63337],[-73.79174,45.63273],[-73.79038,45.63213],[-73.78896,45.63151],[-73.78738,45.63082],[-73.7861,45.63026],[-73.78489,45.62974],[-73.78399,45.62935],[-73.7836,45.62921],[-73.78319,45.62908],[-73.78266,45.62892],[-73.78238,45.62884],[-73.78221,45.62881],[-73.78155,45.62865],[-73.78107,45.62856],[-73.78053,45.62848],[-73.77856,45.62822],[-73.77648,45.62794],[-73.77615,45.6279],[-73.77537,45.62779],[-73.77417,45.62763],[-73.77232,45.62737],[-73.76934,45.62696],[-73.76895,45.62689],[-73.7686,45.62683],[-73.76834,45.62677],[-73.76815,45.62673],[-73.7678,45.62664],[-73.76742,45.62653],[-73.7672,45.62647],[-73.76698,45.6264],[-73.7666,45.62628],[-73.76624,45.62615],[-73.76587,45.626],[-73.7656,45.62588],[-73.76551,45.62584],[-73.76519,45.62568],[-73.7649,45.62554],[-73.76474,45.62545],[-73.76474,45.62545],[-73.76453,45.62533],[-73.76425,45.62516],[-73.76402,45.62501],[-73.76356,45.62467],[-73.76347,45.62461],[-73.76277,45.62404],[-73.76246,45.62376],[-73.76236,45.62367],[-73.7621,45.62341],[-73.76176,45.62307],[-73.76082,45.62211],[-73.75826,45.61952],[-73.75596,45.6172],[-73.75337,45.61459],[-73.75082,45.61202],[-73.75042,45.61162],[-73.74997,45.61117],[-73.74967,45.61087],[-73.74838,45.60956],[-73.74679,45.60796],[-73.74582,45.60701],[-73.7434,45.60455],[-73.74263,45.60378],[-73.74263,45.60378],[-73.7402,45.60132],[-73.7377,45.59879],[-73.73538,45.59644],[-73.73439,45.59544],[-73.73426,45.59532],[-73.73197,45.593],[-73.73119,45.59222],[-73.73069,45.59172],[-73.72966,45.59067],[-73.72812,45.58911],[-73.72794,45.58893],[-73.72785,45.58883],[-73.72768,45.58866],[-73.72731,45.58827],[-73.72714,45.5881],[-73.72617,45.58712],[-73.72498,45.58592],[-73.72477,45.58571],[-73.72393,45.58487],[-73.72373,45.58468],[-73.72321,45.58414],[-73.72284,45.58376],[-73.72272,45.58365],[-73.7218,45.58272],[-73.7216,45.58252],[-73.7215,45.58242],[-73.72116,45.58207],[-73.72109,45.58199],[-73.72101,45.5819],[-73.72078,45.58164],[-73.72067,45.58151],[-73.72054,45.58136],[-73.72039,45.58114],[-73.72026,45.58097],[-73.72003,45.58057],[-73.71998,45.58049],[-73.71968,45.57989],[-73.7191,45.57874],[-73.71793,45.5764],[-73.71696,45.57448],[-73.71682,45.57421],[-73.71674,45.57404],[-73.71669,45.57393],[-73.71656,45.57366],[-73.71652,45.57358],[-73.71621,45.57297],[-73.71577,45.57209],[-73.71451,45.56959],[-73.71331,45.56719],[-73.71218,45.56494],[-73.71119,45.56295],[-73.71051,45.56159],[-73.71022,45.56101],[-73.71012,45.56082],[-73.70987,45.56033]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.57077,45.49475],[-73.57243,45.49354],[-73.57271,45.49325],[-73.57336,45.49276],[-73.57409,45.49223],[-73.57463,45.49184],[-73.57494,45.49162],[-73.57524,45.49141],[-73.57581,45.49099],[-73.57615,45.49073],[-73.57676,45.49027],[-73.57757,45.48962],[-73.57798,45.48929],[-73.57841,45.48896],[-73.57909,45.48844],[-73.57972,45.48801],[-73.58001,45.4878],[-73.58028,45.48762],[-73.5814,45.4869],[-73.58297,45.48589],[-73.58487,45.48468],[-73.58636,45.4837],[-73.58767,45.48284],[-73.58916,45.48187],[-73.59007,45.48127],[-73.59137,45.48048],[-73.59189,45.48017],[-73.5929,45.47958],[-73.5931,45.47947],[-73.5941,45.47892],[-73.59422,45.47884],[-73.59474,45.4785],[-73.59533,45.47817],[-73.59581,45.4779],[-73.59723,45.47708],[-73.59748,45.47693],[-73.5982,45.47652],[-73.59927,45.47591],[-73.59982,45.47561],[-73.60146,45.47468],[-73.60309,45.47377],[-73.60309,45.47377],[-73.60348,45.47355],[-73.6048,45.47284],[-73.60587,45.47228],[-73.60974,45.47028],[-73.6122,45.469],[-73.61423,45.46794],[-73.61737,45.46632],[-73.61928,45.46533],[-73.61976,45.46508],[-73.62131,45.46427],[-73.62343,45.46316],[-73.62525,45.46222],[-73.62837,45.4606],[-73.62973,45.45989],[-73.63368,45.45783],[-73.6352,45.45705],[-73.63607,45.4566],[-73.63781,45.4557],[-73.63792,45.45564],[-73.63857,45.45535],[-73.63887,45.45519],[-73.63919,45.45506],[-73.63951,45.45492],[-73.64005,45.45467],[-73.64015,45.45461],[-73.6403,45.45453],[-73.64182,45.45374],[-73.64172,45.45367],[-73.64271,45.45315],[-73.64335,45.45282],[-73.64459,45.45218],[-73.64514,45.45185],[-73.64548,45.45168],[-73.64596,45.45146],[-73.64642,45.45128],[-73.64667,45.4512],[-73.64705,45.45108],[-73.64754,45.45096],[-73.64789,45.45088],[-73.6481,45.45085],[-73.64858,45.45078],[-73.64892,45.45074],[-73.64922,45.45072],[-73.64962,45.45071],[-73.64998,45.4507],[-73.65077,45.45069],[-73.65152,45.45068],[-73.65179,45.45067],[-73.65205,45.45066],[-73.65226,45.45064],[-73.65248,45.45062],[-73.65266,45.45059],[-73.65272,45.45058],[-73.65298,45.45052],[-73.65322,45.45046],[-73.65362,45.45032],[-73.65401,45.45017],[-73.65444,45.44995],[-73.6546,45.44985],[-73.65493,45.44962],[-73.65516,45.44942],[-73.65533,45.44924],[-73.65547,45.44908],[-73.65561,45.44886],[-73.65571,45.44869],[-73.65579,45.4485],[-73.65586,45.44834],[-73.65588,45.44822],[-73.65591,45.44807],[-73.65597,45.44761],[-73.65596,45.44569],[-73.65595,45.44292],[-73.65594,45.44218],[-73.65594,45.4403],[-73.65593,45.44015],[-73.65593,45.43901],[-73.65593,45.43765],[-73.65593,45.43765],[-73.65592,45.43562],[-73.65592,45.43545],[-73.6559,45.43355],[-73.6559,45.4332],[-73.6559,45.4325],[-73.6559,45.43149],[-73.65588,45.43017],[-73.65588,45.42915],[-73.6559,45.42883],[-73.65593,45.42849],[-73.65597,45.42819],[-73.65603,45.42786],[-73.65609,45.42754],[-73.65614,45.42734],[-73.65626,45.42694],[-73.65643,45.42655],[-73.65652,45.42633],[-73.6569,45.42542],[-73.65698,45.42522],[-73.65698,45.42522],[-73.65703,45.42508],[-73.65735,45.4243],[-73.65743,45.42411],[-73.6576,45.42369],[-73.65814,45.42242],[-73.65932,45.41967],[-73.66051,45.41694],[-73.66096,45.41592],[-73.6612,45.41536],[-73.66133,45.41506],[-73.66142,45.41487],[-73.66149,45.4147],[-73.66162,45.41438],[-73.66172,45.4141],[-73.6618,45.41389],[-73.66184,45.4137],[-73.66186,45.41365],[-73.66189,45.41349],[-73.66193,45.41326],[-73.66196,45.41292],[-73.66199,45.41248],[-73.66205,45.41131],[-73.66209,45.41064],[-73.6621,45.4102],[-73.66211,45.40998],[-73.66211,45.40984],[-73.66211,45.40967],[-73.6621,45.40951],[-73.66208,45.40931],[-73.66208,45.40926],[-73.66204,45.40913],[-73.662,45.40898],[-73.66196,45.40885],[-73.66187,45.40854],[-73.66173,45.40819],[-73.66162,45.408],[-73.66148,45.40772],[-73.66128,45.40743],[-73.66115,45.40726],[-73.661,45.40707],[-73.66074,45.40677],[-73.66057,45.4066],[-73.6604,45.40643],[-73.66006,45.40612],[-73.65992,45.40599],[-73.65963,45.40576],[-73.65949,45.40566],[-73.65926,45.40549],[-73.65899,45.40531],[-73.6588,45.40519],[-73.65843,45.40497],[-73.65813,45.40481],[-73.65775,45.4046],[-73.65737,45.40443],[-73.65705,45.40429],[-73.65666,45.40409],[-73.65597,45.40383],[-73.65544,45.40362],[-73.65497,45.40343],[-73.65477,45.40336],[-73.65451,45.40326],[-73.65392,45.40302],[-73.6527,45.40255],[-73.65157,45.40211],[-73.65089,45.40184],[-73.65022,45.40158],[-73.64936,45.40123],[-73.64913,45.40114],[-73.64818,45.40078],[-73.64715,45.40038],[-73.64595,45.39991],[-73.64466,45.39941],[-73.64083,45.39789],[-73.6407,45.39784],[-73.64057,45.39779],[-73.63585,45.39596],[-73.63501,45.39563],[-73.63004,45.39369],[-73.62878,45.3932],[-73.62739,45.39265],[-73.62576,45.39202],[-73.62557,45.39194],[-73.62377,45.39124],[-73.62119,45.39023],[-73.61918,45.38944],[-73.61763,45.38883],[-73.61635,45.38833],[-73.61524,45.3879],[-73.61437,45.38757],[-73.61311,45.38707],[-73.61154,45.38647],[-73.61041,45.38603],[-73.60954,45.3857],[-73.60939,45.38564],[-73.60897,45.38547],[-73.60837,45.38524],[-73.60693,45.38468],[-73.60605,45.38433],[-73.605,45.38392],[-73.60305,45.38314],[-73.60253,45.38294],[-73.60014,45.382],[-73.60014,45.382],[-73.59859,45.38139],[-73.59784,45.38111],[-73.59739,45.38094],[-73.59694,45.38079],[-73.59472,45.38003],[-73.59451,45.37996],[-73.59408,45.37982],[-73.59217,45.37923],[-73.59176,45.37912],[-73.58963,45.37854],[-73.5877,45.37808],[-73.58671,45.37784],[-73.58547,45.37752],[-73.58492,45.37739],[-73.58144,45.37657],[-73.58045,45.37633],[-73.58,45.37622],[-73.57975,45.37616],[-73.57964,45.37613],[-73.57845,45.37585],[-73.57541,45.37514],[-73.57349,45.37468],[-73.57031,45.37392],[-73.57031,45.37392],[-73.56873,45.37354],[-73.56718,45.37316],[-73.56684,45.37308],[-73.56627,45.37295],[-73.56257,45.37207],[-73.56124,45.37175],[-73.55997,45.37143],[-73.55858,45.37111],[-73.55737,45.37083],[-73.55677,45.37069],[-73.55616,45.37054],[-73.55529,45.37033],[-73.55394,45.37],[-73.55298,45.36977],[-73.55214,45.36957],[-73.55082,45.36927],[-73.55068,45.36924],[-73.55033,45.36915],[-73.54801,45.3686],[-73.544,45.36764],[-73.54283,45.36736],[-73.54218,45.3672],[-73.54172,45.36709],[-73.5408,45.36686],[-73.5408,45.36686],[-73.54015,45.3667],[-73.53977,45.36661],[-73.53954,45.36655],[-73.5392,45.36647],[-73.5386,45.36633],[-73.5374,45.36604],[-73.53672,45.36588],[-73.53588,45.36568],[-73.53477,45.36542],[-73.53317,45.36503],[-73.53241,45.36484],[-73.53161,45.36465],[-73.5305,45.36438],[-73.52577,45.36324],[-73.52549,45.36317],[-73.52445,45.36294],[-73.52379,45.36278],[-73.52093,45.36209],[-73.52031,45.36194],[-73.52011,45.36189],[-73.51965,45.36178],[-73.51949,45.36174],[-73.51933,45.36171],[-73.51694,45.36113],[-73.51481,45.36062]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.5148,45.36062],[-73.51552,45.36079],[-73.51628,45.36097],[-73.51714,45.36118],[-73.51946,45.36174],[-73.51965,45.36178],[-73.51989,45.36184],[-73.5201,45.36189],[-73.52032,45.36194],[-73.52044,45.36197],[-73.52189,45.36232],[-73.52347,45.3627],[-73.52448,45.36294],[-73.52485,45.36303],[-73.52541,45.36315],[-73.52571,45.36323],[-73.52824,45.36384],[-73.52983,45.36422],[-73.53239,45.36484],[-73.53458,45.36537],[-73.53482,45.36543],[-73.53563,45.36562],[-73.537,45.36595],[-73.53743,45.36605],[-73.53859,45.36633],[-73.53876,45.36637],[-73.5408,45.36686],[-73.5408,45.36686],[-73.54172,45.36709],[-73.54215,45.36719],[-73.54288,45.36737],[-73.54373,45.36758],[-73.54532,45.36796],[-73.54686,45.36833],[-73.54843,45.3687],[-73.54897,45.36883],[-73.54931,45.36895],[-73.54972,45.36905],[-73.55067,45.36927],[-73.55118,45.36939],[-73.55237,45.36967],[-73.55341,45.36991],[-73.55527,45.37036],[-73.55685,45.37075],[-73.55751,45.37091],[-73.55983,45.37145],[-73.5614,45.37183],[-73.56391,45.37243],[-73.56612,45.37296],[-73.5667,45.37309],[-73.56718,45.37321],[-73.56872,45.37358],[-73.57029,45.37396],[-73.57029,45.37396],[-73.57185,45.37434],[-73.57269,45.37454],[-73.5736,45.37476],[-73.57909,45.37605],[-73.57963,45.37618],[-73.57997,45.37626],[-73.58026,45.37633],[-73.58547,45.37757],[-73.58708,45.37797],[-73.58867,45.37836],[-73.58935,45.37853],[-73.58964,45.37861],[-73.59139,45.37907],[-73.59175,45.37916],[-73.59207,45.37925],[-73.59285,45.37949],[-73.59411,45.37987],[-73.59426,45.37992],[-73.59624,45.3806],[-73.59694,45.38084],[-73.59734,45.38098],[-73.59754,45.38105],[-73.59778,45.38113],[-73.59858,45.38144],[-73.59872,45.38149],[-73.60011,45.38204],[-73.60011,45.38204],[-73.6006,45.38223],[-73.60262,45.38302],[-73.60293,45.38314],[-73.60559,45.3842],[-73.60698,45.38475],[-73.60805,45.38517],[-73.60878,45.38545],[-73.60894,45.38551],[-73.60935,45.38568],[-73.61077,45.38622],[-73.61296,45.38707],[-73.61333,45.38721],[-73.61441,45.38764],[-73.6153,45.38796],[-73.61538,45.38799],[-73.61834,45.38916],[-73.61863,45.38927],[-73.61977,45.38971],[-73.62081,45.39012],[-73.62219,45.39066],[-73.62298,45.39097],[-73.62536,45.39191],[-73.6257,45.39205],[-73.62605,45.39218],[-73.63014,45.39378],[-73.63024,45.39382],[-73.63084,45.39405],[-73.63243,45.39467],[-73.63377,45.3952],[-73.63416,45.39536],[-73.63473,45.39557],[-73.63486,45.39562],[-73.6387,45.39711],[-73.64055,45.39783],[-73.6443,45.39932],[-73.64504,45.3996],[-73.64542,45.39975],[-73.64706,45.40039],[-73.64821,45.40083],[-73.64872,45.40103],[-73.6489,45.4011],[-73.65018,45.40161],[-73.65073,45.40183],[-73.65149,45.40212],[-73.65365,45.40296],[-73.65401,45.4031],[-73.6544,45.40326],[-73.65506,45.40351],[-73.65593,45.40385],[-73.65671,45.40415],[-73.65705,45.40429],[-73.6574,45.40445],[-73.65775,45.4046],[-73.65813,45.4048],[-73.65842,45.40496],[-73.65851,45.40501],[-73.65875,45.40516],[-73.6589,45.40525],[-73.65906,45.40536],[-73.65923,45.40547],[-73.65947,45.40564],[-73.65963,45.40576],[-73.6599,45.40599],[-73.66006,45.40612],[-73.6604,45.40643],[-73.66054,45.40656],[-73.66064,45.40667],[-73.66075,45.40679],[-73.66086,45.40691],[-73.66096,45.40702],[-73.66101,45.40708],[-73.66113,45.40723],[-73.66124,45.40737],[-73.66129,45.40745],[-73.66148,45.40772],[-73.66158,45.40792],[-73.66173,45.40819],[-73.66185,45.4085],[-73.66187,45.40854],[-73.662,45.40898],[-73.66208,45.40926],[-73.6621,45.40951],[-73.66211,45.40967],[-73.66211,45.40982],[-73.66211,45.41001],[-73.66211,45.41014],[-73.66209,45.41061],[-73.66199,45.4124],[-73.66196,45.4128],[-73.66193,45.41321],[-73.66193,45.41326],[-73.66189,45.4135],[-73.66185,45.41369],[-73.66181,45.41383],[-73.66178,45.41392],[-73.66173,45.41406],[-73.66163,45.41435],[-73.66149,45.4147],[-73.66145,45.41479],[-73.66131,45.41511],[-73.66047,45.41703],[-73.65929,45.41976],[-73.65812,45.42248],[-73.65761,45.42365],[-73.65742,45.42414],[-73.65698,45.42522],[-73.65698,45.42522],[-73.6569,45.42542],[-73.65669,45.42591],[-73.65658,45.42615],[-73.65649,45.4264],[-73.65643,45.42655],[-73.65628,45.42688],[-73.65623,45.42703],[-73.65616,45.42727],[-73.65614,45.42736],[-73.65609,45.42757],[-73.65602,45.4279],[-73.65598,45.42812],[-73.65596,45.42828],[-73.65595,45.42834],[-73.65592,45.4286],[-73.65589,45.42886],[-73.65589,45.42892],[-73.65588,45.42918],[-73.65588,45.42989],[-73.65588,45.43058],[-73.6559,45.43124],[-73.6559,45.43162],[-73.6559,45.43258],[-73.6559,45.43323],[-73.6559,45.43344],[-73.6559,45.43384],[-73.65592,45.43545],[-73.65592,45.43559],[-73.65593,45.43765],[-73.65593,45.43765],[-73.65593,45.43802],[-73.65593,45.43889],[-73.65593,45.43946],[-73.65593,45.44014],[-73.65594,45.44029],[-73.65594,45.44074],[-73.65594,45.44141],[-73.65594,45.44209],[-73.65595,45.44262],[-73.65595,45.44281],[-73.65595,45.44302],[-73.65595,45.44346],[-73.65597,45.44601],[-73.65597,45.44614],[-73.65597,45.44624],[-73.65597,45.44633],[-73.65597,45.44706],[-73.65597,45.44761],[-73.65592,45.44799],[-73.65589,45.44819],[-73.65585,45.44834],[-73.65579,45.44851],[-73.65572,45.44867],[-73.65569,45.44872],[-73.65561,45.44886],[-73.65547,45.44908],[-73.65533,45.44924],[-73.65516,45.44942],[-73.65493,45.44962],[-73.65489,45.44965],[-73.65462,45.44984],[-73.65444,45.44995],[-73.65421,45.45007],[-73.65401,45.45017],[-73.65362,45.45032],[-73.65339,45.4504],[-73.65322,45.45046],[-73.65298,45.45052],[-73.65272,45.45058],[-73.65267,45.45058],[-73.65249,45.45062],[-73.65226,45.45064],[-73.65205,45.45066],[-73.65179,45.45067],[-73.65107,45.45069],[-73.64956,45.45071],[-73.64922,45.45072],[-73.64891,45.45074],[-73.64858,45.45078],[-73.64832,45.45082],[-73.64807,45.45085],[-73.64789,45.45088],[-73.64761,45.45094],[-73.64748,45.45098],[-73.64727,45.45103],[-73.64706,45.45108],[-73.64685,45.45114],[-73.64667,45.4512],[-73.64639,45.45129],[-73.64596,45.45146],[-73.64544,45.4517],[-73.64515,45.45184],[-73.64501,45.45193],[-73.64458,45.45218],[-73.64425,45.45235],[-73.64406,45.45245],[-73.64337,45.45281],[-73.64262,45.4532],[-73.64171,45.45368],[-73.64179,45.45376],[-73.64106,45.45414],[-73.64046,45.45445],[-73.64004,45.45467],[-73.63949,45.45493],[-73.63915,45.45508],[-73.63887,45.45519],[-73.63856,45.45535],[-73.63784,45.45568],[-73.63752,45.45584],[-73.63554,45.45687],[-73.63451,45.45741],[-73.63365,45.45785],[-73.63074,45.45936],[-73.62989,45.4598],[-73.6274,45.46111],[-73.62553,45.46207],[-73.62521,45.46224],[-73.62434,45.46269],[-73.62376,45.46299],[-73.62263,45.46358],[-73.62116,45.46435],[-73.61998,45.46497],[-73.61911,45.46542],[-73.61678,45.46663],[-73.61525,45.46742],[-73.6144,45.46785],[-73.61387,45.46813],[-73.61294,45.46861],[-73.61156,45.46933],[-73.60985,45.47023],[-73.60858,45.47088],[-73.60849,45.47093],[-73.60838,45.47098],[-73.60773,45.47132],[-73.60759,45.47139],[-73.60745,45.47147],[-73.60632,45.47205],[-73.60612,45.47215],[-73.60602,45.47221],[-73.60594,45.47225],[-73.60587,45.47228],[-73.60503,45.47272],[-73.60471,45.47289],[-73.60438,45.47306],[-73.60343,45.47358],[-73.60334,45.47363],[-73.60327,45.47366],[-73.60309,45.47377],[-73.60309,45.47377],[-73.60267,45.474],[-73.60161,45.4746],[-73.59945,45.47581],[-73.5985,45.47635],[-73.59783,45.47673],[-73.59758,45.47687],[-73.59719,45.4771],[-73.59572,45.47795],[-73.59514,45.47828],[-73.59477,45.47849],[-73.59474,45.4785],[-73.59425,45.47883],[-73.59409,45.47893],[-73.59399,45.47898],[-73.5929,45.47958],[-73.59191,45.48015],[-73.59104,45.48068],[-73.59007,45.48127],[-73.59006,45.48128],[-73.58944,45.48168],[-73.58819,45.4825],[-73.58717,45.48317],[-73.58636,45.4837],[-73.58491,45.48465],[-73.5848,45.48472],[-73.5818,45.48664],[-73.58027,45.48763],[-73.58016,45.4877],[-73.57998,45.48782],[-73.57951,45.48815],[-73.57912,45.48842],[-73.57903,45.48849],[-73.57824,45.48908],[-73.57801,45.48927],[-73.57695,45.49011],[-73.57679,45.49024],[-73.57672,45.4903],[-73.5764,45.49054],[-73.57608,45.49079],[-73.57595,45.49089],[-73.57585,45.49096],[-73.57507,45.49153],[-73.57463,45.49184],[-73.57398,45.49231],[-73.57336,45.49276],[-73.5727,45.49325],[-73.57243,45.49354],[-73.57077,45.49475]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.66263,45.53501],[-73.66214,45.53583],[-73.662,45.53607],[-73.66186,45.53634],[-73.6616,45.53685],[-73.66113,45.53767],[-73.66003,45.53957],[-73.65845,45.5423],[-73.65684,45.54508],[-73.65525,45.54783],[-73.65433,45.54941],[-73.65433,45.54941],[-73.65346,45.55089],[-73.65318,45.55137],[-73.65271,45.55217],[-73.65111,45.55493],[-73.64949,45.55771],[-73.64901,45.55853],[-73.64877,45.55895],[-73.64847,45.55948],[-73.64796,45.56034],[-73.64633,45.56313],[-73.64543,45.56466],[-73.64508,45.56522],[-73.64479,45.56565],[-73.64447,45.56605],[-73.64443,45.5661],[-73.64402,45.5666],[-73.64308,45.56772],[-73.64255,45.56835],[-73.64078,45.57047],[-73.63844,45.57326],[-73.63633,45.57578],[-73.63617,45.57597],[-73.63553,45.57673],[-73.63398,45.57859],[-73.63165,45.58137],[-73.63028,45.58299],[-73.63028,45.58299],[-73.628,45.58574],[-73.62571,45.58848],[-73.6234,45.59124],[-73.62106,45.59402],[-73.61888,45.59663],[-73.61655,45.59941],[-73.61576,45.60033],[-73.61577,45.60033],[-73.61474,45.60154],[-73.61455,45.60178],[-73.61344,45.60313],[-73.61255,45.60422],[-73.61199,45.6049],[-73.61148,45.60551],[-73.61123,45.60581],[-73.61062,45.60653],[-73.61036,45.60685],[-73.60994,45.60735],[-73.6096,45.60772],[-73.60938,45.60796],[-73.60925,45.6081],[-73.60906,45.60829],[-73.60891,45.60844],[-73.60878,45.60857],[-73.60828,45.60904],[-73.60815,45.60916],[-73.60779,45.60947],[-73.60768,45.60956],[-73.60737,45.60982],[-73.60544,45.61129],[-73.60477,45.6118],[-73.60405,45.61235],[-73.60345,45.6128],[-73.60225,45.61371],[-73.60202,45.61388],[-73.60033,45.61515],[-73.59829,45.61667],[-73.59784,45.61702],[-73.59759,45.61721],[-73.59669,45.61788],[-73.59669,45.61788],[-73.59517,45.61901],[-73.59298,45.62066],[-73.58926,45.62345],[-73.58547,45.62629],[-73.58382,45.62753],[-73.58364,45.62767],[-73.58323,45.62797],[-73.58275,45.62833],[-73.58225,45.62871],[-73.58168,45.62914],[-73.5805,45.63003],[-73.57904,45.63113],[-73.57554,45.63377],[-73.57172,45.63664],[-73.56847,45.63909],[-73.56821,45.63929],[-73.56701,45.64019],[-73.56665,45.64046],[-73.56531,45.64146],[-73.56493,45.64174],[-73.56456,45.64202],[-73.56277,45.64336],[-73.56009,45.64537],[-73.55868,45.64642],[-73.55817,45.64681],[-73.55778,45.64711],[-73.55762,45.64722],[-73.55647,45.64809],[-73.5556,45.64874],[-73.55497,45.64921],[-73.55471,45.6494],[-73.55297,45.65072],[-73.55261,45.651],[-73.5515,45.65183],[-73.54828,45.65424],[-73.54573,45.65615],[-73.54373,45.65766],[-73.54332,45.65797],[-73.54299,45.65822],[-73.54288,45.65831],[-73.54245,45.65861],[-73.54219,45.6588],[-73.54199,45.65893],[-73.54178,45.65907],[-73.54151,45.65925],[-73.54118,45.65946],[-73.53919,45.66066],[-73.53919,45.66066],[-73.53442,45.66352],[-73.53409,45.66371],[-73.53012,45.66612],[-73.52561,45.66886],[-73.52474,45.66939],[-73.52321,45.67032],[-73.5231,45.67038],[-73.52289,45.6705],[-73.52256,45.67068],[-73.5221,45.67091],[-73.5219,45.67101],[-73.52185,45.67103],[-73.52153,45.67117],[-73.52117,45.6713],[-73.52079,45.67144],[-73.52042,45.67156],[-73.52007,45.67166],[-73.51993,45.6717],[-73.51983,45.67172],[-73.51911,45.6719],[-73.51865,45.67201],[-73.51719,45.67232],[-73.51351,45.67313],[-73.51136,45.67361],[-73.50749,45.67444],[-73.50535,45.67489],[-73.50535,45.67489],[-73.50304,45.67539],[-73.50264,45.67548],[-73.50134,45.67576],[-73.49995,45.67606],[-73.4992,45.67621],[-73.4988,45.6763],[-73.49871,45.67632],[-73.49767,45.67657],[-73.49712,45.67673],[-73.49676,45.67685],[-73.4966,45.6769],[-73.49651,45.67694],[-73.49639,45.677],[-73.49618,45.67709],[-73.49611,45.67713],[-73.49589,45.67724],[-73.49553,45.67744],[-73.49527,45.67762],[-73.49523,45.67765],[-73.49507,45.67777],[-73.49484,45.67796],[-73.49462,45.67817],[-73.49442,45.67839],[-73.49426,45.6786],[-73.4942,45.67868],[-73.4941,45.67885],[-73.49395,45.67911],[-73.49386,45.67928],[-73.49382,45.67939],[-73.49379,45.67946],[-73.49375,45.67958],[-73.4937,45.67978],[-73.49366,45.67994],[-73.49365,45.68006],[-73.49362,45.68052],[-73.49348,45.68233],[-73.49346,45.68268],[-73.49344,45.68288],[-73.49343,45.68309],[-73.4934,45.68354],[-73.49326,45.68543],[-73.49325,45.68558],[-73.49308,45.68742],[-73.49298,45.68808],[-73.49295,45.68829],[-73.4928,45.68893],[-73.49275,45.68916],[-73.49271,45.6893],[-73.49259,45.68966],[-73.49253,45.68988],[-73.49227,45.69056],[-73.49216,45.6908],[-73.49195,45.69123],[-73.49173,45.69159],[-73.49148,45.69192],[-73.49129,45.69216],[-73.49123,45.69223],[-73.49108,45.69241],[-73.49087,45.69264],[-73.49037,45.69313],[-73.48997,45.69348],[-73.48982,45.69361],[-73.48971,45.69369],[-73.48875,45.69441],[-73.4885,45.69461],[-73.4881,45.69493],[-73.48793,45.69509],[-73.48777,45.69522],[-73.48753,45.69544],[-73.48742,45.69554],[-73.48738,45.69558],[-73.48712,45.69586],[-73.48698,45.69602],[-73.48684,45.69617],[-73.48664,45.69643],[-73.48659,45.69651],[-73.48629,45.69696],[-73.48597,45.69753],[-73.48585,45.69778],[-73.48564,45.69837],[-73.48558,45.69858],[-73.48557,45.69864],[-73.48556,45.69869],[-73.48549,45.69898],[-73.48545,45.69918],[-73.48544,45.69922],[-73.48539,45.6997],[-73.48539,45.69976],[-73.48538,45.69997],[-73.48538,45.7003],[-73.48543,45.70087],[-73.48544,45.70097],[-73.48551,45.70159],[-73.48566,45.70292],[-73.48568,45.70307],[-73.4857,45.70327],[-73.48575,45.70387],[-73.48587,45.70524],[-73.486,45.70653],[-73.48612,45.70775],[-73.48617,45.70812],[-73.48621,45.70836],[-73.48627,45.70863],[-73.4864,45.70918],[-73.48654,45.70985],[-73.4866,45.71009],[-73.48702,45.71177],[-73.48756,45.71394],[-73.48769,45.71445],[-73.48834,45.71715],[-73.48847,45.71767],[-73.48853,45.71818],[-73.48855,45.71854],[-73.48855,45.71875],[-73.48854,45.71897],[-73.48852,45.71916],[-73.48845,45.71975],[-73.48844,45.71985],[-73.48802,45.72251],[-73.48774,45.72434],[-73.48732,45.72701],[-73.48717,45.72796],[-73.48717,45.72831],[-73.487,45.72941],[-73.48682,45.73061],[-73.48659,45.73205],[-73.48619,45.73459],[-73.48619,45.73459],[-73.48616,45.73479],[-73.48609,45.73517],[-73.486,45.73564],[-73.4859,45.73616],[-73.4859,45.73637],[-73.48589,45.73643],[-73.48584,45.73686],[-73.48579,45.73721],[-73.48573,45.73758],[-73.48574,45.73792],[-73.48576,45.73797],[-73.48583,45.73825],[-73.48607,45.73868],[-73.48622,45.73884],[-73.48648,45.73911],[-73.48675,45.7393],[-73.48737,45.73961],[-73.48786,45.73977],[-73.4883,45.73986],[-73.48897,45.73995],[-73.48942,45.74002],[-73.49024,45.74015],[-73.49166,45.74036],[-73.49315,45.74058],[-73.49428,45.74074],[-73.49545,45.74091],[-73.496,45.74095],[-73.49641,45.74096],[-73.49648,45.74096],[-73.49702,45.74092],[-73.49747,45.74087],[-73.49753,45.74087],[-73.49781,45.74082],[-73.49788,45.74081],[-73.49818,45.74075],[-73.49863,45.74062],[-73.49897,45.74052],[-73.49961,45.74026],[-73.50013,45.73998],[-73.50022,45.73992],[-73.50046,45.73977],[-73.50082,45.73952],[-73.50111,45.73925],[-73.5013,45.73907],[-73.50146,45.73888],[-73.50166,45.73862],[-73.50171,45.73855],[-73.50187,45.73829],[-73.50202,45.73804],[-73.50212,45.73776],[-73.50221,45.73748],[-73.50227,45.73724],[-73.50235,45.73685],[-73.5024,45.73664],[-73.50255,45.73595],[-73.50259,45.73557],[-73.5027,45.73501],[-73.50289,45.73399],[-73.50296,45.73362],[-73.50302,45.7334],[-73.50304,45.73335],[-73.50309,45.73321],[-73.50317,45.73304],[-73.50326,45.73288],[-73.5033,45.73282],[-73.50344,45.73263],[-73.5036,45.73246],[-73.50384,45.73224],[-73.50404,45.73209],[-73.5041,45.73205],[-73.50426,45.73195],[-73.50433,45.73191],[-73.50453,45.7318],[-73.50478,45.73169],[-73.50487,45.73165],[-73.50515,45.73156],[-73.50553,45.73145],[-73.50583,45.73139],[-73.50604,45.73136],[-73.50649,45.73132],[-73.50673,45.73132],[-73.50723,45.73133],[-73.50783,45.73137],[-73.50875,45.73141],[-73.50905,45.73142],[-73.50924,45.73142],[-73.50931,45.73141],[-73.50947,45.73141],[-73.5097,45.73139],[-73.50976,45.73139],[-73.51005,45.73135],[-73.51014,45.73134],[-73.51022,45.73132],[-73.51042,45.7313],[-73.51079,45.73122],[-73.51112,45.73114],[-73.51168,45.731],[-73.51246,45.73079],[-73.51268,45.73074],[-73.51377,45.73045],[-73.51441,45.73027],[-73.51467,45.7302],[-73.51693,45.72961],[-73.51727,45.72953],[-73.5177,45.72941],[-73.51845,45.72922],[-73.51882,45.72912],[-73.51908,45.72906],[-73.51963,45.7289],[-73.52035,45.7287],[-73.52119,45.72848],[-73.52119,45.72848],[-73.52359,45.72781],[-73.52383,45.72775],[-73.52442,45.72759],[-73.52537,45.72734],[-73.52729,45.72681],[-73.53017,45.72602],[-73.53209,45.7255],[-73.533,45.72525],[-73.5345,45.72485],[-73.53557,45.72456],[-73.53641,45.72432],[-73.53821,45.72383],[-73.54135,45.72297],[-73.54273,45.7226],[-73.54478,45.72204],[-73.54581,45.72176],[-73.54717,45.72139],[-73.54777,45.72122],[-73.549,45.72089],[-73.54915,45.72085],[-73.54976,45.72067],[-73.55001,45.7206],[-73.55315,45.71975],[-73.55695,45.71872],[-73.55809,45.7184],[-73.55926,45.71808],[-73.56027,45.7178],[-73.5609,45.71764],[-73.56122,45.71755],[-73.5627,45.71715],[-73.5647,45.7166],[-73.56537,45.71642],[-73.5672,45.71592],[-73.56748,45.71585],[-73.5684,45.71559],[-73.56895,45.71544],[-73.56957,45.71531],[-73.57023,45.71517],[-73.57079,45.71508],[-73.57162,45.71497],[-73.57261,45.71491],[-73.57301,45.71489],[-73.57409,45.71487],[-73.5745,45.71489],[-73.57525,45.71493],[-73.57642,45.71504],[-73.57649,45.71505],[-73.57675,45.71508],[-73.57912,45.71537],[-73.58095,45.71559],[-73.58276,45.71581],[-73.58307,45.71585],[-73.58396,45.71596],[-73.58548,45.71615],[-73.58796,45.71645],[-73.58808,45.71646],[-73.58996,45.71668],[-73.5902,45.71671],[-73.5918,45.71691],[-73.59296,45.71705],[-73.59441,45.71722],[-73.59574,45.71739],[-73.5977,45.71763],[-73.59812,45.71768],[-73.5986,45.71773],[-73.59998,45.7179],[-73.60127,45.71806],[-73.60334,45.71831],[-73.60419,45.71841],[-73.60505,45.71851],[-73.60526,45.71854],[-73.60549,45.71859],[-73.60581,45.71868],[-73.60608,45.71878],[-73.60635,45.71892],[-73.60649,45.71902],[-73.60662,45.71912],[-73.60664,45.71914],[-73.60681,45.7193],[-73.60693,45.71943],[-73.607,45.71954],[-73.60707,45.71966],[-73.60714,45.7198],[-73.60718,45.71993],[-73.60722,45.72011],[-73.60722,45.72037],[-73.6072,45.72053],[-73.60713,45.72072],[-73.60704,45.7209],[-73.60695,45.72103],[-73.60672,45.72128],[-73.60568,45.72225],[-73.60461,45.72325],[-73.60342,45.72437],[-73.6015,45.7262],[-73.60142,45.72629],[-73.60112,45.7266],[-73.60026,45.7276],[-73.59974,45.72822],[-73.59924,45.7287],[-73.59836,45.72954]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.56669,45.49996],[-73.56457,45.49911],[-73.56291,45.49825],[-73.56222,45.49794],[-73.56115,45.49744],[-73.56045,45.49711],[-73.55948,45.49666],[-73.55875,45.49632],[-73.55798,45.49597],[-73.55725,45.49557],[-73.55676,45.4952],[-73.55626,45.49459],[-73.55602,45.49386],[-73.556,45.49327],[-73.55599,45.49232],[-73.55611,45.49151],[-73.55626,45.49041],[-73.55647,45.48926],[-73.55661,45.48851],[-73.55667,45.4878],[-73.55661,45.48739],[-73.55648,45.48692],[-73.55631,45.48649],[-73.55606,45.48598],[-73.5559,45.48548],[-73.55587,45.48492],[-73.55607,45.48442],[-73.55639,45.48384],[-73.55682,45.48324],[-73.55739,45.48263],[-73.55784,45.48229],[-73.55867,45.48177],[-73.55945,45.48136],[-73.56011,45.48095],[-73.56082,45.48049],[-73.56153,45.47998],[-73.56231,45.47941],[-73.56292,45.47897],[-73.56386,45.47828],[-73.56462,45.47772],[-73.56544,45.47721],[-73.56695,45.47648],[-73.56776,45.47615],[-73.56857,45.47593],[-73.56975,45.47573],[-73.57094,45.47554],[-73.57247,45.47544],[-73.57315,45.47544],[-73.57416,45.47549],[-73.57485,45.47555],[-73.57579,45.47573],[-73.57702,45.47605],[-73.57862,45.47648],[-73.57897,45.47657],[-73.57992,45.47673],[-73.58161,45.47691],[-73.58359,45.47706],[-73.58469,45.47706],[-73.58532,45.47696],[-73.58582,45.47682],[-73.58613,45.47668],[-73.58687,45.47629],[-73.58795,45.47563],[-73.58916,45.47488],[-73.59052,45.47406],[-73.59138,45.47353],[-73.59251,45.47285],[-73.59342,45.47233],[-73.59475,45.47158],[-73.59583,45.47097],[-73.59672,45.47047],[-73.59783,45.46987],[-73.59905,45.46921],[-73.59987,45.46877],[-73.60157,45.46795],[-73.60295,45.46726],[-73.60374,45.46685],[-73.60473,45.46642],[-73.60608,45.46584],[-73.60784,45.46511],[-73.60984,45.4643],[-73.61126,45.46372],[-73.61268,45.46314],[-73.6142,45.46252],[-73.61631,45.46162],[-73.61824,45.46075],[-73.62001,45.45986],[-73.62102,45.45932],[-73.62218,45.45867],[-73.6233,45.45803],[-73.62395,45.45765],[-73.62509,45.45689],[-73.62607,45.45624],[-73.62764,45.45519],[-73.62966,45.45381],[-73.63111,45.4528],[-73.63155,45.45254],[-73.63207,45.45226],[-73.63358,45.45144],[-73.63481,45.45078],[-73.63615,45.45018],[-73.6376,45.44953],[-73.6385,45.44913],[-73.63948,45.44875],[-73.64018,45.44849],[-73.64071,45.44832],[-73.64141,45.44812],[-73.64187,45.44798],[-73.64267,45.44782],[-73.64336,45.44769],[-73.64434,45.44754],[-73.64589,45.44733],[-73.64693,45.44722],[-73.64827,45.44714],[-73.65033,45.44715],[-73.65225,45.4472],[-73.65417,45.44725],[-73.65832,45.44732],[-73.66516,45.44749],[-73.67548,45.44773],[-73.6826,45.44789],[-73.68421,45.44795],[-73.68478,45.44801],[-73.68523,45.44811],[-73.68564,45.44827],[-73.68608,45.44855],[-73.68638,45.44881],[-73.6866,45.44908],[-73.68678,45.44946],[-73.68684,45.44983],[-73.68682,45.45043],[-73.68667,45.4517],[-73.68638,45.45408],[-73.68607,45.45647],[-73.68567,45.45948],[-73.68559,45.45988],[-73.68547,45.46017],[-73.68515,45.46097],[-73.6846,45.46216],[-73.68403,45.46318],[-73.68281,45.4654],[-73.6822,45.4665],[-73.6821,45.46672],[-73.68161,45.4683],[-73.6808,45.47092],[-73.67995,45.47368],[-73.679,45.47715],[-73.67843,45.47923],[-73.67774,45.48179],[-73.67706,45.4844],[-73.6766,45.48618],[-73.67586,45.48908],[-73.67543,45.49071],[-73.6749,45.49262],[-73.67436,45.49454],[-73.67383,45.49641],[-73.67363,45.49716],[-73.6733,45.49828],[-73.67288,45.4997],[-73.6723,45.5016],[-73.67178,45.50352],[-73.67121,45.50585],[-73.6708,45.50748],[-73.6704,45.50888],[-73.66984,45.51083],[-73.66919,45.51314],[-73.66877,45.51479],[-73.66856,45.51576],[-73.66847,45.5162],[-73.66837,45.51745],[-73.66838,45.51859],[-73.66843,45.52052],[-73.66851,45.5226],[-73.66856,45.52388],[-73.66857,45.52412],[-73.66854,45.52449],[-73.66847,45.52509],[-73.66749,45.52668],[-73.66455,45.53175],[-73.66263,45.53501],[-73.66263,45.53501],[-73.66214,45.53583],[-73.662,45.53607],[-73.66186,45.53634],[-73.6616,45.53685],[-73.66113,45.53767],[-73.66003,45.53957],[-73.65845,45.5423],[-73.65684,45.54508],[-73.65525,45.54783],[-73.65433,45.54941],[-73.65433,45.54941],[-73.65346,45.55089],[-73.65318,45.55137],[-73.65271,45.55217],[-73.65111,45.55493],[-73.64949,45.55771],[-73.64901,45.55853],[-73.64877,45.55895],[-73.64847,45.55948],[-73.64796,45.56034],[-73.64633,45.56313],[-73.64543,45.56466],[-73.64508,45.56522],[-73.64479,45.56565],[-73.64447,45.56605],[-73.64443,45.5661],[-73.64402,45.5666],[-73.64308,45.56772],[-73.64255,45.56835],[-73.64078,45.57047],[-73.63844,45.57326],[-73.63633,45.57578],[-73.63617,45.57597],[-73.63553,45.57673],[-73.63398,45.57859],[-73.63165,45.58137],[-73.63028,45.58299],[-73.63028,45.58299],[-73.628,45.58574],[-73.62571,45.58848],[-73.6234,45.59124],[-73.62106,45.59402],[-73.61888,45.59663],[-73.61655,45.59941],[-73.61576,45.60033],[-73.61577,45.60033],[-73.61474,45.60154],[-73.61455,45.60178],[-73.61344,45.60313],[-73.61255,45.60422],[-73.61199,45.6049],[-73.61148,45.60551],[-73.61123,45.60581],[-73.61062,45.60653],[-73.61036,45.60685],[-73.60994,45.60735],[-73.6096,45.60772],[-73.60938,45.60796],[-73.60925,45.6081],[-73.60906,45.60829],[-73.60891,45.60844],[-73.60878,45.60857],[-73.60828,45.60904],[-73.60815,45.60916],[-73.60779,45.60947],[-73.60768,45.60956],[-73.60737,45.60982],[-73.60544,45.61129],[-73.60477,45.6118],[-73.60405,45.61235],[-73.60345,45.6128],[-73.60225,45.61371],[-73.60202,45.61388],[-73.60033,45.61515],[-73.59829,45.61667],[-73.59784,45.61702],[-73.59759,45.61721],[-73.59669,45.61788],[-73.59669,45.61788],[-73.59517,45.61901],[-73.59298,45.62066],[-73.58926,45.62345],[-73.58547,45.62629],[-73.58382,45.62753],[-73.58364,45.62767],[-73.58323,45.62797],[-73.58275,45.62833],[-73.58225,45.62871],[-73.58168,45.62914],[-73.5805,45.63003],[-73.57904,45.63113],[-73.57554,45.63377],[-73.57172,45.63664],[-73.56847,45.63909],[-73.56821,45.63929],[-73.56701,45.64019],[-73.56665,45.64046],[-73.56531,45.64146],[-73.56493,45.64174],[-73.56456,45.64202],[-73.56277,45.64336],[-73.56009,45.64537],[-73.55868,45.64642],[-73.55817,45.64681],[-73.55778,45.64711],[-73.55762,45.64722],[-73.55647,45.64809],[-73.5556,45.64874],[-73.55497,45.64921],[-73.55471,45.6494],[-73.55297,45.65072],[-73.55261,45.651],[-73.5515,45.65183],[-73.54828,45.65424],[-73.54573,45.65615],[-73.54373,45.65766],[-73.54332,45.65797],[-73.54299,45.65822],[-73.54288,45.65831],[-73.54245,45.65861],[-73.54219,45.6588],[-73.54199,45.65893],[-73.54178,45.65907],[-73.54151,45.65925],[-73.54118,45.65946],[-73.53919,45.66066],[-73.53919,45.66066],[-73.53442,45.66352],[-73.53409,45.66371],[-73.53012,45.66612],[-73.52561,45.66886],[-73.52474,45.66939],[-73.52321,45.67032],[-73.5231,45.67038],[-73.52289,45.6705],[-73.52256,45.67068],[-73.5221,45.67091],[-73.5219,45.67101],[-73.52185,45.67103],[-73.52153,45.67117],[-73.52117,45.6713],[-73.52079,45.67144],[-73.52042,45.67156],[-73.52007,45.67166],[-73.51993,45.6717],[-73.51983,45.67172],[-73.51911,45.6719],[-73.51865,45.67201],[-73.51719,45.67232],[-73.51351,45.67313],[-73.51136,45.67361],[-73.50749,45.67444],[-73.50535,45.67489],[-73.50535,45.67489],[-73.50304,45.67539],[-73.50264,45.67548],[-73.50134,45.67576],[-73.49995,45.67606],[-73.4992,45.67621],[-73.4988,45.6763],[-73.49871,45.67632],[-73.49767,45.67657],[-73.49712,45.67673],[-73.49676,45.67685],[-73.4966,45.6769],[-73.49651,45.67694],[-73.49639,45.677],[-73.49618,45.67709],[-73.49611,45.67713],[-73.49589,45.67724],[-73.49553,45.67744],[-73.49527,45.67762],[-73.49523,45.67765],[-73.49507,45.67777],[-73.49484,45.67796],[-73.49462,45.67817],[-73.49442,45.67839],[-73.49426,45.6786],[-73.4942,45.67868],[-73.4941,45.67885],[-73.49395,45.67911],[-73.49386,45.67928],[-73.49382,45.67939],[-73.49379,45.67946],[-73.49375,45.67958],[-73.4937,45.67978],[-73.49366,45.67994],[-73.49365,45.68006],[-73.49362,45.68052],[-73.49348,45.68233],[-73.49346,45.68268],[-73.49344,45.68288],[-73.49343,45.68309],[-73.4934,45.68354],[-73.49326,45.68543],[-73.49325,45.68558],[-73.49308,45.68742],[-73.49298,45.68808],[-73.49295,45.68829],[-73.4928,45.68893],[-73.49275,45.68916],[-73.49271,45.6893],[-73.49259,45.68966],[-73.49253,45.68988],[-73.49227,45.69056],[-73.49216,45.6908],[-73.49195,45.69123],[-73.49173,45.69159],[-73.49148,45.69192],[-73.49129,45.69216],[-73.49123,45.69223],[-73.49108,45.69241],[-73.49087,45.69264],[-73.49037,45.69313],[-73.48997,45.69348],[-73.48982,45.69361],[-73.48971,45.69369],[-73.48875,45.69441],[-73.4885,45.69461],[-73.4881,45.69493],[-73.48793,45.69509],[-73.48777,45.69522],[-73.48753,45.69544],[-73.48742,45.69554],[-73.48738,45.69558],[-73.48712,45.69586],[-73.48698,45.69602],[-73.48684,45.69617],[-73.48664,45.69643],[-73.48659,45.69651],[-73.48629,45.69696],[-73.48597,45.69753],[-73.48585,45.69778],[-73.48564,45.69837],[-73.48558,45.69858],[-73.48557,45.69864],[-73.48556,45.69869],[-73.48549,45.69898],[-73.48545,45.69918],[-73.48544,45.69922],[-73.48539,45.6997],[-73.48539,45.69976],[-73.48538,45.69997],[-73.48538,45.7003],[-73.48543,45.70087],[-73.48544,45.70097],[-73.48551,45.70159],[-73.48566,45.70292],[-73.48568,45.70307],[-73.4857,45.70327],[-73.48575,45.70387],[-73.48587,45.70524],[-73.486,45.70653],[-73.48612,45.70775],[-73.48617,45.70812],[-73.48621,45.70836],[-73.48627,45.70863],[-73.4864,45.70918],[-73.48654,45.70985],[-73.4866,45.71009],[-73.48702,45.71177],[-73.48756,45.71394],[-73.48769,45.71445],[-73.48834,45.71715],[-73.48847,45.71767],[-73.48853,45.71818],[-73.48855,45.71854],[-73.48855,45.71875],[-73.48854,45.71897],[-73.48852,45.71916],[-73.48845,45.71975],[-73.48844,45.71985],[-73.48802,45.72251],[-73.48774,45.72434],[-73.48732,45.72701],[-73.48717,45.72796],[-73.48717,45.72831],[-73.487,45.72941],[-73.48682,45.73061],[-73.48659,45.73205],[-73.48619,45.73459],[-73.48619,45.73459],[-73.48616,45.73479],[-73.48609,45.73517],[-73.486,45.73564],[-73.4859,45.73616],[-73.4859,45.73637],[-73.48589,45.73643],[-73.48584,45.73686],[-73.48579,45.73721],[-73.48573,45.73758],[-73.48574,45.73792],[-73.48576,45.73797],[-73.48583,45.73825],[-73.48607,45.73868],[-73.48622,45.73884],[-73.48648,45.73911],[-73.48675,45.7393],[-73.48737,45.73961],[-73.48786,45.73977],[-73.4883,45.73986],[-73.48897,45.73995],[-73.48942,45.74002],[-73.49024,45.74015],[-73.49166,45.74036],[-73.49315,45.74058],[-73.49428,45.74074],[-73.49545,45.74091],[-73.496,45.74095],[-73.49641,45.74096],[-73.49648,45.74096],[-73.49702,45.74092],[-73.49747,45.74087],[-73.49753,45.74087],[-73.49781,45.74082],[-73.49788,45.74081],[-73.49818,45.74075],[-73.49863,45.74062],[-73.49897,45.74052],[-73.49961,45.74026],[-73.50013,45.73998],[-73.50022,45.73992],[-73.50046,45.73977],[-73.50082,45.73952],[-73.50111,45.73925],[-73.5013,45.73907],[-73.50146,45.73888],[-73.50166,45.73862],[-73.50171,45.73855],[-73.50187,45.73829],[-73.50202,45.73804],[-73.50212,45.73776],[-73.50221,45.73748],[-73.50227,45.73724],[-73.50235,45.73685],[-73.5024,45.73664],[-73.50255,45.73595],[-73.50259,45.73557],[-73.5027,45.73501],[-73.50289,45.73399],[-73.50296,45.73362],[-73.50302,45.7334],[-73.50304,45.73335],[-73.50309,45.73321],[-73.50317,45.73304],[-73.50326,45.73288],[-73.5033,45.73282],[-73.50344,45.73263],[-73.5036,45.73246],[-73.50384,45.73224],[-73.50404,45.73209],[-73.5041,45.73205],[-73.50426,45.73195],[-73.50433,45.73191],[-73.50453,45.7318],[-73.50478,45.73169],[-73.50487,45.73165],[-73.50515,45.73156],[-73.50553,45.73145],[-73.50583,45.73139],[-73.50604,45.73136],[-73.50649,45.73132],[-73.50673,45.73132],[-73.50723,45.73133],[-73.50783,45.73137],[-73.50875,45.73141],[-73.50905,45.73142],[-73.50924,45.73142],[-73.50931,45.73141],[-73.50947,45.73141],[-73.5097,45.73139],[-73.50976,45.73139],[-73.51005,45.73135],[-73.51014,45.73134],[-73.51022,45.73132],[-73.51042,45.7313],[-73.51079,45.73122],[-73.51112,45.73114],[-73.51168,45.731],[-73.51246,45.73079],[-73.51268,45.73074],[-73.51377,45.73045],[-73.51441,45.73027],[-73.51467,45.7302],[-73.51693,45.72961],[-73.51727,45.72953],[-73.5177,45.72941],[-73.51845,45.72922],[-73.51882,45.72912],[-73.51908,45.72906],[-73.51963,45.7289],[-73.52035,45.7287],[-73.52119,45.72848],[-73.52119,45.72848],[-73.52359,45.72781],[-73.52383,45.72775],[-73.52442,45.72759],[-73.52537,45.72734],[-73.52729,45.72681],[-73.53017,45.72602],[-73.53209,45.7255],[-73.533,45.72525],[-73.5345,45.72485],[-73.53557,45.72456],[-73.53641,45.72432],[-73.53821,45.72383],[-73.54135,45.72297],[-73.54273,45.7226],[-73.54478,45.72204],[-73.54581,45.72176],[-73.54717,45.72139],[-73.54777,45.72122],[-73.549,45.72089],[-73.54915,45.72085],[-73.54976,45.72067],[-73.55001,45.7206],[-73.55315,45.71975],[-73.55695,45.71872],[-73.55809,45.7184],[-73.55926,45.71808],[-73.56027,45.7178],[-73.5609,45.71764],[-73.56122,45.71755],[-73.5627,45.71715],[-73.5647,45.7166],[-73.56537,45.71642],[-73.5672,45.71592],[-73.56748,45.71585],[-73.5684,45.71559],[-73.56895,45.71544],[-73.56957,45.71531],[-73.57023,45.71517],[-73.57079,45.71508],[-73.57162,45.71497],[-73.57261,45.71491],[-73.57301,45.71489],[-73.57409,45.71487],[-73.5745,45.71489],[-73.57525,45.71493],[-73.57642,45.71504],[-73.57649,45.71505],[-73.57675,45.71508],[-73.57912,45.71537],[-73.58095,45.71559],[-73.58276,45.71581],[-73.58307,45.71585],[-73.58396,45.71596],[-73.58548,45.71615],[-73.58796,45.71645],[-73.58808,45.71646],[-73.58996,45.71668],[-73.5902,45.71671],[-73.5918,45.71691],[-73.59296,45.71705],[-73.59441,45.71722],[-73.59574,45.71739],[-73.5977,45.71763],[-73.59812,45.71768],[-73.5986,45.71773],[-73.59998,45.7179],[-73.60127,45.71806],[-73.60334,45.71831],[-73.60419,45.71841],[-73.60505,45.71851],[-73.60526,45.71854],[-73.60549,45.71859],[-73.60581,45.71868],[-73.60608,45.71878],[-73.60635,45.71892],[-73.60649,45.71902],[-73.60662,45.71912],[-73.60664,45.71914],[-73.60681,45.7193],[-73.60693,45.71943],[-73.607,45.71954],[-73.60707,45.71966],[-73.60714,45.7198],[-73.60718,45.71993],[-73.60722,45.72011],[-73.60722,45.72037],[-73.6072,45.72053],[-73.60713,45.72072],[-73.60704,45.7209],[-73.60695,45.72103],[-73.60672,45.72128],[-73.60568,45.72225],[-73.60461,45.72325],[-73.60342,45.72437],[-73.6015,45.7262],[-73.60142,45.72629],[-73.60112,45.7266],[-73.60026,45.7276],[-73.59974,45.72822],[-73.59924,45.7287],[-73.59836,45.72954]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.59836,45.72954],[-73.59952,45.72843],[-73.59974,45.72822],[-73.60019,45.72769],[-73.6004,45.72743],[-73.60095,45.7268],[-73.60112,45.7266],[-73.60143,45.72627],[-73.60307,45.7247],[-73.60349,45.7243],[-73.60377,45.72404],[-73.60454,45.72332],[-73.60672,45.72129],[-73.60695,45.72103],[-73.60704,45.7209],[-73.60713,45.72072],[-73.6072,45.72053],[-73.60722,45.72037],[-73.60722,45.72011],[-73.60718,45.71993],[-73.60714,45.7198],[-73.60707,45.71966],[-73.607,45.71954],[-73.60693,45.71943],[-73.60682,45.71931],[-73.60662,45.71912],[-73.60635,45.71892],[-73.60607,45.71878],[-73.60581,45.71868],[-73.60549,45.71859],[-73.60526,45.71854],[-73.60505,45.71851],[-73.60384,45.71837],[-73.60309,45.71828],[-73.60028,45.71794],[-73.60009,45.71792],[-73.59859,45.71773],[-73.59734,45.71758],[-73.59667,45.7175],[-73.59516,45.71731],[-73.59413,45.71719],[-73.593,45.71705],[-73.59164,45.71689],[-73.59061,45.71676],[-73.59014,45.7167],[-73.58785,45.71644],[-73.58549,45.71615],[-73.58342,45.71589],[-73.58276,45.71581],[-73.58178,45.71569],[-73.58048,45.71554],[-73.57901,45.71536],[-73.57737,45.71515],[-73.57669,45.71507],[-73.57645,45.71504],[-73.57552,45.71496],[-73.57525,45.71493],[-73.57453,45.71489],[-73.57412,45.71487],[-73.57354,45.71488],[-73.57301,45.71489],[-73.57216,45.71494],[-73.57162,45.71497],[-73.57083,45.71507],[-73.57022,45.71517],[-73.56958,45.7153],[-73.56897,45.71544],[-73.56846,45.71557],[-73.56819,45.71565],[-73.56713,45.71594],[-73.56664,45.71607],[-73.56542,45.71641],[-73.56322,45.717],[-73.56094,45.71763],[-73.56023,45.71781],[-73.55997,45.71789],[-73.55845,45.7183],[-73.55711,45.71867],[-73.55639,45.71887],[-73.55342,45.71968],[-73.55222,45.72001],[-73.55099,45.72034],[-73.54975,45.72067],[-73.54915,45.72085],[-73.549,45.72089],[-73.54711,45.7214],[-73.5457,45.72179],[-73.54512,45.72195],[-73.54443,45.72213],[-73.54211,45.72277],[-73.54062,45.72317],[-73.53917,45.72357],[-73.53782,45.72393],[-73.53642,45.72431],[-73.53575,45.72451],[-73.53541,45.72461],[-73.53495,45.72473],[-73.5341,45.72495],[-73.53315,45.72521],[-73.53203,45.72551],[-73.53009,45.72604],[-73.52882,45.72639],[-73.528,45.72661],[-73.52729,45.72681],[-73.52548,45.72731],[-73.52495,45.72745],[-73.52428,45.72762],[-73.52274,45.72805],[-73.52131,45.72844],[-73.52117,45.72848],[-73.52117,45.72848],[-73.52052,45.72866],[-73.51969,45.72888],[-73.51911,45.72905],[-73.51842,45.72923],[-73.5177,45.72941],[-73.51727,45.72953],[-73.51693,45.72961],[-73.51499,45.73012],[-73.51441,45.73027],[-73.51366,45.73048],[-73.51264,45.73074],[-73.51219,45.73086],[-73.51174,45.73098],[-73.5111,45.73114],[-73.51072,45.73123],[-73.51042,45.7313],[-73.51023,45.73132],[-73.51004,45.73135],[-73.50976,45.73139],[-73.50937,45.73141],[-73.50924,45.73142],[-73.50903,45.73142],[-73.50876,45.73141],[-73.5083,45.73139],[-73.50793,45.73137],[-73.50738,45.73134],[-73.50717,45.73133],[-73.50674,45.73132],[-73.50649,45.73132],[-73.50604,45.73136],[-73.50583,45.73139],[-73.50553,45.73145],[-73.50515,45.73156],[-73.50482,45.73167],[-73.50464,45.73175],[-73.50455,45.73179],[-73.50437,45.73188],[-73.50428,45.73194],[-73.50408,45.73207],[-73.50386,45.73223],[-73.50381,45.73227],[-73.50358,45.73248],[-73.50344,45.73263],[-73.50328,45.73285],[-73.50317,45.73303],[-73.50309,45.73321],[-73.50303,45.73337],[-73.50296,45.73362],[-73.50293,45.73377],[-73.50287,45.7341],[-73.5027,45.73499],[-73.50261,45.7355],[-73.50258,45.73565],[-73.50255,45.73595],[-73.50238,45.73674],[-73.50234,45.73692],[-73.50229,45.73717],[-73.50226,45.7373],[-73.5022,45.73751],[-73.50214,45.73772],[-73.50202,45.73804],[-73.50188,45.73827],[-73.50166,45.73861],[-73.50146,45.73888],[-73.5013,45.73907],[-73.50113,45.73924],[-73.50082,45.73952],[-73.5005,45.73975],[-73.50013,45.73998],[-73.49961,45.74026],[-73.49897,45.74052],[-73.4986,45.74063],[-73.49818,45.74075],[-73.49787,45.74081],[-73.49751,45.74087],[-73.49709,45.74091],[-73.49645,45.74096],[-73.49602,45.74095],[-73.49547,45.74092],[-73.49379,45.74067],[-73.49342,45.74062],[-73.49223,45.74044],[-73.49079,45.74023],[-73.49015,45.74014],[-73.48927,45.74],[-73.4883,45.73986],[-73.48786,45.73977],[-73.48737,45.73961],[-73.48676,45.7393],[-73.48648,45.73911],[-73.48622,45.73883],[-73.48607,45.73868],[-73.48598,45.73852],[-73.48583,45.73825],[-73.48575,45.73797],[-73.48574,45.73792],[-73.48573,45.73761],[-73.48577,45.73734],[-73.48585,45.73681],[-73.4859,45.73639],[-73.4859,45.73616],[-73.48615,45.73486],[-73.48619,45.73459],[-73.48619,45.73459],[-73.48657,45.73218],[-73.48698,45.72956],[-73.48717,45.72831],[-73.48717,45.72796],[-73.48758,45.72533],[-73.48796,45.72291],[-73.48803,45.72248],[-73.48805,45.72231],[-73.48837,45.72031],[-73.48845,45.71976],[-73.48846,45.71971],[-73.48847,45.71954],[-73.48852,45.71916],[-73.48854,45.71899],[-73.48855,45.7188],[-73.48855,45.71875],[-73.48855,45.71856],[-73.48853,45.7183],[-73.48853,45.71822],[-73.48847,45.71767],[-73.48784,45.71508],[-73.48761,45.71411],[-73.48745,45.71348],[-73.48721,45.71254],[-73.48669,45.71045],[-73.48659,45.71002],[-73.48654,45.70983],[-73.48622,45.70837],[-73.48617,45.70815],[-73.48616,45.70806],[-73.48613,45.70781],[-73.4859,45.7055],[-73.48584,45.70488],[-73.48582,45.70466],[-73.48571,45.70336],[-73.48565,45.70285],[-73.48557,45.7021],[-73.48544,45.70098],[-73.48539,45.70033],[-73.48538,45.70008],[-73.48539,45.69973],[-73.48544,45.6992],[-73.48557,45.69864],[-73.48558,45.69859],[-73.48564,45.69837],[-73.48585,45.69777],[-73.48598,45.6975],[-73.48629,45.69696],[-73.48665,45.69642],[-73.48685,45.69617],[-73.4869,45.69611],[-73.48703,45.69596],[-73.4871,45.69588],[-73.48741,45.69555],[-73.48755,45.69542],[-73.48775,45.69523],[-73.4879,45.69511],[-73.4881,45.69493],[-73.48875,45.69441],[-73.48982,45.69361],[-73.4903,45.69319],[-73.49039,45.69311],[-73.49059,45.69291],[-73.49088,45.69263],[-73.49121,45.69226],[-73.49129,45.69216],[-73.49143,45.69198],[-73.49151,45.69188],[-73.49162,45.69173],[-73.49173,45.69159],[-73.49179,45.69148],[-73.49195,45.69123],[-73.49219,45.69074],[-73.49227,45.69056],[-73.49235,45.69035],[-73.49253,45.68988],[-73.4926,45.68963],[-73.49268,45.6894],[-73.49276,45.68913],[-73.49283,45.6888],[-73.49295,45.68829],[-73.49295,45.68823],[-73.49308,45.68742],[-73.49313,45.68683],[-73.49324,45.68562],[-73.49326,45.68539],[-73.49331,45.68471],[-73.49339,45.68369],[-73.4935,45.68214],[-73.49365,45.68006],[-73.49366,45.67996],[-73.4937,45.67978],[-73.49378,45.67952],[-73.49381,45.67941],[-73.49384,45.67934],[-73.49386,45.67928],[-73.49395,45.67911],[-73.49405,45.67893],[-73.49418,45.67872],[-73.49424,45.67862],[-73.49442,45.67839],[-73.49462,45.67817],[-73.49484,45.67796],[-73.49524,45.67764],[-73.49534,45.67757],[-73.49553,45.67744],[-73.49574,45.67732],[-73.49589,45.67724],[-73.49611,45.67713],[-73.49636,45.67701],[-73.49659,45.67691],[-73.49676,45.67685],[-73.49713,45.67672],[-73.49767,45.67657],[-73.49874,45.67631],[-73.50037,45.67597],[-73.50232,45.67555],[-73.50304,45.67539],[-73.50421,45.67514],[-73.50535,45.67489],[-73.50535,45.67489],[-73.51148,45.67358],[-73.51641,45.6725],[-73.51732,45.67229],[-73.51764,45.67223],[-73.51871,45.672],[-73.51911,45.6719],[-73.5199,45.67171],[-73.52,45.67168],[-73.52042,45.67156],[-73.52081,45.67143],[-73.52117,45.6713],[-73.52153,45.67117],[-73.52188,45.67101],[-73.52221,45.67086],[-73.52256,45.67068],[-73.52289,45.67051],[-73.5231,45.67038],[-73.52324,45.6703],[-73.52458,45.66949],[-73.52893,45.66684],[-73.53368,45.66396],[-73.53408,45.66372],[-73.53413,45.66369],[-73.53442,45.66352],[-73.53816,45.66128],[-73.53916,45.66067],[-73.53916,45.66067],[-73.54016,45.66007],[-73.54089,45.65964],[-73.54118,45.65946],[-73.54154,45.65923],[-73.54177,45.65908],[-73.54203,45.6589],[-73.54242,45.65863],[-73.54261,45.6585],[-73.54291,45.65828],[-73.54334,45.65796],[-73.54363,45.65774],[-73.5473,45.65498],[-73.55107,45.65215],[-73.55234,45.65119],[-73.55291,45.65077],[-73.55487,45.64928],[-73.55547,45.64884],[-73.55635,45.64817],[-73.55765,45.6472],[-73.55776,45.64712],[-73.55816,45.64681],[-73.55831,45.6467],[-73.55924,45.64601],[-73.56046,45.64509],[-73.56113,45.64459],[-73.56491,45.64176],[-73.56607,45.6409],[-73.56671,45.64042],[-73.56827,45.63924],[-73.57172,45.63664],[-73.57552,45.63378],[-73.57933,45.63091],[-73.5798,45.63056],[-73.58079,45.62981],[-73.58177,45.62907],[-73.58235,45.62863],[-73.58295,45.62819],[-73.58357,45.62773],[-73.58366,45.62765],[-73.58383,45.62752],[-73.58407,45.62734],[-73.58766,45.62465],[-73.59122,45.62198],[-73.59488,45.61923],[-73.59669,45.61788],[-73.59669,45.61788],[-73.59758,45.61722],[-73.59783,45.61702],[-73.59826,45.6167],[-73.60053,45.615],[-73.60179,45.61405],[-73.60276,45.61332],[-73.60349,45.61277],[-73.60432,45.61214],[-73.60457,45.61195],[-73.60553,45.61122],[-73.60734,45.60984],[-73.60744,45.60976],[-73.60773,45.60952],[-73.60795,45.60934],[-73.60815,45.60916],[-73.60825,45.60907],[-73.60886,45.60849],[-73.60926,45.60809],[-73.60967,45.60763],[-73.60994,45.60735],[-73.6103,45.60692],[-73.6118,45.60513],[-73.61216,45.60469],[-73.61239,45.60442],[-73.61272,45.60401],[-73.61321,45.60342],[-73.61392,45.60254],[-73.61455,45.60178],[-73.61473,45.60155],[-73.61481,45.60146],[-73.61522,45.60098],[-73.61576,45.60033],[-73.61576,45.60033],[-73.61702,45.59884],[-73.61743,45.59836],[-73.61813,45.59752],[-73.62009,45.59517],[-73.62052,45.59466],[-73.623,45.59172],[-73.62337,45.59128],[-73.62396,45.59057],[-73.6254,45.58884],[-73.6278,45.58597],[-73.62959,45.58383],[-73.62978,45.58359],[-73.63028,45.583],[-73.63028,45.583],[-73.63336,45.57933],[-73.63482,45.57758],[-73.63614,45.576],[-73.63637,45.57573],[-73.64072,45.57053],[-73.6428,45.56806],[-73.643,45.56781],[-73.64312,45.56768],[-73.64407,45.56654],[-73.64447,45.56605],[-73.64479,45.56565],[-73.64486,45.56554],[-73.64509,45.56521],[-73.64528,45.5649],[-73.64537,45.56476],[-73.64545,45.56462],[-73.64706,45.56187],[-73.64864,45.55918],[-73.6488,45.55891],[-73.649,45.55856],[-73.64923,45.55816],[-73.6497,45.55734],[-73.65022,45.55646],[-73.6517,45.55391],[-73.65183,45.5537],[-73.65329,45.55119],[-73.65386,45.5502],[-73.65433,45.54941],[-73.65433,45.54941],[-73.65636,45.54592],[-73.65749,45.54395],[-73.66043,45.53888],[-73.66068,45.53846],[-73.66119,45.53757],[-73.6616,45.53687],[-73.66181,45.53643],[-73.66188,45.53629],[-73.662,45.53608],[-73.66222,45.53571],[-73.66263,45.53501]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-79.41092,43.76152],[-79.40963,43.76181],[-79.40826,43.76212],[-79.40717,43.76236],[-79.40496,43.76284],[-79.40413,43.76302],[-79.40307,43.76325],[-79.40251,43.76339],[-79.39989,43.76395],[-79.39726,43.76454],[-79.39492,43.76505],[-79.39333,43.76541],[-79.39222,43.76566],[-79.39024,43.76609],[-79.38911,43.76633],[-79.38865,43.76644],[-79.38776,43.76666],[-79.38674,43.76692],[-79.38334,43.76776],[-79.38226,43.768],[-79.38137,43.76819],[-79.38053,43.76836],[-79.37948,43.7686],[-79.37858,43.76879],[-79.37769,43.76898],[-79.37685,43.76915],[-79.37665,43.76919],[-79.37551,43.76943],[-79.3744,43.76967],[-79.37295,43.76997],[-79.37147,43.77031],[-79.36977,43.77069],[-79.36849,43.77098],[-79.36828,43.77101],[-79.36774,43.77109],[-79.36704,43.77114],[-79.36444,43.7714],[-79.36371,43.77154],[-79.36308,43.77169],[-79.36245,43.77181],[-79.36198,43.77187],[-79.36176,43.7719],[-79.36156,43.77194],[-79.36128,43.77198],[-79.36089,43.77206],[-79.35981,43.77231],[-79.35901,43.77249],[-79.35887,43.77253],[-79.35739,43.77284],[-79.35557,43.77323],[-79.35412,43.77355],[-79.35353,43.77368],[-79.35188,43.77405],[-79.34864,43.77475],[-79.34704,43.77511]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-79.46248,43.75044],[-79.46212,43.74954],[-79.46194,43.74902],[-79.46172,43.74823],[-79.4613,43.74701],[-79.46114,43.74648],[-79.46092,43.74565],[-79.46057,43.74479],[-79.46012,43.74407],[-79.45961,43.74351],[-79.45906,43.74308],[-79.45844,43.74268],[-79.45782,43.74223],[-79.45712,43.74169],[-79.45635,43.74119],[-79.4555,43.7406],[-79.45492,43.74018],[-79.45437,43.73975],[-79.45367,43.73926],[-79.45317,43.73891],[-79.45241,43.73852],[-79.4519,43.73808],[-79.45146,43.73764],[-79.45114,43.73717],[-79.45084,43.7366],[-79.45021,43.73493],[-79.44996,43.73419],[-79.44992,43.73409],[-79.44946,43.73274],[-79.44944,43.73267],[-79.44938,43.73248],[-79.44933,43.73235],[-79.44929,43.73223],[-79.44924,43.7321],[-79.44914,43.73189],[-79.4491,43.73179],[-79.44905,43.73167],[-79.44902,43.73157],[-79.44899,43.73148],[-79.44896,43.73138],[-79.44892,43.73121],[-79.44889,43.73109],[-79.44888,43.73099],[-79.44886,43.73081],[-79.44879,43.73037],[-79.44877,43.73025],[-79.4487,43.72984],[-79.44866,43.72961],[-79.44865,43.72955],[-79.44829,43.72738],[-79.44827,43.7273],[-79.44823,43.72708],[-79.44819,43.72685],[-79.44815,43.7267],[-79.44812,43.72655],[-79.44805,43.72632],[-79.44801,43.72617],[-79.44799,43.72606],[-79.44795,43.72589],[-79.44794,43.72584],[-79.44789,43.72567],[-79.44787,43.72562],[-79.44785,43.72556],[-79.44781,43.72545],[-79.44775,43.72529],[-79.4477,43.72518],[-79.44765,43.72507],[-79.4476,43.72497],[-79.44755,43.72481],[-79.44749,43.72464],[-79.4474,43.72445],[-79.44734,43.72429],[-79.44722,43.72397],[-79.44716,43.72381],[-79.44707,43.72359],[-79.44643,43.72205],[-79.44534,43.71914],[-79.44526,43.71891],[-79.44451,43.71684],[-79.44419,43.71606],[-79.44397,43.71553],[-79.4436,43.71462],[-79.44357,43.71457],[-79.44297,43.71293],[-79.44288,43.71272],[-79.44259,43.71204],[-79.44254,43.71192],[-79.44243,43.7117],[-79.44232,43.71147],[-79.44227,43.71136],[-79.4422,43.71122],[-79.44215,43.71113],[-79.44203,43.71091],[-79.44197,43.7108],[-79.44191,43.71069],[-79.44185,43.71058],[-79.44118,43.70954],[-79.44093,43.7092],[-79.43884,43.706],[-79.43848,43.7054],[-79.43824,43.70468],[-79.43612,43.69909],[-79.43599,43.69884],[-79.43573,43.69828],[-79.4351,43.69716],[-79.43431,43.69617],[-79.43358,43.6954],[-79.4328,43.69466],[-79.43197,43.69398],[-79.43113,43.69329],[-79.43023,43.69279],[-79.4295,43.69238],[-79.42858,43.69196],[-79.42745,43.69148],[-79.42612,43.69116],[-79.42445,43.69083],[-79.42293,43.6906],[-79.4215,43.6903],[-79.4202,43.68991],[-79.4192,43.68952],[-79.41828,43.68889],[-79.41771,43.68825],[-79.41722,43.68758],[-79.41668,43.68676],[-79.41625,43.68598],[-79.41534,43.68382],[-79.41531,43.68375],[-79.41524,43.68358],[-79.41516,43.68341],[-79.41507,43.68327],[-79.41494,43.68313],[-79.41484,43.68305],[-79.41472,43.68298],[-79.41457,43.68293],[-79.4144,43.68289],[-79.41413,43.68286],[-79.4136,43.68285],[-79.41297,43.68286],[-79.41228,43.68289],[-79.412,43.68289],[-79.41172,43.68288],[-79.41145,43.68282],[-79.41122,43.68277],[-79.41103,43.68271],[-79.41083,43.68262],[-79.41064,43.68252],[-79.41047,43.68241],[-79.41032,43.68229],[-79.41021,43.68218],[-79.41013,43.68207],[-79.41001,43.68194],[-79.40992,43.68176],[-79.40941,43.68057],[-79.40901,43.67956],[-79.40875,43.67893],[-79.40874,43.67886],[-79.40812,43.67741],[-79.40748,43.67587],[-79.40733,43.67545],[-79.40711,43.67486],[-79.40603,43.67219],[-79.40529,43.67031],[-79.40476,43.66896],[-79.40457,43.66847],[-79.40446,43.66818],[-79.40434,43.668],[-79.40416,43.66782],[-79.40393,43.66767],[-79.4036,43.66756],[-79.40316,43.66756],[-79.40279,43.66761],[-79.40246,43.66765],[-79.40214,43.66769],[-79.40198,43.66773],[-79.40177,43.66777],[-79.40023,43.66809],[-79.40002,43.66813],[-79.39931,43.66828],[-79.39884,43.66838],[-79.39863,43.66843],[-79.39785,43.66859],[-79.39764,43.66863],[-79.39684,43.66878],[-79.39612,43.66887],[-79.39568,43.66892],[-79.39534,43.66893],[-79.39501,43.66888],[-79.3947,43.6688],[-79.39445,43.66867],[-79.39424,43.66849],[-79.39397,43.66811],[-79.3937,43.66764],[-79.39357,43.66737],[-79.39352,43.66727],[-79.39293,43.66594],[-79.39265,43.66557],[-79.39234,43.66516],[-79.39209,43.66487],[-79.39185,43.66457],[-79.39162,43.66426],[-79.39144,43.66395],[-79.39129,43.66364],[-79.39116,43.66331],[-79.39106,43.66301],[-79.39099,43.66269],[-79.39093,43.66242],[-79.39091,43.66223],[-79.3909,43.66198],[-79.39089,43.66178],[-79.39089,43.66147],[-79.39086,43.66105],[-79.39078,43.66059],[-79.39047,43.65986],[-79.38997,43.6587],[-79.38993,43.65859],[-79.38964,43.65792],[-79.38948,43.65753],[-79.38932,43.65713],[-79.38896,43.65635],[-79.38859,43.65546],[-79.38831,43.65479],[-79.38793,43.65396],[-79.38757,43.65311],[-79.38754,43.65304],[-79.38723,43.65231],[-79.38699,43.65175],[-79.38662,43.65086],[-79.38628,43.65009],[-79.38612,43.64979],[-79.3858,43.64924],[-79.38555,43.64887],[-79.38518,43.64828],[-79.3848,43.64766],[-79.38468,43.64744],[-79.38454,43.64722],[-79.38432,43.64689],[-79.38407,43.64657],[-79.38382,43.64629],[-79.38357,43.64605],[-79.38325,43.64582],[-79.38302,43.64568],[-79.38278,43.64557],[-79.38248,43.64549],[-79.38229,43.64546],[-79.38205,43.64543],[-79.38179,43.64544],[-79.38155,43.64547],[-79.38127,43.64553],[-79.38,43.6458],[-79.37965,43.64588],[-79.37921,43.646],[-79.37914,43.64602],[-79.37883,43.64614],[-79.37844,43.6463],[-79.37821,43.64643],[-79.37804,43.64654],[-79.37788,43.64667],[-79.37772,43.64685],[-79.3776,43.64705],[-79.37751,43.64725],[-79.37748,43.64749],[-79.37748,43.6477],[-79.3775,43.64792],[-79.37755,43.64814],[-79.37759,43.6483],[-79.37765,43.6485],[-79.37772,43.64869],[-79.37781,43.64892],[-79.37791,43.64915],[-79.37846,43.6504],[-79.37873,43.65106],[-79.37897,43.65169],[-79.37926,43.65244],[-79.37996,43.65406],[-79.38066,43.65577],[-79.38091,43.65633],[-79.38121,43.65704],[-79.38136,43.65741],[-79.38158,43.65791],[-79.38191,43.65867],[-79.38211,43.6591],[-79.38248,43.65991],[-79.3826,43.66015],[-79.38314,43.66145],[-79.38325,43.66173],[-79.38327,43.662],[-79.38322,43.66228],[-79.38316,43.66247],[-79.38308,43.66278],[-79.38302,43.66317],[-79.38306,43.66356],[-79.38315,43.6641],[-79.38323,43.66445],[-79.38339,43.66489],[-79.38353,43.66527],[-79.38534,43.66997],[-79.38565,43.67082],[-79.38572,43.671],[-79.3858,43.67121],[-79.38593,43.67156],[-79.38624,43.67237],[-79.38655,43.67316],[-79.38673,43.67353],[-79.38702,43.67391],[-79.38738,43.67449],[-79.38767,43.67516],[-79.38787,43.6756],[-79.38852,43.6771],[-79.38856,43.67717],[-79.39076,43.68223],[-79.39125,43.68334],[-79.39338,43.68823],[-79.3934,43.6883],[-79.39413,43.69024],[-79.39441,43.69059],[-79.39487,43.69086],[-79.39517,43.6912],[-79.39533,43.69159],[-79.39662,43.69642],[-79.39676,43.69679],[-79.39686,43.69699],[-79.39727,43.69799],[-79.39739,43.69829],[-79.39751,43.69883],[-79.39792,43.70071],[-79.39825,43.70246],[-79.39834,43.70318],[-79.39841,43.70385],[-79.39837,43.70432],[-79.39832,43.70472],[-79.39834,43.70519],[-79.39848,43.70652],[-79.39846,43.70665],[-79.39844,43.70673],[-79.39841,43.70681],[-79.3984,43.70698],[-79.39862,43.70798],[-79.39867,43.70821],[-79.39886,43.70909],[-79.39899,43.70958],[-79.39928,43.71091],[-79.39931,43.71108],[-79.39947,43.71184],[-79.39955,43.71229],[-79.39971,43.713],[-79.39981,43.71353],[-79.39983,43.71365],[-79.40003,43.71457],[-79.4001,43.71495],[-79.40022,43.71545],[-79.40043,43.71637],[-79.40047,43.71661],[-79.40061,43.71725],[-79.40084,43.71833],[-79.40094,43.71875],[-79.40113,43.71955],[-79.40118,43.71998],[-79.40139,43.72098],[-79.40158,43.72197],[-79.4018,43.7231],[-79.40183,43.72346],[-79.40193,43.72379],[-79.40206,43.72433],[-79.40218,43.72496],[-79.40218,43.7251],[-79.40235,43.72568],[-79.4025,43.72629],[-79.40283,43.72743],[-79.40293,43.72784],[-79.40305,43.72832],[-79.40312,43.72858],[-79.40328,43.72916],[-79.40334,43.72943],[-79.40346,43.72993],[-79.40354,43.73027],[-79.4037,43.73087],[-79.40375,43.73113],[-79.40397,43.73188],[-79.40399,43.73197],[-79.4042,43.7329],[-79.40421,43.733],[-79.40438,43.73366],[-79.40444,43.7339],[-79.40452,43.73417],[-79.40456,43.73436],[-79.40482,43.73553],[-79.40492,43.73601],[-79.40513,43.73698],[-79.40515,43.73749],[-79.405,43.73798],[-79.40506,43.73874],[-79.40563,43.74189],[-79.406,43.74359],[-79.4062,43.74427],[-79.40689,43.74695],[-79.40704,43.74728],[-79.40737,43.74766],[-79.4076,43.74783],[-79.40775,43.74803],[-79.40796,43.74875],[-79.40833,43.74996],[-79.40841,43.7503],[-79.40846,43.75068],[-79.40848,43.75095],[-79.40852,43.75122],[-79.4085,43.75187],[-79.40854,43.75238],[-79.40862,43.75278],[-79.40865,43.75294],[-79.40869,43.75309],[-79.40876,43.7533],[-79.4088,43.75352],[-79.40888,43.75384],[-79.40893,43.75421],[-79.40898,43.75456],[-79.40907,43.75491],[-79.40918,43.7552],[-79.40932,43.75551],[-79.40945,43.75585],[-79.40958,43.75633],[-79.40963,43.75648],[-79.40968,43.75666],[-79.40984,43.75723],[-79.40987,43.75734],[-79.40993,43.75759],[-79.41005,43.75802],[-79.41011,43.75822],[-79.41033,43.75905],[-79.41055,43.75995],[-79.41074,43.76071],[-79.41079,43.76097],[-79.41092,43.76152],[-79.41114,43.76235],[-79.41137,43.76326],[-79.41153,43.76389],[-79.41155,43.764],[-79.41163,43.7643],[-79.41175,43.76482],[-79.41198,43.76566],[-79.4122,43.76656],[-79.4123,43.76694],[-79.41244,43.76747],[-79.41266,43.76839],[-79.41278,43.76884],[-79.41289,43.76928],[-79.4131,43.77014],[-79.4132,43.77057],[-79.4133,43.77099],[-79.41356,43.77199],[-79.41362,43.77226],[-79.41382,43.77298],[-79.41402,43.77378],[-79.41437,43.77516],[-79.41474,43.77658],[-79.41484,43.77695],[-79.41507,43.77789],[-79.41527,43.77868],[-79.41557,43.77977]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-79.82243,43.67514],[-79.91822,43.65568],[-79.91879,43.65557],[-79.91916,43.65549],[-79.91984,43.65535],[-79.9206,43.65516],[-79.9215,43.65495],[-79.92254,43.65473],[-79.92298,43.65464],[-79.92944,43.65331],[-79.9297,43.65325],[-79.9305,43.65312],[-79.93073,43.65305],[-79.9311,43.65294],[-79.93155,43.65279],[-79.93207,43.65263],[-79.93239,43.65253],[-79.9329,43.65236],[-79.93409,43.65198],[-79.93492,43.65169],[-79.93573,43.65142],[-79.93638,43.65122],[-79.93704,43.651],[-79.93875,43.65043],[-79.9394,43.65022],[-79.943,43.64905],[-79.94491,43.64843],[-79.94584,43.64812],[-79.9474,43.64762],[-79.95212,43.64609],[-79.96108,43.64318],[-79.96378,43.64229],[-79.964,43.64222],[-79.9692,43.64051],[-79.97193,43.63963],[-79.97496,43.63866],[-79.97926,43.63724],[-79.98046,43.63687],[-79.98134,43.63656],[-79.98205,43.63629],[-79.9832,43.63581],[-79.98512,43.635],[-79.98763,43.63397],[-79.98942,43.63321],[-79.99526,43.63079],[-79.99725,43.62987],[-79.99971,43.62889],[-80.00065,43.62857],[-80.00205,43.62821],[-80.00318,43.62801],[-80.00417,43.62789],[-80.00544,43.62781],[-80.00631,43.62779],[-80.00691,43.6278],[-80.00789,43.62787],[-80.00856,43.62795],[-80.00936,43.62807],[-80.01029,43.62824],[-80.01101,43.62839],[-80.01171,43.62855],[-80.01222,43.62868],[-80.01454,43.62926],[-80.01697,43.62984],[-80.01992,43.63053],[-80.02342,43.63134],[-80.0237,43.6314],[-80.0258,43.63189],[-80.0272,43.63222],[-80.02928,43.63272],[-80.03054,43.63304],[-80.03116,43.63319],[-80.03137,43.63324],[-80.03154,43.63328],[-80.03323,43.6337],[-80.03419,43.6339],[-80.03469,43.63401],[-80.03531,43.63411],[-80.03627,43.63422],[-80.0375,43.6343],[-80.03822,43.63433],[-80.03971,43.63432],[-80.0412,43.63427],[-80.04225,43.63419],[-80.04306,43.6341],[-80.04381,43.634],[-80.04515,43.63382],[-80.04662,43.63363],[-80.05025,43.63317],[-80.05057,43.63313],[-80.05158,43.63299],[-80.05456,43.6326],[-80.05651,43.63236],[-80.05948,43.63196],[-80.06246,43.63157],[-80.06626,43.63108],[-80.06936,43.63067],[-80.08363,43.62881],[-80.08501,43.62863],[-80.08604,43.62849],[-80.0873,43.62833],[-80.08907,43.6281],[-80.0968,43.62709],[-80.10348,43.62622],[-80.10579,43.62591],[-80.11366,43.62489],[-80.12642,43.62322],[-80.12652,43.6232],[-80.13206,43.62244],[-80.13251,43.62238],[-80.13555,43.62198],[-80.13845,43.6216],[-80.14039,43.62135],[-80.14235,43.62111],[-80.144,43.6209],[-80.146,43.62064],[-80.14744,43.62043],[-80.14841,43.62024],[-80.14942,43.61999],[-80.15026,43.61973],[-80.15119,43.61938],[-80.15208,43.61902],[-80.1525,43.61882],[-80.1529,43.61862],[-80.15366,43.61819],[-80.15409,43.61793],[-80.15443,43.6177],[-80.15514,43.61714],[-80.15548,43.61687],[-80.15578,43.61659],[-80.15633,43.61604],[-80.15667,43.61568],[-80.15842,43.61364],[-80.16176,43.60971],[-80.16787,43.60256],[-80.17579,43.59329],[-80.18353,43.58419],[-80.18479,43.58286],[-80.18551,43.58216],[-80.18621,43.5815],[-80.18662,43.58113],[-80.18754,43.58038],[-80.1876,43.58033],[-80.19007,43.57835],[-80.19377,43.57539],[-80.19482,43.57451],[-80.19705,43.57273],[-80.20157,43.56911],[-80.20576,43.56574],[-80.20689,43.56483],[-80.208,43.56395],[-80.20918,43.56302],[-80.21028,43.56221],[-80.21107,43.56171],[-80.21229,43.561],[-80.21344,43.56043],[-80.21373,43.56029],[-80.21479,43.55987],[-80.21558,43.5596],[-80.21666,43.55923],[-80.21746,43.559],[-80.2186,43.5587],[-80.21983,43.55841],[-80.22228,43.55789],[-80.22337,43.55769],[-80.22687,43.55704],[-80.22785,43.55684],[-80.22899,43.55656],[-80.2297,43.55635],[-80.23057,43.55608],[-80.23103,43.55592],[-80.23201,43.55551],[-80.23294,43.55509],[-80.2339,43.55462],[-80.23467,43.55421],[-80.23568,43.55363],[-80.2365,43.55305],[-80.2372,43.55253],[-80.23997,43.55026],[-80.24015,43.55011],[-80.24136,43.54917],[-80.24199,43.54864],[-80.24276,43.54793],[-80.24365,43.54712],[-80.24405,43.54675],[-80.24419,43.54662],[-80.24507,43.54579],[-80.24579,43.54513],[-80.24745,43.54361],[-80.24786,43.54326],[-80.24823,43.54301],[-80.24862,43.54276],[-80.2492,43.54241],[-80.24926,43.54237],[-80.25146,43.54118],[-80.25306,43.54039],[-80.25531,43.53929],[-80.25697,43.53839],[-80.25751,43.53813],[-80.25796,43.53792],[-80.2582,43.5378],[-80.25856,43.53764],[-80.2593,43.53734],[-80.26027,43.53695],[-80.26168,43.53639],[-80.26248,43.5361],[-80.26267,43.53603],[-80.26331,43.53583],[-80.26366,43.5357],[-80.26507,43.53524],[-80.2658,43.53501],[-80.27065,43.53347],[-80.27085,43.5334],[-80.27282,43.53273],[-80.27368,43.53247],[-80.2746,43.53215],[-80.27583,43.5317],[-80.28041,43.52997],[-80.28436,43.52849],[-80.28771,43.52716],[-80.29005,43.52629],[-80.29473,43.52448],[-80.29526,43.52427],[-80.30201,43.52166],[-80.31868,43.5152],[-80.31934,43.51494],[-80.32221,43.51382],[-80.32563,43.51248],[-80.32652,43.51213],[-80.33315,43.50956],[-80.33735,43.50793],[-80.33799,43.50768],[-80.34014,43.50688],[-80.34384,43.50545],[-80.34807,43.50381],[-80.35373,43.50163],[-80.35884,43.49964],[-80.36095,43.49882],[-80.36402,43.49762],[-80.37251,43.49435],[-80.37308,43.49413],[-80.37481,43.49346],[-80.37495,43.49341],[-80.38145,43.49087],[-80.3899,43.48759],[-80.39295,43.4864],[-80.39876,43.48415],[-80.40067,43.48349],[-80.40177,43.48314],[-80.4028,43.48283],[-80.40376,43.48257],[-80.40486,43.4823],[-80.40893,43.48139],[-80.4154,43.47993],[-80.41558,43.47989],[-80.42231,43.47838],[-80.4231,43.47821],[-80.42747,43.47722],[-80.42904,43.47687],[-80.42966,43.47672],[-80.43142,43.47625],[-80.43304,43.47576],[-80.43771,43.47421],[-80.44181,43.47292],[-80.44486,43.47192],[-80.44813,43.47074],[-80.45425,43.46877],[-80.45959,43.46692],[-80.46042,43.46665],[-80.46349,43.46562],[-80.46439,43.46532],[-80.46454,43.46527],[-80.4685,43.46402],[-80.47143,43.46301],[-80.47208,43.46279],[-80.47424,43.46207],[-80.47607,43.46145],[-80.48099,43.45986],[-80.48281,43.45924],[-80.48298,43.45919],[-80.48422,43.45878],[-80.48578,43.45827],[-80.48626,43.45811],[-80.48875,43.45731],[-80.48906,43.45721],[-80.49195,43.45628],[-80.49329,43.45587]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-79.52727,43.79351],[-79.52617,43.78977],[-79.52436,43.78593],[-79.52369,43.78453],[-79.52286,43.78276],[-79.5225,43.78226],[-79.52198,43.78148],[-79.52115,43.78062],[-79.51906,43.77952],[-79.51606,43.77873],[-79.51195,43.77761],[-79.51164,43.77752],[-79.50541,43.77573],[-79.49964,43.77413],[-79.49737,43.77348],[-79.49519,43.77249],[-79.49375,43.77131],[-79.49301,43.77033],[-79.49215,43.76788],[-79.49099,43.76349],[-79.48919,43.75634],[-79.48867,43.75569],[-79.48789,43.75501],[-79.48706,43.75445],[-79.48609,43.75387],[-79.48499,43.75351],[-79.48382,43.75317],[-79.4826,43.75306],[-79.48182,43.75303],[-79.47833,43.75361],[-79.47249,43.75482],[-79.47106,43.75489],[-79.46961,43.75479],[-79.46787,43.75454],[-79.46594,43.75421],[-79.46425,43.7534],[-79.46354,43.75261],[-79.46248,43.75044]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-79.38052,43.64456],[-79.38897,43.64283],[-79.39357,43.64188],[-79.39567,43.64145],[-79.39876,43.6409],[-79.3991,43.64083],[-79.39932,43.64078],[-79.3999,43.64069],[-79.40179,43.64048],[-79.4022,43.64044],[-79.4038,43.64028],[-79.40489,43.64021],[-79.4059,43.64017],[-79.40643,43.64015],[-79.40751,43.64015],[-79.40798,43.64017],[-79.40884,43.64018],[-79.40981,43.64022],[-79.41128,43.64028],[-79.41664,43.64048],[-79.41833,43.64055],[-79.41966,43.6406],[-79.42097,43.64065],[-79.42199,43.64069],[-79.4225,43.64073],[-79.42318,43.64081],[-79.42365,43.64088],[-79.42432,43.64101],[-79.42494,43.64116],[-79.42544,43.6413],[-79.42587,43.64143],[-79.42631,43.64157],[-79.42664,43.64168],[-79.42698,43.64182],[-79.42721,43.64191],[-79.42758,43.64207],[-79.42794,43.64223],[-79.42836,43.64243],[-79.42877,43.64262],[-79.42931,43.64287],[-79.42974,43.64308],[-79.4304,43.64338],[-79.43102,43.64366],[-79.43413,43.64513],[-79.4344,43.64526],[-79.43651,43.6462],[-79.43886,43.64732],[-79.43898,43.64738],[-79.43924,43.64752],[-79.43932,43.64756],[-79.4399,43.64786],[-79.44039,43.64815],[-79.44124,43.64869],[-79.44196,43.6492],[-79.44316,43.65017],[-79.44383,43.65076],[-79.44429,43.6512],[-79.44776,43.65477],[-79.44972,43.65677],[-79.45057,43.65763],[-79.45193,43.65903],[-79.45395,43.66108],[-79.45447,43.66166],[-79.45552,43.6627],[-79.45726,43.66447],[-79.45774,43.66487],[-79.45811,43.66522],[-79.45861,43.66573],[-79.46005,43.66718],[-79.46009,43.66723],[-79.46085,43.66801],[-79.46133,43.6686],[-79.463,43.6703],[-79.46342,43.6707],[-79.46509,43.67239],[-79.4657,43.67301],[-79.46593,43.67325],[-79.4663,43.67363],[-79.46666,43.67399],[-79.46684,43.67416],[-79.4673,43.67464],[-79.46833,43.67567],[-79.46954,43.67684],[-79.47037,43.67757],[-79.47125,43.67831],[-79.47247,43.67926],[-79.47332,43.67988],[-79.47415,43.68046],[-79.4759,43.68156],[-79.47664,43.682],[-79.47829,43.68289],[-79.4798,43.68364],[-79.48071,43.6841],[-79.48704,43.68729],[-79.48726,43.68739],[-79.48761,43.68757],[-79.49021,43.68885],[-79.49321,43.69032],[-79.49784,43.6926],[-79.49965,43.69349],[-79.50154,43.69443],[-79.50171,43.69451],[-79.50613,43.69671],[-79.50697,43.69713],[-79.50912,43.69819],[-79.51107,43.69916],[-79.51367,43.70044],[-79.51438,43.70079],[-79.517,43.70209],[-79.51893,43.70304],[-79.519,43.70308],[-79.52104,43.70411],[-79.52221,43.70466],[-79.52377,43.7053],[-79.52426,43.70547],[-79.52547,43.70582],[-79.52607,43.70599],[-79.52724,43.70627],[-79.52778,43.70639],[-79.52852,43.70653],[-79.52924,43.70663],[-79.52985,43.70671],[-79.53082,43.7068],[-79.53139,43.70684],[-79.53225,43.70688],[-79.53296,43.7069],[-79.53326,43.70691],[-79.53354,43.70691],[-79.53503,43.70688],[-79.5373,43.70683],[-79.5425,43.70673],[-79.54284,43.70673],[-79.54912,43.7066],[-79.55104,43.70657],[-79.55527,43.70649],[-79.55535,43.70649],[-79.55667,43.70647],[-79.55686,43.70646],[-79.55773,43.70645],[-79.56186,43.70637],[-79.56387,43.70633],[-79.56445,43.70632],[-79.56574,43.70629],[-79.56936,43.70623],[-79.57248,43.70616],[-79.57553,43.7061],[-79.57766,43.70606],[-79.5839,43.70594],[-79.5858,43.70591],[-79.58859,43.70585],[-79.59028,43.70582],[-79.59253,43.70578],[-79.59572,43.70572],[-79.59913,43.70565],[-79.60066,43.70562],[-79.60271,43.70558],[-79.60397,43.70555],[-79.60653,43.7055],[-79.60886,43.70546],[-79.60901,43.70545],[-79.6095,43.70543],[-79.61051,43.70537],[-79.61164,43.70531],[-79.61207,43.70529],[-79.61252,43.70527],[-79.61276,43.70526],[-79.61306,43.70524],[-79.61319,43.70523],[-79.61359,43.70515],[-79.61381,43.70507],[-79.61394,43.70499],[-79.6141,43.70489],[-79.61425,43.70477],[-79.61434,43.70468],[-79.61447,43.7045],[-79.61454,43.70432],[-79.61457,43.70419],[-79.61458,43.70403],[-79.61456,43.7039],[-79.61451,43.70371],[-79.61434,43.70344],[-79.61423,43.70333],[-79.61391,43.70305],[-79.61181,43.70128],[-79.61155,43.70106],[-79.61121,43.70073],[-79.61103,43.70051],[-79.61092,43.70034],[-79.61072,43.69999],[-79.61053,43.6995],[-79.61002,43.69811],[-79.60993,43.69769],[-79.60992,43.69738],[-79.60996,43.69709],[-79.61003,43.69688],[-79.61015,43.69664],[-79.61032,43.69638],[-79.61177,43.69476],[-79.61188,43.69461],[-79.61206,43.69434],[-79.61221,43.69405],[-79.61233,43.69377],[-79.61239,43.69354],[-79.61261,43.69282],[-79.61281,43.69208],[-79.6131,43.69108],[-79.61334,43.69023],[-79.61346,43.68984],[-79.61381,43.68862],[-79.61392,43.68824],[-79.61405,43.68794],[-79.61417,43.68771],[-79.61439,43.68741],[-79.61482,43.68689],[-79.61565,43.68588],[-79.61572,43.68577],[-79.61578,43.68568],[-79.61584,43.68551],[-79.61586,43.68543],[-79.61586,43.68534],[-79.61587,43.68526],[-79.61585,43.68516],[-79.61583,43.68505],[-79.61578,43.68492],[-79.6157,43.68478],[-79.61557,43.68462],[-79.61543,43.6845],[-79.61534,43.68442],[-79.61506,43.68421],[-79.61482,43.68402],[-79.61455,43.68381],[-79.61319,43.68277]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-79.8648,43.26646],[-79.8661,43.26677],[-79.86724,43.26704],[-79.86787,43.26718],[-79.8685,43.26732],[-79.86924,43.2675],[-79.86974,43.26762],[-79.87043,43.26778],[-79.87087,43.26788],[-79.87155,43.26804],[-79.87211,43.26817],[-79.87319,43.26842],[-79.87376,43.26856],[-79.87404,43.26863],[-79.87454,43.26874],[-79.87529,43.26888],[-79.87591,43.26898],[-79.8774,43.26923],[-79.87764,43.26928],[-79.87784,43.26932],[-79.87816,43.26939],[-79.87847,43.26947],[-79.87892,43.26959],[-79.8798,43.26983],[-79.88065,43.27006],[-79.88154,43.2703],[-79.88218,43.27047],[-79.88253,43.27057],[-79.88273,43.27062],[-79.88292,43.27069],[-79.88313,43.27077],[-79.88331,43.27085],[-79.88346,43.27091],[-79.88366,43.27101],[-79.88388,43.27112],[-79.8841,43.27125],[-79.88428,43.27137],[-79.88446,43.27149],[-79.88461,43.27161],[-79.885,43.27197],[-79.88554,43.27253],[-79.88615,43.27316],[-79.88645,43.27351],[-79.88674,43.27388],[-79.88714,43.27446],[-79.88753,43.27503],[-79.88784,43.27548],[-79.88939,43.27776],[-79.88968,43.27824],[-79.88991,43.2787],[-79.89012,43.27924],[-79.89023,43.27956],[-79.89033,43.27988],[-79.89039,43.28001],[-79.89066,43.28053]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-79.55618,44.11732],[-79.55622,44.11736],[-79.55632,44.11747],[-79.55641,44.11757],[-79.55652,44.11768],[-79.55661,44.11779],[-79.55667,44.11786],[-79.55674,44.11795],[-79.55685,44.1181],[-79.55693,44.11821],[-79.55699,44.11831],[-79.55706,44.11843],[-79.55712,44.11852],[-79.55717,44.11863],[-79.55722,44.11873],[-79.55727,44.11883],[-79.55732,44.11893],[-79.55738,44.1191],[-79.55746,44.11931],[-79.55751,44.11949],[-79.55753,44.11957],[-79.55755,44.11969],[-79.55758,44.11982],[-79.5576,44.11993],[-79.5576,44.12],[-79.55761,44.12007],[-79.55762,44.1202],[-79.55763,44.12047],[-79.55763,44.12057],[-79.55762,44.12081],[-79.5576,44.121],[-79.55758,44.12107],[-79.55756,44.12118],[-79.55748,44.12154],[-79.55745,44.12163],[-79.55741,44.12174],[-79.55737,44.12183],[-79.55734,44.1219],[-79.5573,44.12201],[-79.55726,44.12211],[-79.55721,44.1222],[-79.55717,44.12229],[-79.55694,44.1227],[-79.55676,44.12299],[-79.55656,44.12332],[-79.55607,44.12421],[-79.55562,44.12505],[-79.55491,44.12618],[-79.55388,44.12796],[-79.55369,44.12833],[-79.55337,44.12905],[-79.5532,44.12959],[-79.55308,44.1301],[-79.55302,44.13044],[-79.55301,44.13084],[-79.55301,44.13124],[-79.55342,44.13596],[-79.55351,44.13682],[-79.55382,44.14011],[-79.55401,44.14232],[-79.554,44.14336],[-79.55385,44.14437],[-79.55368,44.14525],[-79.55311,44.14757],[-79.55264,44.14952],[-79.55215,44.15141],[-79.55152,44.15382],[-79.55095,44.15603],[-79.55061,44.15759],[-79.55032,44.15865],[-79.54994,44.15958],[-79.54964,44.16019],[-79.54899,44.16143],[-79.54689,44.16541],[-79.54657,44.16609],[-79.54638,44.16657],[-79.54602,44.16785],[-79.54534,44.16997],[-79.54353,44.1762],[-79.54346,44.17657],[-79.54342,44.18287],[-79.54342,44.18376],[-79.54345,44.18685],[-79.54339,44.18892],[-79.54345,44.19013],[-79.54344,44.19124],[-79.5435,44.19244],[-79.54346,44.19354],[-79.54337,44.19432],[-79.54326,44.19479],[-79.54247,44.197],[-79.54086,44.20092],[-79.54028,44.2023],[-79.54,44.20302],[-79.53974,44.20386],[-79.53954,44.20488],[-79.53946,44.20594],[-79.5394,44.20695],[-79.53915,44.21077],[-79.53912,44.21149],[-79.53914,44.21237],[-79.53927,44.2131],[-79.5395,44.2139],[-79.54035,44.21545],[-79.54083,44.21615],[-79.54178,44.21758],[-79.54218,44.21818],[-79.54462,44.22188],[-79.54501,44.22246],[-79.54728,44.22592],[-79.54894,44.22846],[-79.55184,44.23289],[-79.55336,44.23518],[-79.55389,44.2361],[-79.55413,44.23656],[-79.55427,44.23701],[-79.55527,44.24052],[-79.5565,44.24498],[-79.55668,44.24562],[-79.5568,44.24623],[-79.55685,44.24673],[-79.55684,44.24727],[-79.55679,44.24772],[-79.55661,44.24889],[-79.55539,44.25676],[-79.55531,44.25739],[-79.5553,44.25799],[-79.55533,44.25834],[-79.55542,44.25899],[-79.5556,44.2596],[-79.55575,44.26004],[-79.557,44.26323],[-79.55763,44.26485],[-79.55778,44.26516],[-79.55798,44.26567],[-79.55818,44.26623],[-79.55829,44.26663],[-79.55842,44.2672],[-79.5585,44.26799],[-79.5585,44.26833],[-79.55848,44.26881],[-79.55839,44.2693],[-79.55829,44.26971],[-79.55817,44.2701],[-79.55777,44.27112],[-79.55621,44.27483],[-79.55598,44.27542],[-79.55583,44.27598],[-79.55574,44.27655],[-79.55576,44.27702],[-79.55583,44.27744],[-79.55591,44.27781],[-79.55825,44.28727],[-79.55843,44.28799],[-79.55895,44.29008],[-79.55941,44.29188],[-79.55964,44.29283],[-79.55981,44.29339],[-79.55993,44.29379],[-79.56005,44.29414],[-79.56022,44.29446],[-79.56052,44.29494],[-79.56094,44.29541],[-79.56141,44.29588],[-79.56204,44.29637],[-79.56261,44.29669],[-79.56318,44.29696],[-79.56382,44.29724],[-79.56508,44.29767],[-79.57072,44.29962],[-79.57109,44.29979],[-79.57138,44.29994],[-79.57175,44.30013],[-79.57214,44.30039],[-79.57254,44.30069],[-79.57297,44.30104],[-79.57337,44.30146],[-79.57374,44.30195],[-79.574,44.30245],[-79.57423,44.30295],[-79.57471,44.30482],[-79.57491,44.30541],[-79.57512,44.30588],[-79.57538,44.30629],[-79.57573,44.30672],[-79.57606,44.30704],[-79.57655,44.30744],[-79.57691,44.30772],[-79.57721,44.30791],[-79.57788,44.30831],[-79.58418,44.31178],[-79.58541,44.31245],[-79.58871,44.31425],[-79.58943,44.3147],[-79.59019,44.31526],[-79.59345,44.31785],[-79.5989,44.32218],[-79.60129,44.32408],[-79.6056,44.32753],[-79.61637,44.33617],[-79.61857,44.33792],[-79.61993,44.339],[-79.6203,44.33932],[-79.62065,44.33965],[-79.62091,44.33997],[-79.62129,44.34052],[-79.62165,44.34129],[-79.62331,44.3461],[-79.62376,44.34747],[-79.62398,44.34809],[-79.62421,44.34851],[-79.62458,44.34907],[-79.62483,44.34939],[-79.62516,44.34973],[-79.62556,44.35008],[-79.62717,44.35117],[-79.62757,44.35144],[-79.63005,44.35319],[-79.63151,44.35413],[-79.63229,44.35459],[-79.63503,44.35614],[-79.6399,44.35894],[-79.65288,44.3664],[-79.65754,44.36902],[-79.65937,44.36994],[-79.66024,44.37028],[-79.66121,44.3706],[-79.66215,44.37082],[-79.66328,44.37103],[-79.6646,44.37123],[-79.66889,44.37174],[-79.6721,44.37212],[-79.67703,44.37271],[-79.67928,44.37296],[-79.68189,44.37325],[-79.68242,44.3733],[-79.68286,44.37334],[-79.68317,44.37337],[-79.68348,44.37336],[-79.68374,44.37335],[-79.6849,44.37326],[-79.68539,44.37323],[-79.68687,44.37338]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-79.06306,43.109],[-79.06634,43.10899],[-79.0672,43.10902],[-79.06753,43.10904],[-79.06786,43.10907],[-79.06839,43.10913],[-79.06891,43.10919],[-79.06919,43.10923],[-79.06933,43.10925],[-79.06952,43.10929],[-79.06983,43.10936],[-79.07013,43.10944],[-79.07064,43.10959],[-79.07142,43.10986],[-79.07201,43.11009],[-79.07237,43.11025],[-79.0728,43.11047],[-79.0734,43.1108],[-79.07361,43.11093],[-79.07379,43.11104],[-79.07414,43.11129],[-79.07442,43.11151],[-79.07489,43.11191],[-79.07534,43.11234],[-79.07572,43.11276],[-79.07598,43.11311],[-79.07628,43.11354],[-79.07658,43.11407],[-79.07774,43.11626],[-79.07816,43.11706],[-79.07858,43.11787],[-79.07904,43.11875],[-79.07951,43.11962],[-79.07982,43.12021],[-79.08012,43.12077],[-79.08042,43.12136],[-79.08074,43.12194],[-79.08122,43.12281],[-79.08161,43.12351],[-79.08192,43.12409],[-79.08227,43.12476],[-79.08261,43.12542],[-79.08296,43.12607],[-79.08335,43.12682],[-79.08366,43.12741],[-79.08398,43.12801],[-79.08443,43.12887],[-79.08476,43.12951],[-79.08517,43.13029],[-79.08542,43.13076],[-79.08572,43.13132],[-79.086,43.13177],[-79.08619,43.13206],[-79.08653,43.13253],[-79.08677,43.13284],[-79.08711,43.13325],[-79.08748,43.13366],[-79.0878,43.13401],[-79.08829,43.13448],[-79.08871,43.13488],[-79.08911,43.13522],[-79.08971,43.1357],[-79.09002,43.13593],[-79.09036,43.13617],[-79.0912,43.13675],[-79.09194,43.13721],[-79.09274,43.13769],[-79.09376,43.13827],[-79.09461,43.13875],[-79.09534,43.13917],[-79.09579,43.13943],[-79.09644,43.13978],[-79.09721,43.14016],[-79.09807,43.14054],[-79.09854,43.14073],[-79.09946,43.14108],[-79.10038,43.14139],[-79.10132,43.14165],[-79.10226,43.14189],[-79.10372,43.1422],[-79.10455,43.14235],[-79.10512,43.14244],[-79.10592,43.14255],[-79.10721,43.14268],[-79.10798,43.14275],[-79.10825,43.14277],[-79.11296,43.14311],[-79.1161,43.14336],[-79.12076,43.14372],[-79.1247,43.14402],[-79.12516,43.14406],[-79.12957,43.1444],[-79.13362,43.14472],[-79.1378,43.14504],[-79.14179,43.14531],[-79.14288,43.14538],[-79.14377,43.14542],[-79.14433,43.14543],[-79.14535,43.14542],[-79.14629,43.14537],[-79.14766,43.14524],[-79.14862,43.1451],[-79.14963,43.14491],[-79.15064,43.1447],[-79.15203,43.14435],[-79.15383,43.14385],[-79.15729,43.14293],[-79.16378,43.14121],[-79.16837,43.14],[-79.16968,43.13963],[-79.17187,43.13906],[-79.1737,43.13857],[-79.17393,43.13851],[-79.17731,43.13767],[-79.17798,43.1375],[-79.1791,43.13728],[-79.17949,43.1372],[-79.18051,43.13704],[-79.18076,43.13701],[-79.1811,43.13698],[-79.18144,43.13694],[-79.18238,43.13685],[-79.18372,43.13679],[-79.18414,43.13678],[-79.18463,43.1368],[-79.18555,43.13685],[-79.18602,43.13688],[-79.18684,43.13697],[-79.18784,43.13709],[-79.18871,43.13721],[-79.18913,43.13727],[-79.18988,43.13737],[-79.19497,43.13816],[-79.19705,43.13848],[-79.20164,43.13919],[-79.20563,43.1398],[-79.20686,43.13997],[-79.2075,43.14006],[-79.2081,43.14015],[-79.20864,43.14023],[-79.20928,43.14033],[-79.20981,43.14041],[-79.21029,43.14048],[-79.21062,43.14054],[-79.21131,43.14064],[-79.21197,43.14074],[-79.2125,43.14083],[-79.21403,43.14106],[-79.21701,43.14152],[-79.21728,43.14156],[-79.21776,43.14165],[-79.21832,43.14174],[-79.21871,43.1418],[-79.21898,43.14184],[-79.2195,43.14192],[-79.22055,43.14209],[-79.22115,43.14218],[-79.22188,43.1423],[-79.2228,43.14244],[-79.22533,43.14283],[-79.22694,43.14308],[-79.22848,43.14332],[-79.23706,43.14465],[-79.24052,43.14518],[-79.24362,43.14566],[-79.24536,43.14593],[-79.24592,43.14601],[-79.25063,43.14674],[-79.25382,43.14723],[-79.25582,43.14754],[-79.25871,43.14798],[-79.26011,43.1482],[-79.26189,43.14848],[-79.2626,43.1486],[-79.26747,43.1494],[-79.27009,43.1498],[-79.27045,43.14986],[-79.27548,43.15064],[-79.27921,43.15123],[-79.28573,43.15227],[-79.2883,43.15265],[-79.29464,43.15362],[-79.2965,43.1539],[-79.29987,43.15444],[-79.30283,43.1549],[-79.30697,43.15553],[-79.31003,43.15602],[-79.31356,43.15654],[-79.31729,43.1571],[-79.31949,43.15746],[-79.32269,43.15795],[-79.32863,43.15886],[-79.33335,43.15959],[-79.33804,43.16031],[-79.33903,43.16046],[-79.34386,43.16117],[-79.34439,43.16125],[-79.34624,43.16153],[-79.34816,43.16183],[-79.34848,43.16188],[-79.34915,43.16198],[-79.34982,43.16208],[-79.35161,43.16235],[-79.35548,43.16295],[-79.36029,43.16369],[-79.3683,43.1649],[-79.37255,43.16555],[-79.37586,43.16605],[-79.3784,43.16643],[-79.38664,43.16768],[-79.39368,43.16875],[-79.39658,43.16919],[-79.40418,43.17037],[-79.40435,43.1704],[-79.40822,43.171],[-79.40907,43.17113],[-79.41458,43.17197],[-79.41487,43.17202],[-79.41851,43.17258],[-79.42613,43.17374],[-79.42681,43.17384],[-79.43389,43.17492],[-79.43429,43.17498],[-79.44583,43.17677],[-79.45321,43.17791],[-79.45638,43.1784],[-79.46274,43.17935],[-79.46569,43.17979],[-79.4664,43.1799],[-79.47258,43.18085],[-79.47675,43.18149],[-79.47793,43.18167],[-79.48296,43.18244],[-79.48706,43.18306],[-79.48857,43.18329],[-79.49308,43.18397],[-79.49736,43.18463],[-79.50001,43.18505]],[[-79.52138,43.18863],[-79.51439,43.18722],[-79.50764,43.18618],[-79.50001,43.18505]],[[-79.52382,43.18916],[-79.52138,43.18863]],[[-79.56196,43.19683],[-79.56061,43.19655]],[[-79.56196,43.19683],[-79.56061,43.19655],[-79.5604,43.19652],[-79.55778,43.19598],[-79.556,43.19563],[-79.55454,43.19533],[-79.55438,43.1953],[-79.54583,43.19358],[-79.536,43.1916],[-79.52458,43.1893],[-79.52382,43.18916],[-79.52138,43.18863]],[[-79.59229,43.20292],[-79.58758,43.20198],[-79.58736,43.20193],[-79.58482,43.20142],[-79.57498,43.19944],[-79.57308,43.19906],[-79.56215,43.19685],[-79.56196,43.19683]],[[-79.59229,43.20292],[-79.58758,43.20198]],[[-79.75851,43.24148],[-79.74985,43.23942],[-79.74976,43.23939],[-79.74701,43.23877],[-79.74299,43.23784],[-79.73838,43.23675],[-79.72968,43.23468],[-79.72767,43.2342],[-79.72753,43.23416],[-79.72276,43.23304],[-79.72015,43.23243],[-79.71777,43.23186],[-79.71552,43.23134],[-79.71024,43.2301],[-79.70737,43.22941],[-79.69857,43.22733],[-79.69819,43.22724],[-79.69783,43.22716],[-79.6951,43.22651],[-79.68814,43.22486],[-79.68802,43.22483],[-79.68411,43.2239],[-79.67748,43.22232],[-79.66764,43.22],[-79.65784,43.21767],[-79.65411,43.2168],[-79.65368,43.21668],[-79.64784,43.21527],[-79.64215,43.21393],[-79.64162,43.21381],[-79.63857,43.21308],[-79.63369,43.21194],[-79.63344,43.21186],[-79.62397,43.20961],[-79.61428,43.20732],[-79.61394,43.20724],[-79.60443,43.20535],[-79.59613,43.20369],[-79.59506,43.20347],[-79.59229,43.20292]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-79.8648,43.26646],[-79.85218,43.26356],[-79.80482,43.25239],[-79.77017,43.24424],[-79.75935,43.24168],[-79.75851,43.24148]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-79.42626,43.87369],[-79.42653,43.87468],[-79.42667,43.87519],[-79.42685,43.87583],[-79.42721,43.87636],[-79.42747,43.87668],[-79.42958,43.8788],[-79.43071,43.88028],[-79.43363,43.88457],[-79.43434,43.88637],[-79.43449,43.88751],[-79.43436,43.88917],[-79.42779,43.90952],[-79.42749,43.9102],[-79.42666,43.91143],[-79.42589,43.91224],[-79.4177,43.91892],[-79.4169,43.91982],[-79.41352,43.92431],[-79.41275,43.92514],[-79.41212,43.92568],[-79.40818,43.92828],[-79.40746,43.92883],[-79.4068,43.92974],[-79.40585,43.93171],[-79.40529,43.93241],[-79.40437,43.93307],[-79.39973,43.93465],[-79.39925,43.93488],[-79.39839,43.93549],[-79.39792,43.93604],[-79.39769,43.93653],[-79.39751,43.9374],[-79.39771,43.93838],[-79.398,43.93909],[-79.39838,43.94003]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-79.26311,43.89935],[-79.2624,43.90476],[-79.26234,43.90553],[-79.26234,43.90573],[-79.26239,43.90606],[-79.2625,43.90668],[-79.26269,43.9074],[-79.2629,43.9081],[-79.26311,43.90921],[-79.26312,43.90957],[-79.26304,43.90991],[-79.26296,43.91017],[-79.26285,43.91043],[-79.26256,43.91097],[-79.26217,43.91152],[-79.26161,43.91217],[-79.25898,43.91525],[-79.25868,43.91563],[-79.25848,43.91592],[-79.25831,43.91631],[-79.2582,43.91662],[-79.25804,43.91732],[-79.25778,43.91951],[-79.25772,43.92022],[-79.25754,43.92096],[-79.25742,43.92127],[-79.2572,43.92167],[-79.25677,43.92232],[-79.25576,43.92384],[-79.25529,43.92463],[-79.25517,43.92495],[-79.25511,43.92525],[-79.2551,43.92552],[-79.25515,43.92592],[-79.25521,43.92612],[-79.2553,43.92634],[-79.25576,43.92719],[-79.25639,43.92851],[-79.25659,43.92928],[-79.25673,43.93006],[-79.25676,43.93037],[-79.25675,43.93059],[-79.25673,43.93085],[-79.25665,43.93126],[-79.25654,43.93159],[-79.25632,43.93204],[-79.2558,43.93272],[-79.25406,43.93442],[-79.25348,43.93495],[-79.25294,43.93554],[-79.25277,43.93576],[-79.25259,43.93606],[-79.2525,43.93621],[-79.25231,43.93658],[-79.25222,43.93682],[-79.25204,43.9375],[-79.25199,43.93793],[-79.25197,43.93887],[-79.25197,43.93964],[-79.252,43.94067],[-79.25199,43.94151],[-79.25202,43.94341],[-79.25201,43.94387],[-79.2519,43.94513],[-79.25176,43.94736],[-79.25171,43.94766],[-79.25164,43.94794],[-79.25149,43.94841],[-79.25121,43.94899],[-79.251,43.94937],[-79.25063,43.95011],[-79.25043,43.95058],[-79.25027,43.95113],[-79.25019,43.95162],[-79.25018,43.95199],[-79.2502,43.9524],[-79.2504,43.95369],[-79.25049,43.95451],[-79.25063,43.95542],[-79.25069,43.95585],[-79.25082,43.9568],[-79.25095,43.95767],[-79.25098,43.95831],[-79.25083,43.96084],[-79.25073,43.96203],[-79.25066,43.96331],[-79.25051,43.96583],[-79.25044,43.96649],[-79.25038,43.96752],[-79.25037,43.9676],[-79.25036,43.96771],[-79.25034,43.96802],[-79.25025,43.96909],[-79.25019,43.97035],[-79.25018,43.97062],[-79.25006,43.97225],[-79.25004,43.97253],[-79.24996,43.97367],[-79.24991,43.9742],[-79.2498,43.97491],[-79.24979,43.97497],[-79.24976,43.9752],[-79.24961,43.97601],[-79.24949,43.97637],[-79.24941,43.97654],[-79.24917,43.97694],[-79.24864,43.97754],[-79.24828,43.97799],[-79.24753,43.97881],[-79.24699,43.97945],[-79.24683,43.97964],[-79.2466,43.97991],[-79.24601,43.98058],[-79.24574,43.98088],[-79.24551,43.98116],[-79.24503,43.9817],[-79.24482,43.98196],[-79.24458,43.98222],[-79.24372,43.9832],[-79.24349,43.98343],[-79.24307,43.98375],[-79.2427,43.98398],[-79.24092,43.98486],[-79.24059,43.98506],[-79.24027,43.98527],[-79.23994,43.98559],[-79.23969,43.98585],[-79.23946,43.98619],[-79.2393,43.98647],[-79.23877,43.98782],[-79.23851,43.98835],[-79.23556,43.99345],[-79.23538,43.99378],[-79.2352,43.99404],[-79.2351,43.99419],[-79.23497,43.99433],[-79.23487,43.99441],[-79.23477,43.99452],[-79.23468,43.99461],[-79.23454,43.99478],[-79.23437,43.99496],[-79.2343,43.99505],[-79.23425,43.99512],[-79.23419,43.99521],[-79.2341,43.99536],[-79.23392,43.99567],[-79.23373,43.99599],[-79.23343,43.99651],[-79.23315,43.99699],[-79.23306,43.99716],[-79.23294,43.99738],[-79.23282,43.99759],[-79.23265,43.9979],[-79.23259,43.99804],[-79.23252,43.9982],[-79.23242,43.99848]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-79.38052,43.64456],[-79.38897,43.64283],[-79.39357,43.64188],[-79.39567,43.64145],[-79.39876,43.6409],[-79.3991,43.64083],[-79.39932,43.64078],[-79.3999,43.64069],[-79.40179,43.64048],[-79.4022,43.64044],[-79.4038,43.64028],[-79.40489,43.64021],[-79.4059,43.64017],[-79.40643,43.64015],[-79.40751,43.64015],[-79.40798,43.64017],[-79.40884,43.64018],[-79.40981,43.64022],[-79.41128,43.64028],[-79.41664,43.64048],[-79.41833,43.64055],[-79.41966,43.6406],[-79.42097,43.64065],[-79.42199,43.64069],[-79.4225,43.64073],[-79.42318,43.64081],[-79.42365,43.64088],[-79.42432,43.64101],[-79.42494,43.64116],[-79.42544,43.6413],[-79.42587,43.64143],[-79.42631,43.64157],[-79.42664,43.64168],[-79.42698,43.64182],[-79.42721,43.64191],[-79.42758,43.64207],[-79.42794,43.64223],[-79.42836,43.64243],[-79.42877,43.64262],[-79.42931,43.64287],[-79.42974,43.64308],[-79.4304,43.64338],[-79.43102,43.64366],[-79.43413,43.64513],[-79.4344,43.64526],[-79.43651,43.6462],[-79.43886,43.64732],[-79.43898,43.64738],[-79.43924,43.64752],[-79.43932,43.64756],[-79.4399,43.64786],[-79.44039,43.64815],[-79.44124,43.64869],[-79.44196,43.6492],[-79.44316,43.65017],[-79.44383,43.65076],[-79.44429,43.6512],[-79.44776,43.65477],[-79.44972,43.65677],[-79.45057,43.65763],[-79.45193,43.65903],[-79.45395,43.66108],[-79.45447,43.66166],[-79.45552,43.6627],[-79.45726,43.66447],[-79.45774,43.66487],[-79.45811,43.66522],[-79.45861,43.66573],[-79.46005,43.66718],[-79.46009,43.66723]],[[-79.46009,43.66723],[-79.46085,43.66801],[-79.46133,43.6686],[-79.463,43.6703],[-79.46342,43.6707],[-79.46509,43.67239],[-79.4657,43.67301],[-79.46593,43.67325],[-79.4663,43.67363],[-79.46666,43.67399],[-79.46684,43.67416],[-79.4673,43.67464],[-79.46833,43.67567],[-79.46954,43.67684],[-79.47037,43.67757],[-79.47125,43.67831],[-79.47247,43.67926],[-79.47332,43.67988],[-79.47415,43.68046],[-79.4759,43.68156],[-79.47664,43.682],[-79.47829,43.68289],[-79.4798,43.68364],[-79.48071,43.6841],[-79.48704,43.68729],[-79.48726,43.68739],[-79.48761,43.68757],[-79.49021,43.68885],[-79.49321,43.69032],[-79.49784,43.6926],[-79.49965,43.69349],[-79.50154,43.69443],[-79.50171,43.69451],[-79.50613,43.69671],[-79.50697,43.69713],[-79.50912,43.69819],[-79.51107,43.69916],[-79.51367,43.70044],[-79.51438,43.70079],[-79.517,43.70209],[-79.51893,43.70304],[-79.519,43.70308],[-79.52104,43.70411],[-79.52221,43.70466],[-79.52377,43.7053],[-79.52426,43.70547],[-79.52547,43.70582],[-79.52607,43.70599],[-79.52724,43.70627],[-79.52778,43.70639],[-79.52852,43.70653],[-79.52924,43.70663],[-79.52985,43.70671],[-79.53082,43.7068],[-79.53139,43.70684],[-79.53225,43.70688],[-79.53296,43.7069],[-79.53326,43.70691],[-79.53354,43.70691],[-79.53503,43.70688],[-79.5373,43.70683],[-79.5425,43.70673],[-79.54284,43.70673],[-79.54912,43.7066],[-79.55104,43.70657],[-79.55137,43.70657],[-79.55527,43.70649],[-79.55535,43.70649],[-79.55667,43.70647],[-79.55686,43.70646],[-79.55773,43.70645],[-79.56186,43.70637],[-79.56387,43.70633],[-79.56445,43.70632],[-79.56574,43.70629],[-79.56936,43.70623],[-79.57248,43.70616],[-79.57553,43.7061],[-79.57766,43.70606],[-79.5839,43.70594],[-79.5858,43.70591],[-79.58859,43.70585],[-79.59028,43.70582],[-79.59253,43.70578],[-79.59572,43.70572],[-79.59913,43.70565],[-79.60066,43.70562],[-79.60271,43.70558],[-79.60397,43.70555],[-79.60653,43.7055],[-79.60886,43.70546],[-79.60901,43.70545],[-79.6095,43.70543],[-79.60998,43.70543],[-79.61151,43.7054],[-79.61221,43.70539],[-79.61259,43.70539],[-79.61298,43.70538],[-79.61369,43.70536],[-79.61621,43.70531],[-79.62106,43.70521],[-79.62266,43.70518],[-79.6247,43.70514],[-79.62705,43.70509],[-79.63292,43.70498],[-79.63627,43.70491],[-79.6371,43.70489],[-79.63803,43.70488],[-79.6414,43.70481],[-79.64187,43.7048],[-79.64407,43.70475],[-79.64415,43.70475],[-79.64803,43.70467],[-79.65155,43.70461],[-79.65343,43.70457],[-79.65563,43.70453],[-79.66173,43.7044],[-79.66486,43.70434],[-79.66619,43.70432],[-79.66728,43.70429],[-79.66967,43.70425],[-79.67204,43.7042],[-79.67337,43.70416],[-79.67442,43.70414],[-79.67533,43.70411],[-79.67647,43.70403],[-79.67704,43.704],[-79.67797,43.70392],[-79.67902,43.70383],[-79.68008,43.70372],[-79.68033,43.70369],[-79.68061,43.70365],[-79.68113,43.70357],[-79.68184,43.70348],[-79.68283,43.70329],[-79.68432,43.70299],[-79.68492,43.70286],[-79.68536,43.70277],[-79.68651,43.70255],[-79.68777,43.7023],[-79.68867,43.70214],[-79.68929,43.70202],[-79.69064,43.70175],[-79.69109,43.70166],[-79.69135,43.70161],[-79.69441,43.70099],[-79.69462,43.70095],[-79.72435,43.69496],[-79.75732,43.68831],[-79.76191,43.68736],[-79.76382,43.68699],[-79.81735,43.67617],[-79.82243,43.67514]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-79.26453,43.73227],[-79.26324,43.73265],[-79.26306,43.73274],[-79.26296,43.73284],[-79.26293,43.73295],[-79.26303,43.73318],[-79.26312,43.73338],[-79.26354,43.73434],[-79.26826,43.74585],[-79.2698,43.74955],[-79.2699,43.74984],[-79.27018,43.75045],[-79.27039,43.75157],[-79.27163,43.75475],[-79.27634,43.7669],[-79.27664,43.76792],[-79.27666,43.76798],[-79.27671,43.76839],[-79.27669,43.76848],[-79.27662,43.76885],[-79.27622,43.76934],[-79.27547,43.76971],[-79.27199,43.77046],[-79.26782,43.77141],[-79.26536,43.77218],[-79.26107,43.77348],[-79.25948,43.774],[-79.25846,43.77431],[-79.25786,43.77445],[-79.25687,43.77469],[-79.25594,43.7748],[-79.25587,43.77481],[-79.25476,43.77493],[-79.25381,43.775],[-79.25358,43.77502],[-79.25251,43.77496],[-79.25231,43.77495],[-79.2516,43.77491]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-79.26453,43.73227],[-79.26698,43.73131],[-79.26773,43.73078],[-79.26992,43.72846],[-79.2702,43.72824],[-79.27206,43.72618],[-79.27366,43.72443],[-79.27409,43.72395],[-79.27413,43.72382],[-79.27451,43.72329],[-79.27462,43.72312],[-79.2747,43.72297],[-79.27486,43.72264],[-79.27506,43.72221],[-79.27529,43.72185],[-79.2767,43.7191],[-79.27723,43.71793],[-79.27724,43.71779],[-79.27733,43.71761],[-79.27738,43.71751],[-79.27742,43.71742],[-79.27746,43.71733],[-79.27751,43.71724],[-79.27759,43.71706],[-79.27771,43.71678],[-79.27779,43.71659],[-79.27789,43.71631],[-79.27793,43.71622],[-79.27799,43.71603],[-79.27803,43.71592],[-79.27809,43.71575],[-79.27816,43.71558],[-79.27826,43.71533],[-79.27829,43.71524],[-79.27836,43.71507],[-79.27839,43.71499],[-79.27844,43.71482],[-79.2785,43.71464],[-79.27855,43.71447],[-79.27861,43.71425],[-79.27896,43.71254],[-79.2792,43.71119],[-79.2793,43.71064],[-79.27951,43.70958],[-79.27973,43.70838],[-79.27984,43.70783],[-79.28004,43.70652],[-79.28033,43.70486],[-79.28045,43.70411],[-79.2806,43.70324],[-79.28068,43.70273],[-79.28087,43.70158],[-79.28094,43.70118],[-79.28095,43.70109],[-79.28097,43.70092],[-79.28098,43.70083],[-79.28102,43.70057],[-79.28106,43.70034],[-79.28107,43.70024],[-79.2811,43.70011],[-79.28114,43.69992],[-79.28117,43.69981],[-79.2812,43.69971],[-79.28124,43.6996],[-79.28127,43.6995],[-79.28132,43.69939],[-79.28136,43.69929],[-79.28141,43.69919],[-79.28145,43.69909],[-79.2815,43.699],[-79.28156,43.6989],[-79.28161,43.69881],[-79.28167,43.69871],[-79.28173,43.69862],[-79.28179,43.69853],[-79.28182,43.69848],[-79.28189,43.69839],[-79.28196,43.6983],[-79.28202,43.69824],[-79.28215,43.69809],[-79.28223,43.698],[-79.28231,43.69792],[-79.28241,43.69782],[-79.28251,43.69772],[-79.28259,43.69765],[-79.28267,43.69758],[-79.28274,43.69752],[-79.28289,43.6974],[-79.28296,43.69735],[-79.2831,43.69724],[-79.28317,43.69719],[-79.28332,43.6971],[-79.28342,43.69704],[-79.2836,43.69693],[-79.28368,43.69689],[-79.28395,43.69676],[-79.28401,43.69672],[-79.28415,43.69666],[-79.28432,43.69658],[-79.28449,43.69651],[-79.28456,43.69648],[-79.28463,43.69645],[-79.28484,43.69638],[-79.28528,43.69621],[-79.28644,43.69577],[-79.28756,43.69534],[-79.28796,43.69518],[-79.28945,43.69462],[-79.28967,43.69454],[-79.28981,43.69449],[-79.28988,43.69446],[-79.29244,43.69345],[-79.29955,43.68972],[-79.30085,43.6893],[-79.30202,43.68898],[-79.30262,43.68882],[-79.30351,43.68861],[-79.30573,43.6881],[-79.30787,43.68761],[-79.30907,43.68734],[-79.31115,43.68692],[-79.31142,43.68687],[-79.31217,43.68671],[-79.31245,43.68666],[-79.31299,43.68655],[-79.31428,43.68629],[-79.31576,43.68591],[-79.31671,43.6857],[-79.31766,43.6855],[-79.31816,43.68539],[-79.31871,43.68528],[-79.31973,43.68504],[-79.32069,43.68484],[-79.32138,43.6847],[-79.32168,43.68462],[-79.3231,43.68433],[-79.32412,43.68412],[-79.32525,43.68387],[-79.3261,43.6837],[-79.32669,43.68357],[-79.32766,43.68335],[-79.32875,43.68312],[-79.32982,43.68291],[-79.33028,43.68281],[-79.33043,43.68278],[-79.33183,43.68247],[-79.33287,43.68224],[-79.33535,43.68171],[-79.33585,43.6816],[-79.33778,43.68118],[-79.3383,43.68107],[-79.33992,43.68077],[-79.3406,43.68065],[-79.34109,43.68055],[-79.34226,43.68033],[-79.34357,43.68006],[-79.34476,43.67982],[-79.34518,43.67974],[-79.3466,43.67946],[-79.34675,43.67943],[-79.34783,43.67922],[-79.34879,43.67903],[-79.34898,43.67899],[-79.35022,43.67875],[-79.35123,43.67855],[-79.35226,43.67835],[-79.3525,43.6783],[-79.35327,43.67815],[-79.35374,43.67806],[-79.35454,43.6779],[-79.35554,43.6777],[-79.35685,43.67745],[-79.35789,43.67726],[-79.35804,43.67724],[-79.35819,43.67719],[-79.35832,43.67711],[-79.35879,43.67684],[-79.3598,43.67624],[-79.35999,43.67612],[-79.36019,43.67602],[-79.3604,43.67593],[-79.36065,43.67586],[-79.36153,43.67569],[-79.36426,43.67516],[-79.36663,43.6747],[-79.36709,43.67454],[-79.36833,43.67397],[-79.36947,43.67329],[-79.37008,43.67295],[-79.37039,43.67276],[-79.37089,43.67256],[-79.37141,43.6724],[-79.37192,43.6723],[-79.37262,43.67224],[-79.37322,43.67222],[-79.374,43.67226],[-79.3759,43.67246],[-79.37617,43.67246],[-79.37642,43.67243],[-79.37685,43.67236],[-79.37905,43.67192],[-79.37946,43.67183],[-79.38056,43.67161],[-79.3815,43.67142],[-79.38252,43.6712],[-79.38318,43.67112],[-79.38376,43.67107],[-79.38412,43.67105],[-79.38448,43.67106],[-79.38487,43.67107],[-79.38524,43.67107],[-79.38572,43.671],[-79.38744,43.67074],[-79.38917,43.67039],[-79.38987,43.67022],[-79.39,43.67018],[-79.39101,43.66998],[-79.39145,43.66989],[-79.39454,43.66929],[-79.39627,43.6689],[-79.39684,43.66878],[-79.39764,43.66863],[-79.39785,43.66859],[-79.39863,43.66843],[-79.39884,43.66838],[-79.39931,43.66828],[-79.40002,43.66813],[-79.40023,43.66809],[-79.40177,43.66777],[-79.40198,43.66773],[-79.40214,43.66769],[-79.4031,43.66747],[-79.40397,43.66729],[-79.40426,43.66723],[-79.40491,43.66709],[-79.40575,43.66693],[-79.40667,43.66673],[-79.40707,43.66664],[-79.40787,43.66648],[-79.40907,43.66625],[-79.40986,43.66607],[-79.41052,43.66594],[-79.41149,43.66573],[-79.41296,43.66543],[-79.41417,43.66516],[-79.41512,43.66486],[-79.41589,43.66464],[-79.41654,43.66446],[-79.41764,43.66423],[-79.41835,43.66408],[-79.41876,43.66399],[-79.41929,43.66387],[-79.42146,43.66341],[-79.42261,43.66316],[-79.42381,43.66289],[-79.42498,43.66263],[-79.42519,43.66258],[-79.42594,43.66242],[-79.42639,43.66233],[-79.4274,43.66212],[-79.42808,43.66198],[-79.42877,43.6618],[-79.42935,43.66161],[-79.43015,43.66138],[-79.43152,43.66104],[-79.43206,43.66091],[-79.43282,43.66074],[-79.4333,43.66064],[-79.43413,43.66046],[-79.43441,43.66042],[-79.43547,43.6602],[-79.43566,43.66016],[-79.43674,43.65993],[-79.4379,43.65971],[-79.43881,43.65952],[-79.43951,43.65942],[-79.43986,43.6594],[-79.44013,43.65941],[-79.44067,43.6594],[-79.44138,43.65935],[-79.44262,43.65913],[-79.44548,43.65861],[-79.45016,43.65775],[-79.45057,43.65763],[-79.45128,43.65746],[-79.45241,43.65718],[-79.45267,43.65712],[-79.45346,43.6569],[-79.45423,43.65672],[-79.45537,43.65647],[-79.45732,43.65602],[-79.45747,43.65598],[-79.45908,43.65565],[-79.45924,43.65562],[-79.45985,43.65548],[-79.46047,43.65533],[-79.46146,43.65512],[-79.46276,43.65483],[-79.46413,43.65453],[-79.46572,43.65416],[-79.46622,43.65406],[-79.46733,43.65383],[-79.46903,43.65339],[-79.47034,43.65309],[-79.47149,43.65283],[-79.4721,43.65269],[-79.47318,43.65245],[-79.47433,43.65208],[-79.47462,43.65201],[-79.47542,43.65183],[-79.47576,43.65175],[-79.47621,43.65166],[-79.47656,43.65159],[-79.47749,43.65137],[-79.47793,43.65128],[-79.47842,43.65117],[-79.47934,43.65096],[-79.48072,43.65067],[-79.48122,43.65055],[-79.48252,43.65027],[-79.48305,43.65013],[-79.48446,43.6498],[-79.48464,43.64975],[-79.48483,43.64971],[-79.48507,43.64961],[-79.48538,43.64945],[-79.4857,43.64924],[-79.48598,43.64907],[-79.48619,43.64893],[-79.48627,43.64885],[-79.4864,43.64877],[-79.48655,43.6487],[-79.4867,43.64865],[-79.48707,43.64855],[-79.48745,43.64845],[-79.48777,43.6484],[-79.48812,43.64837],[-79.48851,43.64835],[-79.48927,43.64838],[-79.49004,43.64839],[-79.4909,43.64856],[-79.49141,43.64874],[-79.49403,43.64973],[-79.49425,43.6498],[-79.49492,43.65002],[-79.49509,43.65008],[-79.49527,43.65014],[-79.49642,43.65037],[-79.49711,43.6505],[-79.49749,43.65059],[-79.49787,43.65065],[-79.49841,43.65067],[-79.49873,43.65069],[-79.49911,43.65071],[-79.49952,43.6507],[-79.49972,43.65067],[-79.50007,43.65061],[-79.50235,43.6501],[-79.50351,43.64984],[-79.50462,43.64957],[-79.50576,43.64933],[-79.50644,43.64916],[-79.51073,43.64826],[-79.51129,43.64812],[-79.51185,43.64797],[-79.51276,43.64776],[-79.5139,43.64751],[-79.51406,43.64747],[-79.51454,43.64736],[-79.51488,43.64731],[-79.51611,43.64702],[-79.51735,43.64674],[-79.51932,43.6464],[-79.52056,43.64621],[-79.52156,43.64602],[-79.52283,43.64575],[-79.52397,43.64547],[-79.5246,43.64533],[-79.52507,43.64523],[-79.52617,43.64502],[-79.5271,43.64479],[-79.52766,43.64445],[-79.52801,43.64415],[-79.52815,43.64395],[-79.52833,43.6437],[-79.52851,43.64345],[-79.52873,43.64319],[-79.53127,43.64102],[-79.53389,43.63891],[-79.53628,43.63694]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-79.38052,43.64456],[-79.38897,43.64283],[-79.39357,43.64188],[-79.39567,43.64145],[-79.39876,43.6409],[-79.3991,43.64083],[-79.39932,43.64078],[-79.3999,43.64069],[-79.40179,43.64048],[-79.4022,43.64044],[-79.4038,43.64028],[-79.40489,43.64021],[-79.4059,43.64017],[-79.40643,43.64015],[-79.40751,43.64015],[-79.40798,43.64017],[-79.40884,43.64018],[-79.40981,43.64022],[-79.41128,43.64028],[-79.41664,43.64048],[-79.41833,43.64055],[-79.41966,43.6406],[-79.42097,43.64065],[-79.42199,43.64069],[-79.4225,43.64073],[-79.42318,43.64081],[-79.42365,43.64088],[-79.42432,43.64101],[-79.42494,43.64116],[-79.42544,43.6413],[-79.42587,43.64143],[-79.42631,43.64157],[-79.42664,43.64168],[-79.42698,43.64182],[-79.42721,43.64191],[-79.42758,43.64207],[-79.42794,43.64223],[-79.42836,43.64243],[-79.42877,43.64262],[-79.42931,43.64287],[-79.42974,43.64308],[-79.4304,43.64338],[-79.43102,43.64366],[-79.43413,43.64513],[-79.4344,43.64526],[-79.43651,43.6462],[-79.43886,43.64732],[-79.43898,43.64738],[-79.43924,43.64752],[-79.43932,43.64756],[-79.4399,43.64786],[-79.44039,43.64815],[-79.44098,43.64892],[-79.44131,43.6493],[-79.44164,43.64974],[-79.44181,43.65],[-79.44207,43.65041],[-79.44236,43.65092],[-79.44262,43.65149],[-79.44515,43.65774],[-79.44519,43.65785],[-79.44548,43.65861],[-79.4457,43.65919],[-79.44678,43.66185],[-79.44899,43.66727],[-79.44924,43.66788],[-79.44944,43.66829],[-79.4498,43.66894],[-79.45011,43.66942],[-79.45049,43.66996],[-79.45201,43.67187],[-79.45234,43.67221],[-79.45291,43.6727],[-79.4535,43.67311],[-79.45433,43.67364],[-79.45495,43.67408],[-79.45519,43.67428],[-79.45547,43.67454],[-79.45586,43.67501],[-79.45598,43.67517],[-79.45618,43.67544],[-79.45638,43.67574],[-79.4572,43.67712],[-79.45794,43.67816],[-79.45883,43.67953],[-79.46105,43.68288],[-79.46126,43.68323],[-79.46141,43.68353],[-79.46154,43.68383],[-79.46167,43.6842],[-79.46181,43.68457],[-79.46249,43.68738],[-79.46279,43.68862],[-79.46291,43.68899],[-79.46307,43.68943],[-79.46332,43.68997],[-79.46373,43.69076],[-79.46408,43.69134],[-79.46462,43.69217],[-79.4647,43.69231],[-79.46493,43.69271],[-79.46519,43.69324],[-79.46541,43.69379],[-79.46576,43.695],[-79.46652,43.69777],[-79.46678,43.69867],[-79.46806,43.70308],[-79.46848,43.70469],[-79.46881,43.7061],[-79.46972,43.71064],[-79.46974,43.71074],[-79.47008,43.71243],[-79.47204,43.72239],[-79.47245,43.72454],[-79.47318,43.72812],[-79.47339,43.72916],[-79.47359,43.73014],[-79.47375,43.73094],[-79.47591,43.74153],[-79.47612,43.74255],[-79.4771,43.74749],[-79.47762,43.74992],[-79.47833,43.75361],[-79.47852,43.75459],[-79.47882,43.75602],[-79.47929,43.7585],[-79.47997,43.76182],[-79.48002,43.76207],[-79.48072,43.76562],[-79.48075,43.76576],[-79.4808,43.76601],[-79.48188,43.77151],[-79.48231,43.77356],[-79.48256,43.77463],[-79.48301,43.77697],[-79.48339,43.77887],[-79.48348,43.77933],[-79.48433,43.78362],[-79.48439,43.78386],[-79.48458,43.78459],[-79.48496,43.78609],[-79.48526,43.7875],[-79.48537,43.78797],[-79.48569,43.78995],[-79.48626,43.79296],[-79.48641,43.79373],[-79.48669,43.79506],[-79.48702,43.79672],[-79.48709,43.79707],[-79.48717,43.79748],[-79.4877,43.80012],[-79.48809,43.80231],[-79.4882,43.80279],[-79.48849,43.80417],[-79.48904,43.80699],[-79.4892,43.80793],[-79.48943,43.80885],[-79.48961,43.80946],[-79.48989,43.81024],[-79.49027,43.81112],[-79.49054,43.81162],[-79.49076,43.81202],[-79.49112,43.81263],[-79.4922,43.81426],[-79.49274,43.81504],[-79.49369,43.81649],[-79.49396,43.81699],[-79.49409,43.81727],[-79.49454,43.81836],[-79.49472,43.81883],[-79.49484,43.81923],[-79.49509,43.82031],[-79.49554,43.82285],[-79.4964,43.82774],[-79.49811,43.8375],[-79.49846,43.8395],[-79.49937,43.84434],[-79.49948,43.84488],[-79.49961,43.84533],[-79.49971,43.84561],[-79.49987,43.84594],[-79.50008,43.84636],[-79.50094,43.84775],[-79.50344,43.85134],[-79.50479,43.85336],[-79.50592,43.85498],[-79.5063,43.85565],[-79.50646,43.85597],[-79.50659,43.8564],[-79.50666,43.85676],[-79.5067,43.857],[-79.50674,43.85743],[-79.5068,43.85798],[-79.5069,43.85852],[-79.50708,43.85922],[-79.5072,43.85959],[-79.50732,43.85993],[-79.50789,43.8613],[-79.50813,43.86178],[-79.50843,43.86231],[-79.50913,43.86343],[-79.50973,43.86444],[-79.51169,43.86762],[-79.51188,43.86789],[-79.5131,43.8699],[-79.51452,43.87215],[-79.51587,43.87434],[-79.51652,43.87532],[-79.51817,43.87741],[-79.51944,43.87903],[-79.52012,43.87993],[-79.52111,43.88125],[-79.5221,43.8825],[-79.52308,43.88377],[-79.52331,43.88414],[-79.52373,43.88495],[-79.524,43.88559],[-79.52405,43.88575],[-79.52413,43.88618],[-79.52445,43.88938],[-79.52461,43.89095],[-79.52468,43.89182],[-79.52472,43.89247],[-79.52472,43.89284],[-79.52473,43.89328],[-79.52469,43.89375],[-79.52459,43.8943],[-79.52445,43.89507],[-79.52441,43.89551],[-79.52441,43.89621],[-79.52442,43.89626],[-79.52464,43.89874],[-79.52551,43.90839],[-79.52628,43.91696],[-79.52648,43.91816],[-79.52666,43.91888],[-79.52674,43.91915],[-79.52697,43.91985],[-79.52754,43.92195],[-79.52824,43.92444],[-79.52838,43.92486],[-79.52872,43.92617],[-79.52878,43.92633],[-79.52883,43.9266],[-79.52888,43.92703],[-79.5289,43.92742],[-79.52888,43.92776],[-79.52874,43.92847],[-79.52854,43.92893],[-79.52825,43.92942],[-79.52782,43.92998],[-79.52744,43.9304],[-79.52724,43.93059],[-79.52678,43.93096],[-79.5261,43.93138],[-79.52544,43.9317],[-79.52459,43.93205],[-79.5199,43.93355],[-79.51441,43.93554],[-79.51293,43.93608],[-79.50989,43.93717],[-79.50454,43.93909],[-79.50441,43.93914],[-79.50397,43.9393],[-79.50338,43.93956],[-79.50316,43.93966],[-79.50288,43.9398],[-79.5025,43.94],[-79.50222,43.94017],[-79.50166,43.9406],[-79.50153,43.94072],[-79.5013,43.94093],[-79.50115,43.9411],[-79.50066,43.94177],[-79.50008,43.9426],[-79.49983,43.94296],[-79.49913,43.94398],[-79.49885,43.94439],[-79.49813,43.94544],[-79.4956,43.9491],[-79.49515,43.94973],[-79.4944,43.95081],[-79.49245,43.95366],[-79.49198,43.95431],[-79.48879,43.95894],[-79.4886,43.9592],[-79.4884,43.95948],[-79.48818,43.95977],[-79.48794,43.96004],[-79.48768,43.96029],[-79.48743,43.9605],[-79.48725,43.96063],[-79.48694,43.96087],[-79.48646,43.96118],[-79.48606,43.9614],[-79.48551,43.96164],[-79.48461,43.96193],[-79.48175,43.96263],[-79.48086,43.96284],[-79.47991,43.96309],[-79.47906,43.96343],[-79.47848,43.96369],[-79.47785,43.96404],[-79.47729,43.96437],[-79.47652,43.96486],[-79.47583,43.96537],[-79.4752,43.96596],[-79.47481,43.96642],[-79.47445,43.96694],[-79.47425,43.9673],[-79.47346,43.96943],[-79.47298,43.97084],[-79.47277,43.97154],[-79.4726,43.97226],[-79.4725,43.97297],[-79.47232,43.97442],[-79.47217,43.97505],[-79.47202,43.97544],[-79.47184,43.97582],[-79.47163,43.97613],[-79.47134,43.97649],[-79.47112,43.97674],[-79.47086,43.97697],[-79.47047,43.97729],[-79.46966,43.97785],[-79.46925,43.97811],[-79.46505,43.98054],[-79.46337,43.98153],[-79.46322,43.98162],[-79.46297,43.98176],[-79.46192,43.98238],[-79.45861,43.98435],[-79.45797,43.98477],[-79.45751,43.98515],[-79.45716,43.98549],[-79.45688,43.98582],[-79.45664,43.98616],[-79.45643,43.98653],[-79.45613,43.98727],[-79.45602,43.98781],[-79.45597,43.98824],[-79.45596,43.98872],[-79.45603,43.9892],[-79.45612,43.98957],[-79.45617,43.9897],[-79.45899,43.99811],[-79.45945,43.9995]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-79.38052,43.64456],[-79.37866,43.64495],[-79.37809,43.64507],[-79.37747,43.6452],[-79.37727,43.64524],[-79.3771,43.64527],[-79.37688,43.64531],[-79.37657,43.64536],[-79.37645,43.64537],[-79.37614,43.64542],[-79.37551,43.64552],[-79.37522,43.64556],[-79.37413,43.64576],[-79.37349,43.64583],[-79.37315,43.64587],[-79.37278,43.64592],[-79.3722,43.64599],[-79.37148,43.64614],[-79.37114,43.64621],[-79.37048,43.64636],[-79.36981,43.6465],[-79.36893,43.64668],[-79.36806,43.64687],[-79.36663,43.64717],[-79.36633,43.64724],[-79.3649,43.64754],[-79.3634,43.64786],[-79.36268,43.64802],[-79.36238,43.64808],[-79.36213,43.64814],[-79.3619,43.6482],[-79.3614,43.64834],[-79.36105,43.64845],[-79.36049,43.64863],[-79.35979,43.64887],[-79.35804,43.64946],[-79.35707,43.64979],[-79.35685,43.64987],[-79.35658,43.64996],[-79.35641,43.65003],[-79.35626,43.65009],[-79.35609,43.65017],[-79.35572,43.65036],[-79.35531,43.65058],[-79.35345,43.65158],[-79.35278,43.65193],[-79.35203,43.65234],[-79.35152,43.65262],[-79.35121,43.65278],[-79.35076,43.65302],[-79.35031,43.65326],[-79.35001,43.65342],[-79.34921,43.65386],[-79.34902,43.65397],[-79.34882,43.6541],[-79.34862,43.65423],[-79.3484,43.65439],[-79.34819,43.65456],[-79.34799,43.65472],[-79.34774,43.65495],[-79.34758,43.6551],[-79.34745,43.65523],[-79.34718,43.65556],[-79.34701,43.65577],[-79.34688,43.65595],[-79.34672,43.65619],[-79.3466,43.6564],[-79.34649,43.6566],[-79.34639,43.65675],[-79.34636,43.65689],[-79.34627,43.65709],[-79.34618,43.65736],[-79.34611,43.6576],[-79.34605,43.65789],[-79.34601,43.65815],[-79.34596,43.65845],[-79.34592,43.65881],[-79.34587,43.65927],[-79.34582,43.65968],[-79.34579,43.65992],[-79.3457,43.66063],[-79.34566,43.66093],[-79.34562,43.66123],[-79.34558,43.66148],[-79.34555,43.66169],[-79.3455,43.66191],[-79.34544,43.66216],[-79.34538,43.66241],[-79.34534,43.66257],[-79.34524,43.66287],[-79.34515,43.66314],[-79.34507,43.66335],[-79.34495,43.66365],[-79.34477,43.66408],[-79.34458,43.66446],[-79.34439,43.6648],[-79.34423,43.66508],[-79.34401,43.66542],[-79.3437,43.66589],[-79.34343,43.6663],[-79.34321,43.66662],[-79.34304,43.66685],[-79.34274,43.66724],[-79.34249,43.66753],[-79.34242,43.66762],[-79.34219,43.66788],[-79.34212,43.66796],[-79.34189,43.66819],[-79.34156,43.66852],[-79.34131,43.66876],[-79.341,43.66904],[-79.34072,43.66929],[-79.33994,43.66993],[-79.33878,43.67076],[-79.3378,43.67139],[-79.33686,43.67192],[-79.33665,43.67203],[-79.33602,43.67234],[-79.33566,43.6725],[-79.33457,43.67298],[-79.33346,43.67344],[-79.32986,43.67485],[-79.32943,43.67502],[-79.32619,43.67629],[-79.32324,43.67745],[-79.32128,43.67819],[-79.31484,43.68075],[-79.31112,43.68219],[-79.3061,43.68414],[-79.30385,43.68502],[-79.30324,43.68528],[-79.30229,43.68566],[-79.30155,43.68593],[-79.30091,43.68615],[-79.30028,43.68633],[-79.29965,43.68651],[-79.29905,43.68665],[-79.2973,43.68705],[-79.29694,43.68714],[-79.29525,43.68753],[-79.29297,43.68803],[-79.2903,43.68863],[-79.28732,43.68931],[-79.28556,43.68968],[-79.28026,43.6909],[-79.27909,43.69119],[-79.27785,43.69155],[-79.2772,43.69176],[-79.27626,43.6921],[-79.2753,43.69251],[-79.27442,43.6929],[-79.27365,43.69328],[-79.27253,43.69391],[-79.27205,43.6942],[-79.27102,43.6949],[-79.27094,43.69496],[-79.27003,43.69565],[-79.26981,43.69584],[-79.26904,43.69653],[-79.26836,43.69722],[-79.26732,43.69845],[-79.26668,43.69931],[-79.26557,43.70099],[-79.26136,43.70737],[-79.25917,43.71069],[-79.25894,43.71103],[-79.2587,43.71137],[-79.25777,43.71283],[-79.25717,43.71377],[-79.25667,43.71453],[-79.25539,43.71644],[-79.25483,43.71726],[-79.25452,43.71771],[-79.25406,43.71838],[-79.2536,43.71906],[-79.25302,43.71992],[-79.25201,43.72143],[-79.24789,43.72775],[-79.24735,43.72851],[-79.24687,43.72915],[-79.24619,43.72992],[-79.24565,43.73048],[-79.24535,43.73076],[-79.24477,43.73129],[-79.24431,43.73168],[-79.24373,43.73212],[-79.24313,43.73255],[-79.24251,43.73297],[-79.23997,43.73457],[-79.2373,43.73623],[-79.237,43.73642],[-79.23597,43.73706],[-79.2307,43.74035],[-79.23061,43.74041],[-79.23032,43.7406],[-79.22967,43.74101],[-79.22784,43.74219],[-79.22647,43.74317],[-79.22489,43.74441],[-79.22428,43.74492],[-79.22368,43.74544],[-79.22251,43.74657],[-79.22203,43.74701],[-79.22121,43.74765],[-79.22097,43.74782],[-79.22058,43.74806],[-79.21994,43.74841],[-79.21929,43.74872],[-79.21864,43.74899],[-79.21805,43.7492],[-79.21727,43.74942],[-79.21359,43.75035],[-79.21302,43.75052],[-79.21245,43.75071],[-79.21112,43.75123],[-79.20931,43.75203],[-79.20781,43.75267],[-79.20753,43.75278],[-79.20702,43.75296],[-79.20645,43.75315],[-79.20565,43.7534],[-79.20452,43.75368],[-79.20291,43.754],[-79.20213,43.75417],[-79.20115,43.75439],[-79.19831,43.75493],[-79.19809,43.75498],[-79.19713,43.75516],[-79.19555,43.75546],[-79.19215,43.7561],[-79.1917,43.75618],[-79.19044,43.75642],[-79.18887,43.75672],[-79.18584,43.7573],[-79.1819,43.75808],[-79.17867,43.7587],[-79.17403,43.7596],[-79.17179,43.76004],[-79.1688,43.76061],[-79.16621,43.7611],[-79.16451,43.76144],[-79.16332,43.7617],[-79.1619,43.76205],[-79.15803,43.76303],[-79.15191,43.7646],[-79.15027,43.76502],[-79.14922,43.76534],[-79.14881,43.76547],[-79.14806,43.76575],[-79.14742,43.76602],[-79.1469,43.76627],[-79.1463,43.76658],[-79.14564,43.76697],[-79.14487,43.76745],[-79.14122,43.76974],[-79.13971,43.77075],[-79.13862,43.77154],[-79.13785,43.77218],[-79.13743,43.77256],[-79.13618,43.77379],[-79.13506,43.77498],[-79.13087,43.77947],[-79.13066,43.7797],[-79.12949,43.78095],[-79.12624,43.78443],[-79.1255,43.78523],[-79.12327,43.78764],[-79.12279,43.78818],[-79.12177,43.78951],[-79.12152,43.78984],[-79.12045,43.79127],[-79.11761,43.7952],[-79.11717,43.79589],[-79.11688,43.79639],[-79.11659,43.79694],[-79.11634,43.79747],[-79.11607,43.79811],[-79.1159,43.79858],[-79.11575,43.7991],[-79.11559,43.79974],[-79.11544,43.80048],[-79.11535,43.8011],[-79.11527,43.80187],[-79.11504,43.80545],[-79.11496,43.80676],[-79.11473,43.80951],[-79.11462,43.81042],[-79.11441,43.81146],[-79.11426,43.81201],[-79.11403,43.81272],[-79.11386,43.81317],[-79.11363,43.8137],[-79.11341,43.81414],[-79.11338,43.81422],[-79.11306,43.8148],[-79.11271,43.81537],[-79.11226,43.81602],[-79.11191,43.81648],[-79.11137,43.81713],[-79.11088,43.81767],[-79.11032,43.81825],[-79.10978,43.81875],[-79.10921,43.81924],[-79.1087,43.81965],[-79.10801,43.82016],[-79.10756,43.82046],[-79.107,43.82082],[-79.10589,43.82144],[-79.10502,43.82187],[-79.10405,43.82233],[-79.10192,43.82331],[-79.1017,43.82343],[-79.10119,43.82369],[-79.10019,43.82419],[-79.09948,43.82457],[-79.09835,43.82516],[-79.09795,43.82541],[-79.09741,43.82579],[-79.09679,43.8262],[-79.09662,43.82632],[-79.09653,43.82636],[-79.09629,43.82648],[-79.09596,43.82665],[-79.09147,43.82846],[-79.0908,43.82875],[-79.09031,43.82898],[-79.08934,43.82943],[-79.08828,43.82991],[-79.08731,43.83037],[-79.08682,43.83058],[-79.08614,43.8309],[-79.0846,43.83162],[-79.08427,43.83177],[-79.0841,43.83184],[-79.08346,43.83214],[-79.08259,43.83256],[-79.0817,43.833],[-79.08046,43.83363],[-79.07951,43.8341],[-79.07796,43.83484],[-79.07717,43.83518],[-79.07654,43.83544],[-79.07497,43.8361],[-79.07472,43.8362],[-79.07321,43.83683],[-79.07273,43.83703],[-79.07014,43.83819],[-79.06994,43.83829],[-79.06905,43.83872],[-79.06834,43.83906],[-79.06589,43.84031],[-79.06351,43.84147],[-79.0622,43.84208],[-79.06103,43.84262],[-79.05692,43.84451],[-79.05592,43.84492],[-79.05559,43.84504],[-79.05494,43.84527],[-79.05417,43.84552],[-79.0538,43.84563],[-79.05344,43.84573],[-79.05268,43.84593],[-79.05248,43.84597],[-79.05228,43.84602],[-79.05036,43.84641],[-79.0501,43.84646],[-79.04723,43.84703],[-79.04569,43.84732],[-79.04343,43.8478],[-79.04227,43.84806],[-79.04035,43.84849],[-79.04027,43.84852],[-79.03741,43.84916],[-79.0366,43.84934],[-79.03587,43.8495],[-79.03418,43.84988],[-79.02985,43.85086],[-79.02685,43.85153],[-79.02537,43.85185],[-79.02386,43.85215],[-79.02218,43.85252],[-79.02209,43.85254],[-79.01939,43.85315],[-79.01712,43.8537],[-79.01493,43.8542],[-79.01194,43.85487],[-79.00899,43.85551],[-78.99938,43.85767],[-78.9957,43.85851],[-78.99404,43.85889],[-78.99109,43.85953],[-78.98265,43.86144],[-78.98218,43.86155],[-78.97732,43.86264],[-78.97643,43.86284],[-78.96337,43.86576],[-78.96247,43.86595],[-78.96125,43.86621],[-78.95994,43.86644],[-78.95865,43.8666],[-78.95756,43.86668],[-78.9567,43.86673],[-78.95546,43.86675],[-78.95476,43.86673],[-78.9536,43.86668],[-78.9525,43.86659],[-78.94557,43.86584],[-78.94187,43.86543],[-78.94124,43.86533],[-78.93968,43.86505],[-78.93822,43.86481],[-78.93589,43.86441],[-78.93565,43.86437],[-78.93511,43.86429],[-78.93367,43.8641],[-78.93324,43.86404],[-78.93179,43.8638],[-78.9297,43.86352],[-78.92944,43.86349],[-78.92906,43.86344],[-78.92725,43.86318],[-78.92466,43.86284],[-78.92237,43.86255],[-78.91942,43.86217],[-78.91823,43.86206],[-78.91745,43.862],[-78.91667,43.86196],[-78.91587,43.86194],[-78.91508,43.86195],[-78.91416,43.86198],[-78.91358,43.86202],[-78.9124,43.86213],[-78.91177,43.8622],[-78.91106,43.86231],[-78.91041,43.86243],[-78.90972,43.86257],[-78.9093,43.86266],[-78.90823,43.86292],[-78.90718,43.86324],[-78.90357,43.86444],[-78.90257,43.86477],[-78.90122,43.86523],[-78.89886,43.86604],[-78.89425,43.86761],[-78.88924,43.86932],[-78.88691,43.87011],[-78.88505,43.87075]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-79.38052,43.64456],[-79.37866,43.64495],[-79.37809,43.64507],[-79.37747,43.6452],[-79.37727,43.64524],[-79.3771,43.64527],[-79.37688,43.64531],[-79.37657,43.64536],[-79.37645,43.64537],[-79.37614,43.64542],[-79.37551,43.64552],[-79.37522,43.64556],[-79.37413,43.64576],[-79.37349,43.64583],[-79.37315,43.64587],[-79.37278,43.64592],[-79.3722,43.64599],[-79.37148,43.64614],[-79.37114,43.64621],[-79.37048,43.64636],[-79.36981,43.6465],[-79.36893,43.64668],[-79.36806,43.64687],[-79.36663,43.64717],[-79.36633,43.64724],[-79.3649,43.64754],[-79.3634,43.64786],[-79.36268,43.64802],[-79.36238,43.64808],[-79.36213,43.64814],[-79.3619,43.6482],[-79.3614,43.64834],[-79.36105,43.64845],[-79.36049,43.64863],[-79.35979,43.64887],[-79.35804,43.64946],[-79.35707,43.64979],[-79.35685,43.64987],[-79.35658,43.64996],[-79.35641,43.65003],[-79.35626,43.65009],[-79.35609,43.65017],[-79.35572,43.65036],[-79.35531,43.65058],[-79.35345,43.65158],[-79.35278,43.65193],[-79.35203,43.65234],[-79.35152,43.65262],[-79.35121,43.65278],[-79.35076,43.65302],[-79.35031,43.65326],[-79.35001,43.65342],[-79.34921,43.65386],[-79.34902,43.65397],[-79.34882,43.6541],[-79.34862,43.65423],[-79.3484,43.65439],[-79.34819,43.65456],[-79.34799,43.65472],[-79.34774,43.65495],[-79.34758,43.6551],[-79.34745,43.65523],[-79.34718,43.65556],[-79.34701,43.65577],[-79.34688,43.65595],[-79.34672,43.65619],[-79.3466,43.6564],[-79.34649,43.6566],[-79.34639,43.65675],[-79.34636,43.65689],[-79.34627,43.65709],[-79.34618,43.65736],[-79.34611,43.6576],[-79.34605,43.65789],[-79.34601,43.65815],[-79.34596,43.65845],[-79.34592,43.65881],[-79.34587,43.65927],[-79.34582,43.65968],[-79.34579,43.65992],[-79.3457,43.66063],[-79.34566,43.66093],[-79.34562,43.66123],[-79.34558,43.66148],[-79.34555,43.66169],[-79.3455,43.66191],[-79.34544,43.66216],[-79.34538,43.66241],[-79.34534,43.66257],[-79.34524,43.66287],[-79.34515,43.66314],[-79.34507,43.66335],[-79.34495,43.66365],[-79.34477,43.66408],[-79.34458,43.66446],[-79.34439,43.6648],[-79.34423,43.66508],[-79.34401,43.66542],[-79.3437,43.66589],[-79.34343,43.6663],[-79.34321,43.66662],[-79.34304,43.66685],[-79.34274,43.66724],[-79.34249,43.66753],[-79.34242,43.66762],[-79.34219,43.66788],[-79.34212,43.66796],[-79.34189,43.66819],[-79.34156,43.66852],[-79.34131,43.66876],[-79.341,43.66904],[-79.34072,43.66929],[-79.33994,43.66993],[-79.33878,43.67076],[-79.3378,43.67139],[-79.33686,43.67192],[-79.33665,43.67203],[-79.33602,43.67234],[-79.33566,43.6725],[-79.33457,43.67298],[-79.33346,43.67344],[-79.32986,43.67485],[-79.32943,43.67502],[-79.32619,43.67629],[-79.32324,43.67745],[-79.32128,43.67819],[-79.31484,43.68075],[-79.31112,43.68219],[-79.3061,43.68414],[-79.30385,43.68502],[-79.30324,43.68528],[-79.30229,43.68566],[-79.30155,43.68593],[-79.30091,43.68615],[-79.30028,43.68633],[-79.29965,43.68651],[-79.29905,43.68665],[-79.2973,43.68705],[-79.29694,43.68714],[-79.29525,43.68753],[-79.29297,43.68803],[-79.2903,43.68863],[-79.28732,43.68931],[-79.28556,43.68968],[-79.28026,43.6909],[-79.27909,43.69119],[-79.27785,43.69155],[-79.2772,43.69176],[-79.27626,43.6921],[-79.2753,43.69251],[-79.27442,43.6929],[-79.27365,43.69328],[-79.27253,43.69391],[-79.27205,43.6942],[-79.27102,43.6949],[-79.27094,43.69496],[-79.27003,43.69565],[-79.26981,43.69584],[-79.26904,43.69653],[-79.26836,43.69722],[-79.26732,43.69845],[-79.26668,43.69931],[-79.26557,43.70099],[-79.26136,43.70737],[-79.25917,43.71069],[-79.25894,43.71103],[-79.2587,43.71137],[-79.25777,43.71283],[-79.25717,43.71377],[-79.25667,43.71453],[-79.25539,43.71644],[-79.25483,43.71726],[-79.25452,43.71771],[-79.25406,43.71838],[-79.2536,43.71906],[-79.25302,43.71992],[-79.25292,43.72174],[-79.25298,43.72201],[-79.25311,43.72237],[-79.2533,43.72281],[-79.25348,43.72319],[-79.2537,43.72366],[-79.25423,43.72462],[-79.25441,43.72489],[-79.25458,43.7251],[-79.25489,43.72543],[-79.2554,43.72588],[-79.25583,43.7262],[-79.25633,43.7265],[-79.25689,43.72678],[-79.25748,43.72703],[-79.25809,43.72725],[-79.25875,43.72745],[-79.25914,43.7276],[-79.25955,43.72779],[-79.25988,43.72799],[-79.26031,43.72831],[-79.26069,43.72868],[-79.26096,43.72903],[-79.2612,43.72945],[-79.26211,43.73167],[-79.2627,43.73291],[-79.26295,43.73345],[-79.26588,43.74027],[-79.26661,43.74202],[-79.26826,43.74585],[-79.2698,43.74955],[-79.2699,43.74984],[-79.26997,43.75013],[-79.27003,43.7504],[-79.27005,43.7505],[-79.27008,43.7507],[-79.27017,43.75112],[-79.27028,43.75154],[-79.2704,43.75189],[-79.27131,43.75426],[-79.27158,43.75494],[-79.27577,43.7658],[-79.27614,43.76687],[-79.27634,43.76744],[-79.27669,43.76848],[-79.27673,43.76858],[-79.27844,43.77305],[-79.27949,43.77579],[-79.27974,43.77643],[-79.28021,43.77765],[-79.2812,43.78003],[-79.28171,43.78117],[-79.28194,43.7817],[-79.28246,43.78292],[-79.2828,43.7836],[-79.28304,43.78399],[-79.28328,43.78435],[-79.28352,43.7847],[-79.28379,43.78512],[-79.28398,43.78549],[-79.28423,43.78607],[-79.28437,43.7864],[-79.28519,43.78831],[-79.28607,43.79038],[-79.28684,43.79216],[-79.2883,43.79553],[-79.28911,43.79748],[-79.28987,43.79918],[-79.29009,43.79974],[-79.2906,43.80093],[-79.29082,43.80135],[-79.29107,43.80176],[-79.29157,43.80247],[-79.2916,43.80252],[-79.29166,43.80261],[-79.29181,43.80278],[-79.29246,43.80367],[-79.29267,43.80399],[-79.29293,43.80449],[-79.29403,43.80684],[-79.29477,43.80849],[-79.29701,43.81336],[-79.29914,43.818],[-79.30037,43.82075],[-79.30059,43.82118],[-79.30146,43.82305],[-79.30179,43.82376],[-79.30228,43.8248],[-79.30253,43.82534],[-79.30282,43.82586],[-79.30305,43.82619],[-79.30323,43.8264],[-79.30362,43.82683],[-79.30673,43.83007],[-79.30679,43.83013],[-79.3078,43.83119],[-79.30838,43.83177],[-79.31021,43.83369],[-79.31084,43.83431],[-79.31117,43.83464],[-79.31215,43.83562],[-79.31243,43.83589],[-79.31302,43.83649],[-79.31319,43.83666],[-79.31344,43.83696],[-79.31369,43.83727],[-79.31387,43.83755],[-79.3141,43.83797],[-79.3142,43.83819],[-79.31441,43.83876],[-79.31477,43.83988],[-79.3149,43.84028],[-79.31505,43.84086],[-79.31517,43.84148],[-79.31525,43.84183],[-79.31533,43.84217],[-79.31545,43.84277],[-79.31557,43.8433],[-79.3157,43.8439],[-79.31574,43.84413],[-79.31577,43.84435],[-79.31579,43.8446],[-79.3158,43.8449],[-79.3158,43.84504],[-79.31579,43.84518],[-79.31577,43.84534],[-79.31575,43.84547],[-79.31573,43.84563],[-79.31568,43.84588],[-79.31555,43.84655],[-79.3154,43.84726],[-79.31527,43.84793],[-79.31519,43.84838],[-79.31513,43.84876],[-79.31483,43.85093],[-79.31455,43.85303],[-79.31455,43.85308],[-79.31452,43.85326],[-79.31355,43.86051],[-79.31338,43.86175],[-79.31329,43.86209],[-79.31319,43.86235],[-79.31296,43.86281],[-79.31278,43.8631],[-79.3126,43.86335],[-79.31242,43.86354],[-79.31225,43.86369],[-79.31199,43.8639],[-79.31155,43.86421],[-79.31118,43.86442],[-79.31081,43.86461],[-79.30901,43.86537],[-79.30633,43.8665],[-79.30411,43.86743],[-79.30251,43.86811],[-79.30178,43.86844],[-79.30099,43.86886],[-79.3003,43.86928],[-79.29944,43.86988],[-79.29805,43.87093],[-79.29766,43.87118],[-79.29722,43.87143],[-79.29693,43.87156],[-79.2965,43.87173],[-79.29598,43.87191],[-79.29189,43.87301],[-79.29046,43.87342],[-79.28888,43.87384],[-79.28858,43.87392],[-79.28849,43.87394],[-79.28618,43.87457],[-79.284,43.87517],[-79.28319,43.87541],[-79.28078,43.87604],[-79.27043,43.87851],[-79.26607,43.87954],[-79.26553,43.8797],[-79.26503,43.87988],[-79.26452,43.88015],[-79.26417,43.88037],[-79.26374,43.88076],[-79.26355,43.88096],[-79.26337,43.88119],[-79.26326,43.88138],[-79.26306,43.88173],[-79.26279,43.88235],[-79.26268,43.8826],[-79.2625,43.88301],[-79.26236,43.8833],[-79.26225,43.88353],[-79.26212,43.88372],[-79.26202,43.88387],[-79.26192,43.88399],[-79.26157,43.88436],[-79.26105,43.8849],[-79.2608,43.88518],[-79.26056,43.88553],[-79.26046,43.8857],[-79.26039,43.88586],[-79.26032,43.88613],[-79.26025,43.88656],[-79.26025,43.88692],[-79.26028,43.88719],[-79.26052,43.88795],[-79.26166,43.8915],[-79.26285,43.89505],[-79.2632,43.89607],[-79.26327,43.8965],[-79.26331,43.89685],[-79.26332,43.89724],[-79.26329,43.89797],[-79.26311,43.89935]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-79.38052,43.64456],[-79.37866,43.64495],[-79.37809,43.64507],[-79.37747,43.6452],[-79.37727,43.64524],[-79.3771,43.64527],[-79.37688,43.64531],[-79.37657,43.64536],[-79.37645,43.64537],[-79.37614,43.64542],[-79.37551,43.64552],[-79.37522,43.64556],[-79.37413,43.64576],[-79.37349,43.64583],[-79.37315,43.64587],[-79.37278,43.64592],[-79.3722,43.64599],[-79.37148,43.64614],[-79.37114,43.64621],[-79.37048,43.64636],[-79.36981,43.6465],[-79.36893,43.64668],[-79.36806,43.64687],[-79.36663,43.64717],[-79.36633,43.64724],[-79.3649,43.64754],[-79.3634,43.64786],[-79.36268,43.64802],[-79.36238,43.64808],[-79.36213,43.64814],[-79.3619,43.6482],[-79.3614,43.64834],[-79.36105,43.64845],[-79.36049,43.64863],[-79.35979,43.64887],[-79.35804,43.64946],[-79.35707,43.64979],[-79.35685,43.64987],[-79.35658,43.64996],[-79.35641,43.65003],[-79.35626,43.65009],[-79.35609,43.65017],[-79.35572,43.65036],[-79.35531,43.65058],[-79.35345,43.65158],[-79.35278,43.65193],[-79.35203,43.65234],[-79.35152,43.65262],[-79.35106,43.6534],[-79.35099,43.65357],[-79.35097,43.6537],[-79.35096,43.65385],[-79.35097,43.65399],[-79.35099,43.65406],[-79.351,43.65414],[-79.35105,43.65427],[-79.35109,43.65436],[-79.35115,43.65446],[-79.35124,43.65458],[-79.35132,43.65468],[-79.35138,43.65475],[-79.35168,43.65502],[-79.35182,43.65515],[-79.35219,43.65546],[-79.35236,43.65562],[-79.35368,43.65679],[-79.35407,43.65714],[-79.35429,43.65733],[-79.35445,43.65749],[-79.35459,43.65767],[-79.35473,43.6579],[-79.35479,43.65802],[-79.35488,43.65822],[-79.35493,43.65837],[-79.35506,43.65882],[-79.35535,43.65977],[-79.35581,43.66135],[-79.35631,43.66294],[-79.35661,43.66398],[-79.35674,43.66442],[-79.35738,43.66653],[-79.35767,43.66752],[-79.35783,43.668],[-79.35792,43.66825],[-79.358,43.66842],[-79.35814,43.66867],[-79.35824,43.6688],[-79.35833,43.66892],[-79.35848,43.66908],[-79.35867,43.6693],[-79.35916,43.66973],[-79.3621,43.67209],[-79.36247,43.67245],[-79.36293,43.67299],[-79.36366,43.67401],[-79.36395,43.67447],[-79.36408,43.67471],[-79.36417,43.67494],[-79.36426,43.67516],[-79.36464,43.67608],[-79.36482,43.6764],[-79.36516,43.67687],[-79.36547,43.67726],[-79.36681,43.6789],[-79.36719,43.6794],[-79.36734,43.67965],[-79.36746,43.67994],[-79.36754,43.68025],[-79.36756,43.68048],[-79.36755,43.6807],[-79.3675,43.68095],[-79.36741,43.6812],[-79.36728,43.68144],[-79.36712,43.68167],[-79.36703,43.68178],[-79.36689,43.68192],[-79.36656,43.68219],[-79.36625,43.68238],[-79.36378,43.68364],[-79.36337,43.68385],[-79.36301,43.68409],[-79.36284,43.68421],[-79.36266,43.68437],[-79.3625,43.68455],[-79.36236,43.68473],[-79.36226,43.68493],[-79.36215,43.6852],[-79.36212,43.68532],[-79.36208,43.68561],[-79.36208,43.68583],[-79.3621,43.68598],[-79.36221,43.68634],[-79.36238,43.68679],[-79.36268,43.68746],[-79.36272,43.68762],[-79.36276,43.6878],[-79.36278,43.68805],[-79.36275,43.68829],[-79.36271,43.68848],[-79.36263,43.68867],[-79.36256,43.68879],[-79.36247,43.68894],[-79.36234,43.6891],[-79.36129,43.69022],[-79.36107,43.6905],[-79.36088,43.69079],[-79.36071,43.69109],[-79.36055,43.69145],[-79.36045,43.69176],[-79.36035,43.69211],[-79.36025,43.69242],[-79.36015,43.69269],[-79.35994,43.69308],[-79.35965,43.6935],[-79.35839,43.69507],[-79.35781,43.69582],[-79.35743,43.69628],[-79.35694,43.69682],[-79.35656,43.69723],[-79.35612,43.69763],[-79.35564,43.698],[-79.35519,43.69831],[-79.35465,43.69863],[-79.35388,43.69903],[-79.35331,43.69929],[-79.35271,43.69952],[-79.35218,43.69968],[-79.35129,43.69992],[-79.35091,43.69999],[-79.35029,43.70011],[-79.34977,43.70018],[-79.34931,43.70021],[-79.34888,43.70021],[-79.3485,43.70019],[-79.34807,43.70012],[-79.34756,43.69999],[-79.3467,43.69969],[-79.34599,43.69945],[-79.34564,43.69935],[-79.34524,43.69927],[-79.3449,43.69922],[-79.3444,43.69918],[-79.34399,43.69917],[-79.34374,43.69919],[-79.34331,43.69924],[-79.34288,43.69932],[-79.34253,43.69941],[-79.34214,43.69954],[-79.34157,43.6998],[-79.3411,43.70009],[-79.33548,43.70423],[-79.335,43.70458],[-79.33407,43.70523],[-79.33366,43.70548],[-79.33336,43.70563],[-79.33158,43.70644],[-79.3314,43.70654],[-79.33012,43.70715],[-79.32624,43.70918],[-79.32548,43.70955],[-79.32486,43.7098],[-79.32432,43.71],[-79.3215,43.7109],[-79.32104,43.71108],[-79.32081,43.7112],[-79.32061,43.71132],[-79.32039,43.71151],[-79.32015,43.71178],[-79.32003,43.71196],[-79.31991,43.71221],[-79.31984,43.71249],[-79.31977,43.71287],[-79.31965,43.71421],[-79.31963,43.71456],[-79.31966,43.71496],[-79.31971,43.71528],[-79.31981,43.71562],[-79.32003,43.71615],[-79.32077,43.71769],[-79.32243,43.72115],[-79.32258,43.72149],[-79.32266,43.72173],[-79.32275,43.72201],[-79.32279,43.72225],[-79.32283,43.72253],[-79.32284,43.72281],[-79.3228,43.72316],[-79.32275,43.72342],[-79.32264,43.72373],[-79.32251,43.72405],[-79.32194,43.72525],[-79.3208,43.72763],[-79.32059,43.72811],[-79.32054,43.72835],[-79.3205,43.7286],[-79.32051,43.72887],[-79.32058,43.72917],[-79.32067,43.72939],[-79.32083,43.72963],[-79.32097,43.72978],[-79.32117,43.72996],[-79.32135,43.73009],[-79.32151,43.73019],[-79.32159,43.73023],[-79.32187,43.73036],[-79.32218,43.73046],[-79.32242,43.73052],[-79.32286,43.7306],[-79.32371,43.73074],[-79.32435,43.73087],[-79.32484,43.73099],[-79.32526,43.73111],[-79.32555,43.73122],[-79.32591,43.73139],[-79.32628,43.73163],[-79.3273,43.73245],[-79.32765,43.73273],[-79.32796,43.73293],[-79.32841,43.73318],[-79.32888,43.73339],[-79.32926,43.73353],[-79.32971,43.73367],[-79.33144,43.73414],[-79.33193,43.73428],[-79.33226,43.73438],[-79.33256,43.73451],[-79.33284,43.73466],[-79.3331,43.73484],[-79.33332,43.73503],[-79.33349,43.73521],[-79.33366,43.73544],[-79.33377,43.73565],[-79.33387,43.7359],[-79.33392,43.73614],[-79.33395,43.73629],[-79.33406,43.73746],[-79.3341,43.73774],[-79.33416,43.73795],[-79.33424,43.73816],[-79.33443,43.73854],[-79.33472,43.73901],[-79.33678,43.74172],[-79.33695,43.7419],[-79.33717,43.74209],[-79.3374,43.74223],[-79.33765,43.74235],[-79.33793,43.74246],[-79.33827,43.74255],[-79.33858,43.7426],[-79.33885,43.74262],[-79.34233,43.74276],[-79.34277,43.74278],[-79.34314,43.74282],[-79.3436,43.74289],[-79.34406,43.74298],[-79.34452,43.7431],[-79.34494,43.74322],[-79.34512,43.74328],[-79.3453,43.74333],[-79.34572,43.74348],[-79.34619,43.74367],[-79.34665,43.74389],[-79.34714,43.74416],[-79.34767,43.74451],[-79.34808,43.74482],[-79.34846,43.74514],[-79.34881,43.74548],[-79.34913,43.74584],[-79.35271,43.75034],[-79.35298,43.7507],[-79.35552,43.75393],[-79.36008,43.7597],[-79.36134,43.76132],[-79.36306,43.76353],[-79.36485,43.76576],[-79.36497,43.76592],[-79.36548,43.76657],[-79.3673,43.7689],[-79.36757,43.76928],[-79.36784,43.76976],[-79.36804,43.77018],[-79.36821,43.77068],[-79.36828,43.77101],[-79.3687,43.77326],[-79.36874,43.77374],[-79.36869,43.77421],[-79.36865,43.7744],[-79.36858,43.77461],[-79.36812,43.77573],[-79.36719,43.77781],[-79.36709,43.77812],[-79.36702,43.77839],[-79.36698,43.77869],[-79.36695,43.77932],[-79.36699,43.78028],[-79.36706,43.78076],[-79.36716,43.78111],[-79.3703,43.78982],[-79.37086,43.79129],[-79.37136,43.79262],[-79.37143,43.7928],[-79.37169,43.79348],[-79.37203,43.79454],[-79.37331,43.79827],[-79.37355,43.79884],[-79.3737,43.79912],[-79.3741,43.79981],[-79.37658,43.80334],[-79.37688,43.80368],[-79.37747,43.80425],[-79.37812,43.80483],[-79.37876,43.80538],[-79.38031,43.80665],[-79.3804,43.80673],[-79.38063,43.80691],[-79.38208,43.80815],[-79.38353,43.80935],[-79.38408,43.8098],[-79.3861,43.81166],[-79.39013,43.81559],[-79.39216,43.81757]],[[-79.39216,43.81757],[-79.39345,43.81888],[-79.39413,43.81954],[-79.39445,43.81985],[-79.39663,43.82197],[-79.39688,43.82221],[-79.39777,43.82306],[-79.39804,43.82332],[-79.39846,43.82367],[-79.39875,43.8239],[-79.39896,43.82404],[-79.39921,43.82421],[-79.39953,43.82441],[-79.40011,43.82474],[-79.4004,43.82489],[-79.4007,43.82503],[-79.40117,43.82524],[-79.40154,43.82538],[-79.40195,43.82552],[-79.40234,43.82565],[-79.40258,43.82572],[-79.40307,43.82584],[-79.40358,43.82596],[-79.40444,43.82612],[-79.40794,43.82679],[-79.40859,43.82692],[-79.40939,43.82707],[-79.40994,43.82718],[-79.41026,43.82725],[-79.41062,43.82735],[-79.41091,43.82743],[-79.41132,43.82757],[-79.41171,43.82772],[-79.41211,43.82791],[-79.41254,43.82814],[-79.41286,43.82833],[-79.41315,43.82853],[-79.41349,43.82879],[-79.41396,43.8292],[-79.41412,43.82935],[-79.41454,43.82974],[-79.41663,43.83171],[-79.41719,43.83223],[-79.41884,43.83378],[-79.41965,43.83454],[-79.42,43.83487],[-79.42028,43.83513],[-79.42048,43.83532],[-79.42073,43.83555],[-79.42101,43.83583],[-79.42119,43.83601],[-79.42137,43.83619],[-79.42146,43.83629],[-79.42201,43.83687],[-79.42217,43.83704],[-79.42245,43.83735],[-79.42264,43.83757],[-79.42296,43.83794],[-79.42337,43.83842],[-79.42385,43.839],[-79.42464,43.83993],[-79.42511,43.84049],[-79.42539,43.84082],[-79.4258,43.8413],[-79.42617,43.84174],[-79.42632,43.84191],[-79.42651,43.84214],[-79.4267,43.84237],[-79.42685,43.84256],[-79.42701,43.84277],[-79.42717,43.843],[-79.42728,43.84318],[-79.42739,43.8434],[-79.42754,43.84373],[-79.42762,43.84394],[-79.4277,43.84422],[-79.4278,43.84461],[-79.42795,43.84525],[-79.42814,43.84607],[-79.42828,43.84668],[-79.42856,43.84787],[-79.42863,43.8482],[-79.42876,43.84873],[-79.42889,43.84936],[-79.42895,43.84968],[-79.42898,43.84993],[-79.42901,43.85024],[-79.42901,43.85046],[-79.42901,43.85065],[-79.429,43.85092],[-79.42895,43.8515],[-79.42888,43.85225],[-79.42881,43.85293],[-79.42877,43.85339],[-79.42872,43.85387],[-79.42868,43.85428],[-79.42866,43.85444],[-79.42863,43.85482],[-79.42857,43.85527],[-79.42852,43.85564],[-79.42835,43.85641],[-79.42804,43.85755],[-79.42739,43.8598],[-79.42679,43.8619],[-79.42666,43.86239],[-79.42637,43.86337],[-79.42615,43.86415],[-79.42595,43.86487],[-79.42569,43.86574],[-79.42551,43.86637],[-79.42538,43.86683],[-79.42526,43.86725],[-79.42515,43.86764],[-79.42511,43.86788],[-79.42507,43.86812],[-79.42505,43.86836],[-79.42504,43.86862],[-79.42504,43.86883],[-79.42507,43.86902],[-79.42509,43.86921],[-79.42517,43.86957],[-79.42519,43.86969],[-79.42532,43.87014],[-79.42573,43.87165],[-79.42578,43.87196],[-79.42585,43.87224],[-79.4261,43.87313],[-79.42624,43.87365]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-79.38052,43.64456],[-79.38897,43.64283],[-79.39357,43.64188],[-79.39567,43.64145],[-79.39876,43.6409],[-79.3991,43.64083],[-79.39932,43.64078],[-79.3999,43.64069],[-79.40179,43.64048],[-79.4022,43.64044],[-79.4038,43.64028],[-79.40489,43.64021],[-79.4059,43.64017],[-79.40643,43.64015],[-79.40751,43.64015],[-79.40798,43.64017],[-79.40884,43.64018],[-79.40981,43.64022],[-79.41128,43.64028],[-79.41664,43.64048],[-79.41833,43.64055],[-79.41966,43.6406],[-79.42097,43.64065],[-79.42199,43.64069],[-79.4225,43.64073],[-79.42318,43.64081],[-79.42365,43.64088],[-79.42432,43.64101],[-79.42494,43.64116],[-79.42544,43.6413],[-79.42587,43.64143],[-79.42631,43.64157],[-79.42664,43.64168],[-79.42698,43.64182],[-79.42721,43.64191],[-79.42758,43.64207],[-79.42794,43.64223],[-79.42836,43.64243],[-79.42877,43.64262],[-79.42931,43.64287],[-79.42974,43.64308],[-79.4304,43.64338],[-79.43102,43.64366],[-79.43413,43.64513],[-79.4344,43.64526],[-79.43651,43.6462],[-79.43886,43.64732],[-79.43898,43.64738],[-79.43924,43.64752],[-79.43932,43.64756],[-79.4399,43.64786],[-79.44039,43.64815],[-79.44124,43.64869],[-79.44196,43.6492],[-79.44316,43.65017],[-79.44383,43.65076],[-79.44429,43.6512],[-79.44776,43.65477],[-79.44972,43.65677],[-79.45057,43.65763],[-79.45193,43.65903],[-79.45395,43.66108],[-79.45447,43.66166],[-79.45552,43.6627],[-79.45726,43.66447],[-79.45774,43.66487],[-79.45811,43.66522],[-79.45861,43.66573]],[[-79.86618,43.52369],[-79.86476,43.52423],[-79.86372,43.52464],[-79.8626,43.52508],[-79.86206,43.52528],[-79.86156,43.52548],[-79.86071,43.52584],[-79.86049,43.52596],[-79.86024,43.52607],[-79.85992,43.52624],[-79.85915,43.52667],[-79.85839,43.52719],[-79.85779,43.52769],[-79.85619,43.52912],[-79.85489,43.53029],[-79.85441,43.53073],[-79.85244,43.5325],[-79.85206,43.53282],[-79.85102,43.53378],[-79.84081,43.54306],[-79.84039,43.54344],[-79.84025,43.54361],[-79.83988,43.54394],[-79.83622,43.54727],[-79.835,43.54838],[-79.83452,43.54881],[-79.83146,43.55162],[-79.83127,43.55179],[-79.82821,43.55452],[-79.82811,43.55461],[-79.82446,43.55795],[-79.82355,43.55879],[-79.81894,43.5629],[-79.81843,43.56337],[-79.81772,43.56401],[-79.81735,43.56434],[-79.81688,43.56477],[-79.81643,43.56517],[-79.81558,43.56595],[-79.81466,43.56677],[-79.81298,43.5683],[-79.81211,43.56908],[-79.8112,43.56989],[-79.81032,43.5707],[-79.80943,43.57149],[-79.80861,43.57224],[-79.80786,43.57293],[-79.80707,43.57365],[-79.80614,43.57446],[-79.80538,43.57516],[-79.80452,43.57594],[-79.80365,43.57674],[-79.80287,43.57743],[-79.80242,43.57785],[-79.8018,43.5784],[-79.80083,43.57925],[-79.80072,43.57937],[-79.80057,43.57948],[-79.8004,43.57963],[-79.7979,43.58191],[-79.79763,43.58216],[-79.79283,43.5865],[-79.79165,43.58757],[-79.78893,43.59],[-79.78695,43.59177],[-79.78343,43.59499],[-79.7831,43.59529],[-79.78258,43.59569],[-79.78233,43.59586],[-79.78186,43.59618],[-79.78128,43.5965],[-79.78083,43.59673],[-79.78041,43.5969],[-79.78004,43.59704],[-79.77981,43.59712],[-79.77887,43.59738],[-79.7782,43.59754],[-79.77781,43.59762],[-79.77735,43.5977],[-79.7767,43.59781],[-79.77181,43.59859],[-79.76552,43.59966],[-79.76466,43.59977],[-79.764,43.59983],[-79.76332,43.59985],[-79.76299,43.59985],[-79.76223,43.59981],[-79.76147,43.59975],[-79.76126,43.59972],[-79.7608,43.59964],[-79.76017,43.5995],[-79.7594,43.5993],[-79.75906,43.5992],[-79.75886,43.59915],[-79.75346,43.59761],[-79.74546,43.59535],[-79.74,43.5938],[-79.73988,43.59377],[-79.73971,43.59372],[-79.73475,43.59231],[-79.73403,43.59211],[-79.73324,43.59188],[-79.73212,43.59157],[-79.73178,43.59147],[-79.73076,43.59118],[-79.72953,43.59084],[-79.72852,43.59055],[-79.72811,43.59043],[-79.72764,43.59026],[-79.72721,43.59009],[-79.72677,43.58991],[-79.72646,43.58976],[-79.72624,43.58965],[-79.72585,43.58945],[-79.7255,43.58924],[-79.72527,43.5891],[-79.72504,43.58894],[-79.7247,43.58869],[-79.72449,43.58853],[-79.72421,43.58829],[-79.724,43.5881],[-79.72377,43.58789],[-79.72349,43.5876],[-79.72334,43.58744],[-79.7229,43.58698],[-79.7224,43.58644],[-79.72158,43.58558],[-79.72067,43.58461],[-79.72008,43.58398],[-79.71969,43.58356],[-79.71943,43.58331],[-79.71917,43.58305],[-79.71893,43.58285],[-79.71874,43.5827],[-79.71799,43.58214],[-79.71602,43.58071],[-79.71412,43.57933],[-79.71182,43.57767],[-79.71135,43.57732],[-79.71108,43.57715],[-79.71084,43.57701],[-79.71053,43.57684],[-79.71012,43.57663],[-79.70905,43.57612],[-79.70792,43.57557],[-79.7076,43.57541],[-79.70733,43.57529],[-79.70705,43.57518],[-79.70671,43.57506],[-79.70645,43.57497],[-79.70599,43.57485],[-79.70563,43.57478],[-79.70534,43.57474],[-79.70495,43.57469],[-79.7045,43.57466],[-79.70409,43.57466],[-79.70382,43.57467],[-79.70353,43.57468],[-79.7032,43.57471],[-79.70284,43.57477],[-79.70223,43.57491],[-79.69939,43.57575],[-79.69889,43.5759],[-79.69791,43.57621],[-79.6954,43.57694],[-79.69497,43.57704],[-79.6946,43.5771],[-79.69426,43.57713],[-79.69393,43.57715],[-79.69358,43.57717],[-79.69334,43.57717],[-79.69312,43.57716],[-79.69286,43.57714],[-79.69257,43.57711],[-79.69231,43.57706],[-79.69198,43.57698],[-79.69153,43.57685],[-79.69113,43.57672],[-79.69071,43.57654],[-79.69025,43.5763],[-79.68842,43.57531],[-79.68814,43.57518],[-79.68298,43.57236],[-79.6816,43.57164],[-79.67943,43.57046],[-79.67812,43.56975],[-79.67648,43.56887],[-79.67627,43.56875],[-79.67594,43.56859],[-79.6755,43.56842],[-79.67509,43.56828],[-79.67479,43.56819],[-79.67424,43.56805],[-79.67355,43.56791],[-79.66858,43.56689],[-79.667,43.56656],[-79.66627,43.56641],[-79.66158,43.56545],[-79.66055,43.56526],[-79.65977,43.56514],[-79.65884,43.56507],[-79.65778,43.56506],[-79.65681,43.5651],[-79.65576,43.56521],[-79.65478,43.56541],[-79.65388,43.56565],[-79.65297,43.56596],[-79.65031,43.56698],[-79.64479,43.56912],[-79.64059,43.57075],[-79.64024,43.57089],[-79.63973,43.5711],[-79.63905,43.57141],[-79.6382,43.57184],[-79.63724,43.57235],[-79.63678,43.57262],[-79.63579,43.57325],[-79.63521,43.57369],[-79.63245,43.576],[-79.63127,43.577],[-79.62701,43.58056],[-79.62353,43.58346],[-79.62302,43.58389],[-79.62231,43.58449],[-79.62219,43.58459],[-79.6199,43.58652],[-79.61932,43.58699],[-79.61901,43.58721],[-79.61845,43.58758],[-79.61785,43.58793],[-79.61702,43.58834],[-79.6162,43.58869],[-79.61579,43.58885],[-79.61533,43.58901],[-79.61441,43.58927],[-79.60911,43.59046],[-79.60447,43.59151],[-79.6032,43.5918],[-79.60262,43.59195],[-79.60213,43.5921],[-79.60166,43.59225],[-79.60117,43.59244],[-79.60078,43.59263],[-79.60042,43.59283],[-79.59862,43.59395],[-79.59507,43.59626],[-79.58891,43.60032],[-79.58569,43.60241],[-79.57985,43.60623],[-79.57972,43.6063],[-79.57951,43.60644],[-79.577,43.60805],[-79.57473,43.6095],[-79.57185,43.61137],[-79.56738,43.61427],[-79.56604,43.61514],[-79.5624,43.6175],[-79.55823,43.62023],[-79.55454,43.62274],[-79.55407,43.62306],[-79.55019,43.62572],[-79.54991,43.62591],[-79.54529,43.62907],[-79.54401,43.63003],[-79.5437,43.63027],[-79.54332,43.63059],[-79.54251,43.63127],[-79.54175,43.63191],[-79.54101,43.63253],[-79.54018,43.63322],[-79.53944,43.63385],[-79.53871,43.63446],[-79.53787,43.63518],[-79.5376,43.63542],[-79.53682,43.63605],[-79.53608,43.6367],[-79.53568,43.63702],[-79.53397,43.63844],[-79.53317,43.63913],[-79.52986,43.64202],[-79.52823,43.64334],[-79.52769,43.64377],[-79.52752,43.64392],[-79.52617,43.64502],[-79.52442,43.64649],[-79.52412,43.64674],[-79.52261,43.64803],[-79.52153,43.64895],[-79.52112,43.64931],[-79.52092,43.64954],[-79.5207,43.64981],[-79.52053,43.65003],[-79.52036,43.65029],[-79.52014,43.65069],[-79.51773,43.65704],[-79.51758,43.65734],[-79.51743,43.65763],[-79.51719,43.65801],[-79.51698,43.65831],[-79.5167,43.65862],[-79.51634,43.65896],[-79.51606,43.65923],[-79.51567,43.65957],[-79.51522,43.65999],[-79.51476,43.66039],[-79.51384,43.66118],[-79.51215,43.66262],[-79.51163,43.66305],[-79.51107,43.66353],[-79.5107,43.66381],[-79.5104,43.66402],[-79.51012,43.6642],[-79.5098,43.66438],[-79.50948,43.66454],[-79.50908,43.66471],[-79.50866,43.66488],[-79.50814,43.66504],[-79.50782,43.66513],[-79.50742,43.66521],[-79.50708,43.66527],[-79.50664,43.66532],[-79.50618,43.66537],[-79.5049,43.66545],[-79.50366,43.66552],[-79.50221,43.6656],[-79.50085,43.66568],[-79.49937,43.66577],[-79.49851,43.66582],[-79.4981,43.66584],[-79.49775,43.66586],[-79.49624,43.66595],[-79.49418,43.66607],[-79.4922,43.66618],[-79.4913,43.66623],[-79.49121,43.66624],[-79.48979,43.66632],[-79.48805,43.66642],[-79.48694,43.66649],[-79.48609,43.66653],[-79.4856,43.66656],[-79.4848,43.66661],[-79.48288,43.66672],[-79.48245,43.66675],[-79.48189,43.66678],[-79.48057,43.66686],[-79.47854,43.66697],[-79.47716,43.66705],[-79.47616,43.66711],[-79.47478,43.66719],[-79.47394,43.66723],[-79.47346,43.66725],[-79.473,43.66726],[-79.47248,43.66725],[-79.47065,43.66724],[-79.46917,43.66722],[-79.46755,43.66721],[-79.46606,43.66719],[-79.46512,43.66719],[-79.46417,43.66718],[-79.46358,43.66718],[-79.46327,43.66717],[-79.463,43.66715],[-79.46275,43.66712],[-79.46199,43.66699],[-79.46144,43.66686],[-79.46081,43.66667],[-79.46014,43.66641],[-79.45955,43.66612],[-79.45861,43.66573]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-79.31483,43.85093],[-79.31455,43.85303],[-79.31455,43.85308],[-79.31452,43.85326],[-79.31355,43.86051],[-79.31338,43.86175],[-79.31329,43.86209],[-79.31319,43.86235],[-79.31296,43.86281],[-79.31278,43.8631],[-79.3126,43.86335],[-79.31242,43.86354],[-79.31225,43.86369],[-79.31199,43.8639],[-79.31155,43.86421],[-79.31118,43.86442],[-79.31081,43.86461],[-79.30901,43.86537],[-79.30633,43.8665],[-79.30411,43.86743],[-79.30251,43.86811],[-79.30178,43.86844],[-79.30099,43.86886],[-79.3003,43.86928],[-79.29944,43.86988],[-79.29805,43.87093],[-79.29766,43.87118],[-79.29722,43.87143],[-79.29693,43.87156],[-79.2965,43.87173],[-79.29598,43.87191],[-79.29189,43.87301],[-79.29046,43.87342],[-79.28888,43.87384],[-79.28858,43.87392],[-79.28849,43.87394],[-79.28618,43.87457],[-79.284,43.87517],[-79.28319,43.87541],[-79.28078,43.87604],[-79.27043,43.87851],[-79.26607,43.87954],[-79.26553,43.8797],[-79.26503,43.87988],[-79.26452,43.88015],[-79.26417,43.88037],[-79.26374,43.88076],[-79.26355,43.88096],[-79.26337,43.88119],[-79.26326,43.88138],[-79.26306,43.88173],[-79.26279,43.88235],[-79.26268,43.8826],[-79.2625,43.88301],[-79.26236,43.8833],[-79.26225,43.88353],[-79.26212,43.88372],[-79.26202,43.88387],[-79.26192,43.88399],[-79.26157,43.88436],[-79.26105,43.8849],[-79.2608,43.88518],[-79.26056,43.88553],[-79.26046,43.8857],[-79.26039,43.88586],[-79.26032,43.88613],[-79.26025,43.88656],[-79.26025,43.88692],[-79.26028,43.88719],[-79.26052,43.88795],[-79.26166,43.8915],[-79.26285,43.89505],[-79.2632,43.89607],[-79.26327,43.8965],[-79.26331,43.89685],[-79.26332,43.89724],[-79.26329,43.89797],[-79.26311,43.89935]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-79.85446,43.31324],[-79.85524,43.31275],[-79.85534,43.31269],[-79.85637,43.31206],[-79.85768,43.31127],[-79.85874,43.31061],[-79.85956,43.31011],[-79.8603,43.30966],[-79.86124,43.30909],[-79.86209,43.30856],[-79.86302,43.308],[-79.86577,43.30633],[-79.86594,43.30622],[-79.86725,43.30543],[-79.86741,43.30533],[-79.86916,43.30426],[-79.88263,43.29594],[-79.8828,43.29584],[-79.88335,43.29551],[-79.8837,43.29529],[-79.88394,43.29513],[-79.88442,43.29481],[-79.88467,43.29461],[-79.8849,43.29445],[-79.88509,43.29429],[-79.88527,43.29411],[-79.88545,43.29393],[-79.88566,43.29373],[-79.88584,43.29355],[-79.88599,43.2934],[-79.88612,43.29322],[-79.88623,43.29311],[-79.88627,43.29307],[-79.88637,43.29294],[-79.88647,43.29279],[-79.88661,43.29259],[-79.88674,43.29242],[-79.88679,43.2923],[-79.88835,43.28973],[-79.88873,43.28908],[-79.88907,43.28854],[-79.88932,43.28814],[-79.88958,43.28771],[-79.88998,43.28705],[-79.89002,43.28698],[-79.89047,43.28625],[-79.89073,43.28579],[-79.89082,43.28562],[-79.89087,43.28547],[-79.89093,43.28531],[-79.89099,43.28515],[-79.89103,43.28503],[-79.89107,43.28487],[-79.8911,43.28471],[-79.89113,43.28457],[-79.89118,43.28419],[-79.89118,43.28397],[-79.89115,43.28371],[-79.891,43.28287],[-79.89096,43.28261],[-79.89086,43.28206],[-79.89083,43.28185],[-79.89078,43.28148],[-79.89075,43.2813],[-79.89075,43.28126],[-79.89071,43.28108],[-79.89068,43.28083],[-79.89066,43.28068],[-79.89066,43.28053],[-79.89066,43.2804],[-79.89069,43.28028],[-79.89071,43.28017],[-79.89075,43.28004],[-79.89079,43.27995],[-79.89083,43.27987],[-79.89096,43.27962],[-79.89101,43.27952],[-79.89125,43.27905],[-79.89133,43.27888],[-79.89149,43.27857],[-79.8916,43.27835],[-79.89169,43.27816],[-79.89179,43.27797],[-79.89207,43.27748],[-79.89223,43.27716],[-79.89233,43.27692],[-79.89241,43.27664],[-79.89246,43.2764],[-79.89248,43.27608],[-79.89241,43.27563],[-79.89234,43.27541],[-79.89225,43.27516],[-79.89201,43.27474],[-79.89175,43.27439],[-79.89141,43.27405],[-79.89125,43.27389],[-79.89069,43.27332],[-79.89048,43.27307],[-79.89041,43.27296],[-79.89029,43.27274],[-79.89012,43.27238],[-79.89008,43.27227],[-79.89005,43.27212],[-79.89002,43.27193],[-79.89,43.27157],[-79.89003,43.27115],[-79.89007,43.2709],[-79.89018,43.2705],[-79.89022,43.27021],[-79.89024,43.26994],[-79.89022,43.2696],[-79.88975,43.2663],[-79.88954,43.26504],[-79.8895,43.26438],[-79.88951,43.26389],[-79.88957,43.26356],[-79.88966,43.26328],[-79.88989,43.26275],[-79.88993,43.26257],[-79.89042,43.26116],[-79.89053,43.2608],[-79.89057,43.26052],[-79.89056,43.2603],[-79.89055,43.26024],[-79.89052,43.26004],[-79.89043,43.25969],[-79.89036,43.25952],[-79.89027,43.25938],[-79.89003,43.25901],[-79.8898,43.25875],[-79.88957,43.25855],[-79.88934,43.25838],[-79.88906,43.25819],[-79.88873,43.25804],[-79.88837,43.2579],[-79.88809,43.25782],[-79.88764,43.2577],[-79.88582,43.25726],[-79.88492,43.25704],[-79.88351,43.25669],[-79.8814,43.25617],[-79.88016,43.25588],[-79.87716,43.25519],[-79.87357,43.25436],[-79.87328,43.25429],[-79.87288,43.25421],[-79.87253,43.25413],[-79.87233,43.25408],[-79.87216,43.25404],[-79.87198,43.25399],[-79.87183,43.25394],[-79.87166,43.25388],[-79.87153,43.25383],[-79.87125,43.25371],[-79.87093,43.25357],[-79.87054,43.25342],[-79.87047,43.2534],[-79.87033,43.25335],[-79.87014,43.2533],[-79.86987,43.25323],[-79.86872,43.25296]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-79.38052,43.64456],[-79.38897,43.64283],[-79.39357,43.64188],[-79.39567,43.64145],[-79.39876,43.6409],[-79.3991,43.64083],[-79.39932,43.64078],[-79.3999,43.64069],[-79.40179,43.64048],[-79.4022,43.64044],[-79.40436,43.63989],[-79.40519,43.63972],[-79.40644,43.63939],[-79.40758,43.63908],[-79.4092,43.63863],[-79.41271,43.63767],[-79.41327,43.63756],[-79.41417,43.63731],[-79.41539,43.63697],[-79.41698,43.63656],[-79.41848,43.63617],[-79.41903,43.63602],[-79.41958,43.63586],[-79.42308,43.63489],[-79.42554,43.6342],[-79.42574,43.63415],[-79.42689,43.63384],[-79.42782,43.63365],[-79.42853,43.63355],[-79.42973,43.63342],[-79.43079,43.63335],[-79.43155,43.63335],[-79.43224,43.63339],[-79.43326,43.63349],[-79.43387,43.63357],[-79.4346,43.63372],[-79.43564,43.63395],[-79.43657,43.63424],[-79.43747,43.63457],[-79.4426,43.63674],[-79.44403,43.63734],[-79.44471,43.6376],[-79.44557,43.63789],[-79.44602,43.63801],[-79.4467,43.63819],[-79.44711,43.63829],[-79.44743,43.63836],[-79.44804,43.63849],[-79.44881,43.63864],[-79.44928,43.63872],[-79.45001,43.63884],[-79.45056,43.63893],[-79.45112,43.639],[-79.45177,43.63907],[-79.45236,43.63914],[-79.453,43.63919],[-79.45367,43.63924],[-79.45409,43.63926],[-79.45477,43.63929],[-79.45543,43.6393],[-79.456,43.6393],[-79.45646,43.63929],[-79.45694,43.63928],[-79.45745,43.63925],[-79.45783,43.63922],[-79.45836,43.63917],[-79.45859,43.63915],[-79.45886,43.63912],[-79.45944,43.63904],[-79.46001,43.63895],[-79.46038,43.63889],[-79.46135,43.63871],[-79.46256,43.63843],[-79.46389,43.63806],[-79.46448,43.63787],[-79.4653,43.63758],[-79.46598,43.63732],[-79.46619,43.63723],[-79.46886,43.63609],[-79.47233,43.63456],[-79.47278,43.63434],[-79.47356,43.63392],[-79.47468,43.63322],[-79.47542,43.63272],[-79.47595,43.63233],[-79.47782,43.63089],[-79.47845,43.63042],[-79.48214,43.62762],[-79.48268,43.62721],[-79.48526,43.62522],[-79.48625,43.62447],[-79.48666,43.62415],[-79.48711,43.62381],[-79.48767,43.6234],[-79.48813,43.62306],[-79.48868,43.62266],[-79.48885,43.62252],[-79.48922,43.62224],[-79.48994,43.62169],[-79.49042,43.62133],[-79.49078,43.62106],[-79.49122,43.62072],[-79.4922,43.61998],[-79.49347,43.61902],[-79.49436,43.61835],[-79.49499,43.61786],[-79.49572,43.61737],[-79.49614,43.6171],[-79.49681,43.61668],[-79.49698,43.61657],[-79.49784,43.61601],[-79.49851,43.61558],[-79.49954,43.61496],[-79.50051,43.61438],[-79.50149,43.61385],[-79.50244,43.61334],[-79.50441,43.61237],[-79.50534,43.6119],[-79.50636,43.6114],[-79.50735,43.6109],[-79.5084,43.61038],[-79.50938,43.60989],[-79.51173,43.60873],[-79.51284,43.60818],[-79.51378,43.60772],[-79.51476,43.60723],[-79.51557,43.60683],[-79.51644,43.6064],[-79.5174,43.60592],[-79.51842,43.60541],[-79.51923,43.60501],[-79.52006,43.6046],[-79.52091,43.60416],[-79.52184,43.6037],[-79.52272,43.60326],[-79.52388,43.60268],[-79.52463,43.60231],[-79.5254,43.60193],[-79.52617,43.60154],[-79.52676,43.60125],[-79.52718,43.60104],[-79.52779,43.60074],[-79.52808,43.6006],[-79.52864,43.60033],[-79.52966,43.59979],[-79.52972,43.59976],[-79.53084,43.5992],[-79.53117,43.59904],[-79.53151,43.59886],[-79.53208,43.59858],[-79.53314,43.59806],[-79.53414,43.59756],[-79.53522,43.59703],[-79.53614,43.59657],[-79.53704,43.59611],[-79.53796,43.59566],[-79.53887,43.59521],[-79.53974,43.59478],[-79.54046,43.59442],[-79.54134,43.59398],[-79.54201,43.59365],[-79.54298,43.59317],[-79.5436,43.59286],[-79.5443,43.59251],[-79.54497,43.59218],[-79.54598,43.59168],[-79.54675,43.59127],[-79.54739,43.59093],[-79.54814,43.5905],[-79.54882,43.59009],[-79.54897,43.59001],[-79.55086,43.58875],[-79.55106,43.58862],[-79.55179,43.58809],[-79.55234,43.58766],[-79.55281,43.5873],[-79.55343,43.5868],[-79.55387,43.58644],[-79.55415,43.58621],[-79.55449,43.58591],[-79.55525,43.58521],[-79.55603,43.58451],[-79.55677,43.58384],[-79.55735,43.58329],[-79.55795,43.58274],[-79.55863,43.58209],[-79.55925,43.58152],[-79.55989,43.58094],[-79.56066,43.58023],[-79.56141,43.57954],[-79.56193,43.57907],[-79.56263,43.57843],[-79.56328,43.57784],[-79.56396,43.57721],[-79.56462,43.5766],[-79.5653,43.57598],[-79.5661,43.57524],[-79.5667,43.57469],[-79.56737,43.57408],[-79.56822,43.5733],[-79.56883,43.57274],[-79.56943,43.57219],[-79.5697,43.57194],[-79.5703,43.5714],[-79.57102,43.57074],[-79.57182,43.57002],[-79.57266,43.56927],[-79.57358,43.56844],[-79.57426,43.56783],[-79.57514,43.56701],[-79.57596,43.56626],[-79.57671,43.56557],[-79.57743,43.56491],[-79.5783,43.56411],[-79.57907,43.56339],[-79.57997,43.56256],[-79.58079,43.56182],[-79.58168,43.56101],[-79.58285,43.55994],[-79.5838,43.55908],[-79.58476,43.55821],[-79.58523,43.55778],[-79.58555,43.55748],[-79.58617,43.55691],[-79.58688,43.55626],[-79.58715,43.55602],[-79.5877,43.55551],[-79.58833,43.55492],[-79.58888,43.55439],[-79.58953,43.55379],[-79.59002,43.55332],[-79.59071,43.55268],[-79.5919,43.5516],[-79.59223,43.55129],[-79.59308,43.55051],[-79.59384,43.54981],[-79.59508,43.5487],[-79.59767,43.54632],[-79.59881,43.54528],[-79.60398,43.54052],[-79.60772,43.53708],[-79.61404,43.5313],[-79.61523,43.5302],[-79.62095,43.52493],[-79.6257,43.52057],[-79.62599,43.5203],[-79.6267,43.51966],[-79.62725,43.51916],[-79.62794,43.51852],[-79.62866,43.51786],[-79.62945,43.51712],[-79.63019,43.51644],[-79.63106,43.51564],[-79.63201,43.51476],[-79.63275,43.51408],[-79.63318,43.51369],[-79.63334,43.51354],[-79.63344,43.51344],[-79.63407,43.51287],[-79.63462,43.51236],[-79.63493,43.51207],[-79.63575,43.51132],[-79.63685,43.5103],[-79.63785,43.50939],[-79.63894,43.50838],[-79.63978,43.50758],[-79.64043,43.50692],[-79.64138,43.50589],[-79.64218,43.50495],[-79.64308,43.50382],[-79.6438,43.50293],[-79.64428,43.50232],[-79.6448,43.50164],[-79.64507,43.50128],[-79.64528,43.50101],[-79.64598,43.50012],[-79.64752,43.49817],[-79.64784,43.49777],[-79.65121,43.4935],[-79.65159,43.49301],[-79.65373,43.49032],[-79.65457,43.48927],[-79.65581,43.48763],[-79.65632,43.48698],[-79.65739,43.48563],[-79.65794,43.48493],[-79.65841,43.48434],[-79.65892,43.4837],[-79.65937,43.48313],[-79.6601,43.48219],[-79.6603,43.48195],[-79.66072,43.4814],[-79.66117,43.48084],[-79.66145,43.48049],[-79.66157,43.48033],[-79.66225,43.47946],[-79.66289,43.47867],[-79.6633,43.47814],[-79.66446,43.47666],[-79.66486,43.47616],[-79.6653,43.47561],[-79.66583,43.47494],[-79.66633,43.47431],[-79.66688,43.47361],[-79.66748,43.47285],[-79.6681,43.47208],[-79.66871,43.47129],[-79.66928,43.47058],[-79.66984,43.46986],[-79.67037,43.4692],[-79.67087,43.46857],[-79.67135,43.46795],[-79.67198,43.46716],[-79.67248,43.46652],[-79.67291,43.46598],[-79.67332,43.46545],[-79.67377,43.46488],[-79.67424,43.4643],[-79.67432,43.46419],[-79.67458,43.46386],[-79.67487,43.4635],[-79.67599,43.46209],[-79.67647,43.46147],[-79.6769,43.46093],[-79.67747,43.4602],[-79.67803,43.45951],[-79.67847,43.45899],[-79.67893,43.45846],[-79.67927,43.45809],[-79.67988,43.45744],[-79.6806,43.45671],[-79.68093,43.45638],[-79.68125,43.45607],[-79.68197,43.45539],[-79.68246,43.4549],[-79.68265,43.45472],[-79.68336,43.45405],[-79.68398,43.45345],[-79.68445,43.45301],[-79.68499,43.4525],[-79.68578,43.45174],[-79.68627,43.45127],[-79.687,43.45057],[-79.68757,43.45002],[-79.68807,43.44955],[-79.68912,43.44853],[-79.68952,43.44815],[-79.68986,43.44783],[-79.69057,43.44715],[-79.69093,43.4468],[-79.69139,43.44636],[-79.69201,43.44576],[-79.69265,43.44516],[-79.69373,43.44412],[-79.69463,43.44323],[-79.70059,43.43753],[-79.70241,43.4358],[-79.70268,43.43557],[-79.70362,43.43466],[-79.70742,43.43098],[-79.70955,43.42895],[-79.71082,43.42773],[-79.71215,43.42645],[-79.71362,43.42505],[-79.71477,43.42396],[-79.71584,43.42293],[-79.71602,43.42275],[-79.71628,43.42247],[-79.7164,43.42235],[-79.71658,43.42217],[-79.71718,43.4216],[-79.71792,43.42089],[-79.71886,43.42],[-79.71908,43.41979],[-79.72001,43.4189],[-79.72099,43.41796],[-79.72219,43.4168],[-79.72258,43.41642],[-79.72332,43.41571],[-79.72435,43.41475],[-79.72552,43.41362],[-79.72658,43.4126],[-79.72702,43.41217],[-79.72829,43.41096],[-79.72981,43.4095],[-79.7309,43.40846],[-79.73136,43.40801],[-79.73198,43.40742],[-79.7327,43.40672],[-79.73338,43.40608],[-79.73403,43.40545],[-79.73421,43.40528],[-79.73479,43.40472],[-79.73564,43.4039],[-79.73622,43.40336],[-79.73751,43.40212],[-79.73795,43.40169],[-79.73881,43.40086],[-79.73945,43.40024],[-79.7402,43.39952],[-79.74091,43.39885],[-79.74168,43.3981],[-79.74259,43.39723],[-79.74348,43.39638],[-79.7444,43.39551],[-79.74515,43.39479],[-79.74587,43.39408],[-79.74664,43.39335],[-79.74735,43.39267],[-79.74814,43.3919],[-79.74902,43.39105],[-79.74933,43.39075],[-79.74959,43.39049],[-79.75016,43.38995],[-79.75107,43.38907],[-79.75212,43.38806],[-79.75262,43.38758],[-79.75284,43.38737],[-79.75404,43.38621],[-79.75491,43.38537],[-79.7559,43.38444],[-79.75688,43.38349],[-79.75779,43.38261],[-79.75869,43.38175],[-79.75925,43.38121],[-79.75997,43.38051],[-79.76078,43.37974],[-79.76087,43.37965],[-79.76255,43.37804],[-79.76331,43.37732],[-79.76388,43.37677],[-79.7648,43.37589],[-79.76585,43.37488],[-79.76682,43.37394],[-79.76869,43.37215],[-79.77003,43.37086],[-79.77421,43.36684],[-79.77461,43.36646],[-79.78023,43.36106],[-79.7821,43.35926],[-79.78303,43.35832],[-79.78431,43.35711],[-79.78557,43.35603],[-79.78673,43.35514],[-79.78758,43.35451],[-79.78864,43.3538],[-79.78968,43.35314],[-79.79062,43.35255],[-79.79146,43.35203],[-79.79236,43.35148],[-79.79327,43.35092],[-79.79442,43.35021],[-79.79514,43.34976],[-79.79615,43.34915],[-79.79708,43.34858],[-79.79778,43.34814],[-79.79828,43.34784],[-79.7985,43.34772],[-79.79967,43.34699],[-79.8009,43.34623],[-79.80221,43.34543],[-79.80337,43.34471],[-79.80443,43.34406],[-79.80564,43.34331],[-79.80672,43.34262],[-79.80758,43.34208],[-79.80905,43.34118],[-79.80941,43.34096],[-79.81053,43.34027],[-79.81129,43.3398],[-79.81225,43.33921],[-79.81315,43.33865],[-79.81407,43.33808],[-79.81495,43.33754],[-79.81527,43.33735],[-79.81579,43.33704],[-79.81667,43.33648],[-79.81771,43.33585],[-79.81807,43.33562],[-79.81871,43.33524],[-79.81931,43.33486],[-79.81964,43.33466],[-79.82068,43.33402],[-79.82158,43.33347],[-79.82174,43.33337],[-79.82189,43.33328],[-79.82224,43.33306],[-79.82244,43.33294],[-79.82273,43.33276],[-79.82323,43.33245],[-79.82428,43.33181],[-79.8261,43.33071],[-79.82761,43.32977],[-79.8285,43.32923],[-79.82988,43.32838],[-79.83119,43.32758],[-79.83214,43.32699],[-79.83314,43.32637],[-79.83382,43.32595],[-79.83455,43.32551],[-79.83496,43.32525],[-79.8352,43.32511],[-79.83542,43.32497],[-79.83597,43.32463],[-79.83676,43.32415],[-79.83759,43.32364],[-79.83871,43.32296],[-79.83957,43.32242],[-79.84033,43.32196],[-79.84109,43.32149],[-79.84187,43.321],[-79.84282,43.32042],[-79.84381,43.3198],[-79.84471,43.31924],[-79.84551,43.31876],[-79.8462,43.31833],[-79.84732,43.31764],[-79.84868,43.3168],[-79.85,43.31599],[-79.85117,43.31527],[-79.85215,43.31466],[-79.8532,43.31401],[-79.85421,43.31339],[-79.85446,43.31324]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-79.45945,43.9995],[-79.45956,43.99981],[-79.46006,44.00133],[-79.4608,44.00358],[-79.46254,44.00867],[-79.46352,44.01165],[-79.46376,44.01236],[-79.46395,44.01313],[-79.46405,44.01389],[-79.46408,44.01452],[-79.46414,44.0158],[-79.46432,44.0197],[-79.46446,44.02174],[-79.46448,44.0224],[-79.46439,44.02342],[-79.46417,44.02428],[-79.46183,44.03014],[-79.46175,44.03034],[-79.45983,44.03524],[-79.45891,44.03748],[-79.45783,44.04039],[-79.45732,44.04179],[-79.45638,44.04438],[-79.45448,44.04957],[-79.45426,44.05022],[-79.45419,44.05066],[-79.45421,44.05103],[-79.45429,44.05147],[-79.45442,44.05182],[-79.45469,44.05239],[-79.4551,44.05312],[-79.45725,44.05666],[-79.4578,44.05754],[-79.45826,44.05816],[-79.45945,44.05953],[-79.46016,44.06034],[-79.46027,44.06047],[-79.46056,44.06087],[-79.46074,44.06123],[-79.4609,44.06173],[-79.46095,44.06197],[-79.46096,44.06245],[-79.4609,44.06284],[-79.46074,44.06338],[-79.45975,44.06568],[-79.45778,44.0699],[-79.45755,44.07032],[-79.45707,44.07095],[-79.45547,44.07264],[-79.45509,44.07319],[-79.45493,44.0735],[-79.45481,44.07385],[-79.45473,44.07412],[-79.45468,44.07445],[-79.45468,44.07477],[-79.45471,44.07512],[-79.45474,44.07534],[-79.45518,44.07723],[-79.45526,44.07758],[-79.45539,44.07813],[-79.45565,44.07926],[-79.45579,44.07989],[-79.45684,44.08433],[-79.45696,44.08468],[-79.45709,44.08498],[-79.45725,44.08532],[-79.45746,44.08565],[-79.4576,44.08585],[-79.45779,44.08608],[-79.458,44.08631],[-79.45824,44.08652],[-79.45862,44.08681],[-79.45892,44.08699],[-79.45928,44.08715],[-79.45964,44.0873],[-79.46005,44.08743],[-79.46049,44.08754],[-79.46094,44.08764],[-79.46142,44.08771],[-79.46311,44.08785],[-79.47149,44.08858],[-79.47216,44.08867],[-79.4727,44.08879],[-79.47312,44.08891],[-79.47376,44.08913],[-79.47476,44.08954],[-79.47836,44.091],[-79.47883,44.09118],[-79.47945,44.09135],[-79.48019,44.0915],[-79.48831,44.09303],[-79.48955,44.09326],[-79.49058,44.09346],[-79.4911,44.0936],[-79.49158,44.09375],[-79.49196,44.0939],[-79.4924,44.09409],[-79.49263,44.09421],[-79.49304,44.09446],[-79.4935,44.09479],[-79.49395,44.09518],[-79.49432,44.09554],[-79.49472,44.09598],[-79.49732,44.09917],[-79.49759,44.09946],[-79.49799,44.09986],[-79.49845,44.10025],[-79.49888,44.10054],[-79.49925,44.10077],[-79.49957,44.10093],[-79.5,44.10111],[-79.50053,44.10132],[-79.50116,44.10153],[-79.50217,44.10182],[-79.50823,44.10345],[-79.51463,44.10517],[-79.52079,44.10684],[-79.52736,44.10862],[-79.5355,44.11082],[-79.53704,44.11123],[-79.5436,44.11298],[-79.54537,44.11347],[-79.54628,44.11373],[-79.54668,44.11384],[-79.54772,44.11414],[-79.54804,44.11423],[-79.54832,44.11431],[-79.54888,44.11448],[-79.5491,44.11454],[-79.54945,44.11463],[-79.55064,44.11495],[-79.55171,44.11524],[-79.55306,44.11562],[-79.55319,44.11566],[-79.55336,44.11571],[-79.55353,44.11577],[-79.55365,44.11581],[-79.55379,44.11586],[-79.55398,44.11594],[-79.55413,44.116],[-79.55427,44.11606],[-79.55442,44.11613],[-79.55462,44.11623],[-79.55483,44.11634],[-79.55497,44.11642],[-79.55507,44.11648],[-79.55529,44.11662],[-79.55537,44.11667],[-79.55545,44.11673],[-79.55554,44.11679],[-79.55568,44.11689],[-79.55577,44.11697],[-79.5559,44.11707],[-79.55603,44.11718]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.58019,45.48246],[-73.57937,45.48299],[-73.57879,45.48325],[-73.57819,45.48351],[-73.57759,45.48399],[-73.57727,45.48448],[-73.57711,45.48488],[-73.57702,45.48518],[-73.57693,45.48564],[-73.57692,45.4859],[-73.57694,45.48636],[-73.57697,45.48678],[-73.577,45.48742],[-73.57696,45.48777],[-73.57689,45.48812],[-73.57674,45.48853],[-73.57651,45.48898],[-73.57616,45.48962],[-73.57601,45.48989],[-73.57557,45.49063],[-73.57521,45.4912],[-73.57511,45.49133],[-73.5744,45.49213],[-73.57368,45.4927]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.56095,45.5154],[-73.56126,45.51503],[-73.56162,45.51434],[-73.5612,45.51407],[-73.56104,45.51399],[-73.56086,45.51391],[-73.56048,45.51374],[-73.55991,45.51347],[-73.55888,45.51301],[-73.55815,45.51267],[-73.55773,45.51247],[-73.55734,45.5123],[-73.55709,45.51219],[-73.55699,45.51214]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.62769,45.4869],[-73.62696,45.49029],[-73.62667,45.49224],[-73.62664,45.49251],[-73.62657,45.49283],[-73.62649,45.49311],[-73.62633,45.49338],[-73.62611,45.49366],[-73.62347,45.49664],[-73.61818,45.50251],[-73.61756,45.50345],[-73.61675,45.5046],[-73.61648,45.50502],[-73.61566,45.50651],[-73.61542,45.50695],[-73.61256,45.51013],[-73.61204,45.51089],[-73.61177,45.51172],[-73.61167,45.51288],[-73.61167,45.5141],[-73.61186,45.51507],[-73.61235,45.51645],[-73.61274,45.51733],[-73.61313,45.51818],[-73.61353,45.51885],[-73.6142,45.51953],[-73.61457,45.51981],[-73.6149,45.52009],[-73.61508,45.52017],[-73.62377,45.52322],[-73.62434,45.52344],[-73.62507,45.52381],[-73.62587,45.52446],[-73.62599,45.52464],[-73.62632,45.52509],[-73.62653,45.52583],[-73.62652,45.52649],[-73.62647,45.52702],[-73.62476,45.52993],[-73.62445,45.53043],[-73.62426,45.53078],[-73.62396,45.53132],[-73.6238,45.53162],[-73.6236,45.53181],[-73.62306,45.53226],[-73.62046,45.53498],[-73.62003,45.53528],[-73.61752,45.53675],[-73.6135,45.53916],[-73.61335,45.5395],[-73.61243,45.54162],[-73.60792,45.54673],[-73.60227,45.55308],[-73.60147,45.55394],[-73.6011,45.55452],[-73.60096,45.55515],[-73.60102,45.5558],[-73.60114,45.5563],[-73.60129,45.55699],[-73.60138,45.55751],[-73.60135,45.55804],[-73.60096,45.55864],[-73.60071,45.55893],[-73.60017,45.55958],[-73.59994,45.55981]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.53498,45.59715],[-73.53542,45.59641],[-73.53752,45.59294],[-73.5376,45.59272],[-73.53785,45.59184],[-73.53796,45.59156],[-73.53942,45.58916],[-73.54318,45.58275],[-73.54485,45.57996],[-73.54596,45.578],[-73.54634,45.5774],[-73.54672,45.57684],[-73.54886,45.57364],[-73.54907,45.57311],[-73.54914,45.57263],[-73.54904,45.57175],[-73.54872,45.57102],[-73.54806,45.57015],[-73.54721,45.56917],[-73.54631,45.56818],[-73.54572,45.56734],[-73.54533,45.56663],[-73.54489,45.56564],[-73.54478,45.56505],[-73.54485,45.56437],[-73.54561,45.56311],[-73.54613,45.5625],[-73.54686,45.56176],[-73.54722,45.56121],[-73.5497,45.5572],[-73.55034,45.55628],[-73.55069,45.55576],[-73.55107,45.55517],[-73.55124,45.55487],[-73.55141,45.55449],[-73.5515,45.5542],[-73.55193,45.55342],[-73.552,45.55295],[-73.55194,45.5525],[-73.55198,45.55193],[-73.55178,45.55099],[-73.5512,45.54995],[-73.55075,45.54889],[-73.55072,45.54875],[-73.55072,45.54873],[-73.55064,45.54833],[-73.55075,45.54774],[-73.55113,45.54689],[-73.55337,45.54313],[-73.55422,45.54172],[-73.55455,45.54098],[-73.55563,45.53981],[-73.55574,45.53965],[-73.55621,45.53889],[-73.5564,45.53848],[-73.55643,45.53841],[-73.55655,45.53816],[-73.55668,45.53704],[-73.55663,45.53666],[-73.55657,45.53609],[-73.55627,45.53525],[-73.55601,45.53482],[-73.55568,45.53446],[-73.55562,45.53439],[-73.5554,45.53426],[-73.55485,45.53395],[-73.55248,45.53299],[-73.55075,45.53225],[-73.54965,45.53158],[-73.5492,45.5311],[-73.54892,45.5308],[-73.54875,45.53041],[-73.54867,45.52987],[-73.54868,45.5293],[-73.5488,45.52882],[-73.54911,45.52813],[-73.55294,45.52405],[-73.55302,45.52398],[-73.55509,45.52178],[-73.55622,45.52059],[-73.55719,45.51955],[-73.55854,45.51803],[-73.56111,45.51526],[-73.56117,45.51519],[-73.56134,45.51495],[-73.56282,45.51323],[-73.56321,45.5128],[-73.56482,45.51092],[-73.56549,45.51049],[-73.56653,45.50995],[-73.56718,45.50954],[-73.56777,45.50905],[-73.56799,45.50866],[-73.56834,45.50804],[-73.56909,45.50684],[-73.57153,45.50407],[-73.57454,45.50105],[-73.57502,45.50056],[-73.57671,45.49878],[-73.57737,45.49808],[-73.57747,45.49797],[-73.5775,45.49793],[-73.57854,45.49683],[-73.5791,45.49623],[-73.57981,45.49535],[-73.58062,45.49463]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.58697,45.52745],[-73.58861,45.52822],[-73.59006,45.52887],[-73.59142,45.52948],[-73.59262,45.53],[-73.59302,45.53019],[-73.59353,45.53038],[-73.59402,45.53052],[-73.59443,45.53062],[-73.5946,45.53065],[-73.59484,45.53069],[-73.59515,45.53076],[-73.5955,45.53087],[-73.59588,45.531],[-73.59646,45.5312],[-73.59692,45.53137],[-73.59741,45.53157],[-73.59856,45.53211],[-73.60458,45.53515],[-73.61241,45.5387],[-73.6135,45.53916],[-73.61383,45.53923],[-73.61786,45.54011],[-73.62284,45.54156],[-73.62582,45.54242],[-73.62819,45.54311],[-73.62836,45.54315],[-73.6286,45.54322],[-73.62866,45.54324],[-73.62892,45.54332],[-73.62913,45.54338],[-73.63883,45.54609],[-73.65383,45.55035],[-73.65626,45.55103],[-73.65642,45.55108],[-73.66294,45.55295],[-73.66739,45.55422],[-73.66903,45.55471],[-73.67128,45.55535],[-73.67289,45.55584],[-73.6736,45.55607],[-73.67413,45.55624],[-73.67462,45.55642],[-73.67768,45.5575],[-73.67782,45.55756],[-73.67799,45.55767],[-73.67885,45.55825],[-73.68072,45.55947],[-73.68158,45.56008],[-73.68194,45.56031],[-73.68265,45.56075],[-73.68286,45.56087],[-73.68302,45.56095],[-73.68319,45.561],[-73.68341,45.56106],[-73.68371,45.56112],[-73.6842,45.56121],[-73.68468,45.56129],[-73.68511,45.56133],[-73.68688,45.56136],[-73.6943,45.56119],[-73.70107,45.56115],[-73.70445,45.56112],[-73.70526,45.5611],[-73.70599,45.56107],[-73.70691,45.56101],[-73.70871,45.56083],[-73.70984,45.5607],[-73.7126,45.56039],[-73.71655,45.55996],[-73.71843,45.55975],[-73.71926,45.55966],[-73.71946,45.55962],[-73.71966,45.55957],[-73.71986,45.5595],[-73.72003,45.55943],[-73.72018,45.55938],[-73.72048,45.55924],[-73.72074,45.55912],[-73.72203,45.5585],[-73.72608,45.55659]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.57368,45.4927],[-73.57354,45.49282],[-73.57097,45.49499],[-73.56804,45.49747],[-73.56709,45.49827],[-73.56657,45.49876],[-73.56312,45.50203],[-73.55976,45.50606],[-73.55642,45.51008],[-73.55516,45.51155],[-73.55501,45.51173],[-73.55491,45.51196],[-73.55488,45.51214]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.55488,45.51214],[-73.55491,45.51232],[-73.55499,45.51246],[-73.55517,45.51259],[-73.55539,45.51273],[-73.55564,45.51288],[-73.55969,45.51477],[-73.56178,45.51576],[-73.56488,45.51723],[-73.56809,45.51865],[-73.57987,45.524],[-73.58144,45.52472],[-73.58202,45.52498],[-73.58411,45.52591],[-73.58503,45.52633],[-73.58519,45.5264],[-73.58528,45.52644],[-73.58544,45.52651],[-73.58561,45.5266],[-73.58576,45.5267],[-73.58587,45.52677],[-73.58601,45.52687],[-73.5861,45.52692],[-73.58621,45.52699],[-73.5864,45.52711],[-73.5866,45.52724],[-73.58678,45.52735],[-73.58697,45.52745]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.58062,45.49463],[-73.58496,45.4908],[-73.5858,45.49009],[-73.58631,45.48968],[-73.58739,45.48871],[-73.58913,45.48715],[-73.5894,45.48691],[-73.58946,45.48685],[-73.58955,45.48678],[-73.58984,45.48636],[-73.58988,45.48626],[-73.59009,45.48579],[-73.59021,45.48539],[-73.59023,45.48532],[-73.59037,45.48483],[-73.59039,45.48439],[-73.59033,45.48393],[-73.58991,45.48339],[-73.58946,45.48306],[-73.58844,45.48255],[-73.58697,45.48191],[-73.58551,45.48135],[-73.58519,45.48123],[-73.5845,45.48111],[-73.58386,45.48109],[-73.58308,45.48116],[-73.58286,45.4812],[-73.58252,45.4813],[-73.58194,45.48153],[-73.58129,45.48187],[-73.58031,45.4825],[-73.58027,45.48253],[-73.57947,45.48306],[-73.57847,45.48361],[-73.57812,45.48372],[-73.5778,45.48376],[-73.57742,45.48376],[-73.57681,45.48364],[-73.57641,45.48349],[-73.57591,45.48325],[-73.57555,45.483],[-73.57501,45.48245],[-73.57488,45.48234],[-73.57346,45.48113],[-73.57192,45.47986],[-73.56937,45.47839],[-73.5666,45.47616],[-73.56649,45.47592],[-73.56626,45.47546],[-73.56607,45.47507],[-73.56606,45.47495],[-73.56594,45.47401],[-73.56602,45.47275],[-73.56614,45.47091],[-73.56627,45.46958],[-73.56643,45.46798],[-73.56683,45.46402],[-73.56696,45.46287],[-73.56734,45.46144],[-73.56786,45.46051],[-73.56875,45.45966],[-73.56918,45.45941],[-73.56971,45.45933],[-73.57027,45.45932],[-73.57094,45.45931],[-73.57184,45.45931],[-73.57207,45.45933],[-73.57358,45.45944],[-73.57382,45.45945],[-73.57434,45.45948],[-73.57981,45.45973],[-73.58023,45.45975],[-73.58086,45.45973],[-73.58123,45.45964],[-73.5815,45.45951],[-73.58169,45.45931],[-73.58182,45.45906],[-73.58189,45.45874],[-73.58194,45.45837],[-73.58193,45.45741],[-73.58198,45.45675],[-73.58205,45.45594],[-73.58207,45.45588],[-73.58212,45.45579],[-73.58231,45.45548],[-73.5825,45.45519],[-73.5831,45.45427],[-73.58432,45.45342],[-73.58545,45.45283],[-73.58797,45.45193],[-73.5932,45.45105],[-73.59342,45.45101],[-73.59473,45.45073],[-73.59639,45.44992],[-73.59665,45.44978],[-73.59824,45.4488],[-73.60012,45.44785],[-73.60117,45.44746],[-73.60239,45.44693],[-73.6031,45.44652],[-73.60318,45.44648],[-73.60325,45.44644],[-73.60361,45.44623]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.55581,45.51161],[-73.55532,45.51145],[-73.55421,45.5114],[-73.55397,45.51129],[-73.55365,45.51114],[-73.55357,45.51111],[-73.55353,45.51109],[-73.553,45.51087],[-73.5529,45.51082],[-73.55097,45.50997],[-73.54693,45.50879],[-73.54453,45.50846],[-73.54253,45.50842],[-73.54085,45.50857],[-73.53942,45.50893],[-73.5379,45.50951],[-73.53626,45.51028],[-73.53317,45.51244],[-73.53206,45.51317],[-73.52373,45.51868],[-73.52316,45.51914],[-73.52274,45.51965],[-73.52255,45.52004],[-73.52241,45.52064],[-73.52231,45.52121],[-73.52197,45.52497]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.66294,45.55295],[-73.6632,45.55306],[-73.66338,45.55315],[-73.66466,45.55375],[-73.66573,45.5543],[-73.66731,45.5551],[-73.66755,45.55523],[-73.66772,45.55532],[-73.66794,45.55541],[-73.66835,45.55556],[-73.66861,45.55564],[-73.66946,45.55588],[-73.66971,45.55594],[-73.67015,45.556],[-73.67066,45.55607],[-73.67098,45.5561],[-73.67115,45.55611],[-73.67159,45.55611],[-73.67196,45.55613],[-73.67227,45.55615],[-73.6733,45.55625],[-73.67375,45.5563],[-73.67414,45.55635],[-73.67436,45.55638],[-73.67462,45.55642]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.55699,45.51214],[-73.55693,45.51212],[-73.55675,45.51203],[-73.55623,45.5118],[-73.55581,45.51161]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.6303,45.48227],[-73.62941,45.48323],[-73.62909,45.48366],[-73.62875,45.48413],[-73.62838,45.48463],[-73.62819,45.48496],[-73.62807,45.48526],[-73.62797,45.48561]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.62308,45.49713],[-73.62341,45.49676],[-73.62351,45.49666],[-73.6239,45.49622],[-73.62411,45.49598],[-73.62614,45.49368],[-73.62636,45.49339],[-73.62653,45.49312],[-73.62661,45.49283],[-73.62668,45.49252],[-73.62671,45.49225],[-73.627,45.49029],[-73.62773,45.48691],[-73.62785,45.48634]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.62797,45.48561],[-73.62781,45.48634]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.62781,45.48634],[-73.62769,45.4869]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.62611,45.48256],[-73.6263,45.48269]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.63294,45.47939],[-73.63039,45.48217],[-73.6303,45.48227]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.63034,45.48229],[-73.63062,45.48199],[-73.63299,45.47941]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.62785,45.48634],[-73.62801,45.48561],[-73.62811,45.48526],[-73.62823,45.48497],[-73.62842,45.48464],[-73.62879,45.48414],[-73.62913,45.48368],[-73.62946,45.48325],[-73.63034,45.48229]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.63039,45.48217],[-73.63062,45.48199]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.62758,45.48288],[-73.62762,45.48286],[-73.62766,45.48285],[-73.62771,45.48284],[-73.62879,45.48273]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.62633,45.48266],[-73.62648,45.48271],[-73.62661,45.48275],[-73.62673,45.48279],[-73.62687,45.48282],[-73.62701,45.48286],[-73.62713,45.48288],[-73.62728,45.48289],[-73.62743,45.48289],[-73.62758,45.48288],[-73.62934,45.4827],[-73.62948,45.48268],[-73.6296,45.48265],[-73.62973,45.48261],[-73.62983,45.48257],[-73.62992,45.48253],[-73.63002,45.48247],[-73.63011,45.48241],[-73.6303,45.48227]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.6273,45.48923],[-73.62719,45.48898]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.62719,45.48898],[-73.62716,45.48877],[-73.62716,45.48853],[-73.62721,45.48788],[-73.62755,45.48631],[-73.6278,45.48514],[-73.62781,45.48471],[-73.62776,45.48438],[-73.62767,45.48402],[-73.6275,45.48367],[-73.62728,45.48338],[-73.62704,45.48314],[-73.62677,45.48291],[-73.62633,45.48266],[-73.62611,45.48256],[-73.62071,45.48004],[-73.61976,45.47959]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.62725,45.48924],[-73.62714,45.48898]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.6529,45.49489],[-73.65095,45.49404],[-73.64983,45.4938],[-73.64816,45.49377],[-73.64737,45.49384],[-73.64667,45.49405],[-73.64554,45.49474],[-73.64489,45.49511],[-73.64414,45.49554],[-73.64349,45.49584],[-73.64271,45.49609],[-73.64213,45.49617],[-73.6416,45.49607],[-73.64132,45.49601],[-73.64051,45.49564],[-73.6388,45.49478],[-73.63783,45.49438]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.63785,45.49435],[-73.63289,45.49228],[-73.62919,45.4905],[-73.62845,45.49015],[-73.62774,45.48973],[-73.62754,45.48955],[-73.62743,45.48942],[-73.6273,45.48923]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.6833,45.51428],[-73.67852,45.51159],[-73.67295,45.50842]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.67295,45.50842],[-73.66877,45.50562],[-73.66858,45.50551],[-73.66564,45.50347],[-73.66248,45.50109],[-73.66161,45.5003]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.66161,45.5003],[-73.65936,45.4989],[-73.65629,45.497],[-73.65326,45.49512],[-73.6529,45.49489]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.63286,45.49231],[-73.62916,45.49052],[-73.62842,45.49017],[-73.6277,45.48975],[-73.6275,45.48957],[-73.62739,45.48944],[-73.62725,45.48924]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.63783,45.49438],[-73.63286,45.49231]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.62714,45.48898],[-73.62711,45.48877],[-73.62711,45.48852],[-73.62716,45.48787],[-73.6275,45.48631]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.6275,45.48631],[-73.62775,45.48513],[-73.62776,45.48471],[-73.62771,45.48438],[-73.62762,45.48403],[-73.62746,45.48368],[-73.62724,45.48339],[-73.627,45.48316],[-73.62673,45.48293],[-73.6263,45.48269],[-73.62069,45.48007],[-73.61974,45.47961]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.61974,45.47961],[-73.61871,45.47929],[-73.61813,45.47911],[-73.61777,45.47899],[-73.6148,45.4777],[-73.60963,45.47524],[-73.60656,45.47397],[-73.60581,45.47376],[-73.60527,45.47365],[-73.60518,45.47365],[-73.60475,45.47364],[-73.60429,45.47373],[-73.60373,45.47392]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.60373,45.47392],[-73.60129,45.47515],[-73.60096,45.47532],[-73.59978,45.4759],[-73.59843,45.47697],[-73.59759,45.47769],[-73.59751,45.47773],[-73.59739,45.4778],[-73.59707,45.47798],[-73.59651,45.47823],[-73.59645,45.47826],[-73.5964,45.47827],[-73.5963,45.4783],[-73.59582,45.47845],[-73.59502,45.47848],[-73.59419,45.47842],[-73.59346,45.47826],[-73.59299,45.47808],[-73.59246,45.47779],[-73.59153,45.47726],[-73.59099,45.47704],[-73.5908,45.47698],[-73.59048,45.47691],[-73.59034,45.47689],[-73.5899,45.47685],[-73.58951,45.47682],[-73.58918,45.4768],[-73.58879,45.47679],[-73.58834,45.47678],[-73.58769,45.47689],[-73.58751,45.47692],[-73.58673,45.47717],[-73.58666,45.47719]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.58666,45.47719],[-73.58613,45.47742],[-73.58523,45.47781],[-73.58485,45.47805],[-73.5847,45.47815],[-73.58445,45.47831],[-73.58414,45.47857],[-73.58394,45.47874],[-73.58381,45.47884],[-73.5831,45.47973],[-73.58219,45.48097],[-73.58169,45.48144],[-73.58023,45.48243],[-73.58019,45.48246]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.55599,45.49356],[-73.55602,45.49381],[-73.55605,45.494],[-73.55613,45.49423],[-73.55619,45.49438],[-73.55625,45.49451],[-73.55635,45.49468],[-73.55648,45.49487]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.55601,45.4932],[-73.556,45.49334],[-73.55599,45.49348],[-73.55599,45.49356]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.55789,45.49586],[-73.55819,45.496],[-73.55865,45.49622],[-73.56107,45.49736],[-73.56118,45.49742],[-73.56153,45.49758],[-73.56161,45.49762],[-73.56179,45.49771],[-73.56316,45.49835],[-73.56409,45.49879]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.55648,45.49487],[-73.55657,45.49497],[-73.55666,45.49508],[-73.55677,45.49519],[-73.5569,45.49529],[-73.55704,45.4954],[-73.55718,45.49549],[-73.55733,45.49558],[-73.55757,45.49571],[-73.55789,45.49586]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.44598,45.45582],[-73.44671,45.45635]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.4269,45.44293],[-73.42707,45.44302],[-73.4272,45.4431],[-73.42736,45.44318],[-73.42757,45.4433],[-73.42805,45.44357],[-73.42828,45.4437],[-73.4287,45.44393],[-73.42912,45.44416],[-73.42922,45.44422],[-73.42933,45.44428],[-73.42949,45.44437],[-73.42963,45.44445],[-73.42974,45.44451],[-73.42993,45.44461],[-73.43034,45.44484],[-73.43054,45.44495],[-73.43072,45.44505],[-73.43087,45.44514],[-73.43102,45.44522],[-73.43116,45.4453],[-73.43149,45.44548],[-73.43171,45.44561],[-73.4318,45.44565],[-73.43187,45.44569],[-73.43194,45.44573],[-73.43206,45.4458],[-73.43217,45.44587],[-73.43232,45.44596],[-73.4324,45.446],[-73.43247,45.44605],[-73.43259,45.44612],[-73.43269,45.44618],[-73.43279,45.44625],[-73.43289,45.44632],[-73.433,45.4464],[-73.43306,45.44644],[-73.43318,45.44653],[-73.43325,45.44657],[-73.43404,45.44713],[-73.43429,45.44731],[-73.43438,45.44738],[-73.43472,45.44762],[-73.43493,45.44777],[-73.43511,45.4479],[-73.43524,45.448],[-73.43534,45.44807],[-73.43546,45.44817],[-73.43556,45.44824],[-73.43569,45.44834],[-73.43597,45.44855],[-73.43612,45.44867],[-73.43621,45.44874],[-73.43631,45.44881],[-73.43652,45.44898],[-73.43671,45.44912],[-73.43679,45.44918],[-73.43686,45.44923],[-73.43693,45.44928],[-73.43701,45.44934],[-73.43754,45.44973],[-73.43779,45.44991],[-73.43815,45.45016],[-73.43829,45.45026],[-73.43865,45.45052],[-73.43887,45.45068],[-73.43911,45.45085],[-73.43934,45.45101],[-73.43978,45.45134],[-73.44011,45.45157],[-73.44044,45.45181],[-73.44163,45.45266],[-73.44221,45.45308],[-73.44277,45.45348],[-73.44329,45.45386],[-73.44356,45.45405],[-73.44385,45.45425],[-73.44406,45.4544],[-73.44428,45.45457],[-73.44448,45.45471],[-73.44479,45.45494],[-73.44519,45.45524],[-73.44559,45.45553],[-73.44598,45.45582]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.42727,45.43916],[-73.42709,45.43924],[-73.42689,45.43934],[-73.42675,45.43941],[-73.42663,45.43949],[-73.42649,45.43959],[-73.42639,45.43967],[-73.42627,45.43977],[-73.42615,45.4399],[-73.42604,45.44003],[-73.42597,45.44012],[-73.42589,45.44023],[-73.42581,45.44038],[-73.42575,45.4405],[-73.42571,45.44062],[-73.42567,45.44074],[-73.42565,45.44085],[-73.42563,45.44098],[-73.42562,45.44108],[-73.42563,45.44119],[-73.42564,45.44132],[-73.42565,45.44142],[-73.42567,45.44153],[-73.42571,45.44165],[-73.42575,45.44176],[-73.42581,45.44188],[-73.42589,45.44203],[-73.42598,45.44216],[-73.42607,45.44228],[-73.42616,45.44237],[-73.42627,45.44248],[-73.4264,45.4426],[-73.42657,45.44273],[-73.42672,45.44283],[-73.4269,45.44293]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.53613,45.47028],[-73.53414,45.47026],[-73.53341,45.47024],[-73.53279,45.47023],[-73.53218,45.47022],[-73.53089,45.47019],[-73.52976,45.47015],[-73.52876,45.47012],[-73.5277,45.47007],[-73.52667,45.47003],[-73.52581,45.46999],[-73.52447,45.46992],[-73.52257,45.46982],[-73.52168,45.46976],[-73.52079,45.4697],[-73.51955,45.46962],[-73.51846,45.46954],[-73.51711,45.46943],[-73.51615,45.46936],[-73.51522,45.46928],[-73.51465,45.46923],[-73.51415,45.46918],[-73.51319,45.46909],[-73.51235,45.46901],[-73.51106,45.46888],[-73.51057,45.46883],[-73.50954,45.46873],[-73.5083,45.4686]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.5083,45.4686],[-73.50728,45.4685],[-73.5063,45.46839],[-73.50539,45.4683],[-73.50377,45.46813],[-73.50161,45.46791]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.50161,45.46791],[-73.49945,45.46766],[-73.49883,45.46759],[-73.49686,45.46738],[-73.49605,45.46728],[-73.49521,45.46717],[-73.4944,45.46707],[-73.49201,45.46677]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.44671,45.45635],[-73.44714,45.45665],[-73.44775,45.45709],[-73.44799,45.45726],[-73.44822,45.45741],[-73.44843,45.45757],[-73.44899,45.45796],[-73.44955,45.45836],[-73.4501,45.45875],[-73.45117,45.45952],[-73.45153,45.45978],[-73.45184,45.46001],[-73.45213,45.46021],[-73.45245,45.46044],[-73.45285,45.46073],[-73.45327,45.46104],[-73.45369,45.46134],[-73.45393,45.46151],[-73.45415,45.46167],[-73.45499,45.46228],[-73.45532,45.46252],[-73.45543,45.46259],[-73.45552,45.46266],[-73.45559,45.46271],[-73.45568,45.46276],[-73.45576,45.46282],[-73.45585,45.46288],[-73.45592,45.46293],[-73.45599,45.46297],[-73.45608,45.46302],[-73.45615,45.46306],[-73.45627,45.46313],[-73.45637,45.46319],[-73.45647,45.46325],[-73.45657,45.4633],[-73.45667,45.46335],[-73.45675,45.46339],[-73.45682,45.46343],[-73.45689,45.46346],[-73.45701,45.46352],[-73.4571,45.46356],[-73.45719,45.4636],[-73.45729,45.46364],[-73.45738,45.46368],[-73.45749,45.46373],[-73.45759,45.46377],[-73.45769,45.46381],[-73.45776,45.46384],[-73.45786,45.46387],[-73.45798,45.46391],[-73.45809,45.46395],[-73.4582,45.46399],[-73.45831,45.46402],[-73.45842,45.46406],[-73.45854,45.4641],[-73.45867,45.46414],[-73.4588,45.46417],[-73.45893,45.46421],[-73.45904,45.46423],[-73.45916,45.46426],[-73.45929,45.46429],[-73.45941,45.46432],[-73.45954,45.46435],[-73.45968,45.46438],[-73.45982,45.46441],[-73.45996,45.46443],[-73.46009,45.46446],[-73.46023,45.46448],[-73.46038,45.4645],[-73.46053,45.46452],[-73.46068,45.46454],[-73.46084,45.46456],[-73.46098,45.46457],[-73.46114,45.46459],[-73.46134,45.4646],[-73.46151,45.46461],[-73.46171,45.46462],[-73.46188,45.46463],[-73.46209,45.46464],[-73.46232,45.46465],[-73.46252,45.46466],[-73.46324,45.46468]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.43366,45.43711],[-73.43224,45.43757],[-73.43221,45.43757],[-73.43163,45.43776],[-73.42839,45.43879],[-73.42761,45.43904],[-73.42744,45.4391],[-73.42727,45.43916]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.46357,45.4647],[-73.46457,45.46473],[-73.46503,45.46475],[-73.46553,45.46477],[-73.46578,45.46478]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.46324,45.46468],[-73.46357,45.4647]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.55654,45.489],[-73.55651,45.48842],[-73.55648,45.48818],[-73.55647,45.48779],[-73.55644,45.48741],[-73.55641,45.48725],[-73.55634,45.48699],[-73.55627,45.48681],[-73.55617,45.48661],[-73.55602,45.48639],[-73.55584,45.48618],[-73.55569,45.48603],[-73.5555,45.48586],[-73.55521,45.48566],[-73.55503,45.48556],[-73.55483,45.48547],[-73.55466,45.48539],[-73.55443,45.48531],[-73.55412,45.48522],[-73.55373,45.48514],[-73.55333,45.48509],[-73.55292,45.48508],[-73.55246,45.4851],[-73.55202,45.48516],[-73.55157,45.48526],[-73.55114,45.48536],[-73.54903,45.48586],[-73.54817,45.48607],[-73.54731,45.48627],[-73.5469,45.48637],[-73.54652,45.48646],[-73.54613,45.48652],[-73.54581,45.48656],[-73.5455,45.48657],[-73.54507,45.48654],[-73.54463,45.48648],[-73.54421,45.48639],[-73.54399,45.48632],[-73.54375,45.48621],[-73.54358,45.48614],[-73.54338,45.48602],[-73.54318,45.4859],[-73.5429,45.48566],[-73.54276,45.48553],[-73.54264,45.48537],[-73.54255,45.48525],[-73.54247,45.48513],[-73.54237,45.48495],[-73.54229,45.48475],[-73.54225,45.48459],[-73.54222,45.48444],[-73.54221,45.48423],[-73.54222,45.48403],[-73.54225,45.48385],[-73.54232,45.48356],[-73.5424,45.48331],[-73.54265,45.48261],[-73.54292,45.48187],[-73.54307,45.48148],[-73.54347,45.48039],[-73.54358,45.48008],[-73.54368,45.47982],[-73.54376,45.4796],[-73.54382,45.47947],[-73.54387,45.47937],[-73.54391,45.47927],[-73.54394,45.47921],[-73.54399,45.47913],[-73.54405,45.47902],[-73.54411,45.4789],[-73.5442,45.47877],[-73.54427,45.47865],[-73.54436,45.47853],[-73.54444,45.47843],[-73.54452,45.47833],[-73.54459,45.47824],[-73.54465,45.47816],[-73.54475,45.47806],[-73.54484,45.47796],[-73.54494,45.47787],[-73.54502,45.47778],[-73.54512,45.47768],[-73.54523,45.47759],[-73.54535,45.47749],[-73.54547,45.47739],[-73.54562,45.47727],[-73.54577,45.47716],[-73.54598,45.47702],[-73.54724,45.47622],[-73.54743,45.47609],[-73.54762,45.47598],[-73.54788,45.4758],[-73.54801,45.4757],[-73.5481,45.47562],[-73.54819,45.47553],[-73.5483,45.47541],[-73.54839,45.47532],[-73.54846,45.47522],[-73.54854,45.4751],[-73.54863,45.47496],[-73.5487,45.47482],[-73.54875,45.47469],[-73.5488,45.47455],[-73.54884,45.4744],[-73.54885,45.47427],[-73.54886,45.47414],[-73.54886,45.47401],[-73.54885,45.47389],[-73.54884,45.4738],[-73.54882,45.47371],[-73.54879,45.47361],[-73.54875,45.47347],[-73.54868,45.4733],[-73.54861,45.47317],[-73.54852,45.47303]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.53786,45.47031],[-73.53742,45.47031],[-73.53685,45.4703],[-73.53613,45.47028]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.54411,45.4705],[-73.5438,45.47048],[-73.54316,45.47045],[-73.54103,45.47036],[-73.54041,45.47034],[-73.53978,45.47032]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.49201,45.46677],[-73.49087,45.46662],[-73.48977,45.46647],[-73.48734,45.46613],[-73.48642,45.466],[-73.48568,45.4659],[-73.48496,45.4658],[-73.4842,45.46571],[-73.4836,45.46564],[-73.48322,45.46559],[-73.48284,45.46556],[-73.48231,45.46551],[-73.48171,45.46546],[-73.48098,45.46541],[-73.48024,45.46536],[-73.47984,45.46533],[-73.47941,45.4653],[-73.47754,45.46521],[-73.47703,45.46518],[-73.47615,45.46515],[-73.47583,45.46513],[-73.47547,45.46511],[-73.4748,45.46509],[-73.47426,45.46507],[-73.47381,45.46505],[-73.47339,45.46503],[-73.47248,45.46498],[-73.47221,45.46497],[-73.47203,45.46496],[-73.47183,45.46495],[-73.47162,45.46494],[-73.47139,45.46494],[-73.46933,45.46485],[-73.46913,45.46485],[-73.4689,45.46484],[-73.46863,45.46483],[-73.46828,45.46483],[-73.468,45.46482],[-73.46776,45.46482],[-73.46724,45.46482],[-73.46692,45.46481],[-73.46627,45.46479]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.46578,45.46478],[-73.46627,45.46479]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.43542,45.43731],[-73.43549,45.43738],[-73.43555,45.43745],[-73.4356,45.43753],[-73.43565,45.43763],[-73.43568,45.43772],[-73.43569,45.4378]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.54852,45.47303],[-73.54845,45.47293],[-73.54838,45.47284],[-73.54829,45.47274],[-73.54816,45.4726],[-73.54806,45.47251],[-73.54663,45.47135],[-73.54651,45.47126],[-73.54635,45.47115],[-73.54625,45.47109],[-73.54612,45.47102],[-73.54594,45.47093],[-73.54572,45.47083],[-73.54552,45.47075],[-73.54538,45.4707],[-73.54524,45.47066],[-73.54507,45.47062],[-73.54492,45.47059],[-73.5447,45.47056],[-73.54442,45.47052],[-73.54411,45.4705]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.53978,45.47032],[-73.53823,45.47032]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-73.53823,45.47032],[-73.53786,45.47031]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-113.52592,53.50801],[-113.52599,53.50792],[-113.52622,53.50764],[-113.52644,53.50744],[-113.52685,53.50719]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-113.51726,53.49693],[-113.51712,53.4968],[-113.51696,53.49653],[-113.51687,53.49639],[-113.51683,53.49631],[-113.5168,53.4962]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-113.5168,53.4962],[-113.51677,53.49603],[-113.51672,53.49409],[-113.51672,53.49393],[-113.51674,53.49235],[-113.51675,53.49205],[-113.51676,53.49117],[-113.51676,53.49061],[-113.51675,53.49045],[-113.51675,53.48981],[-113.51676,53.48935],[-113.51677,53.48844],[-113.51678,53.4883],[-113.51678,53.48815],[-113.51679,53.48802],[-113.51681,53.48771],[-113.51683,53.48707],[-113.51684,53.48685],[-113.51685,53.48633],[-113.51688,53.48483],[-113.51684,53.48441],[-113.51681,53.48412],[-113.51678,53.48386],[-113.51672,53.48359],[-113.51668,53.48342],[-113.51665,53.4833],[-113.51661,53.48316]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-113.51661,53.48316],[-113.5164,53.48232]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-113.5164,53.48232],[-113.51638,53.48222],[-113.51635,53.48211],[-113.51626,53.48171],[-113.51625,53.4816],[-113.51623,53.48135],[-113.51625,53.48108],[-113.51634,53.48038],[-113.51645,53.47973],[-113.51645,53.47827],[-113.51645,53.47826],[-113.51646,53.47803],[-113.51644,53.47584],[-113.51644,53.47572],[-113.51644,53.47554],[-113.51643,53.47406],[-113.51643,53.47378],[-113.51644,53.47226],[-113.51644,53.47225],[-113.51644,53.47206],[-113.51635,53.46612],[-113.51636,53.46598],[-113.51635,53.46588],[-113.51635,53.46583],[-113.51635,53.4642],[-113.51637,53.46356],[-113.5164,53.46266],[-113.5164,53.46123],[-113.5164,53.46112],[-113.51641,53.46094],[-113.5164,53.46082],[-113.5164,53.46047],[-113.51641,53.45949],[-113.51644,53.45826],[-113.51642,53.45657]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-113.52685,53.50719],[-113.52757,53.50676],[-113.52793,53.50652],[-113.52808,53.50638],[-113.52825,53.5062],[-113.52838,53.506],[-113.52848,53.50576],[-113.52853,53.50551],[-113.52853,53.50512],[-113.52853,53.50485],[-113.52853,53.5041],[-113.52851,53.50362],[-113.52853,53.50355],[-113.52852,53.50196],[-113.52853,53.50191],[-113.52853,53.50179],[-113.52853,53.50054],[-113.52853,53.49997],[-113.52853,53.49984],[-113.52853,53.49962],[-113.52849,53.49942],[-113.52844,53.49923],[-113.52835,53.49904],[-113.52824,53.49889],[-113.5281,53.49874],[-113.52794,53.49862],[-113.52777,53.49849],[-113.52748,53.49832],[-113.52716,53.49818],[-113.52689,53.49811],[-113.52666,53.49806],[-113.52637,53.49801],[-113.52594,53.49796],[-113.52564,53.49794],[-113.52508,53.49793],[-113.52426,53.4979],[-113.52318,53.49786],[-113.52298,53.49786],[-113.52279,53.49785],[-113.52165,53.49782],[-113.52055,53.49779],[-113.51974,53.49776],[-113.51938,53.49775],[-113.51905,53.4977],[-113.51883,53.49766],[-113.51839,53.49755],[-113.51812,53.49745],[-113.51798,53.49739],[-113.51785,53.49733],[-113.51771,53.49725],[-113.51757,53.49716],[-113.51746,53.49709],[-113.51734,53.49699],[-113.51726,53.49693]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-113.52598,53.51939],[-113.52598,53.51918],[-113.52596,53.51906],[-113.52589,53.5187],[-113.52588,53.5185],[-113.52589,53.5181],[-113.52591,53.51796],[-113.526,53.51753],[-113.5261,53.51704],[-113.52613,53.51689],[-113.52614,53.51682],[-113.52616,53.51672],[-113.52617,53.51663],[-113.52618,53.51657],[-113.52619,53.51651],[-113.5262,53.5164],[-113.52621,53.51622],[-113.52621,53.51607],[-113.52621,53.51549],[-113.5262,53.51476],[-113.52621,53.51459],[-113.52624,53.51423],[-113.52624,53.51404],[-113.52625,53.51377],[-113.52625,53.51256],[-113.52624,53.51233],[-113.52624,53.51225],[-113.52624,53.51218],[-113.52624,53.51188],[-113.52622,53.51146],[-113.52618,53.51088],[-113.52617,53.51042],[-113.52617,53.51009],[-113.52616,53.50996],[-113.52615,53.50984],[-113.52612,53.50969],[-113.52605,53.50951],[-113.52589,53.50915],[-113.52584,53.50902],[-113.5258,53.50891],[-113.52577,53.50877],[-113.52575,53.5086],[-113.52576,53.50849],[-113.52577,53.50833],[-113.52582,53.5082],[-113.52592,53.50801]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-113.43979,53.58377],[-113.44139,53.58306]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-113.41074,53.60226],[-113.41204,53.60145],[-113.41213,53.60139],[-113.41248,53.60117],[-113.4128,53.60098],[-113.41301,53.60085],[-113.41319,53.60073],[-113.41357,53.6005]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-113.45791,53.57117],[-113.45905,53.57016],[-113.45912,53.5701]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-113.44139,53.58306],[-113.44171,53.5829],[-113.44202,53.58274],[-113.44235,53.58254],[-113.44296,53.58218],[-113.4436,53.58176],[-113.44509,53.58084],[-113.44639,53.58002],[-113.44871,53.57857],[-113.4492,53.57827],[-113.45016,53.57765],[-113.45064,53.57734],[-113.45149,53.57671],[-113.45241,53.57596],[-113.45253,53.57586],[-113.4528,53.57563]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-113.51082,53.53266],[-113.51116,53.53204],[-113.5112,53.53196],[-113.51259,53.52958],[-113.51275,53.52933],[-113.51285,53.52919],[-113.51288,53.52915],[-113.513,53.52901],[-113.51313,53.52886],[-113.51324,53.52874],[-113.5133,53.52869],[-113.51341,53.52859],[-113.51365,53.5284],[-113.51382,53.52829],[-113.51395,53.5282],[-113.51412,53.52809],[-113.51429,53.528],[-113.51457,53.52786],[-113.51495,53.52768],[-113.51512,53.52759],[-113.51557,53.52739]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-113.5259,53.52191],[-113.5259,53.52179],[-113.52596,53.52118],[-113.52597,53.52108],[-113.52598,53.52093],[-113.52598,53.52077],[-113.52598,53.52076],[-113.52598,53.51976],[-113.52598,53.51939]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-113.51569,53.52733],[-113.5164,53.52705],[-113.51689,53.52686],[-113.51742,53.52666],[-113.52223,53.5249],[-113.5223,53.52488],[-113.52385,53.52431],[-113.52427,53.52416],[-113.52454,53.52406],[-113.52481,53.52393],[-113.52504,53.5238],[-113.52525,53.52364],[-113.52546,53.52341],[-113.52562,53.5232],[-113.52576,53.5229],[-113.52583,53.52266],[-113.52588,53.5224],[-113.5259,53.52191]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-113.41074,53.60226],[-113.40946,53.60306],[-113.40844,53.60367]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-113.48401,53.5492],[-113.48493,53.54886],[-113.48536,53.5487],[-113.48555,53.5486],[-113.48585,53.54842],[-113.48871,53.54618],[-113.4888,53.5461],[-113.48899,53.54594],[-113.48909,53.54583],[-113.48919,53.54568],[-113.48926,53.54546],[-113.48929,53.54503]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-113.41547,53.59932],[-113.41699,53.59837],[-113.41764,53.59796]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-113.48929,53.54503],[-113.4891,53.54402],[-113.4888,53.54231],[-113.48879,53.54219],[-113.48878,53.54206],[-113.48881,53.54195],[-113.48886,53.54182],[-113.48891,53.54173],[-113.48897,53.54165],[-113.48912,53.54156],[-113.48927,53.54148],[-113.48947,53.5414],[-113.48969,53.54133],[-113.48991,53.54128],[-113.49023,53.54122],[-113.49054,53.54118],[-113.49197,53.54107],[-113.49351,53.54096],[-113.49391,53.54096],[-113.49878,53.54097],[-113.50283,53.54097],[-113.50749,53.54091],[-113.50793,53.54085],[-113.50826,53.54076],[-113.50881,53.54056],[-113.50897,53.54046],[-113.5096,53.54001],[-113.51033,53.53926],[-113.51043,53.53624],[-113.51044,53.53589],[-113.51045,53.53369],[-113.51046,53.5336],[-113.51047,53.53352],[-113.51048,53.53344],[-113.5105,53.53335],[-113.51055,53.53323],[-113.5106,53.53313],[-113.51064,53.53304],[-113.51076,53.5328]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-113.49732,53.54761],[-113.49647,53.54759],[-113.49543,53.54756],[-113.49469,53.54757],[-113.49382,53.54758],[-113.49327,53.54759],[-113.49322,53.54759],[-113.49236,53.54759],[-113.49216,53.54759],[-113.49187,53.54756],[-113.49163,53.54752],[-113.49137,53.54747],[-113.49114,53.54741],[-113.49092,53.54734],[-113.49064,53.54722],[-113.49036,53.54711],[-113.49016,53.547],[-113.48991,53.54684],[-113.48983,53.54677],[-113.48971,53.54664],[-113.48965,53.54655],[-113.48962,53.54644],[-113.48929,53.54503]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-113.41357,53.6005],[-113.414,53.60023]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-113.414,53.60023],[-113.41445,53.59995]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-113.41445,53.59995],[-113.41447,53.59994],[-113.41497,53.59962],[-113.41547,53.59932]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-113.4528,53.57563],[-113.45325,53.57524]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-113.45325,53.57524],[-113.45398,53.57458],[-113.45535,53.57338],[-113.45622,53.57263],[-113.45699,53.57195],[-113.45729,53.57169],[-113.45757,53.57144],[-113.45791,53.57117]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-113.41807,53.59769],[-113.42432,53.59375],[-113.42494,53.59336],[-113.42576,53.59284],[-113.4273,53.59189],[-113.42848,53.59116],[-113.42973,53.59037],[-113.43051,53.58989],[-113.43147,53.58929],[-113.43213,53.58887],[-113.43352,53.58802],[-113.43363,53.58795],[-113.43411,53.58763],[-113.43438,53.58747],[-113.43439,53.58747],[-113.43509,53.58702],[-113.4354,53.58679],[-113.43567,53.58658],[-113.43605,53.58628],[-113.43659,53.58585],[-113.43691,53.58561],[-113.43897,53.58424],[-113.43923,53.58408],[-113.43946,53.58395],[-113.43979,53.58377]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-113.41764,53.59796],[-113.41807,53.59769]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-113.45912,53.5701],[-113.45991,53.5694],[-113.46008,53.56925],[-113.46037,53.56899],[-113.46126,53.56825],[-113.46214,53.56747],[-113.46587,53.56414],[-113.46729,53.56299],[-113.46742,53.56287],[-113.46933,53.56118],[-113.46943,53.56109],[-113.46975,53.5608],[-113.46998,53.56064],[-113.47014,53.56052],[-113.47042,53.56028],[-113.47125,53.55956],[-113.47131,53.55951],[-113.4715,53.55932],[-113.47176,53.55905],[-113.4722,53.55866],[-113.47301,53.55796],[-113.47409,53.557],[-113.47538,53.55586],[-113.47831,53.55328],[-113.47856,53.55306],[-113.47899,53.5527],[-113.47902,53.55268],[-113.48024,53.5516],[-113.48163,53.55043],[-113.48172,53.55037],[-113.48224,53.54999],[-113.48254,53.54981],[-113.48278,53.54968],[-113.48317,53.54951],[-113.48401,53.5492]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-113.51076,53.5328],[-113.51082,53.53266]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-113.50647,53.56594],[-113.50638,53.56594],[-113.50583,53.56594],[-113.50491,53.56594],[-113.50489,53.56594],[-113.50458,53.56593],[-113.50445,53.56592],[-113.50431,53.5659],[-113.50419,53.56588],[-113.50408,53.56585],[-113.50403,53.56584],[-113.50395,53.56582],[-113.50385,53.56578],[-113.50376,53.56574],[-113.50366,53.56569],[-113.5036,53.56565],[-113.50353,53.56561],[-113.50347,53.56556],[-113.50346,53.56555],[-113.50338,53.56549],[-113.50329,53.56538],[-113.50324,53.5653],[-113.5032,53.5652],[-113.50317,53.56509],[-113.50317,53.56504],[-113.50317,53.565],[-113.50319,53.56477],[-113.50323,53.56428],[-113.50324,53.56386]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-113.51557,53.52739],[-113.51569,53.52733]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-113.50324,53.56386],[-113.50324,53.56293],[-113.50323,53.56278],[-113.50323,53.5622],[-113.50323,53.56207],[-113.50321,53.56195],[-113.50318,53.56171],[-113.50294,53.5609],[-113.50288,53.56072],[-113.50284,53.56056],[-113.50282,53.56031],[-113.50282,53.56004],[-113.50281,53.55922],[-113.50279,53.5591],[-113.50277,53.55898],[-113.50274,53.55891],[-113.50272,53.55886],[-113.50268,53.55879],[-113.50265,53.55874],[-113.50258,53.55864],[-113.50249,53.55854],[-113.50241,53.55846],[-113.50234,53.5584],[-113.50226,53.55833],[-113.50219,53.55828],[-113.5021,53.55823],[-113.50093,53.5576],[-113.5002,53.5572],[-113.49999,53.5571],[-113.49988,53.55703],[-113.49977,53.55696],[-113.49966,53.55688],[-113.49958,53.5568],[-113.49951,53.55673],[-113.49938,53.55656],[-113.49932,53.55646],[-113.49929,53.55638],[-113.49927,53.55629],[-113.49926,53.55623],[-113.49925,53.5561],[-113.49925,53.55533],[-113.49925,53.55514],[-113.49925,53.55484],[-113.49925,53.55424],[-113.49926,53.55417],[-113.49926,53.5541],[-113.49928,53.55404],[-113.4993,53.55396],[-113.49933,53.55391],[-113.49938,53.55383],[-113.49941,53.55378],[-113.49947,53.55371],[-113.49953,53.55365],[-113.49959,53.55361],[-113.49963,53.55357],[-113.4997,53.55352],[-113.4998,53.55346],[-113.50043,53.55312],[-113.50059,53.55302],[-113.50067,53.55297],[-113.50076,53.55291],[-113.50082,53.55286],[-113.50089,53.55279],[-113.50095,53.55272],[-113.501,53.55265],[-113.50106,53.55256],[-113.50109,53.55247],[-113.5011,53.55241],[-113.50111,53.55229],[-113.50113,53.55142],[-113.50113,53.54982],[-113.50114,53.54891],[-113.50114,53.54866],[-113.50113,53.54852],[-113.50111,53.54841],[-113.50108,53.54833],[-113.50104,53.54826],[-113.50099,53.54821],[-113.50085,53.54809],[-113.50077,53.54803],[-113.50063,53.54795],[-113.50049,53.5479]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-113.50049,53.5479],[-113.50043,53.54787],[-113.50026,53.54782],[-113.50012,53.54779],[-113.49977,53.54776],[-113.49732,53.54761]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-114.06873,50.89875],[-114.06882,50.89891],[-114.06929,50.89981],[-114.06944,50.90011],[-114.06968,50.90063],[-114.06982,50.90095],[-114.06998,50.90134],[-114.07012,50.90174],[-114.07023,50.90214],[-114.07032,50.90254],[-114.0704,50.90298],[-114.07045,50.90336],[-114.07048,50.90364],[-114.07052,50.90414],[-114.07053,50.90463],[-114.07052,50.90721],[-114.07054,50.90802],[-114.07056,50.90919],[-114.07056,50.91058],[-114.07055,50.91077],[-114.07053,50.91212],[-114.07055,50.91226],[-114.07052,50.9124],[-114.0705,50.91391],[-114.0705,50.9143],[-114.07053,50.91477],[-114.07058,50.91524],[-114.07065,50.91571],[-114.07073,50.91615],[-114.07086,50.91665],[-114.071,50.91712],[-114.07133,50.9181],[-114.0732,50.92369],[-114.07327,50.9239],[-114.07346,50.92446],[-114.07365,50.92505],[-114.07372,50.92528],[-114.07376,50.92544],[-114.07379,50.92564],[-114.0738,50.92574],[-114.0738,50.92579],[-114.0738,50.92598],[-114.07379,50.92609],[-114.07376,50.92624],[-114.07373,50.92637],[-114.0737,50.92648],[-114.07363,50.92664],[-114.0736,50.92672],[-114.07345,50.92703],[-114.0722,50.92945],[-114.07181,50.93017],[-114.0717,50.93037],[-114.07041,50.93289],[-114.07031,50.93308],[-114.0702,50.93335],[-114.07016,50.93344],[-114.07007,50.93369],[-114.06999,50.93396],[-114.06993,50.93421],[-114.06991,50.93431],[-114.06984,50.93474],[-114.06981,50.93502],[-114.06972,50.93641],[-114.06972,50.93645],[-114.06971,50.93661],[-114.06969,50.93699],[-114.0697,50.93726],[-114.06971,50.93756],[-114.06975,50.93813],[-114.06979,50.93847],[-114.06983,50.93872],[-114.06987,50.93893],[-114.07088,50.94392],[-114.07102,50.94453],[-114.0712,50.94513],[-114.07142,50.94573],[-114.07222,50.94776],[-114.07232,50.94801],[-114.0726,50.94865],[-114.0727,50.94891],[-114.0734,50.95066],[-114.07367,50.95135],[-114.07389,50.95195],[-114.07395,50.95214],[-114.07402,50.95236],[-114.07407,50.95256],[-114.07413,50.95274],[-114.07426,50.95329],[-114.07445,50.95425],[-114.0748,50.95591],[-114.07482,50.95599],[-114.07486,50.95607],[-114.07493,50.95623],[-114.07493,50.95626],[-114.07492,50.95643],[-114.07493,50.95656],[-114.07498,50.95683],[-114.07503,50.95704],[-114.07509,50.95725],[-114.07547,50.9586],[-114.07553,50.95884],[-114.07557,50.95905],[-114.07609,50.96157],[-114.07645,50.96333],[-114.07648,50.9635],[-114.07668,50.96445],[-114.07672,50.96463],[-114.07696,50.96583],[-114.077,50.96602],[-114.07704,50.9663],[-114.07707,50.96648],[-114.0771,50.96675],[-114.07713,50.9671],[-114.07715,50.9674],[-114.07715,50.96765],[-114.07715,50.96799],[-114.07714,50.96823],[-114.07711,50.96871],[-114.07709,50.96885],[-114.07706,50.96915],[-114.07701,50.96944],[-114.07696,50.96973],[-114.07689,50.97004],[-114.07682,50.97032],[-114.07675,50.97058],[-114.07666,50.97089],[-114.07661,50.97104],[-114.07646,50.97147],[-114.07468,50.97662],[-114.07462,50.9768],[-114.07461,50.97682],[-114.0746,50.97684],[-114.07445,50.9773],[-114.07405,50.97844],[-114.07399,50.9786],[-114.07393,50.97879],[-114.07386,50.97893],[-114.07381,50.97905],[-114.07374,50.97917],[-114.07365,50.97932],[-114.07358,50.97944],[-114.07347,50.97962],[-114.07339,50.97975],[-114.07295,50.98046],[-114.07266,50.9809],[-114.06896,50.98626],[-114.06859,50.98681],[-114.06765,50.98818],[-114.06753,50.98836],[-114.0674,50.98856],[-114.06728,50.98878],[-114.06714,50.98905],[-114.06709,50.98918],[-114.067,50.98939],[-114.06694,50.98954],[-114.06689,50.98969],[-114.06681,50.98996],[-114.06676,50.99018],[-114.06673,50.9903],[-114.06669,50.99055],[-114.06658,50.9913],[-114.06653,50.9917],[-114.06613,50.99455],[-114.06609,50.99478],[-114.06602,50.9951],[-114.06599,50.99522],[-114.06594,50.99546],[-114.06588,50.99576],[-114.06584,50.99606],[-114.06573,50.99678],[-114.06565,50.99726],[-114.06562,50.99744],[-114.06562,50.99746],[-114.06563,50.99757],[-114.06408,51.00867],[-114.06345,51.01328],[-114.06337,51.01376],[-114.0633,51.01409],[-114.06323,51.01429],[-114.06314,51.01451],[-114.06304,51.01469],[-114.06293,51.01487],[-114.0628,51.01505],[-114.06267,51.01522],[-114.0625,51.01541],[-114.06185,51.01612],[-114.06176,51.01623],[-114.06172,51.01628],[-114.06168,51.01634],[-114.06165,51.01641],[-114.06162,51.0165],[-114.06158,51.01665],[-114.06155,51.01675],[-114.06151,51.01693],[-114.06141,51.01734],[-114.0613,51.01782],[-114.06121,51.01819],[-114.06118,51.0183],[-114.06115,51.01836],[-114.06113,51.01841],[-114.06106,51.01851],[-114.06097,51.01864],[-114.06063,51.0191],[-114.06052,51.01927],[-114.06023,51.0197],[-114.05967,51.02047],[-114.05886,51.02159],[-114.05865,51.02188],[-114.05859,51.02199],[-114.05854,51.02207],[-114.0585,51.02219],[-114.05849,51.02224],[-114.05848,51.02228],[-114.05847,51.02235],[-114.05847,51.0224],[-114.05847,51.02244],[-114.05848,51.0225],[-114.05851,51.02259],[-114.05855,51.0227],[-114.05858,51.02275],[-114.05862,51.02284],[-114.05891,51.02334],[-114.05896,51.02344],[-114.05903,51.02359],[-114.05906,51.02366],[-114.05908,51.02372],[-114.0591,51.0238],[-114.05912,51.02387],[-114.05913,51.02396],[-114.05914,51.02404],[-114.05914,51.02412],[-114.05913,51.02422],[-114.05912,51.02432],[-114.05903,51.02502],[-114.05902,51.0252],[-114.059,51.02541],[-114.05899,51.02559],[-114.05899,51.02578],[-114.05901,51.02599],[-114.05902,51.02617],[-114.0591,51.0266],[-114.05911,51.02669],[-114.05917,51.02692],[-114.05944,51.02795],[-114.05947,51.0281],[-114.05951,51.02827],[-114.05952,51.02832],[-114.05953,51.02842],[-114.05953,51.02855],[-114.05952,51.0287],[-114.05949,51.02887],[-114.05947,51.02895],[-114.05942,51.02914],[-114.05902,51.03034],[-114.05899,51.03043],[-114.05895,51.03059],[-114.05894,51.03071],[-114.05885,51.03193],[-114.05884,51.03211],[-114.05883,51.0324],[-114.05883,51.03255],[-114.05885,51.03281],[-114.05885,51.03303],[-114.05885,51.03318],[-114.05884,51.03335],[-114.05882,51.03361],[-114.05868,51.03555],[-114.05865,51.03609],[-114.0586,51.03671],[-114.05859,51.03686],[-114.05858,51.037],[-114.05856,51.0371],[-114.05854,51.03717],[-114.05852,51.03724],[-114.05844,51.03742],[-114.05842,51.03744],[-114.05835,51.03764],[-114.0583,51.0378],[-114.05828,51.0379],[-114.05825,51.0384],[-114.05825,51.03842],[-114.05819,51.03917],[-114.05817,51.03944],[-114.05817,51.03951],[-114.05816,51.03971],[-114.05817,51.04044],[-114.05817,51.04061],[-114.05816,51.04077],[-114.05813,51.04101],[-114.05812,51.04111],[-114.058,51.04152],[-114.05784,51.04192],[-114.05761,51.0423],[-114.05748,51.04248],[-114.05734,51.04266],[-114.05719,51.04284],[-114.05703,51.043],[-114.05685,51.04319],[-114.05557,51.0444],[-114.05541,51.04455],[-114.05531,51.04465],[-114.05521,51.04476],[-114.05509,51.04491],[-114.05503,51.04499],[-114.05499,51.04506],[-114.05495,51.04514],[-114.05491,51.0452],[-114.0549,51.04525],[-114.05487,51.04538],[-114.05485,51.04547],[-114.05485,51.04553],[-114.05486,51.04561],[-114.05488,51.04568],[-114.05491,51.04576],[-114.05492,51.0458],[-114.05495,51.04583],[-114.055,51.04592],[-114.05506,51.04599],[-114.05513,51.04604],[-114.05521,51.0461],[-114.05528,51.04615],[-114.05538,51.04619],[-114.05547,51.04623],[-114.05557,51.04626],[-114.05568,51.04628],[-114.05581,51.0463],[-114.05587,51.0463],[-114.05613,51.04631],[-114.0562,51.04631],[-114.05646,51.04632],[-114.05672,51.04633],[-114.06438,51.04655],[-114.07242,51.04678],[-114.07797,51.04693],[-114.08284,51.04707],[-114.08286,51.04708],[-114.08299,51.04709],[-114.08304,51.04711],[-114.08311,51.04713],[-114.08317,51.04715],[-114.08324,51.04718],[-114.0833,51.0472],[-114.08336,51.04724],[-114.0834,51.04727],[-114.08344,51.0473],[-114.08348,51.04734],[-114.08352,51.04738],[-114.08356,51.04745],[-114.08359,51.04754],[-114.08359,51.04762],[-114.08357,51.04802],[-114.08356,51.04815],[-114.08354,51.04823],[-114.08351,51.04832],[-114.08348,51.0484],[-114.08333,51.04865],[-114.08328,51.04876],[-114.08326,51.04882],[-114.08323,51.04892],[-114.08322,51.04904],[-114.08314,51.05023],[-114.08312,51.05052],[-114.08313,51.05071],[-114.08315,51.05083],[-114.08319,51.05098],[-114.08324,51.05114],[-114.08329,51.05127],[-114.08336,51.05141],[-114.08344,51.05156],[-114.08398,51.05251],[-114.08411,51.05275],[-114.0842,51.05294],[-114.08426,51.0531],[-114.08429,51.05322],[-114.08431,51.05332],[-114.08432,51.05341],[-114.08433,51.05354],[-114.08434,51.0539],[-114.08435,51.05483],[-114.08436,51.055],[-114.08437,51.05568],[-114.08438,51.05629],[-114.08439,51.05639],[-114.08442,51.05686],[-114.08447,51.05763],[-114.08451,51.05796],[-114.08455,51.05824],[-114.0846,51.05849],[-114.08464,51.05871],[-114.0847,51.05898],[-114.08479,51.05935],[-114.08485,51.05953],[-114.08496,51.05991],[-114.08514,51.06041],[-114.08525,51.06065],[-114.08531,51.06077],[-114.08536,51.06085],[-114.08546,51.06098],[-114.08555,51.06108],[-114.08561,51.06114],[-114.08568,51.0612],[-114.08579,51.0613],[-114.08591,51.06138],[-114.08606,51.06148],[-114.08617,51.06154],[-114.08628,51.0616],[-114.08638,51.06164],[-114.0865,51.06169],[-114.08667,51.06175],[-114.08685,51.06181],[-114.087,51.06184],[-114.08711,51.06187],[-114.08722,51.06189],[-114.08751,51.06194],[-114.08792,51.06198],[-114.08883,51.06206],[-114.08909,51.06209],[-114.08927,51.06213],[-114.08936,51.06215],[-114.08947,51.06217],[-114.08964,51.06222],[-114.08978,51.06227],[-114.08987,51.06231],[-114.08996,51.06236],[-114.09023,51.06251],[-114.09065,51.06278],[-114.09108,51.06305],[-114.09217,51.06373],[-114.09237,51.06385],[-114.09247,51.06391],[-114.09257,51.06396],[-114.09267,51.06401],[-114.09278,51.06405],[-114.09287,51.06408],[-114.09299,51.06412],[-114.09311,51.06415],[-114.09324,51.06418],[-114.09334,51.0642],[-114.09345,51.06422],[-114.09356,51.06423],[-114.09368,51.06424],[-114.09386,51.06425],[-114.09412,51.06425],[-114.09682,51.06425],[-114.09732,51.06425],[-114.09754,51.06426],[-114.09774,51.06426],[-114.09797,51.06428],[-114.09809,51.06429],[-114.09836,51.06432],[-114.09863,51.06436],[-114.09873,51.06438],[-114.09897,51.06443],[-114.09931,51.06452],[-114.09985,51.06467],[-114.10054,51.06486],[-114.10083,51.06494],[-114.101,51.06498],[-114.10109,51.065],[-114.10119,51.06502],[-114.10138,51.06504],[-114.10161,51.06505],[-114.1018,51.06506],[-114.10365,51.06506],[-114.10456,51.06506],[-114.10477,51.06506],[-114.1049,51.06507],[-114.10506,51.06509],[-114.10518,51.06513],[-114.1053,51.06516],[-114.10543,51.06522],[-114.10552,51.06527],[-114.10559,51.06532],[-114.10567,51.06538],[-114.10573,51.06545],[-114.10576,51.06549],[-114.10581,51.06557],[-114.10583,51.06562],[-114.10584,51.06566],[-114.10586,51.06575],[-114.10586,51.06586],[-114.10586,51.06628],[-114.10588,51.06637],[-114.10591,51.06651],[-114.10595,51.06658],[-114.10599,51.06664],[-114.10604,51.0667],[-114.1061,51.06675],[-114.10616,51.06681],[-114.10623,51.06685],[-114.10631,51.0669],[-114.10639,51.06694],[-114.10647,51.06697],[-114.10656,51.067],[-114.1067,51.06703],[-114.10679,51.06705],[-114.10688,51.06706],[-114.10711,51.06709],[-114.10779,51.06714],[-114.10816,51.06717],[-114.10854,51.06719],[-114.10908,51.06721],[-114.10966,51.06722],[-114.11058,51.06722],[-114.11081,51.06723],[-114.11097,51.06723],[-114.11119,51.06724],[-114.11141,51.06727],[-114.11161,51.0673],[-114.11183,51.06735],[-114.11204,51.0674],[-114.11225,51.06747],[-114.11244,51.06755],[-114.11259,51.06762],[-114.11273,51.0677],[-114.11287,51.06778],[-114.11301,51.06788],[-114.11313,51.06798],[-114.11324,51.06808],[-114.11334,51.06818],[-114.11343,51.0683],[-114.11361,51.06852],[-114.11421,51.06929],[-114.11442,51.06956],[-114.11563,51.0711],[-114.11566,51.07114],[-114.1174,51.07335],[-114.11766,51.07372],[-114.11784,51.07399],[-114.11801,51.07427],[-114.1182,51.0746],[-114.11832,51.07479],[-114.11854,51.07509],[-114.11879,51.07538],[-114.11907,51.07565],[-114.11914,51.07572],[-114.11932,51.07586],[-114.11981,51.07627],[-114.12,51.07644],[-114.12015,51.07657],[-114.12034,51.07677],[-114.12046,51.0769],[-114.12063,51.07711],[-114.12116,51.07778],[-114.12118,51.07782],[-114.12148,51.07819],[-114.12164,51.07841],[-114.12217,51.07912],[-114.12241,51.07945],[-114.12303,51.08024],[-114.12363,51.081],[-114.12382,51.08123],[-114.1241,51.08156],[-114.12449,51.08198],[-114.12477,51.08227],[-114.12508,51.08258],[-114.12527,51.08276],[-114.12553,51.08298],[-114.12592,51.08332],[-114.12625,51.08358],[-114.12641,51.08371],[-114.12688,51.08406],[-114.12709,51.08421],[-114.12752,51.08452],[-114.12813,51.08492],[-114.12878,51.08534],[-114.12925,51.08563],[-114.12993,51.08603],[-114.13004,51.08609],[-114.13005,51.0861],[-114.13092,51.08661],[-114.13129,51.08682],[-114.13131,51.08683],[-114.13192,51.08716],[-114.13219,51.0873],[-114.13283,51.08765],[-114.13307,51.08778],[-114.13335,51.08792],[-114.13429,51.08838],[-114.13461,51.08854],[-114.13485,51.08868],[-114.13517,51.08887],[-114.13544,51.08907],[-114.13573,51.08931],[-114.13601,51.08956],[-114.13704,51.09052],[-114.13714,51.09062],[-114.13747,51.09089],[-114.13782,51.09114],[-114.13797,51.09124],[-114.1388,51.09175],[-114.13973,51.09233],[-114.14446,51.09514],[-114.14529,51.09563],[-114.14725,51.09677],[-114.14808,51.09726],[-114.15015,51.09849],[-114.15112,51.09908],[-114.15206,51.09967],[-114.15275,51.10008],[-114.15346,51.10048],[-114.1542,51.10086],[-114.15496,51.10123],[-114.15521,51.10135],[-114.15649,51.10193],[-114.15698,51.10213],[-114.15717,51.1022],[-114.15725,51.10223],[-114.15802,51.1025],[-114.15831,51.1026],[-114.1586,51.10268],[-114.16098,51.10351],[-114.16124,51.1036],[-114.16374,51.10455],[-114.16624,51.1056],[-114.16873,51.10666],[-114.17122,51.10771],[-114.1737,51.10875],[-114.1762,51.1098],[-114.1787,51.11084],[-114.18117,51.11188],[-114.18367,51.11292],[-114.18613,51.11398],[-114.19144,51.11617],[-114.19634,51.11821],[-114.20135,51.12029],[-114.20373,51.12134],[-114.20409,51.1215],[-114.20448,51.12166],[-114.20471,51.12175],[-114.20482,51.1218],[-114.20493,51.12185],[-114.2056,51.12213],[-114.20602,51.12231],[-114.2066,51.12255],[-114.20689,51.12267],[-114.20808,51.12317],[-114.20839,51.1233],[-114.20891,51.1235],[-114.20963,51.12378],[-114.21587,51.12626],[-114.22198,51.1288],[-114.22805,51.13135],[-114.23466,51.13413],[-114.23475,51.13417],[-114.23487,51.13421],[-114.23497,51.13425],[-114.23508,51.1343],[-114.23553,51.13449]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-114.06873,50.89875],[-114.06882,50.89891],[-114.06929,50.89981],[-114.06944,50.90011],[-114.06968,50.90063],[-114.06982,50.90095],[-114.06998,50.90134],[-114.07012,50.90174],[-114.07023,50.90214],[-114.07032,50.90254],[-114.0704,50.90298],[-114.07045,50.90336],[-114.07048,50.90364],[-114.07052,50.90414],[-114.07053,50.90463],[-114.07052,50.90721],[-114.07054,50.90802],[-114.07056,50.90919],[-114.07056,50.91058],[-114.07055,50.91077],[-114.07053,50.91212],[-114.07055,50.91226],[-114.07052,50.9124],[-114.0705,50.91391],[-114.0705,50.9143],[-114.07053,50.91477],[-114.07058,50.91524],[-114.07065,50.91571],[-114.07073,50.91615],[-114.07086,50.91665],[-114.071,50.91712],[-114.07133,50.9181],[-114.0732,50.92369],[-114.07327,50.9239],[-114.07346,50.92446],[-114.07365,50.92505],[-114.07372,50.92528],[-114.07376,50.92544],[-114.07379,50.92564],[-114.0738,50.92574],[-114.0738,50.92579],[-114.0738,50.92598],[-114.07379,50.92609],[-114.07376,50.92624],[-114.07373,50.92637],[-114.0737,50.92648],[-114.07363,50.92664],[-114.0736,50.92672],[-114.07345,50.92703],[-114.0722,50.92945],[-114.07181,50.93017],[-114.0717,50.93037],[-114.07041,50.93289],[-114.07031,50.93308],[-114.0702,50.93335],[-114.07016,50.93344],[-114.07007,50.93369],[-114.06999,50.93396],[-114.06993,50.93421],[-114.06991,50.93431],[-114.06984,50.93474],[-114.06981,50.93502],[-114.06972,50.93641],[-114.06972,50.93645],[-114.06971,50.93661],[-114.06969,50.93699],[-114.0697,50.93726],[-114.06971,50.93756],[-114.06975,50.93813],[-114.06979,50.93847],[-114.06983,50.93872],[-114.06987,50.93893],[-114.07088,50.94392],[-114.07102,50.94453],[-114.0712,50.94513],[-114.07142,50.94573],[-114.07222,50.94776],[-114.07232,50.94801],[-114.0726,50.94865],[-114.0727,50.94891],[-114.0734,50.95066],[-114.07367,50.95135],[-114.07389,50.95195],[-114.07395,50.95214],[-114.07402,50.95236],[-114.07407,50.95256],[-114.07413,50.95274],[-114.07426,50.95329],[-114.07445,50.95425],[-114.0748,50.95591],[-114.07482,50.95599],[-114.07486,50.95607],[-114.07493,50.95623],[-114.07493,50.95626],[-114.07492,50.95643],[-114.07493,50.95656],[-114.07498,50.95683],[-114.07503,50.95704],[-114.07509,50.95725],[-114.07547,50.9586],[-114.07553,50.95884],[-114.07557,50.95905],[-114.07609,50.96157],[-114.07645,50.96333],[-114.07648,50.9635],[-114.07668,50.96445],[-114.07672,50.96463],[-114.07696,50.96583],[-114.077,50.96602],[-114.07704,50.9663],[-114.07707,50.96648],[-114.0771,50.96675],[-114.07713,50.9671],[-114.07715,50.9674],[-114.07715,50.96765],[-114.07715,50.96799],[-114.07714,50.96823],[-114.07711,50.96871],[-114.07709,50.96885],[-114.07706,50.96915],[-114.07701,50.96944],[-114.07696,50.96973],[-114.07689,50.97004],[-114.07682,50.97032],[-114.07675,50.97058],[-114.07666,50.97089],[-114.07661,50.97104],[-114.07646,50.97147],[-114.07468,50.97662],[-114.07462,50.9768],[-114.07461,50.97682],[-114.0746,50.97684],[-114.07445,50.9773],[-114.07405,50.97844],[-114.07399,50.9786],[-114.07393,50.97879],[-114.07386,50.97893],[-114.07381,50.97905],[-114.07374,50.97917],[-114.07365,50.97932],[-114.07358,50.97944],[-114.07347,50.97962],[-114.07339,50.97975],[-114.07295,50.98046],[-114.07266,50.9809],[-114.06896,50.98626],[-114.06859,50.98681],[-114.06765,50.98818],[-114.06753,50.98836],[-114.0674,50.98856],[-114.06728,50.98878],[-114.06714,50.98905],[-114.06709,50.98918],[-114.067,50.98939],[-114.06694,50.98954],[-114.06689,50.98969],[-114.06681,50.98996],[-114.06676,50.99018],[-114.06673,50.9903],[-114.06669,50.99055],[-114.06658,50.9913],[-114.06653,50.9917],[-114.06613,50.99455],[-114.06609,50.99478],[-114.06602,50.9951],[-114.06599,50.99522],[-114.06594,50.99546],[-114.06588,50.99576],[-114.06584,50.99606],[-114.06573,50.99678],[-114.06565,50.99726],[-114.06562,50.99744],[-114.06562,50.99746],[-114.06563,50.99757],[-114.06408,51.00867],[-114.06345,51.01328],[-114.06337,51.01376],[-114.0633,51.01409],[-114.06323,51.01429],[-114.06314,51.01451],[-114.06304,51.01469],[-114.06293,51.01487],[-114.0628,51.01505],[-114.06267,51.01522],[-114.0625,51.01541],[-114.06185,51.01612],[-114.06176,51.01623],[-114.06172,51.01628],[-114.06168,51.01634],[-114.06165,51.01641],[-114.06162,51.0165],[-114.06158,51.01665],[-114.06155,51.01675],[-114.06151,51.01693],[-114.06141,51.01734],[-114.0613,51.01782],[-114.06121,51.01819],[-114.06118,51.0183],[-114.06115,51.01836],[-114.06113,51.01841],[-114.06106,51.01851],[-114.06097,51.01864],[-114.06063,51.0191],[-114.06052,51.01927],[-114.06023,51.0197],[-114.05967,51.02047],[-114.05886,51.02159],[-114.05865,51.02188],[-114.05859,51.02199],[-114.05854,51.02207],[-114.0585,51.02219],[-114.05849,51.02224],[-114.05848,51.02228],[-114.05847,51.02235],[-114.05847,51.0224],[-114.05847,51.02244],[-114.05848,51.0225],[-114.05851,51.02259],[-114.05855,51.0227],[-114.05858,51.02275],[-114.05862,51.02284],[-114.05891,51.02334],[-114.05896,51.02344],[-114.05903,51.02359],[-114.05906,51.02366],[-114.05908,51.02372],[-114.0591,51.0238],[-114.05912,51.02387],[-114.05913,51.02396],[-114.05914,51.02404],[-114.05914,51.02412],[-114.05913,51.02422],[-114.05912,51.02432],[-114.05903,51.02502],[-114.05902,51.0252],[-114.059,51.02541],[-114.05899,51.02559],[-114.05899,51.02578],[-114.05901,51.02599],[-114.05902,51.02617],[-114.0591,51.0266],[-114.05911,51.02669],[-114.05917,51.02692],[-114.05944,51.02795],[-114.05947,51.0281],[-114.05951,51.02827],[-114.05952,51.02832],[-114.05953,51.02842],[-114.05953,51.02855],[-114.05952,51.0287],[-114.05949,51.02887],[-114.05947,51.02895],[-114.05942,51.02914],[-114.05902,51.03034],[-114.05899,51.03043],[-114.05895,51.03059],[-114.05894,51.03071],[-114.05885,51.03193],[-114.05884,51.03211],[-114.05883,51.0324],[-114.05883,51.03255],[-114.05885,51.03281],[-114.05885,51.03303],[-114.05885,51.03318],[-114.05884,51.03335],[-114.05882,51.03361],[-114.05868,51.03555],[-114.05865,51.03609],[-114.0586,51.03671],[-114.05859,51.03686],[-114.05858,51.037],[-114.05856,51.0371],[-114.05854,51.03717],[-114.05852,51.03724],[-114.05844,51.03742],[-114.05842,51.03744],[-114.05835,51.03764],[-114.0583,51.0378],[-114.05828,51.0379],[-114.05825,51.0384],[-114.05825,51.03842],[-114.05819,51.03917],[-114.05817,51.03944],[-114.05817,51.03951],[-114.05816,51.03971],[-114.05817,51.04044],[-114.05817,51.04061],[-114.05816,51.04077],[-114.05813,51.04101],[-114.05812,51.04111],[-114.058,51.04152],[-114.05784,51.04192],[-114.05761,51.0423],[-114.05748,51.04248],[-114.05734,51.04266],[-114.05719,51.04284],[-114.05703,51.043],[-114.05685,51.04319],[-114.05557,51.0444],[-114.05541,51.04455],[-114.05531,51.04465],[-114.05521,51.04476],[-114.05509,51.04491],[-114.05503,51.04499],[-114.05499,51.04506],[-114.05495,51.04514],[-114.05491,51.0452],[-114.0549,51.04525],[-114.05487,51.04538],[-114.05485,51.04547],[-114.05485,51.04553],[-114.05486,51.04561],[-114.05488,51.04568],[-114.05491,51.04576],[-114.05492,51.0458],[-114.05495,51.04583],[-114.055,51.04592],[-114.05506,51.04599],[-114.05513,51.04604],[-114.05521,51.0461],[-114.05528,51.04615],[-114.05538,51.04619],[-114.05547,51.04623],[-114.05557,51.04626],[-114.05568,51.04628],[-114.05581,51.0463],[-114.05587,51.0463],[-114.05613,51.04631],[-114.0562,51.04631],[-114.05646,51.04632],[-114.05672,51.04633],[-114.06438,51.04655],[-114.07242,51.04678],[-114.07797,51.04693],[-114.08284,51.04707],[-114.08286,51.04708],[-114.08299,51.04709],[-114.08304,51.04711],[-114.08311,51.04713],[-114.08317,51.04715],[-114.08324,51.04718],[-114.0833,51.0472],[-114.08336,51.04724],[-114.0834,51.04727],[-114.08344,51.0473],[-114.08348,51.04734],[-114.08352,51.04738],[-114.08356,51.04745],[-114.08359,51.04754],[-114.08359,51.04762],[-114.08357,51.04802],[-114.08356,51.04815],[-114.08354,51.04823],[-114.08351,51.04832],[-114.08348,51.0484],[-114.08333,51.04865],[-114.08328,51.04876],[-114.08326,51.04882],[-114.08323,51.04892],[-114.08322,51.04904],[-114.08314,51.05023],[-114.08312,51.05052],[-114.08313,51.05071],[-114.08315,51.05083],[-114.08319,51.05098],[-114.08324,51.05114],[-114.08329,51.05127],[-114.08336,51.05141],[-114.08344,51.05156],[-114.08398,51.05251],[-114.08411,51.05275],[-114.0842,51.05294],[-114.08426,51.0531],[-114.08429,51.05322],[-114.08431,51.05332],[-114.08432,51.05341],[-114.08433,51.05354],[-114.08434,51.0539],[-114.08435,51.05483],[-114.08436,51.055],[-114.08437,51.05568],[-114.08438,51.05629],[-114.08439,51.05639],[-114.08442,51.05686],[-114.08447,51.05763],[-114.08451,51.05796],[-114.08455,51.05824],[-114.0846,51.05849],[-114.08464,51.05871],[-114.0847,51.05898],[-114.08479,51.05935],[-114.08485,51.05953],[-114.08496,51.05991],[-114.08514,51.06041],[-114.08525,51.06065],[-114.08531,51.06077],[-114.08536,51.06085],[-114.08546,51.06098],[-114.08555,51.06108],[-114.08561,51.06114],[-114.08568,51.0612],[-114.08579,51.0613],[-114.08591,51.06138],[-114.08606,51.06148],[-114.08617,51.06154],[-114.08628,51.0616],[-114.08638,51.06164],[-114.0865,51.06169],[-114.08667,51.06175],[-114.08685,51.06181],[-114.087,51.06184],[-114.08711,51.06187],[-114.08722,51.06189],[-114.08751,51.06194],[-114.08792,51.06198],[-114.08883,51.06206],[-114.08909,51.06209],[-114.08927,51.06213],[-114.08936,51.06215],[-114.08947,51.06217],[-114.08964,51.06222],[-114.08978,51.06227],[-114.08987,51.06231],[-114.08996,51.06236],[-114.09023,51.06251],[-114.09065,51.06278],[-114.09108,51.06305],[-114.09217,51.06373],[-114.09237,51.06385],[-114.09247,51.06391],[-114.09257,51.06396],[-114.09267,51.06401],[-114.09278,51.06405],[-114.09287,51.06408],[-114.09299,51.06412],[-114.09311,51.06415],[-114.09324,51.06418],[-114.09334,51.0642],[-114.09345,51.06422],[-114.09356,51.06423],[-114.09368,51.06424],[-114.09386,51.06425],[-114.09412,51.06425],[-114.09682,51.06425],[-114.09732,51.06425],[-114.09754,51.06426],[-114.09774,51.06426],[-114.09797,51.06428],[-114.09809,51.06429],[-114.09836,51.06432],[-114.09863,51.06436],[-114.09873,51.06438],[-114.09897,51.06443],[-114.09931,51.06452],[-114.09985,51.06467],[-114.10054,51.06486],[-114.10083,51.06494],[-114.101,51.06498],[-114.10109,51.065],[-114.10119,51.06502],[-114.10138,51.06504],[-114.10161,51.06505],[-114.1018,51.06506],[-114.10365,51.06506],[-114.10456,51.06506],[-114.10477,51.06506],[-114.1049,51.06507],[-114.10506,51.06509],[-114.10518,51.06513],[-114.1053,51.06516],[-114.10543,51.06522],[-114.10552,51.06527],[-114.10559,51.06532],[-114.10567,51.06538],[-114.10573,51.06545],[-114.10576,51.06549],[-114.10581,51.06557],[-114.10583,51.06562],[-114.10584,51.06566],[-114.10586,51.06575],[-114.10586,51.06586],[-114.10586,51.06628],[-114.10588,51.06637],[-114.10591,51.06651],[-114.10595,51.06658],[-114.10599,51.06664],[-114.10604,51.0667],[-114.1061,51.06675],[-114.10616,51.06681],[-114.10623,51.06685],[-114.10631,51.0669],[-114.10639,51.06694],[-114.10647,51.06697],[-114.10656,51.067],[-114.1067,51.06703],[-114.10679,51.06705],[-114.10688,51.06706],[-114.10711,51.06709],[-114.10779,51.06714],[-114.10816,51.06717],[-114.10854,51.06719],[-114.10908,51.06721],[-114.10966,51.06722],[-114.11058,51.06722],[-114.11081,51.06723],[-114.11097,51.06723],[-114.11119,51.06724],[-114.11141,51.06727],[-114.11161,51.0673],[-114.11183,51.06735],[-114.11204,51.0674],[-114.11225,51.06747],[-114.11244,51.06755],[-114.11259,51.06762],[-114.11273,51.0677],[-114.11287,51.06778],[-114.11301,51.06788],[-114.11313,51.06798],[-114.11324,51.06808],[-114.11334,51.06818],[-114.11343,51.0683],[-114.11361,51.06852],[-114.11421,51.06929],[-114.11442,51.06956],[-114.11563,51.0711],[-114.11566,51.07114],[-114.1174,51.07335],[-114.11766,51.07372],[-114.11784,51.07399],[-114.11801,51.07427],[-114.1182,51.0746],[-114.11832,51.07479],[-114.11854,51.07509],[-114.11879,51.07538],[-114.11907,51.07565],[-114.11914,51.07572],[-114.11932,51.07586],[-114.11981,51.07627],[-114.12,51.07644],[-114.12015,51.07657],[-114.12034,51.07677],[-114.12046,51.0769],[-114.12063,51.07711],[-114.12116,51.07778],[-114.12118,51.07782],[-114.12148,51.07819],[-114.12164,51.07841],[-114.12217,51.07912],[-114.12241,51.07945],[-114.12303,51.08024],[-114.12363,51.081],[-114.12382,51.08123],[-114.1241,51.08156],[-114.12449,51.08198],[-114.12477,51.08227],[-114.12508,51.08258],[-114.12527,51.08276],[-114.12553,51.08298],[-114.12592,51.08332],[-114.12625,51.08358],[-114.12641,51.08371],[-114.12688,51.08406],[-114.12709,51.08421],[-114.12752,51.08452],[-114.12813,51.08492],[-114.12878,51.08534],[-114.12925,51.08563],[-114.12993,51.08603],[-114.13004,51.08609],[-114.13005,51.0861],[-114.13092,51.08661],[-114.13129,51.08682],[-114.13131,51.08683],[-114.13192,51.08716],[-114.13219,51.0873],[-114.13283,51.08765],[-114.13307,51.08778],[-114.13335,51.08792],[-114.13429,51.08838],[-114.13461,51.08854],[-114.13485,51.08868],[-114.13517,51.08887],[-114.13544,51.08907],[-114.13573,51.08931],[-114.13601,51.08956],[-114.13704,51.09052],[-114.13714,51.09062],[-114.13747,51.09089],[-114.13782,51.09114],[-114.13797,51.09124],[-114.1388,51.09175],[-114.13973,51.09233],[-114.14446,51.09514],[-114.14529,51.09563],[-114.14725,51.09677],[-114.14808,51.09726],[-114.15015,51.09849],[-114.15112,51.09908],[-114.15206,51.09967],[-114.15275,51.10008],[-114.15346,51.10048],[-114.1542,51.10086],[-114.15496,51.10123],[-114.15521,51.10135],[-114.15649,51.10193],[-114.15698,51.10213],[-114.15717,51.1022],[-114.15725,51.10223],[-114.15802,51.1025],[-114.15831,51.1026],[-114.1586,51.10268],[-114.16098,51.10351],[-114.16124,51.1036],[-114.16374,51.10455],[-114.16624,51.1056],[-114.16873,51.10666],[-114.17122,51.10771],[-114.1737,51.10875],[-114.1762,51.1098],[-114.1787,51.11084],[-114.18117,51.11188],[-114.18367,51.11292],[-114.18613,51.11398],[-114.19144,51.11617],[-114.19634,51.11821],[-114.20135,51.12029],[-114.20373,51.12134],[-114.20409,51.1215],[-114.20448,51.12166],[-114.20471,51.12175],[-114.20482,51.1218],[-114.20493,51.12185],[-114.2056,51.12213],[-114.20602,51.12231],[-114.2066,51.12255],[-114.20689,51.12267],[-114.20808,51.12317],[-114.20839,51.1233],[-114.20891,51.1235],[-114.20963,51.12378],[-114.21587,51.12626],[-114.22198,51.1288],[-114.22805,51.13135],[-114.23466,51.13413],[-114.23475,51.13417],[-114.23487,51.13421],[-114.23497,51.13425],[-114.23508,51.1343],[-114.23553,51.13449]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-114.18848,51.03755],[-114.18695,51.03756],[-114.18617,51.03759],[-114.18527,51.03776],[-114.1844,51.03793],[-114.18379,51.0379],[-114.18284,51.03781],[-114.18135,51.03764],[-114.1802,51.03748],[-114.17864,51.03719],[-114.17745,51.03693],[-114.17674,51.03679],[-114.17623,51.03672],[-114.17552,51.03666],[-114.17498,51.03664],[-114.174,51.0367],[-114.17334,51.03679],[-114.17286,51.03688],[-114.17196,51.0371],[-114.17101,51.03748],[-114.16951,51.03813],[-114.16943,51.03817],[-114.16701,51.03918],[-114.16653,51.03954],[-114.1662,51.03977],[-114.16586,51.03989],[-114.16535,51.04002],[-114.16492,51.04005],[-114.16394,51.04007],[-114.16323,51.04004],[-114.16277,51.03997],[-114.16217,51.0398],[-114.16177,51.03963],[-114.16135,51.03942],[-114.16097,51.03921],[-114.16077,51.03908],[-114.16072,51.03902],[-114.15906,51.03814],[-114.15873,51.03802],[-114.15835,51.03795],[-114.15798,51.0379],[-114.15455,51.03789],[-114.15358,51.03789],[-114.15318,51.03789],[-114.14467,51.03786],[-114.13993,51.0379],[-114.13911,51.0379],[-114.13883,51.03795],[-114.13848,51.03812],[-114.13755,51.03911],[-114.13653,51.04042],[-114.13646,51.04048],[-114.13601,51.0409],[-114.13558,51.04118],[-114.13489,51.04143],[-114.13437,51.04154],[-114.12917,51.04154],[-114.12418,51.04154],[-114.12403,51.04154],[-114.12027,51.04151],[-114.11786,51.04158],[-114.11561,51.04201],[-114.10656,51.04486],[-114.09881,51.04461],[-114.09834,51.0446],[-114.09798,51.04459],[-114.09647,51.04454],[-114.09633,51.04454],[-114.09611,51.04457],[-114.09408,51.04508],[-114.09148,51.0466],[-114.09083,51.04697],[-114.09058,51.04708],[-114.09028,51.04718],[-114.09006,51.04721],[-114.08991,51.04722],[-114.08768,51.04715],[-114.08589,51.0471],[-114.08454,51.04709],[-114.08424,51.04708],[-114.08409,51.04709],[-114.08408,51.04709],[-114.08392,51.0471],[-114.08308,51.04708],[-114.08302,51.04706],[-114.08295,51.04705],[-114.08285,51.04704],[-114.08075,51.04698],[-114.07486,51.04681],[-114.0689,51.04664],[-114.06124,51.04642],[-114.05672,51.0463],[-114.05644,51.04629],[-114.05617,51.04628],[-114.05611,51.04628],[-114.05609,51.04628],[-114.05579,51.04627],[-114.05557,51.04626],[-114.05503,51.04624],[-114.05477,51.04623],[-114.05415,51.04622],[-114.05406,51.04621],[-114.05383,51.04621],[-114.05373,51.04622],[-114.05365,51.04622],[-114.05354,51.04624],[-114.05344,51.04625],[-114.05334,51.04629],[-114.05325,51.04632],[-114.05317,51.04635],[-114.05308,51.04641],[-114.05299,51.04647],[-114.05293,51.04652],[-114.05285,51.0466],[-114.0528,51.04668],[-114.05279,51.04671],[-114.05276,51.04677],[-114.05275,51.04686],[-114.05272,51.04714],[-114.05268,51.04772],[-114.05266,51.0478],[-114.05264,51.04787],[-114.05261,51.04795],[-114.05256,51.04801],[-114.05251,51.04807],[-114.05236,51.0482],[-114.05216,51.04834],[-114.05112,51.04898],[-114.05069,51.04923],[-114.05049,51.04933],[-114.05041,51.04937],[-114.05029,51.04941],[-114.05019,51.04945],[-114.04998,51.04953],[-114.04975,51.04959],[-114.04965,51.04961],[-114.04953,51.04964],[-114.04943,51.04966],[-114.04932,51.04968],[-114.04912,51.04971],[-114.04896,51.04973],[-114.0487,51.04975],[-114.04858,51.04975],[-114.04844,51.04975],[-114.048,51.04974],[-114.04783,51.04973],[-114.04769,51.04971],[-114.04739,51.04966],[-114.04698,51.04959],[-114.0467,51.04953],[-114.04622,51.04943],[-114.04601,51.04939],[-114.04584,51.04935],[-114.04566,51.04932],[-114.0455,51.0493],[-114.04533,51.04929],[-114.04499,51.04924],[-114.04465,51.04921],[-114.04405,51.0492],[-114.04288,51.04919],[-114.0426,51.04919],[-114.04229,51.04917],[-114.04177,51.04914],[-114.0415,51.04913],[-114.04128,51.0491],[-114.04096,51.04907],[-114.04068,51.04903],[-114.04045,51.049],[-114.03993,51.04892],[-114.0395,51.04883],[-114.03934,51.04879],[-114.0392,51.04876],[-114.03915,51.04875],[-114.03906,51.04872],[-114.03892,51.04867],[-114.03878,51.04863],[-114.03861,51.04858],[-114.03806,51.04837],[-114.03785,51.04829],[-114.03747,51.04815],[-114.03732,51.0481],[-114.03713,51.04805],[-114.03696,51.048],[-114.03678,51.04796],[-114.03656,51.04792],[-114.03631,51.04787],[-114.03615,51.04785],[-114.03603,51.04784],[-114.03581,51.04782],[-114.03553,51.04781],[-114.03521,51.04781],[-114.03211,51.04785],[-114.03168,51.04784],[-114.03137,51.04783],[-114.03123,51.04782],[-114.03102,51.04781],[-114.03068,51.04778],[-114.03035,51.04774],[-114.02998,51.0477],[-114.02971,51.04766],[-114.02925,51.04759],[-114.02896,51.04754],[-114.02885,51.04753],[-114.02865,51.04749],[-114.02858,51.04749],[-114.02841,51.04746],[-114.0282,51.04743],[-114.02812,51.04742],[-114.02769,51.04737],[-114.02744,51.04735],[-114.02702,51.04732],[-114.02669,51.0473],[-114.02632,51.04728],[-114.02588,51.04728],[-114.0255,51.04728],[-114.02529,51.04729],[-114.02486,51.0473],[-114.0243,51.04734],[-114.02404,51.04736],[-114.02374,51.04739],[-114.02346,51.04742],[-114.02318,51.04745],[-114.02288,51.04749],[-114.02054,51.04783],[-114.01982,51.04794],[-114.01955,51.04797],[-114.01919,51.04801],[-114.01891,51.04804],[-114.01849,51.04807],[-114.01824,51.04809],[-114.01788,51.04811],[-114.01748,51.04812],[-114.01722,51.04812],[-114.01683,51.04812],[-114.0164,51.04811],[-114.01609,51.0481],[-114.01574,51.04807],[-114.01534,51.04803],[-114.01508,51.04799],[-114.01476,51.04794],[-114.01443,51.04789],[-114.0141,51.04781],[-114.01373,51.04773],[-114.01343,51.04764],[-114.0131,51.04755],[-114.01254,51.04736],[-114.01142,51.04696],[-114.01112,51.04685],[-114.01083,51.04674],[-114.00991,51.04637],[-114.00969,51.04629],[-114.00948,51.04622],[-114.00919,51.04612],[-114.00898,51.04605],[-114.00865,51.04594],[-114.00819,51.04581],[-114.00776,51.04569],[-114.00755,51.04564],[-114.00712,51.04554],[-114.00676,51.04547],[-114.00665,51.04544],[-114.00644,51.0454],[-114.00591,51.04531],[-114.00569,51.04528],[-114.00548,51.04525],[-114.00526,51.04522],[-114.00484,51.04517],[-114.00462,51.04515],[-114.00419,51.04512],[-114.00398,51.0451],[-114.00362,51.04509],[-114.0032,51.04508],[-114.0028,51.04507],[-114.00245,51.04508],[-114.00206,51.04509],[-114.0017,51.04511],[-114.00141,51.04513],[-114.00109,51.04516],[-114.0006,51.04521],[-114.00018,51.04526],[-113.99996,51.04529],[-113.99968,51.04534],[-113.99935,51.0454],[-113.99903,51.04546],[-113.99871,51.04553],[-113.99833,51.04562],[-113.99794,51.04572],[-113.99756,51.04583],[-113.99723,51.04593],[-113.99696,51.04602],[-113.99677,51.04608],[-113.99661,51.04615],[-113.99642,51.04622],[-113.99608,51.04635],[-113.99573,51.0465],[-113.99557,51.04657],[-113.99523,51.04673],[-113.99494,51.04688],[-113.99481,51.04695],[-113.99463,51.04705],[-113.99439,51.04718],[-113.99278,51.0481],[-113.99258,51.04821],[-113.99223,51.04844],[-113.99211,51.04851],[-113.99196,51.0486],[-113.99097,51.04916],[-113.99052,51.0494],[-113.98998,51.04969],[-113.98937,51.05002],[-113.98899,51.05022],[-113.98876,51.05034],[-113.98856,51.05044],[-113.98836,51.05053],[-113.98794,51.05071],[-113.98753,51.05087],[-113.9873,51.05096],[-113.98708,51.05104],[-113.98667,51.05117],[-113.98647,51.05123],[-113.9862,51.05131],[-113.98598,51.05137],[-113.98572,51.05144],[-113.98548,51.0515],[-113.98524,51.05155],[-113.98412,51.05179],[-113.98396,51.05183],[-113.98376,51.05188],[-113.9836,51.05192],[-113.98347,51.05196],[-113.9832,51.05205],[-113.98297,51.05215],[-113.98276,51.05226],[-113.98256,51.05239],[-113.98238,51.05252],[-113.98222,51.05266],[-113.98208,51.05281],[-113.98195,51.05297],[-113.98186,51.05313],[-113.98178,51.0533],[-113.98172,51.05347],[-113.9817,51.05362],[-113.98168,51.05372],[-113.98167,51.05384],[-113.98167,51.05437],[-113.98167,51.05662],[-113.98167,51.05682],[-113.98163,51.05723],[-113.98162,51.05744],[-113.98162,51.05791],[-113.98162,51.05899],[-113.98162,51.05907],[-113.98163,51.05919],[-113.98166,51.05953],[-113.98167,51.05971],[-113.98167,51.05999],[-113.98167,51.06041],[-113.98168,51.06265],[-113.98167,51.06569],[-113.98169,51.07366],[-113.98168,51.07396],[-113.98167,51.0742],[-113.98164,51.07459],[-113.98164,51.07473],[-113.98164,51.07519],[-113.98164,51.0759],[-113.98164,51.07668],[-113.98164,51.0768],[-113.98168,51.07724],[-113.98169,51.07734],[-113.98169,51.07754],[-113.98169,51.08341],[-113.98169,51.08361],[-113.98169,51.08368],[-113.98169,51.08369],[-113.98169,51.08425],[-113.98168,51.08444],[-113.98165,51.0849],[-113.98164,51.08524],[-113.98164,51.08667],[-113.98164,51.08687],[-113.98165,51.087],[-113.98165,51.08701],[-113.98168,51.08738],[-113.98169,51.08754],[-113.98169,51.0877],[-113.98169,51.08824],[-113.98167,51.08906],[-113.98167,51.08939],[-113.98167,51.08964],[-113.98169,51.09027],[-113.9817,51.09085],[-113.9817,51.09465],[-113.98169,51.09502],[-113.98168,51.09533],[-113.98171,51.10066],[-113.9817,51.10119],[-113.98169,51.10138],[-113.98166,51.10156],[-113.98163,51.10173],[-113.98158,51.1019],[-113.98152,51.10207],[-113.98147,51.10222],[-113.9814,51.10236],[-113.98133,51.10251],[-113.98112,51.10289],[-113.9808,51.10349],[-113.98046,51.10413],[-113.98016,51.10469],[-113.98002,51.10496],[-113.97987,51.10522],[-113.97972,51.10549],[-113.97963,51.10563],[-113.97953,51.10577],[-113.97942,51.1059],[-113.97926,51.10609],[-113.97908,51.10627],[-113.97889,51.10645],[-113.97877,51.10656],[-113.97864,51.10667],[-113.97708,51.10796],[-113.97639,51.10853],[-113.97517,51.10954],[-113.97471,51.10992],[-113.97443,51.11017],[-113.97429,51.11029],[-113.972,51.11266],[-113.97024,51.11534],[-113.96904,51.11705],[-113.968,51.11744],[-113.96346,51.11911],[-113.95617,51.12085],[-113.95241,51.12284],[-113.94986,51.12422],[-113.94829,51.12578]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-114.18848,51.03755],[-114.18695,51.03756],[-114.18617,51.03759],[-114.18527,51.03776],[-114.1844,51.03793],[-114.18379,51.0379],[-114.18284,51.03781],[-114.18135,51.03764],[-114.1802,51.03748],[-114.17864,51.03719],[-114.17745,51.03693],[-114.17674,51.03679],[-114.17623,51.03672],[-114.17552,51.03666],[-114.17498,51.03664],[-114.174,51.0367],[-114.17334,51.03679],[-114.17286,51.03688],[-114.17196,51.0371],[-114.17101,51.03748],[-114.16951,51.03813],[-114.16943,51.03817],[-114.16701,51.03918],[-114.16653,51.03954],[-114.1662,51.03977],[-114.16586,51.03989],[-114.16535,51.04002],[-114.16492,51.04005],[-114.16394,51.04007],[-114.16323,51.04004],[-114.16277,51.03997],[-114.16217,51.0398],[-114.16177,51.03963],[-114.16135,51.03942],[-114.16097,51.03921],[-114.16077,51.03908],[-114.16072,51.03902],[-114.15906,51.03814],[-114.15873,51.03802],[-114.15835,51.03795],[-114.15798,51.0379],[-114.15455,51.03789],[-114.15358,51.03789],[-114.15318,51.03789],[-114.14467,51.03786],[-114.13993,51.0379],[-114.13911,51.0379],[-114.13883,51.03795],[-114.13848,51.03812],[-114.13755,51.03911],[-114.13653,51.04042],[-114.13646,51.04048],[-114.13601,51.0409],[-114.13558,51.04118],[-114.13489,51.04143],[-114.13437,51.04154],[-114.12917,51.04154],[-114.12418,51.04154],[-114.12403,51.04154],[-114.12027,51.04151],[-114.11786,51.04158],[-114.11561,51.04201],[-114.10656,51.04486],[-114.09881,51.04461],[-114.09834,51.0446],[-114.09798,51.04459],[-114.09647,51.04454],[-114.09633,51.04454],[-114.09611,51.04457],[-114.09408,51.04508],[-114.09148,51.0466],[-114.09083,51.04697],[-114.09058,51.04708],[-114.09028,51.04718],[-114.09006,51.04721],[-114.08991,51.04722],[-114.08768,51.04715],[-114.08589,51.0471],[-114.08454,51.04709],[-114.08424,51.04708],[-114.08409,51.04709],[-114.08408,51.04709],[-114.08392,51.0471],[-114.08308,51.04708],[-114.08302,51.04706],[-114.08295,51.04705],[-114.08285,51.04704],[-114.08075,51.04698],[-114.07486,51.04681],[-114.0689,51.04664],[-114.06124,51.04642],[-114.05672,51.0463],[-114.05644,51.04629],[-114.05617,51.04628],[-114.05611,51.04628],[-114.05609,51.04628],[-114.05579,51.04627],[-114.05557,51.04626],[-114.05503,51.04624],[-114.05477,51.04623],[-114.05415,51.04622],[-114.05406,51.04621],[-114.05383,51.04621],[-114.05373,51.04622],[-114.05365,51.04622],[-114.05354,51.04624],[-114.05344,51.04625],[-114.05334,51.04629],[-114.05325,51.04632],[-114.05317,51.04635],[-114.05308,51.04641],[-114.05299,51.04647],[-114.05293,51.04652],[-114.05285,51.0466],[-114.0528,51.04668],[-114.05279,51.04671],[-114.05276,51.04677],[-114.05275,51.04686],[-114.05272,51.04714],[-114.05268,51.04772],[-114.05266,51.0478],[-114.05264,51.04787],[-114.05261,51.04795],[-114.05256,51.04801],[-114.05251,51.04807],[-114.05236,51.0482],[-114.05216,51.04834],[-114.05112,51.04898],[-114.05069,51.04923],[-114.05049,51.04933],[-114.05041,51.04937],[-114.05029,51.04941],[-114.05019,51.04945],[-114.04998,51.04953],[-114.04975,51.04959],[-114.04965,51.04961],[-114.04953,51.04964],[-114.04943,51.04966],[-114.04932,51.04968],[-114.04912,51.04971],[-114.04896,51.04973],[-114.0487,51.04975],[-114.04858,51.04975],[-114.04844,51.04975],[-114.048,51.04974],[-114.04783,51.04973],[-114.04769,51.04971],[-114.04739,51.04966],[-114.04698,51.04959],[-114.0467,51.04953],[-114.04622,51.04943],[-114.04601,51.04939],[-114.04584,51.04935],[-114.04566,51.04932],[-114.0455,51.0493],[-114.04533,51.04929],[-114.04499,51.04924],[-114.04465,51.04921],[-114.04405,51.0492],[-114.04288,51.04919],[-114.0426,51.04919],[-114.04229,51.04917],[-114.04177,51.04914],[-114.0415,51.04913],[-114.04128,51.0491],[-114.04096,51.04907],[-114.04068,51.04903],[-114.04045,51.049],[-114.03993,51.04892],[-114.0395,51.04883],[-114.03934,51.04879],[-114.0392,51.04876],[-114.03915,51.04875],[-114.03906,51.04872],[-114.03892,51.04867],[-114.03878,51.04863],[-114.03861,51.04858],[-114.03806,51.04837],[-114.03785,51.04829],[-114.03747,51.04815],[-114.03732,51.0481],[-114.03713,51.04805],[-114.03696,51.048],[-114.03678,51.04796],[-114.03656,51.04792],[-114.03631,51.04787],[-114.03615,51.04785],[-114.03603,51.04784],[-114.03581,51.04782],[-114.03553,51.04781],[-114.03521,51.04781],[-114.03211,51.04785],[-114.03168,51.04784],[-114.03137,51.04783],[-114.03123,51.04782],[-114.03102,51.04781],[-114.03068,51.04778],[-114.03035,51.04774],[-114.02998,51.0477],[-114.02971,51.04766],[-114.02925,51.04759],[-114.02896,51.04754],[-114.02885,51.04753],[-114.02865,51.04749],[-114.02858,51.04749],[-114.02841,51.04746],[-114.0282,51.04743],[-114.02812,51.04742],[-114.02769,51.04737],[-114.02744,51.04735],[-114.02702,51.04732],[-114.02669,51.0473],[-114.02632,51.04728],[-114.02588,51.04728],[-114.0255,51.04728],[-114.02529,51.04729],[-114.02486,51.0473],[-114.0243,51.04734],[-114.02404,51.04736],[-114.02374,51.04739],[-114.02346,51.04742],[-114.02318,51.04745],[-114.02288,51.04749],[-114.02054,51.04783],[-114.01982,51.04794],[-114.01955,51.04797],[-114.01919,51.04801],[-114.01891,51.04804],[-114.01849,51.04807],[-114.01824,51.04809],[-114.01788,51.04811],[-114.01748,51.04812],[-114.01722,51.04812],[-114.01683,51.04812],[-114.0164,51.04811],[-114.01609,51.0481],[-114.01574,51.04807],[-114.01534,51.04803],[-114.01508,51.04799],[-114.01476,51.04794],[-114.01443,51.04789],[-114.0141,51.04781],[-114.01373,51.04773],[-114.01343,51.04764],[-114.0131,51.04755],[-114.01254,51.04736],[-114.01142,51.04696],[-114.01112,51.04685],[-114.01083,51.04674],[-114.00991,51.04637],[-114.00969,51.04629],[-114.00948,51.04622],[-114.00919,51.04612],[-114.00898,51.04605],[-114.00865,51.04594],[-114.00819,51.04581],[-114.00776,51.04569],[-114.00755,51.04564],[-114.00712,51.04554],[-114.00676,51.04547],[-114.00665,51.04544],[-114.00644,51.0454],[-114.00591,51.04531],[-114.00569,51.04528],[-114.00548,51.04525],[-114.00526,51.04522],[-114.00484,51.04517],[-114.00462,51.04515],[-114.00419,51.04512],[-114.00398,51.0451],[-114.00362,51.04509],[-114.0032,51.04508],[-114.0028,51.04507],[-114.00245,51.04508],[-114.00206,51.04509],[-114.0017,51.04511],[-114.00141,51.04513],[-114.00109,51.04516],[-114.0006,51.04521],[-114.00018,51.04526],[-113.99996,51.04529],[-113.99968,51.04534],[-113.99935,51.0454],[-113.99903,51.04546],[-113.99871,51.04553],[-113.99833,51.04562],[-113.99794,51.04572],[-113.99756,51.04583],[-113.99723,51.04593],[-113.99696,51.04602],[-113.99677,51.04608],[-113.99661,51.04615],[-113.99642,51.04622],[-113.99608,51.04635],[-113.99573,51.0465],[-113.99557,51.04657],[-113.99523,51.04673],[-113.99494,51.04688],[-113.99481,51.04695],[-113.99463,51.04705],[-113.99439,51.04718],[-113.99278,51.0481],[-113.99258,51.04821],[-113.99223,51.04844],[-113.99211,51.04851],[-113.99196,51.0486],[-113.99097,51.04916],[-113.99052,51.0494],[-113.98998,51.04969],[-113.98937,51.05002],[-113.98899,51.05022],[-113.98876,51.05034],[-113.98856,51.05044],[-113.98836,51.05053],[-113.98794,51.05071],[-113.98753,51.05087],[-113.9873,51.05096],[-113.98708,51.05104],[-113.98667,51.05117],[-113.98647,51.05123],[-113.9862,51.05131],[-113.98598,51.05137],[-113.98572,51.05144],[-113.98548,51.0515],[-113.98524,51.05155],[-113.98412,51.05179],[-113.98396,51.05183],[-113.98376,51.05188],[-113.9836,51.05192],[-113.98347,51.05196],[-113.9832,51.05205],[-113.98297,51.05215],[-113.98276,51.05226],[-113.98256,51.05239],[-113.98238,51.05252],[-113.98222,51.05266],[-113.98208,51.05281],[-113.98195,51.05297],[-113.98186,51.05313],[-113.98178,51.0533],[-113.98172,51.05347],[-113.9817,51.05362],[-113.98168,51.05372],[-113.98167,51.05384],[-113.98167,51.05437],[-113.98167,51.05662],[-113.98167,51.05682],[-113.98163,51.05723],[-113.98162,51.05744],[-113.98162,51.05791],[-113.98162,51.05899],[-113.98162,51.05907],[-113.98163,51.05919],[-113.98166,51.05953],[-113.98167,51.05971],[-113.98167,51.05999],[-113.98167,51.06041],[-113.98168,51.06265],[-113.98167,51.06569],[-113.98169,51.07366],[-113.98168,51.07396],[-113.98167,51.0742],[-113.98164,51.07459],[-113.98164,51.07473],[-113.98164,51.07519],[-113.98164,51.0759],[-113.98164,51.07668],[-113.98164,51.0768],[-113.98168,51.07724],[-113.98169,51.07734],[-113.98169,51.07754],[-113.98169,51.08341],[-113.98169,51.08361],[-113.98169,51.08368],[-113.98169,51.08369],[-113.98169,51.08425],[-113.98168,51.08444],[-113.98165,51.0849],[-113.98164,51.08524],[-113.98164,51.08667],[-113.98164,51.08687],[-113.98165,51.087],[-113.98165,51.08701],[-113.98168,51.08738],[-113.98169,51.08754],[-113.98169,51.0877],[-113.98169,51.08824],[-113.98167,51.08906],[-113.98167,51.08939],[-113.98167,51.08964],[-113.98169,51.09027],[-113.9817,51.09085],[-113.9817,51.09465],[-113.98169,51.09502],[-113.98168,51.09533],[-113.98171,51.10066],[-113.9817,51.10119],[-113.98169,51.10138],[-113.98166,51.10156],[-113.98163,51.10173],[-113.98158,51.1019],[-113.98152,51.10207],[-113.98147,51.10222],[-113.9814,51.10236],[-113.98133,51.10251],[-113.98112,51.10289],[-113.9808,51.10349],[-113.98046,51.10413],[-113.98016,51.10469],[-113.98002,51.10496],[-113.97987,51.10522],[-113.97972,51.10549],[-113.97963,51.10563],[-113.97953,51.10577],[-113.97942,51.1059],[-113.97926,51.10609],[-113.97908,51.10627],[-113.97889,51.10645],[-113.97877,51.10656],[-113.97864,51.10667],[-113.97708,51.10796],[-113.97639,51.10853],[-113.97517,51.10954],[-113.97471,51.10992],[-113.97443,51.11017],[-113.97429,51.11029],[-113.972,51.11266],[-113.97024,51.11534],[-113.96904,51.11705],[-113.968,51.11744],[-113.96346,51.11911],[-113.95617,51.12085],[-113.95241,51.12284],[-113.94986,51.12422],[-113.94829,51.12578]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-75.73525,45.40371],[-75.73438,45.40408],[-75.73405,45.40422],[-75.73403,45.40422],[-75.7339,45.40428],[-75.73315,45.4046],[-75.73285,45.40472],[-75.73255,45.40484],[-75.73226,45.40496],[-75.73207,45.40503],[-75.73152,45.40523],[-75.73126,45.40533],[-75.73065,45.40557],[-75.72348,45.40859],[-75.72347,45.40859],[-75.72337,45.40863],[-75.72325,45.40869],[-75.72309,45.40877],[-75.72294,45.40885],[-75.72282,45.40892],[-75.72214,45.40933],[-75.72204,45.4094],[-75.72202,45.4094],[-75.72201,45.40941],[-75.72142,45.40977],[-75.72116,45.40993],[-75.7209,45.4101],[-75.72075,45.41022],[-75.7206,45.41034],[-75.72051,45.41042],[-75.71941,45.41141],[-75.71923,45.41157],[-75.71908,45.41169],[-75.71901,45.41174],[-75.7189,45.41181],[-75.71879,45.41188],[-75.71867,45.41194],[-75.71855,45.412],[-75.71848,45.41203],[-75.71835,45.41208],[-75.71817,45.41214],[-75.71563,45.41296],[-75.71543,45.41302],[-75.71522,45.41308],[-75.71483,45.41318],[-75.71462,45.41324],[-75.71442,45.4133],[-75.71316,45.41371],[-75.71286,45.41381],[-75.71265,45.41387],[-75.71253,45.41391],[-75.71222,45.41403],[-75.71204,45.41411],[-75.71185,45.41419],[-75.71168,45.41428],[-75.71151,45.41437],[-75.71135,45.41447],[-75.71129,45.41451],[-75.71122,45.41455],[-75.71106,45.41468],[-75.71095,45.41476],[-75.71086,45.41484],[-75.71077,45.41494],[-75.71069,45.41503],[-75.71061,45.41514],[-75.71053,45.41526],[-75.70993,45.41625],[-75.70986,45.41638],[-75.70975,45.41653],[-75.70968,45.4166],[-75.7096,45.41668],[-75.70952,45.41675],[-75.70943,45.41682],[-75.70933,45.41688],[-75.70923,45.41694],[-75.70922,45.41694],[-75.70902,45.41704],[-75.70709,45.41784],[-75.70647,45.4181],[-75.70532,45.41859],[-75.69962,45.42105],[-75.69624,45.4225],[-75.69606,45.42258],[-75.69598,45.42262],[-75.69585,45.42269],[-75.69578,45.42273],[-75.69565,45.42281],[-75.69554,45.42288],[-75.69545,45.42295],[-75.69536,45.42303],[-75.69527,45.42311],[-75.69519,45.4232],[-75.69512,45.42329],[-75.69506,45.42338],[-75.695,45.42347],[-75.69494,45.42358],[-75.69487,45.42372],[-75.69465,45.42424],[-75.69458,45.4244],[-75.69451,45.42453],[-75.69443,45.42466],[-75.69436,45.42476],[-75.69428,45.42486],[-75.69419,45.42495],[-75.69409,45.42504],[-75.69398,45.42513],[-75.69387,45.42521],[-75.69375,45.42529],[-75.6937,45.42532],[-75.69358,45.42538],[-75.69341,45.42546],[-75.69192,45.4261],[-75.69077,45.42661],[-75.69068,45.42664],[-75.69056,45.42669],[-75.69044,45.42673],[-75.69031,45.42676],[-75.69019,45.42679],[-75.69006,45.42681],[-75.68992,45.42683],[-75.68979,45.42684],[-75.68966,45.42684],[-75.68952,45.42684],[-75.68939,45.42682],[-75.68925,45.42681],[-75.68912,45.42678],[-75.689,45.42675],[-75.68887,45.42672],[-75.68875,45.42667],[-75.68864,45.42662],[-75.68853,45.42657],[-75.68842,45.42651],[-75.68833,45.42645],[-75.68823,45.42638],[-75.68815,45.4263],[-75.68807,45.42623],[-75.688,45.42614],[-75.68798,45.42611],[-75.68794,45.42606],[-75.68786,45.42594],[-75.68606,45.42289],[-75.68601,45.42281],[-75.68597,45.42275],[-75.68592,45.42268],[-75.68587,45.4226],[-75.68577,45.42248],[-75.68569,45.4224],[-75.68569,45.42232],[-75.68561,45.42232],[-75.68552,45.42225],[-75.68542,45.42218],[-75.68532,45.42211],[-75.68522,45.42205],[-75.68509,45.42197],[-75.68402,45.4214],[-75.68385,45.42131],[-75.68368,45.42122],[-75.68333,45.42106],[-75.68316,45.42098],[-75.68299,45.42089],[-75.68275,45.42076],[-75.68086,45.41974],[-75.68068,45.41965],[-75.68047,45.41955],[-75.68017,45.41941],[-75.67998,45.41934],[-75.67987,45.4193],[-75.6796,45.4192],[-75.67941,45.41915],[-75.67923,45.41909],[-75.67904,45.41904],[-75.67883,45.419],[-75.67789,45.4188],[-75.67742,45.41869],[-75.67714,45.41862],[-75.67687,45.41855],[-75.67673,45.41851],[-75.67518,45.41805],[-75.67463,45.4179],[-75.67442,45.41782],[-75.67417,45.41775],[-75.67397,45.41768],[-75.67374,45.41761],[-75.67352,45.41753],[-75.67329,45.41745],[-75.67327,45.41744],[-75.67297,45.41732],[-75.67255,45.41715],[-75.67203,45.41694],[-75.67051,45.41635],[-75.67027,45.41625],[-75.67011,45.41619],[-75.67005,45.41616],[-75.66996,45.41612],[-75.66987,45.41607],[-75.66979,45.41602],[-75.66972,45.41597],[-75.66965,45.41591],[-75.66958,45.41584],[-75.66953,45.41577],[-75.66952,45.41576],[-75.66944,45.41563],[-75.66806,45.41313],[-75.66795,45.41294],[-75.66789,45.41286],[-75.66783,45.41278],[-75.66778,45.41272],[-75.66764,45.41258],[-75.66756,45.41252],[-75.66747,45.41247],[-75.66738,45.41242],[-75.66728,45.41237],[-75.66718,45.41233],[-75.66707,45.4123],[-75.66696,45.41227],[-75.66685,45.41224],[-75.66673,45.41223],[-75.66662,45.41221],[-75.66651,45.41221],[-75.66639,45.41221],[-75.66624,45.41221],[-75.66607,45.41222],[-75.66509,45.41229],[-75.6638,45.41238],[-75.66231,45.41249],[-75.6621,45.4125],[-75.66196,45.41252],[-75.66186,45.41254],[-75.6617,45.41257],[-75.6616,45.4126],[-75.6615,45.41264],[-75.6614,45.41268],[-75.66131,45.41273],[-75.66123,45.41278],[-75.66115,45.41283],[-75.66107,45.41289],[-75.66101,45.41296],[-75.66095,45.41302],[-75.66089,45.41309],[-75.66085,45.41316],[-75.66083,45.4132],[-75.66079,45.41329],[-75.66036,45.4144],[-75.66031,45.41453],[-75.66026,45.41463],[-75.6602,45.41474],[-75.66015,45.41481],[-75.66008,45.41488],[-75.66001,45.41495],[-75.65993,45.41501],[-75.65985,45.41506],[-75.65975,45.41512],[-75.65966,45.41516],[-75.65955,45.4152],[-75.65945,45.41523],[-75.65933,45.41526],[-75.6593,45.41527],[-75.65918,45.41529],[-75.65903,45.4153],[-75.65685,45.41547],[-75.65662,45.41549],[-75.65644,45.41551],[-75.65636,45.41553],[-75.65608,45.41558],[-75.65594,45.41562],[-75.65581,45.41566],[-75.65568,45.41571],[-75.65555,45.41577],[-75.65548,45.4158],[-75.65525,45.41592],[-75.654,45.41658],[-75.65301,45.41709],[-75.65283,45.41718],[-75.65274,45.41722],[-75.65265,45.41727],[-75.65263,45.41727],[-75.65206,45.4175],[-75.65193,45.41755],[-75.65172,45.41765],[-75.65162,45.4177],[-75.65152,45.41776],[-75.65142,45.41783],[-75.65133,45.41789],[-75.65058,45.41845],[-75.65047,45.41853],[-75.65041,45.41857],[-75.65034,45.41862],[-75.65025,45.41867],[-75.65016,45.41871],[-75.65008,45.41875],[-75.64999,45.41878],[-75.6499,45.4188],[-75.6498,45.41882],[-75.64974,45.41884],[-75.64964,45.41885],[-75.6495,45.41887],[-75.64148,45.41944],[-75.6413,45.41945],[-75.64109,45.41948],[-75.64099,45.41949],[-75.64088,45.41952],[-75.64077,45.41954],[-75.64066,45.41958],[-75.64055,45.41961],[-75.64045,45.41965],[-75.64036,45.4197],[-75.64027,45.41974],[-75.64016,45.41981],[-75.64001,45.41991],[-75.63971,45.42011],[-75.63956,45.42021],[-75.63943,45.42029],[-75.63934,45.42034],[-75.63923,45.42039],[-75.63911,45.42044],[-75.63899,45.42048],[-75.63886,45.42051],[-75.63873,45.42054],[-75.6387,45.42054],[-75.63864,45.42055],[-75.63846,45.42057],[-75.63788,45.42061],[-75.63613,45.42074],[-75.63575,45.42077],[-75.63543,45.42078],[-75.6351,45.42079],[-75.63499,45.4208],[-75.63487,45.42081],[-75.63148,45.4209],[-75.63148,45.4209],[-75.63114,45.42094],[-75.63091,45.42097],[-75.63068,45.421],[-75.63053,45.42103],[-75.63017,45.4211],[-75.62807,45.42153],[-75.62789,45.42157],[-75.6277,45.42162],[-75.62762,45.42164],[-75.62748,45.42168],[-75.62736,45.42173],[-75.62726,45.42178],[-75.62716,45.42183],[-75.62706,45.42189],[-75.62697,45.42196],[-75.62688,45.42202],[-75.62681,45.42209],[-75.62669,45.42222],[-75.62641,45.42253],[-75.62541,45.42366],[-75.62531,45.42376],[-75.62513,45.42395],[-75.62508,45.42401],[-75.62497,45.4241],[-75.62486,45.42419],[-75.62474,45.42427],[-75.62461,45.42435],[-75.62448,45.42443],[-75.62435,45.4245],[-75.6242,45.42456],[-75.62406,45.42462],[-75.62391,45.42468],[-75.62375,45.42472],[-75.62359,45.42477],[-75.62343,45.4248],[-75.62327,45.42483],[-75.6231,45.42486],[-75.62307,45.42486],[-75.62292,45.42488],[-75.62263,45.4249],[-75.62187,45.42495],[-75.6215,45.42497],[-75.62127,45.42499],[-75.62096,45.42502],[-75.6207,45.42506],[-75.62044,45.4251],[-75.62019,45.42515],[-75.61994,45.42521],[-75.61969,45.42527],[-75.61944,45.42534],[-75.6192,45.42541],[-75.61896,45.42549],[-75.61873,45.42558],[-75.6185,45.42568],[-75.61828,45.42578],[-75.61807,45.42588],[-75.61778,45.42602],[-75.61322,45.4284],[-75.61301,45.42851],[-75.60962,45.43023],[-75.60947,45.4303],[-75.60926,45.43042],[-75.6091,45.43052],[-75.60899,45.43059],[-75.60866,45.43081]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-122.92441,49.20097],[-122.92372,49.20081],[-122.92333,49.20074],[-122.92286,49.20066],[-122.92224,49.20055],[-122.92168,49.20045],[-122.92111,49.20035],[-122.92045,49.20027],[-122.91702,49.20007],[-122.91672,49.20004],[-122.91622,49.20003]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.13004,49.19429],[-123.12997,49.19428],[-123.12962,49.19424],[-123.12934,49.19424],[-123.12897,49.19427],[-123.1288,49.1943]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.12436,49.19637],[-123.12456,49.19627]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.13615,49.19576],[-123.1356,49.1957],[-123.1344,49.19557],[-123.13367,49.19549],[-123.13333,49.19542],[-123.13331,49.19541]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.1288,49.1943],[-123.12857,49.19434],[-123.12824,49.19443],[-123.12791,49.19458],[-123.12745,49.19481],[-123.12711,49.19497]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.12334,49.19675],[-123.12248,49.19705],[-123.12173,49.19732]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.12456,49.19627],[-123.12465,49.19623]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.12824,49.19461],[-123.12851,49.19452],[-123.12881,49.19444],[-123.12903,49.1944],[-123.12935,49.19438],[-123.12964,49.19435],[-123.12992,49.19437]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-122.96049,49.21383],[-122.96002,49.21321],[-122.95986,49.21299],[-122.95877,49.21151]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.11799,49.2001],[-123.1179,49.20028]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.13527,49.18579],[-123.13603,49.18501],[-123.13622,49.18474],[-123.13627,49.18459],[-123.13647,49.18162],[-123.13645,49.1796]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.12402,49.19653],[-123.12415,49.19647]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-122.95877,49.21151],[-122.95786,49.21027]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.13638,49.17702],[-123.13626,49.17167]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.0803,49.26846],[-123.08002,49.26811],[-123.07992,49.268],[-123.07959,49.26754],[-123.07942,49.26732],[-123.07922,49.26711],[-123.0789,49.26681],[-123.07855,49.26658]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.02409,49.23484],[-123.02373,49.23466],[-123.02334,49.23449]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.11957,49.19851],[-123.11903,49.19896],[-123.11832,49.19961],[-123.11815,49.19984],[-123.11799,49.2001]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.12743,49.19496],[-123.12771,49.19483],[-123.12824,49.19461]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.12095,49.19766],[-123.12149,49.19747],[-123.12188,49.19731]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.11685,49.21229],[-123.11687,49.21219],[-123.11689,49.2117]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.12524,49.19582],[-123.12469,49.19608]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.12173,49.19732],[-123.12106,49.19756],[-123.12069,49.19773],[-123.1204,49.19788]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-122.90214,49.20672],[-122.90217,49.2067],[-122.90248,49.20658],[-122.9029,49.20642],[-122.90327,49.20627],[-122.90389,49.20593],[-122.90421,49.20571]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.05465,49.2579],[-123.05344,49.25786],[-123.05316,49.25787],[-123.05261,49.25789],[-123.05186,49.25798],[-123.0509,49.25812],[-123.04951,49.25834],[-123.04877,49.25844],[-123.04746,49.25863],[-123.04681,49.25872],[-123.04564,49.25887],[-123.04391,49.2591],[-123.04343,49.25915],[-123.04301,49.2592],[-123.04246,49.25924],[-123.04197,49.25929],[-123.04104,49.25941],[-123.03822,49.25979],[-123.03648,49.26002],[-123.03518,49.26019],[-123.03467,49.26028],[-123.03428,49.26037],[-123.03405,49.26044],[-123.03223,49.26095],[-123.03084,49.26135],[-123.02949,49.26181],[-123.02902,49.26197],[-123.02871,49.26207],[-123.02843,49.26215],[-123.02806,49.26223],[-123.02775,49.26229],[-123.02747,49.26234],[-123.02712,49.26238],[-123.02678,49.26241],[-123.02633,49.26242],[-123.02513,49.26242],[-123.02357,49.26241],[-123.01945,49.26236],[-123.01853,49.26236],[-123.01738,49.26234],[-123.01669,49.26235],[-123.01646,49.2624],[-123.01622,49.26246],[-123.01597,49.26254],[-123.0158,49.26262],[-123.01563,49.26272],[-123.01546,49.26283],[-123.0153,49.26298],[-123.01519,49.26312],[-123.01506,49.26332],[-123.01493,49.2636],[-123.01472,49.26403],[-123.01459,49.26421],[-123.01439,49.26441],[-123.01416,49.26456],[-123.0131,49.2652],[-123.01227,49.2657],[-123.01185,49.26595],[-123.01161,49.26606],[-123.01137,49.26615],[-123.0111,49.26623],[-123.01077,49.26629],[-123.01047,49.26632],[-123.00926,49.26639],[-123.00881,49.26641],[-123.00828,49.26645],[-123.00777,49.26647],[-123.00718,49.26648],[-123.00587,49.26648],[-123.00353,49.2664],[-123.00316,49.26639],[-123.0016,49.26634],[-122.99972,49.26631],[-122.99858,49.26628],[-122.99764,49.26624],[-122.9973,49.26622],[-122.99688,49.26616],[-122.99645,49.2661],[-122.99612,49.26604],[-122.99576,49.26596],[-122.99512,49.2658],[-122.99424,49.26553],[-122.99319,49.26519],[-122.99277,49.26508],[-122.9925,49.26503],[-122.99225,49.26498],[-122.99193,49.26494],[-122.99163,49.26491],[-122.99135,49.2649],[-122.99094,49.26488],[-122.99055,49.26488],[-122.98894,49.26488],[-122.9871,49.26488],[-122.98545,49.26488],[-122.98485,49.26488],[-122.98423,49.26487],[-122.98356,49.26483],[-122.98218,49.26474],[-122.98132,49.26467],[-122.98064,49.26462],[-122.98028,49.26457],[-122.97986,49.26451],[-122.97949,49.26444],[-122.97907,49.26434],[-122.97866,49.2642],[-122.97833,49.26408],[-122.97449,49.26273],[-122.97301,49.26222],[-122.97206,49.26184],[-122.97048,49.26124],[-122.96878,49.26065],[-122.96824,49.26044],[-122.96765,49.26019],[-122.96665,49.25974],[-122.96611,49.25951],[-122.96577,49.25941],[-122.96536,49.25934],[-122.96493,49.25928],[-122.96322,49.25912],[-122.96222,49.25902],[-122.96031,49.25881],[-122.95958,49.25873],[-122.95869,49.25864],[-122.95816,49.2586],[-122.95772,49.25856],[-122.95725,49.25854],[-122.95675,49.25852],[-122.95605,49.25851],[-122.95429,49.2585],[-122.95398,49.25848],[-122.95372,49.25846],[-122.95342,49.25842],[-122.95309,49.25837],[-122.95277,49.2583],[-122.95199,49.25811],[-122.95125,49.2579],[-122.95076,49.25774],[-122.9491,49.2572],[-122.94762,49.25672],[-122.94524,49.25594],[-122.94374,49.25545],[-122.94235,49.255],[-122.94204,49.25492],[-122.94167,49.25485],[-122.94129,49.2548],[-122.94078,49.25475],[-122.94001,49.25467],[-122.93849,49.25454],[-122.93799,49.25449],[-122.93757,49.25445],[-122.93708,49.25442],[-122.93636,49.25439],[-122.93466,49.25435],[-122.9333,49.25434],[-122.92786,49.25436],[-122.92636,49.25435],[-122.92556,49.25431],[-122.92513,49.25428],[-122.92455,49.25421],[-122.92385,49.25412],[-122.92297,49.25399],[-122.92196,49.25385],[-122.92126,49.25376],[-122.92075,49.25372],[-122.92017,49.25366],[-122.91631,49.25311],[-122.9153,49.25298],[-122.91212,49.25254],[-122.90904,49.25209],[-122.90859,49.25199],[-122.90793,49.25184],[-122.9074,49.25173],[-122.90706,49.25165],[-122.90673,49.25158],[-122.90625,49.2515],[-122.90579,49.25143],[-122.90448,49.25123],[-122.90393,49.25113],[-122.90325,49.25099],[-122.90232,49.25075],[-122.9018,49.25059],[-122.90137,49.25043],[-122.90063,49.25015],[-122.90019,49.24994],[-122.89945,49.24956],[-122.89912,49.24943],[-122.89865,49.24926],[-122.89832,49.24914],[-122.89793,49.24898],[-122.89749,49.24873],[-122.89616,49.24801],[-122.89493,49.24734],[-122.8944,49.24706],[-122.89382,49.24674],[-122.89342,49.24651],[-122.89315,49.24629],[-122.89299,49.24607],[-122.8929,49.24585],[-122.89284,49.24557],[-122.89281,49.24409],[-122.8928,49.24289],[-122.89276,49.2425],[-122.89269,49.24222],[-122.89256,49.24197],[-122.89241,49.24173],[-122.89226,49.24158],[-122.89203,49.24135],[-122.89173,49.24112],[-122.89137,49.24091],[-122.88995,49.24007],[-122.889,49.23953],[-122.88825,49.23911],[-122.88634,49.23797],[-122.8856,49.23753],[-122.88489,49.23712],[-122.88443,49.23683],[-122.88402,49.23647],[-122.88376,49.23617],[-122.88362,49.23599],[-122.88344,49.23567],[-122.88333,49.23545],[-122.8831,49.23457],[-122.88291,49.23376],[-122.88262,49.23247],[-122.88245,49.23151],[-122.88245,49.23121],[-122.8825,49.2309],[-122.88261,49.23059],[-122.88276,49.23028],[-122.88289,49.23011],[-122.88311,49.22984],[-122.88356,49.22945],[-122.8841,49.22903],[-122.88529,49.2281],[-122.88635,49.2272],[-122.88711,49.22657],[-122.88957,49.22447],[-122.89043,49.22377],[-122.89109,49.22319],[-122.89144,49.22283],[-122.89166,49.22256],[-122.89183,49.2223],[-122.89201,49.22175],[-122.89212,49.22132],[-122.89225,49.22074],[-122.89245,49.21983],[-122.89266,49.219],[-122.89288,49.21825],[-122.89312,49.21748],[-122.89354,49.21607],[-122.89368,49.21568],[-122.89387,49.21514],[-122.894,49.21469],[-122.89427,49.21409],[-122.89457,49.21347],[-122.89493,49.21297],[-122.89533,49.21253],[-122.89559,49.21232],[-122.89594,49.21203],[-122.89726,49.2111],[-122.89732,49.21105]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.02334,49.23449],[-123.02276,49.23421],[-123.02243,49.23407],[-123.02214,49.23395],[-123.0218,49.23383],[-123.02148,49.23371],[-123.0211,49.23356],[-123.02071,49.23341],[-123.02021,49.23321]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.12656,49.19522],[-123.12569,49.1956],[-123.12524,49.19582]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.12476,49.19617],[-123.12577,49.1957],[-123.12701,49.19515],[-123.12743,49.19496]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.13232,49.19516],[-123.13329,49.19546]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.12387,49.19653],[-123.1237,49.19662],[-123.12334,49.19675]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.13626,49.17167],[-123.13624,49.16801]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-122.90337,49.20614],[-122.90321,49.20621],[-122.90299,49.20632],[-122.9027,49.20641],[-122.90231,49.20649],[-122.90189,49.20654],[-122.90151,49.20654],[-122.90113,49.20651],[-122.90066,49.20642],[-122.89997,49.20624],[-122.89879,49.20594],[-122.89689,49.20546],[-122.89443,49.20487],[-122.89274,49.20446],[-122.89182,49.20424],[-122.89081,49.20402],[-122.88987,49.2038],[-122.88915,49.20364],[-122.88808,49.20344],[-122.88747,49.20336],[-122.88673,49.20329],[-122.88604,49.20325],[-122.88539,49.20323],[-122.88486,49.20323],[-122.88402,49.20327],[-122.88329,49.20333],[-122.88262,49.20341],[-122.88162,49.20353],[-122.88068,49.20364],[-122.87967,49.20373],[-122.87901,49.20382],[-122.87847,49.2039],[-122.87734,49.20404],[-122.87671,49.20415],[-122.87581,49.20426],[-122.87486,49.20437],[-122.87349,49.20452],[-122.87238,49.20466],[-122.87132,49.20478],[-122.87056,49.20488],[-122.87006,49.20498],[-122.86963,49.20507],[-122.8691,49.20519],[-122.86836,49.20537],[-122.86741,49.20561],[-122.86637,49.20589],[-122.86548,49.20612],[-122.86394,49.20651],[-122.86263,49.20682],[-122.86176,49.20701],[-122.86088,49.20709],[-122.86021,49.20709],[-122.85928,49.20703],[-122.85867,49.20691],[-122.85819,49.20679],[-122.85785,49.20668],[-122.85734,49.20649],[-122.85671,49.20618],[-122.85622,49.20587],[-122.85497,49.20505],[-122.85368,49.2042],[-122.85208,49.20314],[-122.85173,49.20289],[-122.85143,49.20266],[-122.85115,49.20238],[-122.85095,49.2021],[-122.85084,49.2019],[-122.85072,49.2016],[-122.85067,49.20131],[-122.85063,49.20102],[-122.85064,49.20037],[-122.85065,49.19994],[-122.85066,49.19952],[-122.85068,49.1988],[-122.85069,49.19827],[-122.85067,49.19769],[-122.85067,49.19713],[-122.85069,49.19575],[-122.85069,49.19533],[-122.85067,49.19517],[-122.85065,49.19506],[-122.85065,49.19484],[-122.85061,49.19463],[-122.85052,49.19442],[-122.8504,49.19419],[-122.85025,49.19401],[-122.85001,49.19376],[-122.84957,49.19338],[-122.84925,49.19311],[-122.84896,49.19285],[-122.84854,49.19247],[-122.84835,49.19228],[-122.8482,49.19209],[-122.84806,49.19186],[-122.84796,49.1916],[-122.8479,49.19137],[-122.84789,49.1913],[-122.84787,49.19106],[-122.84791,49.18875],[-122.84789,49.18853],[-122.84778,49.18824],[-122.84763,49.18799],[-122.8474,49.18771],[-122.84722,49.1874],[-122.84711,49.18717],[-122.84705,49.1869],[-122.84704,49.18643],[-122.84707,49.18595],[-122.84707,49.18514],[-122.84707,49.18446],[-122.84704,49.18426],[-122.84699,49.18408],[-122.84686,49.18386],[-122.8467,49.1837],[-122.84655,49.18358],[-122.84635,49.18345],[-122.84604,49.18331],[-122.84579,49.18321],[-122.84512,49.18293],[-122.84375,49.18238],[-122.84277,49.18199],[-122.84179,49.18162],[-122.84127,49.18142],[-122.84039,49.1811]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.12407,49.19642],[-123.12395,49.19649]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.11689,49.2117],[-123.11691,49.21118],[-123.11693,49.21057],[-123.117,49.20998],[-123.11704,49.20983],[-123.11703,49.20978],[-123.11704,49.20905],[-123.11707,49.20889],[-123.11718,49.20865],[-123.11732,49.20828],[-123.11736,49.20817],[-123.11738,49.20802],[-123.11739,49.20793],[-123.11743,49.20717]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.1196,49.19852],[-123.12008,49.19814],[-123.1205,49.19787]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.10993,49.2797],[-123.11045,49.28],[-123.11081,49.2802],[-123.11114,49.28034],[-123.11147,49.28051],[-123.11231,49.28092],[-123.11426,49.2822],[-123.11519,49.28284],[-123.11643,49.28362]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.16144,49.19314],[-123.16344,49.19305],[-123.16564,49.19304],[-123.1665,49.19304],[-123.16695,49.19307],[-123.16811,49.1932],[-123.16873,49.19321]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.1174,49.20582],[-123.1174,49.20595]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.05607,49.24837],[-123.05519,49.248],[-123.0533,49.24722],[-123.04964,49.2457],[-123.04873,49.24532],[-123.04721,49.24473],[-123.04513,49.24385],[-123.04352,49.24319],[-123.04128,49.24226],[-123.04041,49.24188],[-123.03935,49.24145],[-123.03849,49.24108]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.06904,49.26243],[-123.06904,49.26232],[-123.06907,49.26134],[-123.06907,49.26047],[-123.06911,49.2596],[-123.06911,49.25872],[-123.06912,49.25817],[-123.06912,49.25775],[-123.06912,49.25688],[-123.06911,49.25635],[-123.06907,49.25612],[-123.06903,49.25595],[-123.06896,49.25575],[-123.06892,49.25562],[-123.06877,49.25534],[-123.06853,49.25497],[-123.06832,49.25472],[-123.06812,49.25451],[-123.06794,49.25436],[-123.06773,49.25419],[-123.06743,49.25396],[-123.06625,49.25305],[-123.06546,49.25246],[-123.06521,49.25228],[-123.06504,49.25218],[-123.0649,49.25211],[-123.06459,49.25195],[-123.06425,49.25179],[-123.06395,49.25165],[-123.0632,49.25136],[-123.06187,49.25077],[-123.06046,49.25018],[-123.06003,49.24999],[-123.05944,49.24977],[-123.05747,49.24895],[-123.05668,49.24862],[-123.05607,49.24837]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.11745,49.20581],[-123.11747,49.20488],[-123.11751,49.20446]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.13998,49.19629],[-123.14317,49.19664],[-123.14432,49.19678],[-123.1446,49.19679],[-123.14526,49.1968],[-123.14579,49.19677],[-123.14807,49.19632],[-123.14875,49.1961],[-123.14974,49.19557],[-123.15208,49.19426],[-123.15248,49.19404],[-123.15331,49.19368],[-123.15383,49.19349],[-123.15434,49.19335],[-123.15484,49.19324],[-123.15521,49.19317]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.11643,49.28362],[-123.11705,49.28403],[-123.11814,49.2847],[-123.11954,49.28557]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.09794,49.27257],[-123.09744,49.27242],[-123.09698,49.2723],[-123.09615,49.27216],[-123.09482,49.27195],[-123.09316,49.27167],[-123.0863,49.27049],[-123.08558,49.27035],[-123.08493,49.27021],[-123.08286,49.26975],[-123.08228,49.26962],[-123.08194,49.26951],[-123.08152,49.26934],[-123.08122,49.26918],[-123.08097,49.26904],[-123.08068,49.26882],[-123.08045,49.26862],[-123.0803,49.26846]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.02021,49.23321],[-123.01987,49.23306],[-123.0196,49.23294]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.13232,49.19516],[-123.13142,49.19475],[-123.13083,49.19451],[-123.13048,49.19438],[-123.13025,49.19432],[-123.13004,49.19429]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-122.91622,49.20003],[-122.91564,49.20008],[-122.91537,49.20013],[-122.91507,49.2002],[-122.91476,49.20031],[-122.91443,49.20045],[-122.91394,49.2007],[-122.91281,49.20131],[-122.91225,49.20161],[-122.91204,49.20173],[-122.91169,49.20192],[-122.91095,49.20232],[-122.91054,49.20255],[-122.91,49.20285]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.0196,49.23294],[-123.01886,49.23261],[-123.01794,49.23218],[-123.01714,49.23183],[-123.01649,49.23152],[-123.01555,49.23108],[-123.01511,49.23089],[-123.01438,49.23056],[-123.01363,49.23022],[-123.01313,49.23],[-123.01272,49.22982],[-123.01225,49.22959],[-123.01104,49.22904],[-123.01039,49.22875],[-123.00899,49.2281],[-123.00777,49.22754],[-123.00711,49.22723],[-123.00647,49.22694],[-123.00591,49.22669],[-123.0055,49.22653],[-123.00503,49.22634],[-123.00283,49.22533],[-123,49.2239]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.12415,49.19647],[-123.12436,49.19637]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.1204,49.19788],[-123.12003,49.19812],[-123.11957,49.19851]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.11737,49.20714],[-123.11735,49.20771],[-123.11734,49.20797],[-123.11731,49.20814],[-123.11728,49.20824],[-123.1171,49.20871],[-123.11703,49.20887],[-123.11699,49.20905],[-123.11698,49.20967],[-123.1169,49.2104],[-123.11689,49.21058],[-123.11686,49.21129],[-123.11685,49.2117]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.11743,49.20447],[-123.11741,49.20549],[-123.1174,49.20582]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.11764,49.26922],[-123.11773,49.26931],[-123.11791,49.26952],[-123.11808,49.26972],[-123.11824,49.26993],[-123.11838,49.27014],[-123.11852,49.27035],[-123.11864,49.27057],[-123.11936,49.27194]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.12476,49.19617],[-123.12493,49.19605],[-123.12524,49.19582]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-122.95841,49.20484],[-122.95845,49.20478],[-122.95857,49.20458],[-122.95867,49.20433],[-122.95873,49.20416],[-122.95875,49.20396],[-122.95879,49.20371],[-122.95881,49.20316],[-122.95879,49.20292],[-122.95875,49.20263],[-122.95867,49.20237],[-122.95854,49.20211],[-122.9584,49.20186],[-122.95824,49.20164],[-122.95809,49.20146],[-122.95795,49.2013],[-122.95776,49.20112],[-122.95756,49.20096],[-122.95738,49.20082],[-122.9572,49.20069],[-122.957,49.20057],[-122.95679,49.20044],[-122.95661,49.20035],[-122.95646,49.20027],[-122.95624,49.20017],[-122.95599,49.20007],[-122.95573,49.19997],[-122.95537,49.19985],[-122.95514,49.19978],[-122.95495,49.19974],[-122.95464,49.19966],[-122.95427,49.19959],[-122.95386,49.19953],[-122.95353,49.1995],[-122.95324,49.19947],[-122.95281,49.19946],[-122.95244,49.19946],[-122.95209,49.19947],[-122.95172,49.19949],[-122.95139,49.19952],[-122.95088,49.19959],[-122.95055,49.19964],[-122.95021,49.19972],[-122.94988,49.19979],[-122.94927,49.19995],[-122.94846,49.20015],[-122.94683,49.20057],[-122.94657,49.20064],[-122.94627,49.20071],[-122.94599,49.20077],[-122.94548,49.20087],[-122.94516,49.20093],[-122.94481,49.20097],[-122.94442,49.20101],[-122.94421,49.20102],[-122.94372,49.20107],[-122.94316,49.20112],[-122.94256,49.20118],[-122.94222,49.20121],[-122.94192,49.20126],[-122.94168,49.2013],[-122.9414,49.20138],[-122.9411,49.20146],[-122.94081,49.20157],[-122.93957,49.20212],[-122.93881,49.20242],[-122.93841,49.20257],[-122.93768,49.20281],[-122.93697,49.20305],[-122.93579,49.20342],[-122.93534,49.20356],[-122.93494,49.20366],[-122.93446,49.20376],[-122.93412,49.20379],[-122.93371,49.2038],[-122.9334,49.2038],[-122.93266,49.20374],[-122.93155,49.20362],[-122.93049,49.20349],[-122.92995,49.20344],[-122.92924,49.20335],[-122.92884,49.2033],[-122.92851,49.20324],[-122.92824,49.20317],[-122.92791,49.20308],[-122.92764,49.20296],[-122.92736,49.20283],[-122.92711,49.20269],[-122.92688,49.20254],[-122.92653,49.20226],[-122.92576,49.20166],[-122.92547,49.20146],[-122.92529,49.20134],[-122.9251,49.20124],[-122.9249,49.20115],[-122.92465,49.20105],[-122.92453,49.20101],[-122.92441,49.20097]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.1157,49.26726],[-123.11574,49.2673],[-123.11581,49.26738],[-123.11588,49.26746],[-123.11737,49.26894],[-123.11764,49.26922]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.1179,49.20028],[-123.11785,49.20037],[-123.11774,49.20071],[-123.11769,49.20146],[-123.11759,49.20299],[-123.11744,49.20437],[-123.11743,49.20447]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.15512,49.19308],[-123.15396,49.19336],[-123.15339,49.19356],[-123.15243,49.19399],[-123.15034,49.19515],[-123.14946,49.19564],[-123.1487,49.19604],[-123.1481,49.19624],[-123.14716,49.19644],[-123.14576,49.19669],[-123.14509,49.19674],[-123.14449,49.19671],[-123.14387,49.19666],[-123.14119,49.19634],[-123.13999,49.19622]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.10878,49.27896],[-123.10976,49.27959],[-123.10993,49.2797]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.12395,49.19656],[-123.12397,49.19655],[-123.12402,49.19653]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.1174,49.20595],[-123.11737,49.20714]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.12395,49.19649],[-123.12387,49.19653]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.12727,49.19496],[-123.12751,49.19487]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.12711,49.19497],[-123.12703,49.19501],[-123.12656,49.19522]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.1288,49.1943],[-123.12904,49.19418],[-123.12951,49.19386],[-123.12977,49.19355],[-123.1299,49.19337],[-123.13,49.19314],[-123.13003,49.19297],[-123.13005,49.19276],[-123.13006,49.19258]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.13645,49.1796],[-123.13638,49.17702]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123,49.2239],[-122.99914,49.22346],[-122.99583,49.22193],[-122.99566,49.22186],[-122.99528,49.2217],[-122.99492,49.22154],[-122.99464,49.22145],[-122.99445,49.22138],[-122.99408,49.22127],[-122.99366,49.22115],[-122.99329,49.22104],[-122.99286,49.22096],[-122.99259,49.2209],[-122.99117,49.22062],[-122.99067,49.22053],[-122.98858,49.2201],[-122.98721,49.21982],[-122.98658,49.21967],[-122.98568,49.21946],[-122.98361,49.21903],[-122.9828,49.21888],[-122.98107,49.21854],[-122.98063,49.21845],[-122.97999,49.21832],[-122.97961,49.21822],[-122.97937,49.21816],[-122.97886,49.21801],[-122.978,49.21771],[-122.9776,49.21755],[-122.97714,49.21733],[-122.97391,49.2158],[-122.97365,49.21566],[-122.97334,49.21552],[-122.97309,49.21541],[-122.97289,49.21533],[-122.97261,49.21521],[-122.97229,49.21511],[-122.97193,49.21501],[-122.97168,49.21495],[-122.97137,49.21488],[-122.97109,49.21484],[-122.97074,49.21479],[-122.97045,49.21477],[-122.97007,49.21475],[-122.96987,49.21474],[-122.96852,49.21478],[-122.96719,49.21482],[-122.96412,49.21492],[-122.96328,49.21494],[-122.96296,49.21492],[-122.96271,49.2149],[-122.96246,49.21487],[-122.96222,49.21482],[-122.962,49.21477],[-122.96168,49.21466],[-122.96143,49.21454],[-122.96112,49.21438],[-122.96089,49.21421],[-122.96068,49.21402],[-122.96049,49.21383]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.11743,49.20717],[-123.11745,49.20594]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-122.91,49.20285],[-122.90992,49.20289],[-122.90951,49.2031],[-122.90887,49.20347]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.11685,49.2117],[-123.11683,49.21218],[-123.11685,49.21229]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.10878,49.27896],[-123.10826,49.27863],[-123.10763,49.27829],[-123.10737,49.27819],[-123.10714,49.27811],[-123.10688,49.27802],[-123.10656,49.27791],[-123.10633,49.27786],[-123.10591,49.2778],[-123.1055,49.27776],[-123.10486,49.27769],[-123.10451,49.27765],[-123.10415,49.27759],[-123.1038,49.27749],[-123.10358,49.2774],[-123.10338,49.27731],[-123.10325,49.27723],[-123.10308,49.27712],[-123.10286,49.27689],[-123.10271,49.27669],[-123.10263,49.27654],[-123.10258,49.27639],[-123.10254,49.2762],[-123.10239,49.27528],[-123.10225,49.2744],[-123.10216,49.27387],[-123.10208,49.27371],[-123.10195,49.27358],[-123.10182,49.27349],[-123.10166,49.27342],[-123.10143,49.27335],[-123.09994,49.2731],[-123.09918,49.27296],[-123.09874,49.27285],[-123.09825,49.27268],[-123.09794,49.27257]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.11954,49.28557],[-123.12019,49.28601],[-123.12053,49.28629],[-123.12067,49.28657],[-123.12071,49.28706],[-123.12042,49.2876],[-123.11998,49.28786],[-123.11954,49.28799],[-123.11902,49.28809],[-123.11846,49.2881],[-123.1177,49.288],[-123.11542,49.28745],[-123.11184,49.28609]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.12469,49.19608],[-123.12459,49.19613],[-123.12413,49.19639],[-123.12407,49.19642]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.17799,49.19404],[-123.17417,49.19358],[-123.17369,49.19357],[-123.17255,49.19357],[-123.17173,49.19358],[-123.17095,49.19349],[-123.16938,49.19329],[-123.16873,49.19321]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.12465,49.19623],[-123.12476,49.19617]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.06922,49.26331],[-123.0674,49.26258],[-123.06462,49.26141],[-123.06168,49.26023],[-123.05847,49.25893],[-123.05723,49.25845],[-123.05675,49.25831],[-123.05634,49.2582],[-123.05573,49.25806],[-123.05525,49.25797],[-123.05476,49.2579],[-123.05465,49.2579]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.11798,49.20027],[-123.118,49.20024]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.11643,49.28362],[-123.11615,49.28381],[-123.11276,49.28604]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.12656,49.19522],[-123.12712,49.19502],[-123.12727,49.19496]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.13999,49.19622],[-123.13926,49.19614],[-123.13685,49.19584],[-123.13615,49.19576]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.03849,49.24108],[-123.03767,49.24073],[-123.03583,49.23998],[-123.03469,49.23952],[-123.03363,49.23915],[-123.03294,49.23889],[-123.03172,49.2384],[-123.03018,49.23774],[-123.02855,49.23695],[-123.0281,49.23671],[-123.02749,49.23642],[-123.02558,49.23555],[-123.02491,49.23523],[-123.02409,49.23484]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.11936,49.27194],[-123.11947,49.27216],[-123.11954,49.27229],[-123.11961,49.27243],[-123.11969,49.27256],[-123.11978,49.2727],[-123.11987,49.27283],[-123.11997,49.27295],[-123.12008,49.27308],[-123.12015,49.27316],[-123.12034,49.27331],[-123.12053,49.27347],[-123.12074,49.27362],[-123.12095,49.27376],[-123.12117,49.2739],[-123.12396,49.27569],[-123.12411,49.27579],[-123.12426,49.27589],[-123.12439,49.27599],[-123.12446,49.27605],[-123.12451,49.2761],[-123.12457,49.27615],[-123.12462,49.27621],[-123.12467,49.27626],[-123.12472,49.27632],[-123.12476,49.27638],[-123.1248,49.27643],[-123.12484,49.27649],[-123.12487,49.27655],[-123.1249,49.27662],[-123.12493,49.27668],[-123.12495,49.27674],[-123.12497,49.2768],[-123.12499,49.27687],[-123.12501,49.27693],[-123.12502,49.27699],[-123.12502,49.27706],[-123.12503,49.27712],[-123.12503,49.27719],[-123.12503,49.27725],[-123.12502,49.27731],[-123.12501,49.27738],[-123.125,49.27744],[-123.12498,49.27751],[-123.12496,49.27757],[-123.12494,49.27763],[-123.12491,49.27769],[-123.12488,49.27775],[-123.12485,49.27781],[-123.12481,49.27788],[-123.12478,49.27793],[-123.12473,49.27799],[-123.12469,49.27805],[-123.12464,49.2781],[-123.12459,49.27816],[-123.12454,49.27821],[-123.12448,49.27827],[-123.12442,49.27832],[-123.12428,49.27842],[-123.12414,49.27852],[-123.12399,49.27862],[-123.11731,49.28304],[-123.11643,49.28362]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.13331,49.19541],[-123.13292,49.19531],[-123.13232,49.19516]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.0691,49.26301],[-123.06907,49.26287],[-123.06905,49.26279],[-123.06904,49.26262],[-123.06904,49.26243]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-122.90421,49.20571],[-122.90403,49.2058],[-122.90385,49.20589],[-122.90362,49.20601],[-122.90337,49.20614]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.06926,49.2633],[-123.06915,49.26315]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.1205,49.19787],[-123.12095,49.19766]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.13329,49.19546],[-123.13337,49.19549],[-123.1338,49.19557],[-123.1356,49.19578],[-123.13612,49.19584]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-122.89732,49.21105],[-122.89801,49.21061],[-122.89881,49.20973],[-122.89939,49.20892],[-122.90061,49.20776],[-122.90134,49.20713],[-122.90214,49.20672]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-122.90887,49.20347],[-122.9084,49.20371],[-122.90672,49.20448],[-122.90571,49.20494],[-122.90509,49.20525],[-122.90421,49.20571]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.118,49.20024],[-123.11837,49.19964],[-123.11891,49.19913],[-123.1196,49.19852]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.12188,49.19731],[-123.12335,49.1968]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-122.95786,49.21027],[-122.95765,49.20999],[-122.95725,49.20945],[-122.95719,49.20936],[-122.95679,49.2088],[-122.95668,49.2086],[-122.95663,49.20846],[-122.95657,49.20825],[-122.95654,49.20807],[-122.95653,49.20795],[-122.95653,49.20781],[-122.95656,49.20764],[-122.95661,49.20744],[-122.95667,49.20728],[-122.95676,49.2071],[-122.95707,49.20665],[-122.9575,49.2061],[-122.95821,49.20513],[-122.95841,49.20484]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.11685,49.21229],[-123.11683,49.21386],[-123.11676,49.2153],[-123.11663,49.2187],[-123.11639,49.22475],[-123.11637,49.22529],[-123.11605,49.23316],[-123.11598,49.23499],[-123.11595,49.2357],[-123.11585,49.2378],[-123.11585,49.23798],[-123.11585,49.23802],[-123.11585,49.23807],[-123.11586,49.23812],[-123.11587,49.23817],[-123.11588,49.23821],[-123.1159,49.23826],[-123.11591,49.23831],[-123.11593,49.23835],[-123.11596,49.2384],[-123.11598,49.23844],[-123.11601,49.23849],[-123.11604,49.23853],[-123.11607,49.23858],[-123.1161,49.23862],[-123.11614,49.23866],[-123.11619,49.23871],[-123.11624,49.23876],[-123.11629,49.23881],[-123.1178,49.24016],[-123.11788,49.24024],[-123.11796,49.24031],[-123.118,49.24035],[-123.11804,49.24039],[-123.11807,49.24044],[-123.1181,49.24048],[-123.11813,49.24053],[-123.11816,49.24057],[-123.11818,49.24062],[-123.1182,49.24066],[-123.11822,49.24071],[-123.11824,49.24076],[-123.11826,49.2408],[-123.11827,49.24085],[-123.11828,49.2409],[-123.11828,49.24095],[-123.11829,49.241],[-123.11829,49.24109],[-123.11828,49.24118],[-123.11825,49.24192],[-123.11825,49.24204],[-123.11824,49.24216],[-123.11823,49.24227],[-123.11821,49.24239],[-123.11818,49.2425],[-123.11815,49.24262],[-123.11813,49.24268],[-123.11811,49.24273],[-123.11808,49.24279],[-123.11805,49.24285],[-123.11801,49.2429],[-123.11798,49.24296],[-123.11794,49.24301],[-123.11789,49.24306],[-123.11785,49.24311],[-123.1178,49.24317],[-123.11775,49.24322],[-123.1177,49.24326],[-123.11764,49.24331],[-123.11759,49.24336],[-123.11753,49.2434],[-123.11746,49.24345],[-123.1173,49.24355],[-123.11713,49.24364],[-123.11696,49.24374],[-123.11678,49.24383],[-123.11656,49.24395],[-123.11634,49.24407],[-123.11612,49.24419],[-123.11606,49.24424],[-123.116,49.24429],[-123.11594,49.24433],[-123.11588,49.24438],[-123.11582,49.24443],[-123.11577,49.24448],[-123.11572,49.24454],[-123.11567,49.24459],[-123.11563,49.24465],[-123.11559,49.2447],[-123.11555,49.24476],[-123.11551,49.24481],[-123.11548,49.24487],[-123.11545,49.24493],[-123.11543,49.24499],[-123.1154,49.24505],[-123.11538,49.24511],[-123.11537,49.24517],[-123.11535,49.24523],[-123.11534,49.24535],[-123.11532,49.24547],[-123.11532,49.24559],[-123.11524,49.2476],[-123.11523,49.24782],[-123.11523,49.24785],[-123.11525,49.24808],[-123.11533,49.24899],[-123.11534,49.2492],[-123.11534,49.24924],[-123.11533,49.24947],[-123.11508,49.25543],[-123.11506,49.25578],[-123.11503,49.25613],[-123.11498,49.2566],[-123.11498,49.25706],[-123.11499,49.25785],[-123.11499,49.25803],[-123.11499,49.25854],[-123.11498,49.25873],[-123.11494,49.25974],[-123.11484,49.26184],[-123.11479,49.26259],[-123.11477,49.2629],[-123.11475,49.26345],[-123.1147,49.26474],[-123.11469,49.26488],[-123.1147,49.26501],[-123.1147,49.26509],[-123.11471,49.26517],[-123.11473,49.26524],[-123.11475,49.26532],[-123.11477,49.2654],[-123.11479,49.26547],[-123.11485,49.2656],[-123.11491,49.26573],[-123.11533,49.26663],[-123.11546,49.26688],[-123.11551,49.26697],[-123.11556,49.26706],[-123.11561,49.26714],[-123.1157,49.26726]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.13612,49.19584],[-123.13983,49.19627],[-123.13998,49.19629]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.13006,49.19258],[-123.13003,49.19173],[-123.1301,49.19114],[-123.13014,49.191],[-123.13029,49.19069],[-123.13061,49.19028],[-123.13105,49.1899],[-123.13217,49.18886],[-123.13301,49.18807],[-123.13458,49.18645],[-123.13527,49.18579]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.11745,49.20594],[-123.11745,49.20581]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.15521,49.19317],[-123.15548,49.19315],[-123.1564,49.19313],[-123.15691,49.19312],[-123.15921,49.19311],[-123.16144,49.19314]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.12335,49.1968],[-123.12379,49.19663],[-123.12395,49.19656]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.12751,49.19487],[-123.1281,49.19461],[-123.12857,49.19442],[-123.1288,49.1943]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.12992,49.19437],[-123.13027,49.1944],[-123.13058,49.19447],[-123.13085,49.19457],[-123.13172,49.19493],[-123.13209,49.19509],[-123.13232,49.19516]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.16873,49.19321],[-123.16794,49.19312],[-123.16715,49.19301],[-123.16662,49.19298],[-123.16415,49.19299],[-123.16195,49.19299],[-123.15972,49.19297],[-123.15788,49.19295],[-123.15646,49.19295],[-123.15549,49.19302],[-123.15512,49.19308]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.07855,49.26658],[-123.07837,49.26647],[-123.07809,49.26633],[-123.07784,49.26623],[-123.07756,49.26613],[-123.0757,49.26553],[-123.07356,49.26484],[-123.07128,49.26411],[-123.06984,49.26365],[-123.06965,49.26357],[-123.06949,49.26348],[-123.06937,49.2634],[-123.06926,49.2633]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-123.11751,49.20446],[-123.11754,49.2041],[-123.11771,49.20277],[-123.11781,49.20093],[-123.11782,49.20071],[-123.11792,49.20038],[-123.11798,49.20027]]]}},{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:[[[-80.44183,43.42237],[-80.4426,43.42225],[-80.4428,43.42221],[-80.44302,43.42214],[-80.4431,43.42211],[-80.44341,43.42199],[-80.44372,43.42185],[-80.44442,43.42158],[-80.44474,43.42147],[-80.44492,43.42142],[-80.44565,43.42128],[-80.44681,43.42106],[-80.44756,43.42091],[-80.44851,43.42075],[-80.44912,43.42064],[-80.4495,43.42057],[-80.4506,43.42037],[-80.4518,43.4202],[-80.45327,43.41995],[-80.45368,43.41993],[-80.45567,43.4198],[-80.45616,43.4198],[-80.45662,43.41989],[-80.45708,43.42012],[-80.4573,43.42031],[-80.45761,43.42051],[-80.4579,43.42069],[-80.4582,43.42088],[-80.4586,43.42102],[-80.45939,43.42123],[-80.45991,43.42135],[-80.46036,43.42142],[-80.46131,43.42166],[-80.46188,43.422],[-80.46279,43.42267],[-80.46296,43.4228],[-80.46296,43.42281],[-80.46341,43.42326],[-80.46423,43.42394],[-80.46486,43.42449],[-80.46558,43.42513],[-80.46582,43.42544],[-80.46605,43.4259],[-80.46616,43.42621],[-80.46629,43.42634],[-80.46661,43.42636],[-80.46684,43.42633],[-80.46713,43.42624],[-80.46778,43.42601],[-80.46806,43.42592],[-80.46833,43.42594],[-80.46851,43.42599],[-80.46874,43.4262],[-80.46948,43.42679],[-80.47048,43.42763],[-80.47129,43.4283],[-80.4727,43.4295],[-80.4727,43.42951],[-80.47395,43.43047],[-80.47632,43.43239],[-80.47788,43.43368],[-80.47825,43.43399]],[[-80.47825,43.43399],[-80.47845,43.43427],[-80.47845,43.43482],[-80.4782,43.43558],[-80.47811,43.4358],[-80.47758,43.43631],[-80.47648,43.43732],[-80.47396,43.43956],[-80.47232,43.44112],[-80.47235,43.44127],[-80.47258,43.44139],[-80.47476,43.4423],[-80.47496,43.44237],[-80.47516,43.44239],[-80.47535,43.44243],[-80.4754,43.44244],[-80.4758,43.44252],[-80.47641,43.44264],[-80.47675,43.44272],[-80.47708,43.44286],[-80.47716,43.44294],[-80.47776,43.44348],[-80.47823,43.44376],[-80.48011,43.44466],[-80.48359,43.44634],[-80.48367,43.44637],[-80.4838,43.44641],[-80.48399,43.44649],[-80.48415,43.44657],[-80.48455,43.44677],[-80.48497,43.44699],[-80.48551,43.44724],[-80.48632,43.44761],[-80.48707,43.44792],[-80.48768,43.44817],[-80.48808,43.44833],[-80.48813,43.44845],[-80.48804,43.44859],[-80.48775,43.44895],[-80.48752,43.44936],[-80.4875,43.4494],[-80.48744,43.44951],[-80.48736,43.44963],[-80.48721,43.44984],[-80.48697,43.4502],[-80.48695,43.45029],[-80.48699,43.45035],[-80.48712,43.45042],[-80.48818,43.45085],[-80.4893,43.45129],[-80.49065,43.45184],[-80.49085,43.45192],[-80.4912,43.45208],[-80.49133,43.45212],[-80.4915,43.45219],[-80.49192,43.4523],[-80.49229,43.45236],[-80.4927,43.4524],[-80.49309,43.45246],[-80.49344,43.45257],[-80.49389,43.45272],[-80.49412,43.45279],[-80.49446,43.4529],[-80.49481,43.45302],[-80.49504,43.45313],[-80.49521,43.45316],[-80.49521,43.45316],[-80.49534,43.45312],[-80.49578,43.45297],[-80.496,43.45283],[-80.49613,43.45271],[-80.49627,43.45249],[-80.49638,43.45238],[-80.49656,43.45239],[-80.49677,43.45245],[-80.49762,43.45271],[-80.49857,43.45302],[-80.4988,43.45312],[-80.49908,43.45321],[-80.4992,43.45326],[-80.49954,43.45333],[-80.49977,43.45339],[-80.49993,43.45344],[-80.50056,43.45364],[-80.50117,43.45383],[-80.50193,43.45407],[-80.50282,43.45435],[-80.5032,43.45447],[-80.50385,43.45467],[-80.50484,43.45499],[-80.50554,43.45521],[-80.50629,43.45544],[-80.50679,43.45561],[-80.50679,43.45561],[-80.50744,43.45582],[-80.50786,43.45596],[-80.50855,43.45619],[-80.5095,43.4565],[-80.51003,43.45668],[-80.5109,43.45696],[-80.5111,43.45701],[-80.51118,43.45705],[-80.51136,43.45712],[-80.51201,43.45733],[-80.51211,43.45736],[-80.51241,43.45748],[-80.51346,43.45783],[-80.51426,43.45808],[-80.51484,43.45826],[-80.51532,43.4584],[-80.51569,43.45855],[-80.51654,43.4588],[-80.51716,43.45918],[-80.5178,43.45955],[-80.51834,43.45985],[-80.51845,43.45991],[-80.51883,43.46011],[-80.51894,43.46019],[-80.51908,43.46026],[-80.51916,43.46031],[-80.51956,43.46055],[-80.5197,43.46063],[-80.52,43.4608],[-80.5203,43.46098],[-80.52064,43.46117],[-80.52107,43.46143],[-80.52119,43.46151],[-80.5213,43.46157],[-80.52137,43.46168],[-80.52142,43.46181],[-80.52148,43.46203],[-80.52156,43.4623],[-80.5216,43.46244],[-80.52169,43.4628],[-80.52175,43.46302],[-80.52185,43.46336],[-80.52188,43.46347],[-80.52198,43.46385],[-80.52206,43.46418],[-80.52211,43.46422],[-80.52229,43.46425],[-80.52247,43.46426],[-80.52278,43.46428],[-80.52298,43.46429],[-80.52434,43.46437],[-80.52508,43.46435],[-80.52542,43.46438],[-80.5257,43.46443],[-80.52634,43.46456],[-80.52734,43.46479],[-80.52784,43.46489],[-80.52844,43.46507],[-80.5288,43.46517],[-80.52922,43.46531],[-80.52987,43.46563],[-80.53056,43.46597],[-80.53084,43.46614],[-80.53128,43.46648],[-80.53189,43.46699],[-80.53227,43.46729],[-80.53286,43.46777],[-80.53366,43.46843],[-80.53433,43.46887],[-80.53438,43.4689],[-80.53456,43.469],[-80.53485,43.4692],[-80.53508,43.46933],[-80.53561,43.46963],[-80.53595,43.4698],[-80.53654,43.47013],[-80.53722,43.47055],[-80.53773,43.47085],[-80.53803,43.47101],[-80.53803,43.47102],[-80.53846,43.47124],[-80.53907,43.47163],[-80.53941,43.47183],[-80.53983,43.47216],[-80.54028,43.47247],[-80.54074,43.47284],[-80.54109,43.4732],[-80.54127,43.47342],[-80.54156,43.47383],[-80.54171,43.47409],[-80.54227,43.47516],[-80.54277,43.47618],[-80.54329,43.47736],[-80.54441,43.47979],[-80.54478,43.48057],[-80.5451,43.48159],[-80.54511,43.48161],[-80.54511,43.48162],[-80.54521,43.48184],[-80.54531,43.48218],[-80.54529,43.48231],[-80.54521,43.48274],[-80.54498,43.48367],[-80.54476,43.48452],[-80.54448,43.4854],[-80.54435,43.48583],[-80.54413,43.48648],[-80.54401,43.48674],[-80.54356,43.48736],[-80.54315,43.48798],[-80.54285,43.48842],[-80.54254,43.48899],[-80.5422,43.48963],[-80.54211,43.48993],[-80.54199,43.49051],[-80.54179,43.49151],[-80.54179,43.49205],[-80.54188,43.49275],[-80.542,43.49354],[-80.54215,43.49413],[-80.54221,43.49441],[-80.54225,43.4946],[-80.54238,43.49517],[-80.54249,43.49574],[-80.54273,43.49631],[-80.54303,43.49699],[-80.54314,43.49722],[-80.54314,43.49722],[-80.54323,43.49745],[-80.54331,43.49779],[-80.54331,43.49791],[-80.54326,43.49806],[-80.54297,43.49819],[-80.54191,43.49856],[-80.54119,43.49879],[-80.54024,43.49913],[-80.53914,43.49954],[-80.53876,43.49968],[-80.53793,43.5],[-80.53711,43.50029],[-80.53581,43.50075],[-80.53505,43.50104],[-80.53463,43.5012],[-80.53376,43.50152],[-80.53356,43.50158],[-80.5334,43.50158],[-80.53328,43.50156],[-80.53301,43.50133],[-80.53216,43.50059],[-80.5315,43.5],[-80.53106,43.4996],[-80.53063,43.4992],[-80.53047,43.49909],[-80.53033,43.49906],[-80.53013,43.49893],[-80.52995,43.49874],[-80.52975,43.49851],[-80.52968,43.49842],[-80.52965,43.49837],[-80.52958,43.49828]],[[-80.47462,43.4422],[-80.47459,43.4419],[-80.47526,43.44116],[-80.47728,43.43937],[-80.48076,43.43636],[-80.48095,43.43597],[-80.47825,43.43399]],[[-80.49824,43.45283],[-80.49864,43.45196],[-80.49439,43.45041],[-80.49118,43.44945],[-80.48967,43.44876],[-80.48815,43.44827]],[[-80.52546,43.46433],[-80.52492,43.46396],[-80.52343,43.46213],[-80.52309,43.46166],[-80.52269,43.4612],[-80.52159,43.4605],[-80.52042,43.45982],[-80.51989,43.45956],[-80.51915,43.46023]]]}}],qp={type:Op,name:Vp,crs:jp,features:Gp},Zp="FeatureCollection",Wp="transit-stops-canada",Hp={type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},Xp=[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-113.4923,53.541]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-113.4988,53.54089]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-113.50454,53.54088]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-113.51678,53.48576]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-113.41142,53.60177]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-113.52842,53.50287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-113.52619,53.51308]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-113.43296,53.58829]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-113.45838,53.57068]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-113.49879,53.54773]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-113.52225,53.52485]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-113.48901,53.54396]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-113.52589,53.52006]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-113.47071,53.55995]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-113.51027,53.53624]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-113.51633,53.45731]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-113.50097,53.5577]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-113.50584,53.56598]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.5467,45.57684]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.53544,45.59641]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.53979,45.58965]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.54316,45.58273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.54673,45.56939]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.56667,45.5]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.56667,45.5]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.57081,45.49477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.57081,45.49477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.6031,45.47377]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.6031,45.47377]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.64174,45.45368]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.64174,45.45368]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.71133,45.44869]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.71133,45.44869]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.74311,45.44921]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.74311,45.44921]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.76426,45.4496]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.76426,45.4496]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.79087,45.44975]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.79087,45.44975]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.80344,45.44726]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.80344,45.44726]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.81988,45.44242]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.81988,45.44242]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.84739,45.43498]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.84739,45.43498]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.88726,45.4274]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.88726,45.4274]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.91556,45.41992]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.91556,45.41992]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.95122,45.40761]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.95122,45.40761]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.96543,45.39593]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.96543,45.39593]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.99227,45.38718]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.99227,45.38718]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.00826,45.3864]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.00826,45.3864]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.05056,45.39901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.05056,45.39901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.14094,45.45964]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.14094,45.45964]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.62378,45.53149]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.62378,45.53149]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.65803,45.53706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.65803,45.53706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.6769,45.54025]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.6769,45.54025]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.7101,45.56029]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.7101,45.56029]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.74266,45.60377]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.74266,45.60377]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.76475,45.62544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.76475,45.62544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.79574,45.6345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.79574,45.6345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.83355,45.63604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.83355,45.63604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.86616,45.67243]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.86616,45.67243]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.91855,45.71171]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.91855,45.71171]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.99912,45.77319]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.99912,45.77319]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.50582,45.49963]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.50582,45.49963]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.43382,45.50814]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.43382,45.50814]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.37441,45.51203]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.37441,45.51203]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.30592,45.52331]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.30592,45.52331]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.22978,45.54605]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.22978,45.54605]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.1785,45.5772]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.1785,45.5772]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.65589,45.43765]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.65589,45.43765]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.65698,45.42522]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.65698,45.42522]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.6001,45.38204]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.6001,45.38204]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.5703,45.37395]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.5703,45.37395]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.5408,45.36684]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.5408,45.36684]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.5148,45.36066]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.5148,45.36066]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.66266,45.53503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.66266,45.53503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.65434,45.54941]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.65434,45.54941]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.63026,45.58299]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.63026,45.58299]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.61578,45.60034]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.61578,45.60034]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.59666,45.61787]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.59666,45.61787]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.53917,45.66066]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.53917,45.66066]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.50534,45.67488]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.50534,45.67488]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.48611,45.73459]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.48611,45.73459]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.52119,45.7285]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.52119,45.7285]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.59849,45.72959]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.59849,45.72959]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.53628,43.63694]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.5246,43.64533]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.51129,43.64812]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.49509,43.65008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.48446,43.6498]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.47621,43.65166]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.46622,43.65406]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.45985,43.65548]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.45241,43.65718]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.44262,43.65913]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.43549,43.66025]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.42594,43.66242]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.41835,43.66408]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.41149,43.66573]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.39931,43.66828]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.38987,43.67022]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.38572,43.671]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.37685,43.67236]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.3685,43.67387]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.35879,43.67684]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.35226,43.67835]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.34518,43.67974]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.33778,43.68118]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.33029,43.68281]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.3231,43.68433]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.31299,43.68655]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.30202,43.68898]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.28945,43.69462]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.2792,43.71119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.26453,43.73227]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.37914,43.64602]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.3848,43.64766]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.37791,43.64915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.38662,43.65086]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.37926,43.65244]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.38831,43.65479]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.38091,43.65633]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.39047,43.65986]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.38314,43.66145]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.38353,43.66527]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.39357,43.66737]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.38852,43.6771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.39125,43.68334]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.3934,43.6883]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.39727,43.69799]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.39844,43.70673]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.40218,43.72496]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.4062,43.74427]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.41092,43.76152]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.41278,43.76884]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.41557,43.77977]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.40476,43.66896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.40711,43.67486]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.41534,43.68382]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.43599,43.69884]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.44118,43.70954]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.44419,43.71606]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.44787,43.72562]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.44992,43.73409]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.46248,43.75044]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.38776,43.76666]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.37665,43.76919]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.36814,43.77102]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.34698,43.77514]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.26453,43.73227]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.27005,43.7505]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.27614,43.76687]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.27199,43.77046]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.25786,43.77445]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.2516,43.77491]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.46248,43.75044]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.47833,43.75361]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.49099,43.76349]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.49964,43.77413]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.51164,43.77752]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.52324,43.78356]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.52727,43.79351]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.51107,43.69916]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.45193,43.65903]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.37866,43.64495]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.61319,43.68277]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.41092,43.76152]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.40397,43.66729]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.39931,43.66828]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.38572,43.671]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.04228,43.84806]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.93822,43.86481]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.88506,43.87075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.0846,43.83162]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.29905,43.68665]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.25483,43.71726]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.23061,43.74041]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.19809,43.75498]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.13066,43.7797]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.36548,43.76657]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.37136,43.79262]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.42245,43.83735]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.42626,43.87369]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.23242,43.99848]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.25006,43.97225]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.26311,43.89935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.26279,43.88235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.28858,43.87392]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.31483,43.85093]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.30146,43.82305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.28437,43.7864]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.26453,43.73227]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-80.24579,43.54513]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-80.49329,43.45587]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-80.03419,43.6339]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.69135,43.70161]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.76382,43.68699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.82243,43.67514]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.91822,43.65568]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.48339,43.77887]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.49811,43.8375]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.5072,43.85959]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.52674,43.91915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.45956,43.99981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.45945,44.05953]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.45565,44.07926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.55603,44.11718]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.62717,44.35117]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.68687,44.37338]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.51107,43.69916]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.56186,43.70637]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.63803,43.70488]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.45193,43.65903]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.5376,43.63542]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.577,43.60805]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.62354,43.58346]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.66858,43.56689]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.70905,43.57612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.75346,43.59761]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.78893,43.59]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.86618,43.52369]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.86872,43.25296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.37866,43.64495]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.41903,43.63602]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.49681,43.61668]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.54497,43.59218]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.58715,43.55602]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.63462,43.51236]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.68246,43.4549]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.72258,43.41642]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.76087,43.37965]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.80905,43.34118]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.85446,43.31324]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.06306,43.109]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.25582,43.14754]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.8648,43.26646]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.39838,43.94003]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-79.47833,43.75361]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.57981,45.49535]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.56834,45.50804]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.56482,45.51092]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.58631,45.48968]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.55719,45.51955]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.55113,45.54689]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.58198,45.45675]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.5515,45.5542]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.60361,45.44623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.61489,45.52011]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.57184,45.45931]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.5799,45.48272]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.57095,45.49501]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.52193,45.52493]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.62349,45.49665]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.56108,45.51511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.53313,45.51245]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.61973,45.4796]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.62769,45.48644]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.54731,45.56111]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.5932,45.45104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.56696,45.46287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.56937,45.47825]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.55424,45.54173]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.57155,45.50411]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.59996,45.55975]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.60241,45.55317]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.6078,45.54675]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.61342,45.53918]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.62011,45.53526]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.62452,45.53042]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.62375,45.52322]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.61256,45.51012]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.61758,45.50344]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.68328,45.51429]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.67283,45.50846]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.66176,45.50038]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.6529,45.49494]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.63794,45.49437]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.63286,45.49237]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.60378,45.47385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.58657,45.47718]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.57647,45.48895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.56696,45.49819]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.56311,45.50209]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.55961,45.50609]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.55649,45.51014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.56805,45.51872]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.58165,45.5246]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.58838,45.52808]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.59734,45.5315]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.60462,45.53512]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.62853,45.54336]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.63884,45.54614]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.65642,45.55108]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.66825,45.55451]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.70974,45.56085]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.55153,45.5542]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.55101,45.54693]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.55247,45.53299]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.55292,45.52407]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.56481,45.51088]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.56832,45.50803]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.57509,45.50061]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.57984,45.49537]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.58634,45.48979]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.56613,45.47081]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.57201,45.45929]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.58197,45.45691]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.60358,45.44622]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.72152,45.55835]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.6818,45.56022]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.53821,45.47033]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.5588,45.49627]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.43361,45.44692]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.43012,45.4382]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.4698,45.46494]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.56694,45.50004]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.09913,51.04482]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.13636,51.0402]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-113.98173,51.07586]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.07452,50.95432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.07656,50.96357]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.08725,51.04723]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.1318,51.08705]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.07743,51.04699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.057,51.04638]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.09131,51.06313]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.16053,51.10328]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.18761,51.03765]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.16904,51.03838]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.07996,51.04692]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.05831,51.03858]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.04038,51.04905]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.06581,50.99681]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.07508,51.04677]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-113.9939,51.04753]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.02486,51.04737]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.12501,51.04168]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.06138,51.01757]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.07427,50.97799]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.057,51.04621]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.07306,50.92316]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-113.98174,51.08596]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.06409,51.04658]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.0589,51.03206]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.11556,51.07095]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.15419,51.03796]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.20655,51.12243]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-113.9679,51.11771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.07057,50.91057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.06979,50.93592]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.06167,51.04637]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.08439,51.05626]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.12291,51.08]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.07267,51.04684]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.069,50.89909]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-113.98172,51.05843]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.00661,51.0455]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-113.94815,51.12571]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.10359,51.06504]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.08724,51.04713]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-113.97565,51.10922]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.23556,51.13447]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.06926,51.04661]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-75.73525,45.40371]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-75.72221,45.40929]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-75.71346,45.41361]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-75.70452,45.41894]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-75.69908,45.42127]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-75.69145,45.42631]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-75.68237,45.42055]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-75.67064,45.41639]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-75.66425,45.41235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-75.65346,45.41685]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-75.6374,45.42064]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-75.62631,45.42264]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-75.60866,45.43081]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-122.82799,49.27719]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.01342,49.265]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.03168,49.23837]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.13647,49.17457]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.1157,49.26656]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.0331,49.26071]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.11451,49.26284]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-122.84473,49.18278]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.11609,49.22627]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-122.91274,49.20137]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.14647,49.19667]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.13632,49.18398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.06881,49.2624]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.11697,49.20964]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.17835,49.19424]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-122.87413,49.20443]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-122.98842,49.22007]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.00172,49.2664]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-122.91815,49.25342]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.05602,49.24837]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.15794,49.19302]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-122.79402,49.28037]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.01279,49.22983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-122.84551,49.27794]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.10931,49.2794]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.11662,49.23316]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-122.89685,49.24846]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.04592,49.24421]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-122.88994,49.26133]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-122.93927,49.25461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.11604,49.28323]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.11863,49.28247]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-122.90613,49.20482]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-122.95923,49.21213]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-122.96406,49.25919]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.04526,49.25895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.00389,49.22585]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.13627,49.16811]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-122.85061,49.19911]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-122.88278,49.23311]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-122.94902,49.20006]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-122.80091,49.27489]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.1219,49.27454]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-122.88952,49.22454]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.11583,49.24918]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.11288,49.28586]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-122.98195,49.26472]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.07914,49.26583]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-122.84788,49.18951]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.10044,49.27315]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-122.79174,49.28547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.12594,49.19561]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.11982,49.28564]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-80.53467,43.46901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-80.54128,43.47336]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-80.54514,43.48144]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-80.46299,43.42275]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-80.44192,43.42232]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-80.47805,43.43374]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-80.54327,43.49732]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-80.51852,43.45993]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-80.51185,43.45723]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-80.52273,43.46418]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-80.52345,43.46225]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-80.52954,43.49834]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-80.49896,43.45314]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-80.49107,43.45204]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-80.4935,43.45013]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-80.48954,43.44867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-80.4874,43.44956]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-80.48374,43.44636]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-80.47512,43.44235]}}],Yp={type:Zp,name:Wp,crs:Hp,features:Xp},Kp="FeatureCollection",Jp="csd-2021-centroids",$p={type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},Qp=[{type:"Feature",properties:{CMAUID:"001",CSDUID:"1001519",CSDNAME:"St. John's"},geometry:{type:"Point",coordinates:[-52.797,47.482]}},{type:"Feature",properties:{CMAUID:"001",CSDUID:"1001472",CSDNAME:"Holyrood"},geometry:{type:"Point",coordinates:[-53.153,47.345]}},{type:"Feature",properties:{CMAUID:"001",CSDUID:"1001485",CSDNAME:"Conception Bay South"},geometry:{type:"Point",coordinates:[-52.996,47.49]}},{type:"Feature",properties:{CMAUID:"001",CSDUID:"1001517",CSDNAME:"Paradise"},geometry:{type:"Point",coordinates:[-52.884,47.534]}},{type:"Feature",properties:{CMAUID:"001",CSDUID:"1001542",CSDNAME:"Mount Pearl"},geometry:{type:"Point",coordinates:[-52.812,47.52]}},{type:"Feature",properties:{CMAUID:"001",CSDUID:"1001551",CSDNAME:"Petty Harbour-Maddox Cove"},geometry:{type:"Point",coordinates:[-52.707,47.473]}},{type:"Feature",properties:{CMAUID:"001",CSDUID:"1001557",CSDNAME:"Bay Bulls"},geometry:{type:"Point",coordinates:[-52.794,47.325]}},{type:"Feature",properties:{CMAUID:"001",CSDUID:"1001559",CSDNAME:"Witless Bay"},geometry:{type:"Point",coordinates:[-52.82,47.281]}},{type:"Feature",properties:{CMAUID:"001",CSDUID:"1001504",CSDNAME:"Portugal Cove-St. Philip's"},geometry:{type:"Point",coordinates:[-52.838,47.625]}},{type:"Feature",properties:{CMAUID:"001",CSDUID:"1001509",CSDNAME:"Torbay"},geometry:{type:"Point",coordinates:[-52.753,47.66]}},{type:"Feature",properties:{CMAUID:"001",CSDUID:"1001511",CSDNAME:"Logy Bay-Middle Cove-Outer Cove"},geometry:{type:"Point",coordinates:[-52.687,47.637]}},{type:"Feature",properties:{CMAUID:"001",CSDUID:"1001512",CSDNAME:"Bauline"},geometry:{type:"Point",coordinates:[-52.82,47.701]}},{type:"Feature",properties:{CMAUID:"001",CSDUID:"1001505",CSDNAME:"Pouch Cove"},geometry:{type:"Point",coordinates:[-52.778,47.747]}},{type:"Feature",properties:{CMAUID:"001",CSDUID:"1001507",CSDNAME:"Flatrock"},geometry:{type:"Point",coordinates:[-52.731,47.705]}},{type:"Feature",properties:{CMAUID:"205",CSDUID:"1208008",CSDNAME:"East Hants"},geometry:{type:"Point",coordinates:[-63.701,45.099]}},{type:"Feature",properties:{CMAUID:"205",CSDUID:"1208014",CSDNAME:"Indian Brook 14"},geometry:{type:"Point",coordinates:[-63.489,45.089]}},{type:"Feature",properties:{CMAUID:"205",CSDUID:"1209034",CSDNAME:"Halifax"},geometry:{type:"Point",coordinates:[-63.148,44.866]}},{type:"Feature",properties:{CMAUID:"205",CSDUID:"1209038",CSDNAME:"Sheet Harbour 36"},geometry:{type:"Point",coordinates:[-62.549,44.914]}},{type:"Feature",properties:{CMAUID:"205",CSDUID:"1209037",CSDNAME:"Beaver Lake 17"},geometry:{type:"Point",coordinates:[-62.761,45.023]}},{type:"Feature",properties:{CMAUID:"205",CSDUID:"1209800",CSDNAME:"Wallace Hills 14A"},geometry:{type:"Point",coordinates:[-63.797,44.732]}},{type:"Feature",properties:{CMAUID:"205",CSDUID:"1209019",CSDNAME:"Cole Harbour 30"},geometry:{type:"Point",coordinates:[-63.483,44.65]}},{type:"Feature",properties:{CMAUID:"310",CSDUID:"1301006",CSDNAME:"Saint John"},geometry:{type:"Point",coordinates:[-66.059,45.276]}},{type:"Feature",properties:{CMAUID:"310",CSDUID:"1301001",CSDNAME:"Saint Martins"},geometry:{type:"Point",coordinates:[-65.439,45.456]}},{type:"Feature",properties:{CMAUID:"310",CSDUID:"1301002",CSDNAME:"St. Martins"},geometry:{type:"Point",coordinates:[-65.548,45.351]}},{type:"Feature",properties:{CMAUID:"310",CSDUID:"1301004",CSDNAME:"Simonds"},geometry:{type:"Point",coordinates:[-65.803,45.315]}},{type:"Feature",properties:{CMAUID:"310",CSDUID:"1301016",CSDNAME:"Musquash"},geometry:{type:"Point",coordinates:[-66.356,45.184]}},{type:"Feature",properties:{CMAUID:"310",CSDUID:"1302008",CSDNAME:"Lepreau"},geometry:{type:"Point",coordinates:[-66.525,45.218]}},{type:"Feature",properties:{CMAUID:"320",CSDUID:"1303016",CSDNAME:"Maugerville"},geometry:{type:"Point",coordinates:[-66.286,46.13]}},{type:"Feature",properties:{CMAUID:"320",CSDUID:"1303008",CSDNAME:"Lincoln"},geometry:{type:"Point",coordinates:[-66.596,45.813]}},{type:"Feature",properties:{CMAUID:"320",CSDUID:"1303005",CSDNAME:"Tracy"},geometry:{type:"Point",coordinates:[-66.684,45.675]}},{type:"Feature",properties:{CMAUID:"320",CSDUID:"1303004",CSDNAME:"Gladstone"},geometry:{type:"Point",coordinates:[-66.74,45.62]}},{type:"Feature",properties:{CMAUID:"310",CSDUID:"1304001",CSDNAME:"Petersville"},geometry:{type:"Point",coordinates:[-66.366,45.522]}},{type:"Feature",properties:{CMAUID:"310",CSDUID:"1305016",CSDNAME:"Norton"},geometry:{type:"Point",coordinates:[-65.776,45.578]}},{type:"Feature",properties:{CMAUID:"310",CSDUID:"1305004",CSDNAME:"Upham"},geometry:{type:"Point",coordinates:[-65.662,45.508]}},{type:"Feature",properties:{CMAUID:"310",CSDUID:"1305006",CSDNAME:"Hampton"},geometry:{type:"Point",coordinates:[-65.826,45.468]}},{type:"Feature",properties:{CMAUID:"310",CSDUID:"1305057",CSDNAME:"Quispamsis"},geometry:{type:"Point",coordinates:[-65.935,45.434]}},{type:"Feature",properties:{CMAUID:"310",CSDUID:"1305045",CSDNAME:"Rothesay"},geometry:{type:"Point",coordinates:[-65.97,45.383]}},{type:"Feature",properties:{CMAUID:"310",CSDUID:"1305008",CSDNAME:"Rothesay"},geometry:{type:"Point",coordinates:[-65.878,45.4]}},{type:"Feature",properties:{CMAUID:"310",CSDUID:"1305014",CSDNAME:"Kingston"},geometry:{type:"Point",coordinates:[-66.022,45.466]}},{type:"Feature",properties:{CMAUID:"310",CSDUID:"1305011",CSDNAME:"Westfield"},geometry:{type:"Point",coordinates:[-66.286,45.343]}},{type:"Feature",properties:{CMAUID:"310",CSDUID:"1305015",CSDNAME:"Grand Bay-Westfield"},geometry:{type:"Point",coordinates:[-66.249,45.337]}},{type:"Feature",properties:{CMAUID:"310",CSDUID:"1305038",CSDNAME:"Greenwich"},geometry:{type:"Point",coordinates:[-66.123,45.511]}},{type:"Feature",properties:{CMAUID:"310",CSDUID:"1305007",CSDNAME:"Hampton"},geometry:{type:"Point",coordinates:[-65.843,45.525]}},{type:"Feature",properties:{CMAUID:"305",CSDUID:"1306020",CSDNAME:"Riverview"},geometry:{type:"Point",coordinates:[-64.812,46.051]}},{type:"Feature",properties:{CMAUID:"305",CSDUID:"1306014",CSDNAME:"Coverdale"},geometry:{type:"Point",coordinates:[-64.888,46]}},{type:"Feature",properties:{CMAUID:"305",CSDUID:"1306011",CSDNAME:"Hillsborough"},geometry:{type:"Point",coordinates:[-64.771,45.904]}},{type:"Feature",properties:{CMAUID:"305",CSDUID:"1306025",CSDNAME:"Hillsborough"},geometry:{type:"Point",coordinates:[-64.651,45.921]}},{type:"Feature",properties:{CMAUID:"305",CSDUID:"1306001",CSDNAME:"Hopewell"},geometry:{type:"Point",coordinates:[-64.685,45.805]}},{type:"Feature",properties:{CMAUID:"305",CSDUID:"1306008",CSDNAME:"Elgin"},geometry:{type:"Point",coordinates:[-65.033,45.806]}},{type:"Feature",properties:{CMAUID:"305",CSDUID:"1307022",CSDNAME:"Moncton"},geometry:{type:"Point",coordinates:[-64.813,46.118]}},{type:"Feature",properties:{CMAUID:"305",CSDUID:"1307045",CSDNAME:"Dieppe"},geometry:{type:"Point",coordinates:[-64.668,46.102]}},{type:"Feature",properties:{CMAUID:"305",CSDUID:"1307019",CSDNAME:"Moncton"},geometry:{type:"Point",coordinates:[-64.902,46.176]}},{type:"Feature",properties:{CMAUID:"305",CSDUID:"1307028",CSDNAME:"Salisbury"},geometry:{type:"Point",coordinates:[-65.048,46.038]}},{type:"Feature",properties:{CMAUID:"305",CSDUID:"1307011",CSDNAME:"Dorchester"},geometry:{type:"Point",coordinates:[-64.531,45.96]}},{type:"Feature",properties:{CMAUID:"305",CSDUID:"1307013",CSDNAME:"Memramcook"},geometry:{type:"Point",coordinates:[-64.588,45.996]}},{type:"Feature",properties:{CMAUID:"305",CSDUID:"1307014",CSDNAME:"Fort Folly 1"},geometry:{type:"Point",coordinates:[-64.497,45.891]}},{type:"Feature",properties:{CMAUID:"305",CSDUID:"1307012",CSDNAME:"Dorchester"},geometry:{type:"Point",coordinates:[-64.512,45.904]}},{type:"Feature",properties:{CMAUID:"305",CSDUID:"1308008",CSDNAME:"Saint-Paul"},geometry:{type:"Point",coordinates:[-65.009,46.331]}},{type:"Feature",properties:{CMAUID:"320",CSDUID:"1310031",CSDNAME:"Saint Marys"},geometry:{type:"Point",coordinates:[-66.49,46.175]}},{type:"Feature",properties:{CMAUID:"320",CSDUID:"1310032",CSDNAME:"Fredericton"},geometry:{type:"Point",coordinates:[-66.644,45.956]}},{type:"Feature",properties:{CMAUID:"320",CSDUID:"1310034",CSDNAME:"Devon 30"},geometry:{type:"Point",coordinates:[-66.606,46.009]}},{type:"Feature",properties:{CMAUID:"320",CSDUID:"1310017",CSDNAME:"Hanwell"},geometry:{type:"Point",coordinates:[-66.802,45.853]}},{type:"Feature",properties:{CMAUID:"320",CSDUID:"1310001",CSDNAME:"New Maryland"},geometry:{type:"Point",coordinates:[-66.835,45.688]}},{type:"Feature",properties:{CMAUID:"320",CSDUID:"1310002",CSDNAME:"New Maryland"},geometry:{type:"Point",coordinates:[-66.68,45.887]}},{type:"Feature",properties:{CMAUID:"320",CSDUID:"1310004",CSDNAME:"Manners Sutton"},geometry:{type:"Point",coordinates:[-67.061,45.642]}},{type:"Feature",properties:{CMAUID:"320",CSDUID:"1310005",CSDNAME:"Harvey"},geometry:{type:"Point",coordinates:[-67.006,45.729]}},{type:"Feature",properties:{CMAUID:"320",CSDUID:"1310016",CSDNAME:"Prince William"},geometry:{type:"Point",coordinates:[-67.111,45.785]}},{type:"Feature",properties:{CMAUID:"320",CSDUID:"1310021",CSDNAME:"Queensbury"},geometry:{type:"Point",coordinates:[-67.063,45.992]}},{type:"Feature",properties:{CMAUID:"320",CSDUID:"1310026",CSDNAME:"Bright"},geometry:{type:"Point",coordinates:[-67.055,46.121]}},{type:"Feature",properties:{CMAUID:"320",CSDUID:"1310028",CSDNAME:"Douglas"},geometry:{type:"Point",coordinates:[-66.942,46.282]}},{type:"Feature",properties:{CMAUID:"320",CSDUID:"1310019",CSDNAME:"Kingsclear 6"},geometry:{type:"Point",coordinates:[-66.836,45.928]}},{type:"Feature",properties:{CMAUID:"320",CSDUID:"1310018",CSDNAME:"Kingsclear"},geometry:{type:"Point",coordinates:[-66.87,45.879]}},{type:"Feature",properties:{CMAUID:"421",CSDUID:"2419105",CSDNAME:"Beaumont"},geometry:{type:"Point",coordinates:[-70.985,46.818]}},{type:"Feature",properties:{CMAUID:"421",CSDUID:"2419068",CSDNAME:"Saint-Henri"},geometry:{type:"Point",coordinates:[-71.057,46.688]}},{type:"Feature",properties:{CMAUID:"421",CSDUID:"2420005",CSDNAME:"Saint-François-de-l'Île-d'Orléans"},geometry:{type:"Point",coordinates:[-70.835,47.001]}},{type:"Feature",properties:{CMAUID:"421",CSDUID:"2420010",CSDNAME:"Sainte-Famille-de-l'Île-d'Orléans"},geometry:{type:"Point",coordinates:[-70.95,46.96]}},{type:"Feature",properties:{CMAUID:"421",CSDUID:"2420015",CSDNAME:"Saint-Jean-de-l'Île-d'Orléans"},geometry:{type:"Point",coordinates:[-70.909,46.938]}},{type:"Feature",properties:{CMAUID:"421",CSDUID:"2420020",CSDNAME:"Saint-Laurent-de-l'Île-d'Orléans"},geometry:{type:"Point",coordinates:[-71.022,46.878]}},{type:"Feature",properties:{CMAUID:"421",CSDUID:"2420025",CSDNAME:"Saint-Pierre-de-l'Île-d'Orléans"},geometry:{type:"Point",coordinates:[-71.06,46.895]}},{type:"Feature",properties:{CMAUID:"421",CSDUID:"2420030",CSDNAME:"Sainte-Pétronille"},geometry:{type:"Point",coordinates:[-71.121,46.855]}},{type:"Feature",properties:{CMAUID:"421",CSDUID:"2421035",CSDNAME:"Château-Richer"},geometry:{type:"Point",coordinates:[-71.097,47.066]}},{type:"Feature",properties:{CMAUID:"421",CSDUID:"2421040",CSDNAME:"L'Ange-Gardien"},geometry:{type:"Point",coordinates:[-71.13,46.951]}},{type:"Feature",properties:{CMAUID:"421",CSDUID:"2421045",CSDNAME:"Boischatel"},geometry:{type:"Point",coordinates:[-71.153,46.918]}},{type:"Feature",properties:{CMAUID:"421",CSDUID:"2422035",CSDNAME:"Stoneham-et-Tewkesbury"},geometry:{type:"Point",coordinates:[-71.406,47.133]}},{type:"Feature",properties:{CMAUID:"421",CSDUID:"2422025",CSDNAME:"Saint-Gabriel-de-Valcartier"},geometry:{type:"Point",coordinates:[-71.594,47.043]}},{type:"Feature",properties:{CMAUID:"421",CSDUID:"2422030",CSDNAME:"Lac-Delage"},geometry:{type:"Point",coordinates:[-71.404,46.968]}},{type:"Feature",properties:{CMAUID:"421",CSDUID:"2422040",CSDNAME:"Lac-Beauport"},geometry:{type:"Point",coordinates:[-71.295,46.98]}},{type:"Feature",properties:{CMAUID:"421",CSDUID:"2422045",CSDNAME:"Sainte-Brigitte-de-Laval"},geometry:{type:"Point",coordinates:[-71.175,47.03]}},{type:"Feature",properties:{CMAUID:"421",CSDUID:"2422015",CSDNAME:"Lac-Saint-Joseph"},geometry:{type:"Point",coordinates:[-71.649,46.923]}},{type:"Feature",properties:{CMAUID:"421",CSDUID:"2422010",CSDNAME:"Fossambault-sur-le-Lac"},geometry:{type:"Point",coordinates:[-71.609,46.884]}},{type:"Feature",properties:{CMAUID:"421",CSDUID:"2422005",CSDNAME:"Sainte-Catherine-de-la-Jacques-Cartier"},geometry:{type:"Point",coordinates:[-71.62,46.847]}},{type:"Feature",properties:{CMAUID:"421",CSDUID:"2422020",CSDNAME:"Shannon"},geometry:{type:"Point",coordinates:[-71.571,46.914]}},{type:"Feature",properties:{CMAUID:"421",CSDUID:"2423027",CSDNAME:"Québec"},geometry:{type:"Point",coordinates:[-71.335,46.855]}},{type:"Feature",properties:{CMAUID:"421",CSDUID:"2423057",CSDNAME:"L'Ancienne-Lorette"},geometry:{type:"Point",coordinates:[-71.356,46.804]}},{type:"Feature",properties:{CMAUID:"421",CSDUID:"2423015",CSDNAME:"Notre-Dame-des-Anges"},geometry:{type:"Point",coordinates:[-71.233,46.814]}},{type:"Feature",properties:{CMAUID:"421",CSDUID:"2423072",CSDNAME:"Saint-Augustin-de-Desmaures"},geometry:{type:"Point",coordinates:[-71.493,46.756]}},{type:"Feature",properties:{CMAUID:"421",CSDUID:"2423802",CSDNAME:"Wendake"},geometry:{type:"Point",coordinates:[-71.363,46.869]}},{type:"Feature",properties:{CMAUID:"421",CSDUID:"2425213",CSDNAME:"Lévis"},geometry:{type:"Point",coordinates:[-71.236,46.707]}},{type:"Feature",properties:{CMAUID:"421",CSDUID:"2426070",CSDNAME:"Saint-Lambert-de-Lauzon"},geometry:{type:"Point",coordinates:[-71.227,46.587]}},{type:"Feature",properties:{CMAUID:"421",CSDUID:"2433095",CSDNAME:"Saint-Antoine-de-Tilly"},geometry:{type:"Point",coordinates:[-71.548,46.648]}},{type:"Feature",properties:{CMAUID:"421",CSDUID:"2433090",CSDNAME:"Saint-Apollinaire"},geometry:{type:"Point",coordinates:[-71.492,46.604]}},{type:"Feature",properties:{CMAUID:"421",CSDUID:"2434007",CSDNAME:"Neuville"},geometry:{type:"Point",coordinates:[-71.622,46.721]}},{type:"Feature",properties:{CMAUID:"442",CSDUID:"2437067",CSDNAME:"Trois-Rivières"},geometry:{type:"Point",coordinates:[-72.614,46.37]}},{type:"Feature",properties:{CMAUID:"442",CSDUID:"2437230",CSDNAME:"Saint-Maurice"},geometry:{type:"Point",coordinates:[-72.531,46.48]}},{type:"Feature",properties:{CMAUID:"442",CSDUID:"2437220",CSDNAME:"Champlain"},geometry:{type:"Point",coordinates:[-72.376,46.447]}},{type:"Feature",properties:{CMAUID:"442",CSDUID:"2437225",CSDNAME:"Saint-Luc-de-Vincennes"},geometry:{type:"Point",coordinates:[-72.428,46.49]}},{type:"Feature",properties:{CMAUID:"442",CSDUID:"2438010",CSDNAME:"Bécancour"},geometry:{type:"Point",coordinates:[-72.37,46.314]}},{type:"Feature",properties:{CMAUID:"442",CSDUID:"2438802",CSDNAME:"Wôlinak"},geometry:{type:"Point",coordinates:[-72.424,46.327]}},{type:"Feature",properties:{CMAUID:"433",CSDUID:"2441055",CSDNAME:"Ascot Corner"},geometry:{type:"Point",coordinates:[-71.761,45.452]}},{type:"Feature",properties:{CMAUID:"433",CSDUID:"2442025",CSDNAME:"Saint-Denis-de-Brompton"},geometry:{type:"Point",coordinates:[-72.092,45.441]}},{type:"Feature",properties:{CMAUID:"433",CSDUID:"2442095",CSDNAME:"Val-Joli"},geometry:{type:"Point",coordinates:[-71.968,45.577]}},{type:"Feature",properties:{CMAUID:"433",CSDUID:"2442005",CSDNAME:"Stoke"},geometry:{type:"Point",coordinates:[-71.78,45.549]}},{type:"Feature",properties:{CMAUID:"433",CSDUID:"2443027",CSDNAME:"Sherbrooke"},geometry:{type:"Point",coordinates:[-71.962,45.402]}},{type:"Feature",properties:{CMAUID:"433",CSDUID:"2444071",CSDNAME:"Compton"},geometry:{type:"Point",coordinates:[-71.821,45.226]}},{type:"Feature",properties:{CMAUID:"433",CSDUID:"2444080",CSDNAME:"Waterville"},geometry:{type:"Point",coordinates:[-71.872,45.303]}},{type:"Feature",properties:{CMAUID:"433",CSDUID:"2445115",CSDNAME:"Orford"},geometry:{type:"Point",coordinates:[-72.184,45.366]}},{type:"Feature",properties:{CMAUID:"433",CSDUID:"2445072",CSDNAME:"Magog"},geometry:{type:"Point",coordinates:[-72.157,45.237]}},{type:"Feature",properties:{CMAUID:"433",CSDUID:"2445050",CSDNAME:"North Hatley"},geometry:{type:"Point",coordinates:[-71.981,45.273]}},{type:"Feature",properties:{CMAUID:"433",CSDUID:"2445055",CSDNAME:"Hatley"},geometry:{type:"Point",coordinates:[-71.941,45.299]}},{type:"Feature",properties:{CMAUID:"450",CSDUID:"2446078",CSDNAME:"Bromont"},geometry:{type:"Point",coordinates:[-72.691,45.301]}},{type:"Feature",properties:{CMAUID:"450",CSDUID:"2447047",CSDNAME:"Roxton Pond"},geometry:{type:"Point",coordinates:[-72.637,45.478]}},{type:"Feature",properties:{CMAUID:"450",CSDUID:"2447017",CSDNAME:"Granby"},geometry:{type:"Point",coordinates:[-72.746,45.4]}},{type:"Feature",properties:{CMAUID:"450",CSDUID:"2447010",CSDNAME:"Saint-Alphonse-de-Granby"},geometry:{type:"Point",coordinates:[-72.819,45.329]}},{type:"Feature",properties:{CMAUID:"447",CSDUID:"2449058",CSDNAME:"Drummondville"},geometry:{type:"Point",coordinates:[-72.474,45.882]}},{type:"Feature",properties:{CMAUID:"447",CSDUID:"2449095",CSDNAME:"Saint-Majorique-de-Grantham"},geometry:{type:"Point",coordinates:[-72.587,45.932]}},{type:"Feature",properties:{CMAUID:"447",CSDUID:"2449040",CSDNAME:"Wickham"},geometry:{type:"Point",coordinates:[-72.498,45.764]}},{type:"Feature",properties:{CMAUID:"447",CSDUID:"2449048",CSDNAME:"Saint-Germain-de-Grantham"},geometry:{type:"Point",coordinates:[-72.593,45.83]}},{type:"Feature",properties:{CMAUID:"447",CSDUID:"2449100",CSDNAME:"Saint-Edmond-de-Grantham"},geometry:{type:"Point",coordinates:[-72.672,45.879]}},{type:"Feature",properties:{CMAUID:"447",CSDUID:"2449125",CSDNAME:"Saint-Bonaventure"},geometry:{type:"Point",coordinates:[-72.671,45.959]}},{type:"Feature",properties:{CMAUID:"447",CSDUID:"2449020",CSDNAME:"Lefebvre"},geometry:{type:"Point",coordinates:[-72.417,45.712]}},{type:"Feature",properties:{CMAUID:"447",CSDUID:"2449025",CSDNAME:"L'Avenir"},geometry:{type:"Point",coordinates:[-72.308,45.753]}},{type:"Feature",properties:{CMAUID:"447",CSDUID:"2449030",CSDNAME:"Saint-Lucien"},geometry:{type:"Point",coordinates:[-72.288,45.87]}},{type:"Feature",properties:{CMAUID:"447",CSDUID:"2449070",CSDNAME:"Saint-Cyrille-de-Wendover"},geometry:{type:"Point",coordinates:[-72.417,45.929]}},{type:"Feature",properties:{CMAUID:"447",CSDUID:"2449080",CSDNAME:"Notre-Dame-du-Bon-Conseil"},geometry:{type:"Point",coordinates:[-72.354,45.995]}},{type:"Feature",properties:{CMAUID:"447",CSDUID:"2449075",CSDNAME:"Notre-Dame-du-Bon-Conseil"},geometry:{type:"Point",coordinates:[-72.349,46.001]}},{type:"Feature",properties:{CMAUID:"442",CSDUID:"2451020",CSDNAME:"Yamachiche"},geometry:{type:"Point",coordinates:[-72.829,46.309]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2452007",CSDNAME:"Lavaltrie"},geometry:{type:"Point",coordinates:[-73.325,45.905]}},{type:"Feature",properties:{CMAUID:"452",CSDUID:"2454060",CSDNAME:"Saint-Dominique"},geometry:{type:"Point",coordinates:[-72.83,45.581]}},{type:"Feature",properties:{CMAUID:"452",CSDUID:"2454048",CSDNAME:"Saint-Hyacinthe"},geometry:{type:"Point",coordinates:[-72.939,45.636]}},{type:"Feature",properties:{CMAUID:"450",CSDUID:"2455015",CSDNAME:"Saint-Paul-d'Abbotsford"},geometry:{type:"Point",coordinates:[-72.88,45.433]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2455057",CSDNAME:"Richelieu"},geometry:{type:"Point",coordinates:[-73.227,45.409]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2455065",CSDNAME:"Saint-Mathias-sur-Richelieu"},geometry:{type:"Point",coordinates:[-73.225,45.483]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2456083",CSDNAME:"Saint-Jean-sur-Richelieu"},geometry:{type:"Point",coordinates:[-73.294,45.319]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2457040",CSDNAME:"Beloeil"},geometry:{type:"Point",coordinates:[-73.216,45.582]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2457035",CSDNAME:"Mont-Saint-Hilaire"},geometry:{type:"Point",coordinates:[-73.169,45.565]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2457030",CSDNAME:"Otterburn Park"},geometry:{type:"Point",coordinates:[-73.209,45.539]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2457025",CSDNAME:"McMasterville"},geometry:{type:"Point",coordinates:[-73.233,45.547]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2457020",CSDNAME:"Saint-Basile-le-Grand"},geometry:{type:"Point",coordinates:[-73.276,45.524]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2457005",CSDNAME:"Chambly"},geometry:{type:"Point",coordinates:[-73.287,45.431]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2457010",CSDNAME:"Carignan"},geometry:{type:"Point",coordinates:[-73.323,45.438]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2457045",CSDNAME:"Saint-Mathieu-de-Beloeil"},geometry:{type:"Point",coordinates:[-73.253,45.605]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2458227",CSDNAME:"Longueuil"},geometry:{type:"Point",coordinates:[-73.434,45.509]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2458012",CSDNAME:"Saint-Lambert"},geometry:{type:"Point",coordinates:[-73.504,45.495]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2458007",CSDNAME:"Brossard"},geometry:{type:"Point",coordinates:[-73.446,45.446]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2458037",CSDNAME:"Saint-Bruno-de-Montarville"},geometry:{type:"Point",coordinates:[-73.343,45.531]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2458033",CSDNAME:"Boucherville"},geometry:{type:"Point",coordinates:[-73.422,45.593]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2459020",CSDNAME:"Varennes"},geometry:{type:"Point",coordinates:[-73.395,45.679]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2459010",CSDNAME:"Sainte-Julie"},geometry:{type:"Point",coordinates:[-73.329,45.6]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2459015",CSDNAME:"Saint-Amable"},geometry:{type:"Point",coordinates:[-73.3,45.659]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2459025",CSDNAME:"Verchères"},geometry:{type:"Point",coordinates:[-73.328,45.746]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2460013",CSDNAME:"Repentigny"},geometry:{type:"Point",coordinates:[-73.475,45.765]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2460005",CSDNAME:"Charlemagne"},geometry:{type:"Point",coordinates:[-73.491,45.726]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2460028",CSDNAME:"L'Assomption"},geometry:{type:"Point",coordinates:[-73.427,45.857]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2460037",CSDNAME:"L'Épiphanie"},geometry:{type:"Point",coordinates:[-73.506,45.848]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2460020",CSDNAME:"Saint-Sulpice"},geometry:{type:"Point",coordinates:[-73.359,45.827]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2463035",CSDNAME:"Saint-Roch-de-l'Achigan"},geometry:{type:"Point",coordinates:[-73.608,45.845]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2463048",CSDNAME:"Saint-Lin--Laurentides"},geometry:{type:"Point",coordinates:[-73.774,45.857]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2464015",CSDNAME:"Mascouche"},geometry:{type:"Point",coordinates:[-73.611,45.766]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2464008",CSDNAME:"Terrebonne"},geometry:{type:"Point",coordinates:[-73.686,45.733]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2465005",CSDNAME:"Laval"},geometry:{type:"Point",coordinates:[-73.726,45.605]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2466023",CSDNAME:"Montréal"},geometry:{type:"Point",coordinates:[-73.648,45.532]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2466007",CSDNAME:"Montréal-Est"},geometry:{type:"Point",coordinates:[-73.529,45.629]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2466072",CSDNAME:"Mont-Royal"},geometry:{type:"Point",coordinates:[-73.652,45.51]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2466058",CSDNAME:"Côte-Saint-Luc"},geometry:{type:"Point",coordinates:[-73.668,45.469]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2466062",CSDNAME:"Hampstead"},geometry:{type:"Point",coordinates:[-73.645,45.481]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2466032",CSDNAME:"Westmount"},geometry:{type:"Point",coordinates:[-73.601,45.485]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2466047",CSDNAME:"Montréal-Ouest"},geometry:{type:"Point",coordinates:[-73.649,45.453]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2466087",CSDNAME:"Dorval"},geometry:{type:"Point",coordinates:[-73.753,45.46]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2466097",CSDNAME:"Pointe-Claire"},geometry:{type:"Point",coordinates:[-73.812,45.456]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2466102",CSDNAME:"Kirkland"},geometry:{type:"Point",coordinates:[-73.867,45.45]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2466107",CSDNAME:"Beaconsfield"},geometry:{type:"Point",coordinates:[-73.868,45.431]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2466142",CSDNAME:"Dollard-Des Ormeaux"},geometry:{type:"Point",coordinates:[-73.817,45.487]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2466112",CSDNAME:"Baie-D'Urfé"},geometry:{type:"Point",coordinates:[-73.914,45.418]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2466117",CSDNAME:"Sainte-Anne-de-Bellevue"},geometry:{type:"Point",coordinates:[-73.933,45.426]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2466127",CSDNAME:"Senneville"},geometry:{type:"Point",coordinates:[-73.955,45.433]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2466092",CSDNAME:"L'Île-Dorval"},geometry:{type:"Point",coordinates:[-73.742,45.432]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2467015",CSDNAME:"La Prairie"},geometry:{type:"Point",coordinates:[-73.442,45.399]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2467020",CSDNAME:"Candiac"},geometry:{type:"Point",coordinates:[-73.512,45.375]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2467050",CSDNAME:"Châteauguay"},geometry:{type:"Point",coordinates:[-73.748,45.356]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2467030",CSDNAME:"Sainte-Catherine"},geometry:{type:"Point",coordinates:[-73.576,45.398]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2467025",CSDNAME:"Delson"},geometry:{type:"Point",coordinates:[-73.54,45.374]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2467035",CSDNAME:"Saint-Constant"},geometry:{type:"Point",coordinates:[-73.591,45.349]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2467005",CSDNAME:"Saint-Mathieu"},geometry:{type:"Point",coordinates:[-73.534,45.314]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2467010",CSDNAME:"Saint-Philippe"},geometry:{type:"Point",coordinates:[-73.459,45.34]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2467040",CSDNAME:"Saint-Isidore"},geometry:{type:"Point",coordinates:[-73.682,45.295]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2467802",CSDNAME:"Kahnawake"},geometry:{type:"Point",coordinates:[-73.672,45.385]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2467045",CSDNAME:"Mercier"},geometry:{type:"Point",coordinates:[-73.742,45.308]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2467055",CSDNAME:"Léry"},geometry:{type:"Point",coordinates:[-73.799,45.343]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2470022",CSDNAME:"Beauharnois"},geometry:{type:"Point",coordinates:[-73.882,45.29]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2471083",CSDNAME:"Vaudreuil-Dorion"},geometry:{type:"Point",coordinates:[-74.075,45.399]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2471070",CSDNAME:"Pincourt"},geometry:{type:"Point",coordinates:[-73.982,45.374]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2471075",CSDNAME:"Terrasse-Vaudreuil"},geometry:{type:"Point",coordinates:[-73.987,45.391]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2471060",CSDNAME:"L'Île-Perrot"},geometry:{type:"Point",coordinates:[-73.959,45.391]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2471055",CSDNAME:"Pointe-des-Cascades"},geometry:{type:"Point",coordinates:[-73.969,45.33]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2471100",CSDNAME:"Hudson"},geometry:{type:"Point",coordinates:[-74.155,45.456]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2471105",CSDNAME:"Saint-Lazare"},geometry:{type:"Point",coordinates:[-74.163,45.406]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2471050",CSDNAME:"Les Cèdres"},geometry:{type:"Point",coordinates:[-74.092,45.339]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2471040",CSDNAME:"Coteau-du-Lac"},geometry:{type:"Point",coordinates:[-74.192,45.307]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2471033",CSDNAME:"Les Coteaux"},geometry:{type:"Point",coordinates:[-74.237,45.272]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2471025",CSDNAME:"Saint-Zotique"},geometry:{type:"Point",coordinates:[-74.279,45.247]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2471090",CSDNAME:"Vaudreuil-sur-le-Lac"},geometry:{type:"Point",coordinates:[-74.034,45.42]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2471095",CSDNAME:"L'Île-Cadieux"},geometry:{type:"Point",coordinates:[-74.022,45.431]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2471065",CSDNAME:"Notre-Dame-de-l'Île-Perrot"},geometry:{type:"Point",coordinates:[-73.92,45.37]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2472005",CSDNAME:"Saint-Eustache"},geometry:{type:"Point",coordinates:[-73.934,45.577]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2472010",CSDNAME:"Deux-Montagnes"},geometry:{type:"Point",coordinates:[-73.904,45.543]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2472015",CSDNAME:"Sainte-Marthe-sur-le-Lac"},geometry:{type:"Point",coordinates:[-73.942,45.531]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2472025",CSDNAME:"Saint-Joseph-du-Lac"},geometry:{type:"Point",coordinates:[-74.017,45.532]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2472020",CSDNAME:"Pointe-Calumet"},geometry:{type:"Point",coordinates:[-73.973,45.5]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2472032",CSDNAME:"Oka"},geometry:{type:"Point",coordinates:[-74.07,45.495]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2472802",CSDNAME:"Kanesatake"},geometry:{type:"Point",coordinates:[-74.118,45.493]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2472043",CSDNAME:"Saint-Placide"},geometry:{type:"Point",coordinates:[-74.196,45.542]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2473015",CSDNAME:"Blainville"},geometry:{type:"Point",coordinates:[-73.854,45.684]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2473010",CSDNAME:"Sainte-Thérèse"},geometry:{type:"Point",coordinates:[-73.844,45.645]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2473020",CSDNAME:"Rosemère"},geometry:{type:"Point",coordinates:[-73.798,45.639]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2473005",CSDNAME:"Boisbriand"},geometry:{type:"Point",coordinates:[-73.862,45.618]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2473025",CSDNAME:"Lorraine"},geometry:{type:"Point",coordinates:[-73.784,45.668]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2473030",CSDNAME:"Bois-des-Filion"},geometry:{type:"Point",coordinates:[-73.763,45.672]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2473035",CSDNAME:"Sainte-Anne-des-Plaines"},geometry:{type:"Point",coordinates:[-73.82,45.762]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2474005",CSDNAME:"Mirabel"},geometry:{type:"Point",coordinates:[-74.06,45.652]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2475017",CSDNAME:"Saint-Jérôme"},geometry:{type:"Point",coordinates:[-74.04,45.796]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2475005",CSDNAME:"Saint-Colomban"},geometry:{type:"Point",coordinates:[-74.139,45.739]}},{type:"Feature",properties:{CMAUID:"462",CSDUID:"2476025",CSDNAME:"Gore"},geometry:{type:"Point",coordinates:[-74.256,45.765]}},{type:"Feature",properties:{CMAUID:"505",CSDUID:"2480055",CSDNAME:"Lochaber"},geometry:{type:"Point",coordinates:[-75.194,45.624]}},{type:"Feature",properties:{CMAUID:"505",CSDUID:"2480050",CSDNAME:"Thurso"},geometry:{type:"Point",coordinates:[-75.242,45.601]}},{type:"Feature",properties:{CMAUID:"505",CSDUID:"2480060",CSDNAME:"Lochaber-Partie-Ouest"},geometry:{type:"Point",coordinates:[-75.309,45.595]}},{type:"Feature",properties:{CMAUID:"505",CSDUID:"2480065",CSDNAME:"Mayo"},geometry:{type:"Point",coordinates:[-75.315,45.681]}},{type:"Feature",properties:{CMAUID:"505",CSDUID:"2480140",CSDNAME:"Val-des-Bois"},geometry:{type:"Point",coordinates:[-75.508,45.904]}},{type:"Feature",properties:{CMAUID:"505",CSDUID:"2480085",CSDNAME:"Mulgrave-et-Derry"},geometry:{type:"Point",coordinates:[-75.366,45.787]}},{type:"Feature",properties:{CMAUID:"505",CSDUID:"2480145",CSDNAME:"Bowman"},geometry:{type:"Point",coordinates:[-75.678,45.915]}},{type:"Feature",properties:{CMAUID:"505",CSDUID:"2481017",CSDNAME:"Gatineau"},geometry:{type:"Point",coordinates:[-75.658,45.491]}},{type:"Feature",properties:{CMAUID:"505",CSDUID:"2482020",CSDNAME:"Cantley"},geometry:{type:"Point",coordinates:[-75.771,45.582]}},{type:"Feature",properties:{CMAUID:"505",CSDUID:"2482010",CSDNAME:"Notre-Dame-de-la-Salette"},geometry:{type:"Point",coordinates:[-75.55,45.779]}},{type:"Feature",properties:{CMAUID:"505",CSDUID:"2482015",CSDNAME:"Val-des-Monts"},geometry:{type:"Point",coordinates:[-75.678,45.691]}},{type:"Feature",properties:{CMAUID:"505",CSDUID:"2482005",CSDNAME:"L'Ange-Gardien"},geometry:{type:"Point",coordinates:[-75.461,45.636]}},{type:"Feature",properties:{CMAUID:"505",CSDUID:"2482035",CSDNAME:"La Pêche"},geometry:{type:"Point",coordinates:[-76.061,45.703]}},{type:"Feature",properties:{CMAUID:"505",CSDUID:"2482025",CSDNAME:"Chelsea"},geometry:{type:"Point",coordinates:[-75.856,45.531]}},{type:"Feature",properties:{CMAUID:"505",CSDUID:"2482030",CSDNAME:"Pontiac"},geometry:{type:"Point",coordinates:[-76.124,45.565]}},{type:"Feature",properties:{CMAUID:"505",CSDUID:"2483005",CSDNAME:"Denholm"},geometry:{type:"Point",coordinates:[-75.83,45.836]}},{type:"Feature",properties:{CMAUID:"408",CSDUID:"2494068",CSDNAME:"Saguenay"},geometry:{type:"Point",coordinates:[-71.132,48.372]}},{type:"Feature",properties:{CMAUID:"408",CSDUID:"2494245",CSDNAME:"Saint-David-de-Falardeau"},geometry:{type:"Point",coordinates:[-71.068,48.655]}},{type:"Feature",properties:{CMAUID:"408",CSDUID:"2494230",CSDNAME:"Sainte-Rose-du-Nord"},geometry:{type:"Point",coordinates:[-70.606,48.403]}},{type:"Feature",properties:{CMAUID:"408",CSDUID:"2494225",CSDNAME:"Saint-Félix-d'Otis"},geometry:{type:"Point",coordinates:[-70.625,48.298]}},{type:"Feature",properties:{CMAUID:"408",CSDUID:"2494220",CSDNAME:"Ferland-et-Boilleau"},geometry:{type:"Point",coordinates:[-70.815,48.128]}},{type:"Feature",properties:{CMAUID:"408",CSDUID:"2494260",CSDNAME:"Saint-Charles-de-Bourget"},geometry:{type:"Point",coordinates:[-71.415,48.526]}},{type:"Feature",properties:{CMAUID:"408",CSDUID:"2494250",CSDNAME:"Bégin"},geometry:{type:"Point",coordinates:[-71.32,48.698]}},{type:"Feature",properties:{CMAUID:"408",CSDUID:"2494265",CSDNAME:"Larouche"},geometry:{type:"Point",coordinates:[-71.506,48.453]}},{type:"Feature",properties:{CMAUID:"408",CSDUID:"2494235",CSDNAME:"Saint-Fulgence"},geometry:{type:"Point",coordinates:[-70.786,48.486]}},{type:"Feature",properties:{CMAUID:"408",CSDUID:"2494240",CSDNAME:"Saint-Honoré"},geometry:{type:"Point",coordinates:[-71.102,48.535]}},{type:"Feature",properties:{CMAUID:"505",CSDUID:"3502036",CSDNAME:"Clarence-Rockland"},geometry:{type:"Point",coordinates:[-75.211,45.48]}},{type:"Feature",properties:{CMAUID:"505",CSDUID:"3502048",CSDNAME:"Russell"},geometry:{type:"Point",coordinates:[-75.314,45.272]}},{type:"Feature",properties:{CMAUID:"505",CSDUID:"3506008",CSDNAME:"Ottawa"},geometry:{type:"Point",coordinates:[-75.775,45.293]}},{type:"Feature",properties:{CMAUID:"505",CSDUID:"3507065",CSDNAME:"North Grenville"},geometry:{type:"Point",coordinates:[-75.651,44.97]}},{type:"Feature",properties:{CMAUID:"505",CSDUID:"3509030",CSDNAME:"Mississippi Mills"},geometry:{type:"Point",coordinates:[-76.29,45.251]}},{type:"Feature",properties:{CMAUID:"505",CSDUID:"3509028",CSDNAME:"Carleton Place"},geometry:{type:"Point",coordinates:[-76.137,45.138]}},{type:"Feature",properties:{CMAUID:"505",CSDUID:"3509024",CSDNAME:"Beckwith"},geometry:{type:"Point",coordinates:[-76.082,45.086]}},{type:"Feature",properties:{CMAUID:"521",CSDUID:"3510010",CSDNAME:"Kingston"},geometry:{type:"Point",coordinates:[-76.455,44.313]}},{type:"Feature",properties:{CMAUID:"521",CSDUID:"3510020",CSDNAME:"South Frontenac"},geometry:{type:"Point",coordinates:[-76.535,44.505]}},{type:"Feature",properties:{CMAUID:"521",CSDUID:"3510005",CSDNAME:"Frontenac Islands"},geometry:{type:"Point",coordinates:[-76.367,44.199]}},{type:"Feature",properties:{CMAUID:"521",CSDUID:"3511005",CSDNAME:"Loyalist"},geometry:{type:"Point",coordinates:[-76.758,44.242]}},{type:"Feature",properties:{CMAUID:"522",CSDUID:"3512005",CSDNAME:"Belleville"},geometry:{type:"Point",coordinates:[-77.364,44.243]}},{type:"Feature",properties:{CMAUID:"522",CSDUID:"3512015",CSDNAME:"Quinte West"},geometry:{type:"Point",coordinates:[-77.582,44.182]}},{type:"Feature",properties:{CMAUID:"522",CSDUID:"3512020",CSDNAME:"Stirling-Rawdon"},geometry:{type:"Point",coordinates:[-77.599,44.375]}},{type:"Feature",properties:{CMAUID:"522",CSDUID:"3512001",CSDNAME:"Tyendinaga"},geometry:{type:"Point",coordinates:[-77.194,44.293]}},{type:"Feature",properties:{CMAUID:"529",CSDUID:"3515014",CSDNAME:"Peterborough"},geometry:{type:"Point",coordinates:[-78.326,44.305]}},{type:"Feature",properties:{CMAUID:"529",CSDUID:"3515023",CSDNAME:"Douro-Dummer"},geometry:{type:"Point",coordinates:[-78.111,44.453]}},{type:"Feature",properties:{CMAUID:"529",CSDUID:"3515015",CSDNAME:"Selwyn"},geometry:{type:"Point",coordinates:[-78.346,44.437]}},{type:"Feature",properties:{CMAUID:"529",CSDUID:"3515019",CSDNAME:"Curve Lake First Nation 35"},geometry:{type:"Point",coordinates:[-78.359,44.481]}},{type:"Feature",properties:{CMAUID:"529",CSDUID:"3515013",CSDNAME:"Cavan Monaghan"},geometry:{type:"Point",coordinates:[-78.456,44.194]}},{type:"Feature",properties:{CMAUID:"529",CSDUID:"3515005",CSDNAME:"Otonabee-South Monaghan"},geometry:{type:"Point",coordinates:[-78.223,44.242]}},{type:"Feature",properties:{CMAUID:"529",CSDUID:"3515008",CSDNAME:"Hiawatha First Nation"},geometry:{type:"Point",coordinates:[-78.213,44.189]}},{type:"Feature",properties:{CMAUID:"535",CSDUID:"3518029",CSDNAME:"Uxbridge"},geometry:{type:"Point",coordinates:[-79.188,44.117]}},{type:"Feature",properties:{CMAUID:"532",CSDUID:"3518009",CSDNAME:"Whitby"},geometry:{type:"Point",coordinates:[-78.965,43.933]}},{type:"Feature",properties:{CMAUID:"532",CSDUID:"3518013",CSDNAME:"Oshawa"},geometry:{type:"Point",coordinates:[-78.878,43.949]}},{type:"Feature",properties:{CMAUID:"535",CSDUID:"3518005",CSDNAME:"Ajax"},geometry:{type:"Point",coordinates:[-79.028,43.869]}},{type:"Feature",properties:{CMAUID:"535",CSDUID:"3518001",CSDNAME:"Pickering"},geometry:{type:"Point",coordinates:[-79.114,43.912]}},{type:"Feature",properties:{CMAUID:"532",CSDUID:"3518017",CSDNAME:"Clarington"},geometry:{type:"Point",coordinates:[-78.655,43.979]}},{type:"Feature",properties:{CMAUID:"535",CSDUID:"3519076",CSDNAME:"Chippewas of Georgina Island First Nation"},geometry:{type:"Point",coordinates:[-79.314,44.368]}},{type:"Feature",properties:{CMAUID:"535",CSDUID:"3519070",CSDNAME:"Georgina"},geometry:{type:"Point",coordinates:[-79.358,44.324]}},{type:"Feature",properties:{CMAUID:"535",CSDUID:"3519054",CSDNAME:"East Gwillimbury"},geometry:{type:"Point",coordinates:[-79.408,44.14]}},{type:"Feature",properties:{CMAUID:"535",CSDUID:"3519049",CSDNAME:"King"},geometry:{type:"Point",coordinates:[-79.609,43.976]}},{type:"Feature",properties:{CMAUID:"535",CSDUID:"3519048",CSDNAME:"Newmarket"},geometry:{type:"Point",coordinates:[-79.461,44.05]}},{type:"Feature",properties:{CMAUID:"535",CSDUID:"3519046",CSDNAME:"Aurora"},geometry:{type:"Point",coordinates:[-79.447,43.996]}},{type:"Feature",properties:{CMAUID:"535",CSDUID:"3519028",CSDNAME:"Vaughan"},geometry:{type:"Point",coordinates:[-79.565,43.837]}},{type:"Feature",properties:{CMAUID:"535",CSDUID:"3519036",CSDNAME:"Markham"},geometry:{type:"Point",coordinates:[-79.295,43.881]}},{type:"Feature",properties:{CMAUID:"535",CSDUID:"3519038",CSDNAME:"Richmond Hill"},geometry:{type:"Point",coordinates:[-79.427,43.903]}},{type:"Feature",properties:{CMAUID:"535",CSDUID:"3519044",CSDNAME:"Whitchurch-Stouffville"},geometry:{type:"Point",coordinates:[-79.323,44.013]}},{type:"Feature",properties:{CMAUID:"535",CSDUID:"3520005",CSDNAME:"Toronto"},geometry:{type:"Point",coordinates:[-79.39,43.726]}},{type:"Feature",properties:{CMAUID:"535",CSDUID:"3521024",CSDNAME:"Caledon"},geometry:{type:"Point",coordinates:[-79.902,43.849]}},{type:"Feature",properties:{CMAUID:"535",CSDUID:"3521010",CSDNAME:"Brampton"},geometry:{type:"Point",coordinates:[-79.752,43.716]}},{type:"Feature",properties:{CMAUID:"535",CSDUID:"3521005",CSDNAME:"Mississauga"},geometry:{type:"Point",coordinates:[-79.663,43.599]}},{type:"Feature",properties:{CMAUID:"535",CSDUID:"3522012",CSDNAME:"Mono"},geometry:{type:"Point",coordinates:[-80.061,44.02]}},{type:"Feature",properties:{CMAUID:"535",CSDUID:"3522014",CSDNAME:"Orangeville"},geometry:{type:"Point",coordinates:[-80.11,43.915]}},{type:"Feature",properties:{CMAUID:"550",CSDUID:"3523008",CSDNAME:"Guelph"},geometry:{type:"Point",coordinates:[-80.237,43.533]}},{type:"Feature",properties:{CMAUID:"550",CSDUID:"3523009",CSDNAME:"Guelph/Eramosa"},geometry:{type:"Point",coordinates:[-80.249,43.608]}},{type:"Feature",properties:{CMAUID:"550",CSDUID:"3523001",CSDNAME:"Puslinch"},geometry:{type:"Point",coordinates:[-80.174,43.462]}},{type:"Feature",properties:{CMAUID:"535",CSDUID:"3524015",CSDNAME:"Halton Hills"},geometry:{type:"Point",coordinates:[-79.942,43.624]}},{type:"Feature",properties:{CMAUID:"535",CSDUID:"3524009",CSDNAME:"Milton"},geometry:{type:"Point",coordinates:[-79.946,43.519]}},{type:"Feature",properties:{CMAUID:"535",CSDUID:"3524001",CSDNAME:"Oakville"},geometry:{type:"Point",coordinates:[-79.723,43.456]}},{type:"Feature",properties:{CMAUID:"537",CSDUID:"3524002",CSDNAME:"Burlington"},geometry:{type:"Point",coordinates:[-79.846,43.382]}},{type:"Feature",properties:{CMAUID:"537",CSDUID:"3525005",CSDNAME:"Hamilton"},geometry:{type:"Point",coordinates:[-79.96,43.252]}},{type:"Feature",properties:{CMAUID:"539",CSDUID:"3526047",CSDNAME:"Niagara-on-the-Lake"},geometry:{type:"Point",coordinates:[-79.123,43.199]}},{type:"Feature",properties:{CMAUID:"539",CSDUID:"3526043",CSDNAME:"Niagara Falls"},geometry:{type:"Point",coordinates:[-79.106,43.051]}},{type:"Feature",properties:{CMAUID:"539",CSDUID:"3526032",CSDNAME:"Welland"},geometry:{type:"Point",coordinates:[-79.229,42.991]}},{type:"Feature",properties:{CMAUID:"539",CSDUID:"3526011",CSDNAME:"Port Colborne"},geometry:{type:"Point",coordinates:[-79.193,42.913]}},{type:"Feature",properties:{CMAUID:"539",CSDUID:"3526028",CSDNAME:"Pelham"},geometry:{type:"Point",coordinates:[-79.335,43.041]}},{type:"Feature",properties:{CMAUID:"539",CSDUID:"3526037",CSDNAME:"Thorold"},geometry:{type:"Point",coordinates:[-79.225,43.078]}},{type:"Feature",properties:{CMAUID:"539",CSDUID:"3526057",CSDNAME:"Lincoln"},geometry:{type:"Point",coordinates:[-79.42,43.145]}},{type:"Feature",properties:{CMAUID:"537",CSDUID:"3526065",CSDNAME:"Grimsby"},geometry:{type:"Point",coordinates:[-79.576,43.176]}},{type:"Feature",properties:{CMAUID:"539",CSDUID:"3526053",CSDNAME:"St. Catharines"},geometry:{type:"Point",coordinates:[-79.253,43.163]}},{type:"Feature",properties:{CMAUID:"539",CSDUID:"3526003",CSDNAME:"Fort Erie"},geometry:{type:"Point",coordinates:[-79.028,42.917]}},{type:"Feature",properties:{CMAUID:"539",CSDUID:"3526014",CSDNAME:"Wainfleet"},geometry:{type:"Point",coordinates:[-79.397,42.936]}},{type:"Feature",properties:{CMAUID:"543",CSDUID:"3529006",CSDNAME:"Brantford"},geometry:{type:"Point",coordinates:[-80.273,43.156]}},{type:"Feature",properties:{CMAUID:"543",CSDUID:"3529005",CSDNAME:"Brant"},geometry:{type:"Point",coordinates:[-80.347,43.135]}},{type:"Feature",properties:{CMAUID:"543",CSDUID:"3529020",CSDNAME:"Six Nations (Part) 40"},geometry:{type:"Point",coordinates:[-80.124,43.058]}},{type:"Feature",properties:{CMAUID:"541",CSDUID:"3530035",CSDNAME:"Woolwich"},geometry:{type:"Point",coordinates:[-80.491,43.558]}},{type:"Feature",properties:{CMAUID:"541",CSDUID:"3530016",CSDNAME:"Waterloo"},geometry:{type:"Point",coordinates:[-80.545,43.48]}},{type:"Feature",properties:{CMAUID:"541",CSDUID:"3530013",CSDNAME:"Kitchener"},geometry:{type:"Point",coordinates:[-80.47,43.421]}},{type:"Feature",properties:{CMAUID:"541",CSDUID:"3530010",CSDNAME:"Cambridge"},geometry:{type:"Point",coordinates:[-80.328,43.401]}},{type:"Feature",properties:{CMAUID:"541",CSDUID:"3530020",CSDNAME:"Wilmot"},geometry:{type:"Point",coordinates:[-80.651,43.397]}},{type:"Feature",properties:{CMAUID:"541",CSDUID:"3530004",CSDNAME:"North Dumfries"},geometry:{type:"Point",coordinates:[-80.362,43.33]}},{type:"Feature",properties:{CMAUID:"555",CSDUID:"3534021",CSDNAME:"St. Thomas"},geometry:{type:"Point",coordinates:[-81.182,42.777]}},{type:"Feature",properties:{CMAUID:"555",CSDUID:"3534020",CSDNAME:"Central Elgin"},geometry:{type:"Point",coordinates:[-81.121,42.757]}},{type:"Feature",properties:{CMAUID:"555",CSDUID:"3534024",CSDNAME:"Southwold"},geometry:{type:"Point",coordinates:[-81.317,42.746]}},{type:"Feature",properties:{CMAUID:"559",CSDUID:"3537039",CSDNAME:"Windsor"},geometry:{type:"Point",coordinates:[-82.988,42.287]}},{type:"Feature",properties:{CMAUID:"559",CSDUID:"3537064",CSDNAME:"Lakeshore"},geometry:{type:"Point",coordinates:[-82.651,42.24]}},{type:"Feature",properties:{CMAUID:"559",CSDUID:"3537048",CSDNAME:"Tecumseh"},geometry:{type:"Point",coordinates:[-82.921,42.234]}},{type:"Feature",properties:{CMAUID:"559",CSDUID:"3537013",CSDNAME:"Kingsville"},geometry:{type:"Point",coordinates:[-82.734,42.098]}},{type:"Feature",properties:{CMAUID:"559",CSDUID:"3537016",CSDNAME:"Essex"},geometry:{type:"Point",coordinates:[-82.9,42.084]}},{type:"Feature",properties:{CMAUID:"559",CSDUID:"3537034",CSDNAME:"LaSalle"},geometry:{type:"Point",coordinates:[-83.057,42.218]}},{type:"Feature",properties:{CMAUID:"559",CSDUID:"3537028",CSDNAME:"Amherstburg"},geometry:{type:"Point",coordinates:[-83.043,42.112]}},{type:"Feature",properties:{CMAUID:"559",CSDUID:"3537003",CSDNAME:"Leamington"},geometry:{type:"Point",coordinates:[-82.549,42.082]}},{type:"Feature",properties:{CMAUID:"562",CSDUID:"3538030",CSDNAME:"Sarnia"},geometry:{type:"Point",coordinates:[-82.319,42.972]}},{type:"Feature",properties:{CMAUID:"562",CSDUID:"3538031",CSDNAME:"Point Edward"},geometry:{type:"Point",coordinates:[-82.408,42.994]}},{type:"Feature",properties:{CMAUID:"562",CSDUID:"3538025",CSDNAME:"Sarnia 45"},geometry:{type:"Point",coordinates:[-82.409,42.923]}},{type:"Feature",properties:{CMAUID:"562",CSDUID:"3538035",CSDNAME:"Plympton-Wyoming"},geometry:{type:"Point",coordinates:[-82.108,43.01]}},{type:"Feature",properties:{CMAUID:"562",CSDUID:"3538003",CSDNAME:"St. Clair"},geometry:{type:"Point",coordinates:[-82.357,42.77]}},{type:"Feature",properties:{CMAUID:"555",CSDUID:"3539036",CSDNAME:"London"},geometry:{type:"Point",coordinates:[-81.238,42.953]}},{type:"Feature",properties:{CMAUID:"555",CSDUID:"3539033",CSDNAME:"Middlesex Centre"},geometry:{type:"Point",coordinates:[-81.382,43.037]}},{type:"Feature",properties:{CMAUID:"555",CSDUID:"3539015",CSDNAME:"Strathroy-Caradoc"},geometry:{type:"Point",coordinates:[-81.541,42.905]}},{type:"Feature",properties:{CMAUID:"555",CSDUID:"3539047",CSDNAME:"Adelaide-Metcalfe"},geometry:{type:"Point",coordinates:[-81.712,42.945]}},{type:"Feature",properties:{CMAUID:"555",CSDUID:"3539027",CSDNAME:"Thames Centre"},geometry:{type:"Point",coordinates:[-81.079,43.037]}},{type:"Feature",properties:{CMAUID:"568",CSDUID:"3543009",CSDNAME:"Springwater"},geometry:{type:"Point",coordinates:[-79.829,44.49]}},{type:"Feature",properties:{CMAUID:"568",CSDUID:"3543042",CSDNAME:"Barrie"},geometry:{type:"Point",coordinates:[-79.682,44.361]}},{type:"Feature",properties:{CMAUID:"568",CSDUID:"3543017",CSDNAME:"Innisfil"},geometry:{type:"Point",coordinates:[-79.603,44.281]}},{type:"Feature",properties:{CMAUID:"535",CSDUID:"3543014",CSDNAME:"Bradford West Gwillimbury"},geometry:{type:"Point",coordinates:[-79.617,44.12]}},{type:"Feature",properties:{CMAUID:"535",CSDUID:"3543007",CSDNAME:"New Tecumseth"},geometry:{type:"Point",coordinates:[-79.778,44.084]}},{type:"Feature",properties:{CMAUID:"505",CSDUID:"3547003",CSDNAME:"McNab/Braeside"},geometry:{type:"Point",coordinates:[-76.488,45.418]}},{type:"Feature",properties:{CMAUID:"505",CSDUID:"3547002",CSDNAME:"Arnprior"},geometry:{type:"Point",coordinates:[-76.356,45.425]}},{type:"Feature",properties:{CMAUID:"575",CSDUID:"3548044",CSDNAME:"North Bay"},geometry:{type:"Point",coordinates:[-79.394,46.352]}},{type:"Feature",properties:{CMAUID:"575",CSDUID:"3548094",CSDNAME:"Nipissing, Unorganized, North Part"},geometry:{type:"Point",coordinates:[-79.48,46.647]}},{type:"Feature",properties:{CMAUID:"575",CSDUID:"3548034",CSDNAME:"East Ferris"},geometry:{type:"Point",coordinates:[-79.283,46.241]}},{type:"Feature",properties:{CMAUID:"575",CSDUID:"3548027",CSDNAME:"Bonfield"},geometry:{type:"Point",coordinates:[-79.113,46.249]}},{type:"Feature",properties:{CMAUID:"575",CSDUID:"3548031",CSDNAME:"Chisholm"},geometry:{type:"Point",coordinates:[-79.206,46.098]}},{type:"Feature",properties:{CMAUID:"575",CSDUID:"3549066",CSDNAME:"Callander"},geometry:{type:"Point",coordinates:[-79.412,46.178]}},{type:"Feature",properties:{CMAUID:"575",CSDUID:"3549071",CSDNAME:"Nipissing"},geometry:{type:"Point",coordinates:[-79.546,46.066]}},{type:"Feature",properties:{CMAUID:"575",CSDUID:"3549060",CSDNAME:"Powassan"},geometry:{type:"Point",coordinates:[-79.351,46.047]}},{type:"Feature",properties:{CMAUID:"580",CSDUID:"3552013",CSDNAME:"Markstay-Warren"},geometry:{type:"Point",coordinates:[-80.472,46.491]}},{type:"Feature",properties:{CMAUID:"580",CSDUID:"3552051",CSDNAME:"Whitefish Lake 6"},geometry:{type:"Point",coordinates:[-81.241,46.316]}},{type:"Feature",properties:{CMAUID:"580",CSDUID:"3552004",CSDNAME:"St.-Charles"},geometry:{type:"Point",coordinates:[-80.45,46.342]}},{type:"Feature",properties:{CMAUID:"580",CSDUID:"3553005",CSDNAME:"Greater Sudbury / Grand Sudbury"},geometry:{type:"Point",coordinates:[-81.044,46.59]}},{type:"Feature",properties:{CMAUID:"580",CSDUID:"3553040",CSDNAME:"Wahnapitei 11"},geometry:{type:"Point",coordinates:[-80.835,46.776]}},{type:"Feature",properties:{CMAUID:"590",CSDUID:"3557061",CSDNAME:"Sault Ste. Marie"},geometry:{type:"Point",coordinates:[-84.376,46.55]}},{type:"Feature",properties:{CMAUID:"590",CSDUID:"3557075",CSDNAME:"Rankin Location 15D"},geometry:{type:"Point",coordinates:[-84.249,46.562]}},{type:"Feature",properties:{CMAUID:"590",CSDUID:"3557066",CSDNAME:"Prince"},geometry:{type:"Point",coordinates:[-84.528,46.562]}},{type:"Feature",properties:{CMAUID:"590",CSDUID:"3557051",CSDNAME:"Macdonald, Meredith and Aberdeen Additional"},geometry:{type:"Point",coordinates:[-83.957,46.482]}},{type:"Feature",properties:{CMAUID:"590",CSDUID:"3557011",CSDNAME:"Laird"},geometry:{type:"Point",coordinates:[-84.052,46.399]}},{type:"Feature",properties:{CMAUID:"590",CSDUID:"3557074",CSDNAME:"Garden River 14"},geometry:{type:"Point",coordinates:[-84.045,46.583]}},{type:"Feature",properties:{CMAUID:"595",CSDUID:"3558004",CSDNAME:"Thunder Bay"},geometry:{type:"Point",coordinates:[-89.31,48.427]}},{type:"Feature",properties:{CMAUID:"595",CSDUID:"3558028",CSDNAME:"Shuniah"},geometry:{type:"Point",coordinates:[-88.841,48.61]}},{type:"Feature",properties:{CMAUID:"595",CSDUID:"3558011",CSDNAME:"Oliver Paipoonge"},geometry:{type:"Point",coordinates:[-89.507,48.399]}},{type:"Feature",properties:{CMAUID:"595",CSDUID:"3558001",CSDNAME:"Neebing"},geometry:{type:"Point",coordinates:[-89.498,48.173]}},{type:"Feature",properties:{CMAUID:"595",CSDUID:"3558012",CSDNAME:"Gillies"},geometry:{type:"Point",coordinates:[-89.7,48.269]}},{type:"Feature",properties:{CMAUID:"595",CSDUID:"3558016",CSDNAME:"O'Connor"},geometry:{type:"Point",coordinates:[-89.7,48.362]}},{type:"Feature",properties:{CMAUID:"595",CSDUID:"3558019",CSDNAME:"Conmee"},geometry:{type:"Point",coordinates:[-89.684,48.474]}},{type:"Feature",properties:{CMAUID:"595",CSDUID:"3558003",CSDNAME:"Fort William 52"},geometry:{type:"Point",coordinates:[-89.271,48.312]}},{type:"Feature",properties:{CMAUID:"602",CSDUID:"4602075",CSDNAME:"Ritchot"},geometry:{type:"Point",coordinates:[-97.092,49.654]}},{type:"Feature",properties:{CMAUID:"602",CSDUID:"4602069",CSDNAME:"Taché"},geometry:{type:"Point",coordinates:[-96.725,49.73]}},{type:"Feature",properties:{CMAUID:"602",CSDUID:"4602046",CSDNAME:"Niverville"},geometry:{type:"Point",coordinates:[-97.051,49.604]}},{type:"Feature",properties:{CMAUID:"602",CSDUID:"4610052",CSDNAME:"St. François Xavier"},geometry:{type:"Point",coordinates:[-97.665,49.987]}},{type:"Feature",properties:{CMAUID:"602",CSDUID:"4610035",CSDNAME:"Macdonald"},geometry:{type:"Point",coordinates:[-97.463,49.668]}},{type:"Feature",properties:{CMAUID:"602",CSDUID:"4611040",CSDNAME:"Winnipeg"},geometry:{type:"Point",coordinates:[-97.157,49.864]}},{type:"Feature",properties:{CMAUID:"602",CSDUID:"4611042",CSDNAME:"Headingley"},geometry:{type:"Point",coordinates:[-97.391,49.868]}},{type:"Feature",properties:{CMAUID:"602",CSDUID:"4612047",CSDNAME:"Springfield"},geometry:{type:"Point",coordinates:[-96.7,49.908]}},{type:"Feature",properties:{CMAUID:"602",CSDUID:"4613037",CSDNAME:"West St. Paul"},geometry:{type:"Point",coordinates:[-97.116,50.017]}},{type:"Feature",properties:{CMAUID:"602",CSDUID:"4613032",CSDNAME:"East St. Paul"},geometry:{type:"Point",coordinates:[-97.015,49.981]}},{type:"Feature",properties:{CMAUID:"602",CSDUID:"4613056",CSDNAME:"St. Clements"},geometry:{type:"Point",coordinates:[-96.702,50.26]}},{type:"Feature",properties:{CMAUID:"602",CSDUID:"4613062",CSDNAME:"Brokenhead 4"},geometry:{type:"Point",coordinates:[-96.605,50.346]}},{type:"Feature",properties:{CMAUID:"602",CSDUID:"4614015",CSDNAME:"Rosser"},geometry:{type:"Point",coordinates:[-97.411,50.005]}},{type:"Feature",properties:{CMAUID:"705",CSDUID:"4706027",CSDNAME:"Regina"},geometry:{type:"Point",coordinates:[-104.628,50.456]}},{type:"Feature",properties:{CMAUID:"705",CSDUID:"4706078",CSDNAME:"Craven"},geometry:{type:"Point",coordinates:[-104.8,50.708]}},{type:"Feature",properties:{CMAUID:"705",CSDUID:"4706053",CSDNAME:"Lumsden No. 189"},geometry:{type:"Point",coordinates:[-104.768,50.673]}},{type:"Feature",properties:{CMAUID:"705",CSDUID:"4706057",CSDNAME:"Lumsden Beach"},geometry:{type:"Point",coordinates:[-104.9,50.764]}},{type:"Feature",properties:{CMAUID:"705",CSDUID:"4706055",CSDNAME:"Buena Vista"},geometry:{type:"Point",coordinates:[-104.94,50.781]}},{type:"Feature",properties:{CMAUID:"705",CSDUID:"4706058",CSDNAME:"Regina Beach"},geometry:{type:"Point",coordinates:[-104.981,50.789]}},{type:"Feature",properties:{CMAUID:"705",CSDUID:"4706056",CSDNAME:"Lumsden"},geometry:{type:"Point",coordinates:[-104.868,50.646]}},{type:"Feature",properties:{CMAUID:"705",CSDUID:"4706054",CSDNAME:"Disley"},geometry:{type:"Point",coordinates:[-105.049,50.641]}},{type:"Feature",properties:{CMAUID:"705",CSDUID:"4706021",CSDNAME:"Pense No. 160"},geometry:{type:"Point",coordinates:[-105.099,50.441]}},{type:"Feature",properties:{CMAUID:"705",CSDUID:"4706023",CSDNAME:"Pense"},geometry:{type:"Point",coordinates:[-104.982,50.415]}},{type:"Feature",properties:{CMAUID:"705",CSDUID:"4706022",CSDNAME:"Belle Plaine"},geometry:{type:"Point",coordinates:[-105.156,50.393]}},{type:"Feature",properties:{CMAUID:"705",CSDUID:"4706033",CSDNAME:"Edenwold"},geometry:{type:"Point",coordinates:[-104.253,50.634]}},{type:"Feature",properties:{CMAUID:"705",CSDUID:"4706032",CSDNAME:"Balgonie"},geometry:{type:"Point",coordinates:[-104.274,50.488]}},{type:"Feature",properties:{CMAUID:"705",CSDUID:"4706030",CSDNAME:"White City"},geometry:{type:"Point",coordinates:[-104.371,50.433]}},{type:"Feature",properties:{CMAUID:"705",CSDUID:"4706029",CSDNAME:"Edenwold No. 158"},geometry:{type:"Point",coordinates:[-104.345,50.517]}},{type:"Feature",properties:{CMAUID:"705",CSDUID:"4706031",CSDNAME:"Pilot Butte"},geometry:{type:"Point",coordinates:[-104.419,50.481]}},{type:"Feature",properties:{CMAUID:"705",CSDUID:"4706011",CSDNAME:"Lajord No. 128"},geometry:{type:"Point",coordinates:[-104.251,50.196]}},{type:"Feature",properties:{CMAUID:"705",CSDUID:"4706028",CSDNAME:"Grand Coulee"},geometry:{type:"Point",coordinates:[-104.813,50.436]}},{type:"Feature",properties:{CMAUID:"705",CSDUID:"4706026",CSDNAME:"Sherwood No. 159"},geometry:{type:"Point",coordinates:[-104.702,50.436]}},{type:"Feature",properties:{CMAUID:"725",CSDUID:"4711066",CSDNAME:"Saskatoon"},geometry:{type:"Point",coordinates:[-106.645,52.145]}},{type:"Feature",properties:{CMAUID:"725",CSDUID:"4711067",CSDNAME:"Langham"},geometry:{type:"Point",coordinates:[-106.959,52.359]}},{type:"Feature",properties:{CMAUID:"725",CSDUID:"4711065",CSDNAME:"Corman Park No. 344"},geometry:{type:"Point",coordinates:[-106.801,52.229]}},{type:"Feature",properties:{CMAUID:"725",CSDUID:"4711073",CSDNAME:"Dalmeny"},geometry:{type:"Point",coordinates:[-106.768,52.341]}},{type:"Feature",properties:{CMAUID:"725",CSDUID:"4711070",CSDNAME:"Martensville"},geometry:{type:"Point",coordinates:[-106.659,52.292]}},{type:"Feature",properties:{CMAUID:"725",CSDUID:"4711068",CSDNAME:"Warman"},geometry:{type:"Point",coordinates:[-106.582,52.323]}},{type:"Feature",properties:{CMAUID:"725",CSDUID:"4711075",CSDNAME:"Osler"},geometry:{type:"Point",coordinates:[-106.538,52.365]}},{type:"Feature",properties:{CMAUID:"725",CSDUID:"4711064",CSDNAME:"Shields"},geometry:{type:"Point",coordinates:[-106.404,51.822]}},{type:"Feature",properties:{CMAUID:"725",CSDUID:"4711060",CSDNAME:"Thode"},geometry:{type:"Point",coordinates:[-106.443,51.789]}},{type:"Feature",properties:{CMAUID:"725",CSDUID:"4711063",CSDNAME:"Dundurn"},geometry:{type:"Point",coordinates:[-106.501,51.808]}},{type:"Feature",properties:{CMAUID:"725",CSDUID:"4711828",CSDNAME:"Whitecap"},geometry:{type:"Point",coordinates:[-106.719,51.881]}},{type:"Feature",properties:{CMAUID:"725",CSDUID:"4711069",CSDNAME:"Blucher No. 343"},geometry:{type:"Point",coordinates:[-106.218,52.013]}},{type:"Feature",properties:{CMAUID:"725",CSDUID:"4711071",CSDNAME:"Bradwell"},geometry:{type:"Point",coordinates:[-106.23,51.947]}},{type:"Feature",properties:{CMAUID:"725",CSDUID:"4711072",CSDNAME:"Allan"},geometry:{type:"Point",coordinates:[-106.055,51.896]}},{type:"Feature",properties:{CMAUID:"725",CSDUID:"4711077",CSDNAME:"Clavet"},geometry:{type:"Point",coordinates:[-106.37,51.995]}},{type:"Feature",properties:{CMAUID:"725",CSDUID:"4711076",CSDNAME:"Colonsay No. 342"},geometry:{type:"Point",coordinates:[-105.855,52.01]}},{type:"Feature",properties:{CMAUID:"725",CSDUID:"4711078",CSDNAME:"Meacham"},geometry:{type:"Point",coordinates:[-105.759,52.107]}},{type:"Feature",properties:{CMAUID:"725",CSDUID:"4711079",CSDNAME:"Colonsay"},geometry:{type:"Point",coordinates:[-105.872,51.976]}},{type:"Feature",properties:{CMAUID:"725",CSDUID:"4711061",CSDNAME:"Dundurn No. 314"},geometry:{type:"Point",coordinates:[-106.542,51.826]}},{type:"Feature",properties:{CMAUID:"725",CSDUID:"4712059",CSDNAME:"Asquith"},geometry:{type:"Point",coordinates:[-107.226,52.135]}},{type:"Feature",properties:{CMAUID:"725",CSDUID:"4712056",CSDNAME:"Delisle"},geometry:{type:"Point",coordinates:[-107.131,51.926]}},{type:"Feature",properties:{CMAUID:"725",CSDUID:"4712054",CSDNAME:"Vanscoy No. 345"},geometry:{type:"Point",coordinates:[-107.055,52.007]}},{type:"Feature",properties:{CMAUID:"725",CSDUID:"4712058",CSDNAME:"Vanscoy"},geometry:{type:"Point",coordinates:[-106.982,51.994]}},{type:"Feature",properties:{CMAUID:"725",CSDUID:"4715018",CSDNAME:"Aberdeen No. 373"},geometry:{type:"Point",coordinates:[-106.273,52.316]}},{type:"Feature",properties:{CMAUID:"725",CSDUID:"4715019",CSDNAME:"Aberdeen"},geometry:{type:"Point",coordinates:[-106.289,52.326]}},{type:"Feature",properties:{CMAUID:"805",CSDUID:"4801003",CSDNAME:"Cypress County"},geometry:{type:"Point",coordinates:[-110.584,50.014]}},{type:"Feature",properties:{CMAUID:"805",CSDUID:"4801006",CSDNAME:"Medicine Hat"},geometry:{type:"Point",coordinates:[-110.702,50.046]}},{type:"Feature",properties:{CMAUID:"805",CSDUID:"4801018",CSDNAME:"Redcliff"},geometry:{type:"Point",coordinates:[-110.781,50.073]}},{type:"Feature",properties:{CMAUID:"810",CSDUID:"4802012",CSDNAME:"Lethbridge"},geometry:{type:"Point",coordinates:[-112.844,49.688]}},{type:"Feature",properties:{CMAUID:"810",CSDUID:"4802011",CSDNAME:"Lethbridge County"},geometry:{type:"Point",coordinates:[-112.765,49.851]}},{type:"Feature",properties:{CMAUID:"810",CSDUID:"4802018",CSDNAME:"Picture Butte"},geometry:{type:"Point",coordinates:[-112.782,49.875]}},{type:"Feature",properties:{CMAUID:"810",CSDUID:"4802016",CSDNAME:"Barons"},geometry:{type:"Point",coordinates:[-113.083,49.998]}},{type:"Feature",properties:{CMAUID:"810",CSDUID:"4802013",CSDNAME:"Coalhurst"},geometry:{type:"Point",coordinates:[-112.926,49.743]}},{type:"Feature",properties:{CMAUID:"810",CSDUID:"4802019",CSDNAME:"Coaldale"},geometry:{type:"Point",coordinates:[-112.626,49.724]}},{type:"Feature",properties:{CMAUID:"810",CSDUID:"4802014",CSDNAME:"Nobleford"},geometry:{type:"Point",coordinates:[-113.054,49.885]}},{type:"Feature",properties:{CMAUID:"825",CSDUID:"4806016",CSDNAME:"Calgary"},geometry:{type:"Point",coordinates:[-114.052,51.035]}},{type:"Feature",properties:{CMAUID:"825",CSDUID:"4806026",CSDNAME:"Crossfield"},geometry:{type:"Point",coordinates:[-114.034,51.426]}},{type:"Feature",properties:{CMAUID:"825",CSDUID:"4806021",CSDNAME:"Airdrie"},geometry:{type:"Point",coordinates:[-114.007,51.287]}},{type:"Feature",properties:{CMAUID:"825",CSDUID:"4806014",CSDNAME:"Rocky View County"},geometry:{type:"Point",coordinates:[-114.066,51.226]}},{type:"Feature",properties:{CMAUID:"825",CSDUID:"4806019",CSDNAME:"Cochrane"},geometry:{type:"Point",coordinates:[-114.47,51.186]}},{type:"Feature",properties:{CMAUID:"825",CSDUID:"4806804",CSDNAME:"Tsuu T'ina Nation 145"},geometry:{type:"Point",coordinates:[-114.352,50.965]}},{type:"Feature",properties:{CMAUID:"825",CSDUID:"4806017",CSDNAME:"Chestermere"},geometry:{type:"Point",coordinates:[-113.824,51.034]}},{type:"Feature",properties:{CMAUID:"825",CSDUID:"4806022",CSDNAME:"Irricana"},geometry:{type:"Point",coordinates:[-113.602,51.324]}},{type:"Feature",properties:{CMAUID:"825",CSDUID:"4806024",CSDNAME:"Beiseker"},geometry:{type:"Point",coordinates:[-113.54,51.381]}},{type:"Feature",properties:{CMAUID:"830",CSDUID:"4808011",CSDNAME:"Red Deer"},geometry:{type:"Point",coordinates:[-113.797,52.282]}},{type:"Feature",properties:{CMAUID:"835",CSDUID:"4810066",CSDNAME:"Bruderheim"},geometry:{type:"Point",coordinates:[-112.931,53.8]}},{type:"Feature",properties:{CMAUID:"835",CSDUID:"4811061",CSDNAME:"Edmonton"},geometry:{type:"Point",coordinates:[-113.501,53.52]}},{type:"Feature",properties:{CMAUID:"835",CSDUID:"4811059",CSDNAME:"Sturgeon County"},geometry:{type:"Point",coordinates:[-113.531,53.83]}},{type:"Feature",properties:{CMAUID:"835",CSDUID:"4811069",CSDNAME:"Legal"},geometry:{type:"Point",coordinates:[-113.591,53.95]}},{type:"Feature",properties:{CMAUID:"835",CSDUID:"4811066",CSDNAME:"Bon Accord"},geometry:{type:"Point",coordinates:[-113.415,53.84]}},{type:"Feature",properties:{CMAUID:"835",CSDUID:"4811064",CSDNAME:"Gibbons"},geometry:{type:"Point",coordinates:[-113.327,53.821]}},{type:"Feature",properties:{CMAUID:"835",CSDUID:"4811056",CSDNAME:"Fort Saskatchewan"},geometry:{type:"Point",coordinates:[-113.196,53.71]}},{type:"Feature",properties:{CMAUID:"835",CSDUID:"4811052",CSDNAME:"Strathcona County"},geometry:{type:"Point",coordinates:[-113.098,53.566]}},{type:"Feature",properties:{CMAUID:"835",CSDUID:"4811012",CSDNAME:"Leduc County"},geometry:{type:"Point",coordinates:[-113.823,53.234]}},{type:"Feature",properties:{CMAUID:"835",CSDUID:"4811013",CSDNAME:"Beaumont"},geometry:{type:"Point",coordinates:[-113.425,53.356]}},{type:"Feature",properties:{CMAUID:"835",CSDUID:"4811016",CSDNAME:"Leduc"},geometry:{type:"Point",coordinates:[-113.546,53.266]}},{type:"Feature",properties:{CMAUID:"835",CSDUID:"4811023",CSDNAME:"Golden Days"},geometry:{type:"Point",coordinates:[-114.054,53.054]}},{type:"Feature",properties:{CMAUID:"835",CSDUID:"4811022",CSDNAME:"Itaska Beach"},geometry:{type:"Point",coordinates:[-114.078,53.071]}},{type:"Feature",properties:{CMAUID:"835",CSDUID:"4811020",CSDNAME:"Sundance Beach"},geometry:{type:"Point",coordinates:[-114.11,53.081]}},{type:"Feature",properties:{CMAUID:"835",CSDUID:"4811021",CSDNAME:"Thorsby"},geometry:{type:"Point",coordinates:[-114.046,53.227]}},{type:"Feature",properties:{CMAUID:"835",CSDUID:"4811019",CSDNAME:"Calmar"},geometry:{type:"Point",coordinates:[-113.807,53.264]}},{type:"Feature",properties:{CMAUID:"835",CSDUID:"4811018",CSDNAME:"Devon"},geometry:{type:"Point",coordinates:[-113.726,53.353]}},{type:"Feature",properties:{CMAUID:"835",CSDUID:"4811034",CSDNAME:"Parkland County"},geometry:{type:"Point",coordinates:[-114.406,53.483]}},{type:"Feature",properties:{CMAUID:"835",CSDUID:"4811048",CSDNAME:"Stony Plain"},geometry:{type:"Point",coordinates:[-113.997,53.529]}},{type:"Feature",properties:{CMAUID:"835",CSDUID:"4811046",CSDNAME:"Spring Lake"},geometry:{type:"Point",coordinates:[-114.137,53.519]}},{type:"Feature",properties:{CMAUID:"835",CSDUID:"4811049",CSDNAME:"Spruce Grove"},geometry:{type:"Point",coordinates:[-113.906,53.546]}},{type:"Feature",properties:{CMAUID:"835",CSDUID:"4811062",CSDNAME:"St. Albert"},geometry:{type:"Point",coordinates:[-113.639,53.64]}},{type:"Feature",properties:{CMAUID:"835",CSDUID:"4811804",CSDNAME:"Enoch Cree Nation"},geometry:{type:"Point",coordinates:[-113.75,53.483]}},{type:"Feature",properties:{CMAUID:"835",CSDUID:"4811068",CSDNAME:"Morinville"},geometry:{type:"Point",coordinates:[-113.638,53.798]}},{type:"Feature",properties:{CMAUID:"835",CSDUID:"4811805",CSDNAME:"Alexander 134"},geometry:{type:"Point",coordinates:[-113.959,53.812]}},{type:"Feature",properties:{CMAUID:"835",CSDUID:"4811806",CSDNAME:"Wabamun 133A"},geometry:{type:"Point",coordinates:[-114.42,53.51]}},{type:"Feature",properties:{CMAUID:"835",CSDUID:"4811044",CSDNAME:"Kapasiwin"},geometry:{type:"Point",coordinates:[-114.446,53.546]}},{type:"Feature",properties:{CMAUID:"835",CSDUID:"4811807",CSDNAME:"Wabamun 133B"},geometry:{type:"Point",coordinates:[-114.434,53.549]}},{type:"Feature",properties:{CMAUID:"835",CSDUID:"4811041",CSDNAME:"Point Alison"},geometry:{type:"Point",coordinates:[-114.487,53.551]}},{type:"Feature",properties:{CMAUID:"835",CSDUID:"4811042",CSDNAME:"Lakeview"},geometry:{type:"Point",coordinates:[-114.459,53.56]}},{type:"Feature",properties:{CMAUID:"835",CSDUID:"4811039",CSDNAME:"Betula Beach"},geometry:{type:"Point",coordinates:[-114.684,53.542]}},{type:"Feature",properties:{CMAUID:"835",CSDUID:"4811038",CSDNAME:"Seba Beach"},geometry:{type:"Point",coordinates:[-114.728,53.563]}},{type:"Feature",properties:{CMAUID:"835",CSDUID:"4811024",CSDNAME:"Warburg"},geometry:{type:"Point",coordinates:[-114.319,53.185]}},{type:"Feature",properties:{CMAUID:"835",CSDUID:"4811065",CSDNAME:"Redwater"},geometry:{type:"Point",coordinates:[-113.119,53.953]}},{type:"Feature",properties:{CMAUID:"860",CSDUID:"4816861",CSDNAME:"Thabacha Náre 196A"},geometry:{type:"Point",coordinates:[-111.858,59.994]}},{type:"Feature",properties:{CMAUID:"860",CSDUID:"4816037",CSDNAME:"Wood Buffalo"},geometry:{type:"Point",coordinates:[-111.328,57.603]}},{type:"Feature",properties:{CMAUID:"860",CSDUID:"4816852",CSDNAME:"Dog Head 218"},geometry:{type:"Point",coordinates:[-111.183,58.711]}},{type:"Feature",properties:{CMAUID:"860",CSDUID:"4816849",CSDNAME:"Old Fort 217"},geometry:{type:"Point",coordinates:[-111.477,58.418]}},{type:"Feature",properties:{CMAUID:"860",CSDUID:"4816850",CSDNAME:"Allison Bay 219"},geometry:{type:"Point",coordinates:[-111.034,58.775]}},{type:"Feature",properties:{CMAUID:"860",CSDUID:"4816822",CSDNAME:"Gregoire Lake 176A"},geometry:{type:"Point",coordinates:[-111.18,56.444]}},{type:"Feature",properties:{CMAUID:"860",CSDUID:"4816821",CSDNAME:"Gregoire Lake 176"},geometry:{type:"Point",coordinates:[-111.148,56.413]}},{type:"Feature",properties:{CMAUID:"860",CSDUID:"4816810",CSDNAME:"Fort Mckay 174"},geometry:{type:"Point",coordinates:[-111.604,57.172]}},{type:"Feature",properties:{CMAUID:"860",CSDUID:"4816817",CSDNAME:"Janvier 194"},geometry:{type:"Point",coordinates:[-110.72,55.934]}},{type:"Feature",properties:{CMAUID:"850",CSDUID:"4819012",CSDNAME:"Grande Prairie"},geometry:{type:"Point",coordinates:[-118.833,55.183]}},{type:"Feature",properties:{CMAUID:"932",CSDUID:"5909052",CSDNAME:"Abbotsford"},geometry:{type:"Point",coordinates:[-122.285,49.069]}},{type:"Feature",properties:{CMAUID:"932",CSDUID:"5909056",CSDNAME:"Mission"},geometry:{type:"Point",coordinates:[-122.343,49.233]}},{type:"Feature",properties:{CMAUID:"930",CSDUID:"5909020",CSDNAME:"Chilliwack"},geometry:{type:"Point",coordinates:[-121.929,49.143]}},{type:"Feature",properties:{CMAUID:"930",CSDUID:"5909885",CSDNAME:"Squiaala"},geometry:{type:"Point",coordinates:[-121.986,49.157]}},{type:"Feature",properties:{CMAUID:"930",CSDUID:"5909826",CSDNAME:"Skway 5"},geometry:{type:"Point",coordinates:[-121.995,49.17]}},{type:"Feature",properties:{CMAUID:"930",CSDUID:"5909825",CSDNAME:"Skwali 3"},geometry:{type:"Point",coordinates:[-121.964,49.186]}},{type:"Feature",properties:{CMAUID:"930",CSDUID:"5909824",CSDNAME:"Skwah 4"},geometry:{type:"Point",coordinates:[-121.977,49.176]}},{type:"Feature",properties:{CMAUID:"930",CSDUID:"5909838",CSDNAME:"Schelowat 1"},geometry:{type:"Point",coordinates:[-121.833,49.179]}},{type:"Feature",properties:{CMAUID:"930",CSDUID:"5909837",CSDNAME:"Cheam 1"},geometry:{type:"Point",coordinates:[-121.769,49.197]}},{type:"Feature",properties:{CMAUID:"930",CSDUID:"5909034",CSDNAME:"Fraser Valley D"},geometry:{type:"Point",coordinates:[-121.632,49.221]}},{type:"Feature",properties:{CMAUID:"930",CSDUID:"5909844",CSDNAME:"Popkum 1"},geometry:{type:"Point",coordinates:[-121.719,49.208]}},{type:"Feature",properties:{CMAUID:"930",CSDUID:"5909032",CSDNAME:"Kent"},geometry:{type:"Point",coordinates:[-121.78,49.281]}},{type:"Feature",properties:{CMAUID:"930",CSDUID:"5909834",CSDNAME:"Tseatah 2"},geometry:{type:"Point",coordinates:[-121.758,49.218]}},{type:"Feature",properties:{CMAUID:"930",CSDUID:"5909832",CSDNAME:"Seabird Island"},geometry:{type:"Point",coordinates:[-121.71,49.276]}},{type:"Feature",properties:{CMAUID:"930",CSDUID:"5909027",CSDNAME:"Harrison Hot Springs"},geometry:{type:"Point",coordinates:[-121.784,49.298]}},{type:"Feature",properties:{CMAUID:"930",CSDUID:"5909833",CSDNAME:"Scowlitz 1"},geometry:{type:"Point",coordinates:[-121.937,49.232]}},{type:"Feature",properties:{CMAUID:"930",CSDUID:"5909036",CSDNAME:"Fraser Valley E"},geometry:{type:"Point",coordinates:[-121.597,49.074]}},{type:"Feature",properties:{CMAUID:"930",CSDUID:"5909831",CSDNAME:"Yakweakwioose 12"},geometry:{type:"Point",coordinates:[-121.937,49.134]}},{type:"Feature",properties:{CMAUID:"930",CSDUID:"5909884",CSDNAME:"Skowkale"},geometry:{type:"Point",coordinates:[-121.943,49.137]}},{type:"Feature",properties:{CMAUID:"930",CSDUID:"5909835",CSDNAME:"Aitchelitch 9"},geometry:{type:"Point",coordinates:[-121.991,49.15]}},{type:"Feature",properties:{CMAUID:"932",CSDUID:"5909877",CSDNAME:"Upper Sumas 6"},geometry:{type:"Point",coordinates:[-122.194,49.052]}},{type:"Feature",properties:{CMAUID:"930",CSDUID:"5909035",CSDNAME:"Fraser Valley H"},geometry:{type:"Point",coordinates:[-121.982,49.033]}},{type:"Feature",properties:{CMAUID:"930",CSDUID:"5909827",CSDNAME:"Soowahlie 14"},geometry:{type:"Point",coordinates:[-121.957,49.084]}},{type:"Feature",properties:{CMAUID:"932",CSDUID:"5909878",CSDNAME:"Matsqui Main 2"},geometry:{type:"Point",coordinates:[-122.351,49.109]}},{type:"Feature",properties:{CMAUID:"930",CSDUID:"5909830",CSDNAME:"Tzeachten 13"},geometry:{type:"Point",coordinates:[-121.946,49.113]}},{type:"Feature",properties:{CMAUID:"930",CSDUID:"5909821",CSDNAME:"Kwawkwawapilt 6"},geometry:{type:"Point",coordinates:[-121.98,49.164]}},{type:"Feature",properties:{CMAUID:"932",CSDUID:"5909856",CSDNAME:"Langley 2"},geometry:{type:"Point",coordinates:[-122.419,49.187]}},{type:"Feature",properties:{CMAUID:"933",CSDUID:"5915055",CSDNAME:"West Vancouver"},geometry:{type:"Point",coordinates:[-123.193,49.368]}},{type:"Feature",properties:{CMAUID:"933",CSDUID:"5915046",CSDNAME:"North Vancouver"},geometry:{type:"Point",coordinates:[-123.007,49.364]}},{type:"Feature",properties:{CMAUID:"933",CSDUID:"5915051",CSDNAME:"North Vancouver"},geometry:{type:"Point",coordinates:[-123.07,49.32]}},{type:"Feature",properties:{CMAUID:"933",CSDUID:"5915025",CSDNAME:"Burnaby"},geometry:{type:"Point",coordinates:[-122.965,49.246]}},{type:"Feature",properties:{CMAUID:"933",CSDUID:"5915022",CSDNAME:"Vancouver"},geometry:{type:"Point",coordinates:[-123.108,49.249]}},{type:"Feature",properties:{CMAUID:"933",CSDUID:"5915020",CSDNAME:"Metro Vancouver A"},geometry:{type:"Point",coordinates:[-122.852,49.459]}},{type:"Feature",properties:{CMAUID:"933",CSDUID:"5915803",CSDNAME:"Musqueam 2"},geometry:{type:"Point",coordinates:[-123.203,49.23]}},{type:"Feature",properties:{CMAUID:"933",CSDUID:"5915015",CSDNAME:"Richmond"},geometry:{type:"Point",coordinates:[-123.107,49.165]}},{type:"Feature",properties:{CMAUID:"933",CSDUID:"5915034",CSDNAME:"Coquitlam"},geometry:{type:"Point",coordinates:[-122.771,49.297]}},{type:"Feature",properties:{CMAUID:"933",CSDUID:"5915043",CSDNAME:"Port Moody"},geometry:{type:"Point",coordinates:[-122.87,49.298]}},{type:"Feature",properties:{CMAUID:"933",CSDUID:"5915039",CSDNAME:"Port Coquitlam"},geometry:{type:"Point",coordinates:[-122.762,49.253]}},{type:"Feature",properties:{CMAUID:"933",CSDUID:"5915070",CSDNAME:"Pitt Meadows"},geometry:{type:"Point",coordinates:[-122.664,49.272]}},{type:"Feature",properties:{CMAUID:"933",CSDUID:"5915075",CSDNAME:"Maple Ridge"},geometry:{type:"Point",coordinates:[-122.516,49.262]}},{type:"Feature",properties:{CMAUID:"933",CSDUID:"5915830",CSDNAME:"Katzie 1"},geometry:{type:"Point",coordinates:[-122.674,49.203]}},{type:"Feature",properties:{CMAUID:"933",CSDUID:"5915004",CSDNAME:"Surrey"},geometry:{type:"Point",coordinates:[-122.784,49.117]}},{type:"Feature",properties:{CMAUID:"933",CSDUID:"5915011",CSDNAME:"Delta"},geometry:{type:"Point",coordinates:[-123.01,49.099]}},{type:"Feature",properties:{CMAUID:"933",CSDUID:"5915002",CSDNAME:"Langley"},geometry:{type:"Point",coordinates:[-122.66,49.099]}},{type:"Feature",properties:{CMAUID:"933",CSDUID:"5915001",CSDNAME:"Langley"},geometry:{type:"Point",coordinates:[-122.572,49.094]}},{type:"Feature",properties:{CMAUID:"933",CSDUID:"5915813",CSDNAME:"Katzie 2"},geometry:{type:"Point",coordinates:[-122.653,49.194]}},{type:"Feature",properties:{CMAUID:"933",CSDUID:"5915801",CSDNAME:"Semiahmoo"},geometry:{type:"Point",coordinates:[-122.769,49.013]}},{type:"Feature",properties:{CMAUID:"933",CSDUID:"5915007",CSDNAME:"White Rock"},geometry:{type:"Point",coordinates:[-122.806,49.026]}},{type:"Feature",properties:{CMAUID:"933",CSDUID:"5915029",CSDNAME:"New Westminster"},geometry:{type:"Point",coordinates:[-122.919,49.208]}},{type:"Feature",properties:{CMAUID:"933",CSDUID:"5915804",CSDNAME:"Coquitlam 2"},geometry:{type:"Point",coordinates:[-122.793,49.247]}},{type:"Feature",properties:{CMAUID:"933",CSDUID:"5915807",CSDNAME:"Mission 1"},geometry:{type:"Point",coordinates:[-123.088,49.317]}},{type:"Feature",properties:{CMAUID:"933",CSDUID:"5915065",CSDNAME:"Lions Bay"},geometry:{type:"Point",coordinates:[-123.236,49.463]}},{type:"Feature",properties:{CMAUID:"933",CSDUID:"5915811",CSDNAME:"Seymour Creek 2"},geometry:{type:"Point",coordinates:[-123.025,49.306]}},{type:"Feature",properties:{CMAUID:"933",CSDUID:"5915038",CSDNAME:"Anmore"},geometry:{type:"Point",coordinates:[-122.85,49.344]}},{type:"Feature",properties:{CMAUID:"933",CSDUID:"5915036",CSDNAME:"Belcarra"},geometry:{type:"Point",coordinates:[-122.9,49.328]}},{type:"Feature",properties:{CMAUID:"933",CSDUID:"5915810",CSDNAME:"Musqueam 4"},geometry:{type:"Point",coordinates:[-123.125,49.067]}},{type:"Feature",properties:{CMAUID:"933",CSDUID:"5915062",CSDNAME:"Bowen Island"},geometry:{type:"Point",coordinates:[-123.371,49.373]}},{type:"Feature",properties:{CMAUID:"933",CSDUID:"5915809",CSDNAME:"Barnston Island 3"},geometry:{type:"Point",coordinates:[-122.695,49.188]}},{type:"Feature",properties:{CMAUID:"933",CSDUID:"5915840",CSDNAME:"Whonnock 1"},geometry:{type:"Point",coordinates:[-122.461,49.175]}},{type:"Feature",properties:{CMAUID:"933",CSDUID:"5915816",CSDNAME:"McMillan Island 6"},geometry:{type:"Point",coordinates:[-122.565,49.175]}},{type:"Feature",properties:{CMAUID:"933",CSDUID:"5915808",CSDNAME:"Capilano 5"},geometry:{type:"Point",coordinates:[-123.132,49.322]}},{type:"Feature",properties:{CMAUID:"933",CSDUID:"5915802",CSDNAME:"Tsawwassen"},geometry:{type:"Point",coordinates:[-123.099,49.044]}},{type:"Feature",properties:{CMAUID:"933",CSDUID:"5915825",CSDNAME:"Matsqui 4"},geometry:{type:"Point",coordinates:[-122.476,49.005]}},{type:"Feature",properties:{CMAUID:"933",CSDUID:"5915805",CSDNAME:"Coquitlam 1"},geometry:{type:"Point",coordinates:[-122.805,49.23]}},{type:"Feature",properties:{CMAUID:"933",CSDUID:"5915806",CSDNAME:"Burrard Inlet 3"},geometry:{type:"Point",coordinates:[-122.979,49.309]}},{type:"Feature",properties:{CMAUID:"935",CSDUID:"5917005",CSDNAME:"North Saanich"},geometry:{type:"Point",coordinates:[-123.441,48.657]}},{type:"Feature",properties:{CMAUID:"935",CSDUID:"5917010",CSDNAME:"Sidney"},geometry:{type:"Point",coordinates:[-123.407,48.652]}},{type:"Feature",properties:{CMAUID:"935",CSDUID:"5917803",CSDNAME:"East Saanich 2"},geometry:{type:"Point",coordinates:[-123.388,48.588]}},{type:"Feature",properties:{CMAUID:"935",CSDUID:"5917015",CSDNAME:"Central Saanich"},geometry:{type:"Point",coordinates:[-123.422,48.58]}},{type:"Feature",properties:{CMAUID:"935",CSDUID:"5917021",CSDNAME:"Saanich"},geometry:{type:"Point",coordinates:[-123.39,48.497]}},{type:"Feature",properties:{CMAUID:"935",CSDUID:"5917034",CSDNAME:"Victoria"},geometry:{type:"Point",coordinates:[-123.356,48.428]}},{type:"Feature",properties:{CMAUID:"935",CSDUID:"5917030",CSDNAME:"Oak Bay"},geometry:{type:"Point",coordinates:[-123.31,48.435]}},{type:"Feature",properties:{CMAUID:"935",CSDUID:"5917040",CSDNAME:"Esquimalt"},geometry:{type:"Point",coordinates:[-123.411,48.434]}},{type:"Feature",properties:{CMAUID:"935",CSDUID:"5917047",CSDNAME:"View Royal"},geometry:{type:"Point",coordinates:[-123.462,48.471]}},{type:"Feature",properties:{CMAUID:"935",CSDUID:"5917811",CSDNAME:"Esquimalt"},geometry:{type:"Point",coordinates:[-123.43,48.445]}},{type:"Feature",properties:{CMAUID:"935",CSDUID:"5917812",CSDNAME:"New Songhees 1A"},geometry:{type:"Point",coordinates:[-123.424,48.445]}},{type:"Feature",properties:{CMAUID:"935",CSDUID:"5917041",CSDNAME:"Colwood"},geometry:{type:"Point",coordinates:[-123.486,48.426]}},{type:"Feature",properties:{CMAUID:"935",CSDUID:"5917044",CSDNAME:"Langford"},geometry:{type:"Point",coordinates:[-123.53,48.45]}},{type:"Feature",properties:{CMAUID:"935",CSDUID:"5917804",CSDNAME:"South Saanich 1"},geometry:{type:"Point",coordinates:[-123.455,48.585]}},{type:"Feature",properties:{CMAUID:"935",CSDUID:"5917054",CSDNAME:"Juan de Fuca (Part 1)"},geometry:{type:"Point",coordinates:[-123.689,48.438]}},{type:"Feature",properties:{CMAUID:"935",CSDUID:"5917801",CSDNAME:"Cole Bay 3"},geometry:{type:"Point",coordinates:[-123.456,48.623]}},{type:"Feature",properties:{CMAUID:"935",CSDUID:"5917802",CSDNAME:"Union Bay 4"},geometry:{type:"Point",coordinates:[-123.449,48.665]}},{type:"Feature",properties:{CMAUID:"935",CSDUID:"5917049",CSDNAME:"Highlands"},geometry:{type:"Point",coordinates:[-123.504,48.515]}},{type:"Feature",properties:{CMAUID:"935",CSDUID:"5917052",CSDNAME:"Sooke"},geometry:{type:"Point",coordinates:[-123.693,48.397]}},{type:"Feature",properties:{CMAUID:"935",CSDUID:"5917819",CSDNAME:"T'Sou-ke"},geometry:{type:"Point",coordinates:[-123.73,48.371]}},{type:"Feature",properties:{CMAUID:"935",CSDUID:"5917042",CSDNAME:"Metchosin"},geometry:{type:"Point",coordinates:[-123.57,48.377]}},{type:"Feature",properties:{CMAUID:"935",CSDUID:"5917809",CSDNAME:"Becher Bay 1"},geometry:{type:"Point",coordinates:[-123.6,48.341]}},{type:"Feature",properties:{CMAUID:"938",CSDUID:"5921805",CSDNAME:"Nanoose"},geometry:{type:"Point",coordinates:[-124.123,49.251]}},{type:"Feature",properties:{CMAUID:"938",CSDUID:"5921008",CSDNAME:"Lantzville"},geometry:{type:"Point",coordinates:[-124.1,49.23]}},{type:"Feature",properties:{CMAUID:"938",CSDUID:"5921016",CSDNAME:"Nanaimo C"},geometry:{type:"Point",coordinates:[-124.283,49.123]}},{type:"Feature",properties:{CMAUID:"938",CSDUID:"5921007",CSDNAME:"Nanaimo"},geometry:{type:"Point",coordinates:[-123.967,49.18]}},{type:"Feature",properties:{CMAUID:"938",CSDUID:"5921804",CSDNAME:"Nanaimo Town 1"},geometry:{type:"Point",coordinates:[-123.929,49.15]}},{type:"Feature",properties:{CMAUID:"938",CSDUID:"5921010",CSDNAME:"Nanaimo A"},geometry:{type:"Point",coordinates:[-123.847,49.087]}},{type:"Feature",properties:{CMAUID:"938",CSDUID:"5921807",CSDNAME:"Nanaimo River"},geometry:{type:"Point",coordinates:[-123.88,49.124]}},{type:"Feature",properties:{CMAUID:"925",CSDUID:"5933042",CSDNAME:"Kamloops"},geometry:{type:"Point",coordinates:[-120.328,50.694]}},{type:"Feature",properties:{CMAUID:"925",CSDUID:"5933035",CSDNAME:"Logan Lake"},geometry:{type:"Point",coordinates:[-121.028,50.487]}},{type:"Feature",properties:{CMAUID:"925",CSDUID:"5933039",CSDNAME:"Thompson-Nicola J (Copper Desert Country)"},geometry:{type:"Point",coordinates:[-120.7,50.807]}},{type:"Feature",properties:{CMAUID:"925",CSDUID:"5933044",CSDNAME:"Thompson-Nicola P (Rivers and the Peaks)"},geometry:{type:"Point",coordinates:[-120.089,50.88]}},{type:"Feature",properties:{CMAUID:"925",CSDUID:"5933877",CSDNAME:"Whispering Pines 4"},geometry:{type:"Point",coordinates:[-120.245,50.985]}},{type:"Feature",properties:{CMAUID:"925",CSDUID:"5933880",CSDNAME:"Kamloops 1"},geometry:{type:"Point",coordinates:[-120.257,50.73]}},{type:"Feature",properties:{CMAUID:"925",CSDUID:"5933054",CSDNAME:"Chase"},geometry:{type:"Point",coordinates:[-119.689,50.844]}},{type:"Feature",properties:{CMAUID:"925",CSDUID:"5933884",CSDNAME:"Sahhaltkum 4"},geometry:{type:"Point",coordinates:[-119.731,50.819]}},{type:"Feature",properties:{CMAUID:"925",CSDUID:"5933045",CSDNAME:"Sun Peaks Mountain"},geometry:{type:"Point",coordinates:[-119.896,50.889]}},{type:"Feature",properties:{CMAUID:"915",CSDUID:"5935010",CSDNAME:"Kelowna"},geometry:{type:"Point",coordinates:[-119.44,49.885]}},{type:"Feature",properties:{CMAUID:"915",CSDUID:"5935020",CSDNAME:"Central Okanagan West"},geometry:{type:"Point",coordinates:[-119.714,49.992]}},{type:"Feature",properties:{CMAUID:"915",CSDUID:"5935016",CSDNAME:"Lake Country"},geometry:{type:"Point",coordinates:[-119.4,50.077]}},{type:"Feature",properties:{CMAUID:"915",CSDUID:"5935801",CSDNAME:"Duck Lake 7"},geometry:{type:"Point",coordinates:[-119.396,50.009]}},{type:"Feature",properties:{CMAUID:"915",CSDUID:"5935012",CSDNAME:"Central Okanagan"},geometry:{type:"Point",coordinates:[-119.194,49.917]}},{type:"Feature",properties:{CMAUID:"915",CSDUID:"5935029",CSDNAME:"West Kelowna"},geometry:{type:"Point",coordinates:[-119.609,49.861]}},{type:"Feature",properties:{CMAUID:"915",CSDUID:"5935802",CSDNAME:"Tsinstikeptum 9"},geometry:{type:"Point",coordinates:[-119.606,49.839]}},{type:"Feature",properties:{CMAUID:"915",CSDUID:"5935018",CSDNAME:"Peachland"},geometry:{type:"Point",coordinates:[-119.739,49.775]}},{type:"Feature",properties:{CMAUID:"915",CSDUID:"5935803",CSDNAME:"Tsinstikeptum 10"},geometry:{type:"Point",coordinates:[-119.536,49.883]}},{type:"Feature",properties:{CMAUID:"970",CSDUID:"5953023",CSDNAME:"Prince George"},geometry:{type:"Point",coordinates:[-122.776,53.924]}},{type:"Feature",properties:{CMAUID:"970",CSDUID:"5953038",CSDNAME:"Fraser-Fort George A"},geometry:{type:"Point",coordinates:[-123.087,54.059]}},{type:"Feature",properties:{CMAUID:"970",CSDUID:"5953042",CSDNAME:"Fraser-Fort George C"},geometry:{type:"Point",coordinates:[-123.062,53.623]}},{type:"Feature",properties:{CMAUID:"970",CSDUID:"5953044",CSDNAME:"Fraser-Fort George D"},geometry:{type:"Point",coordinates:[-122.551,53.74]}},{type:"Feature",properties:{CMAUID:"970",CSDUID:"5953048",CSDNAME:"Fraser-Fort George F"},geometry:{type:"Point",coordinates:[-121.49,53.984]}},{type:"Feature",properties:{CMAUID:"970",CSDUID:"5953801",CSDNAME:"Fort George 2"},geometry:{type:"Point",coordinates:[-122.626,54.017]}}],eh={type:Kp,name:Jp,crs:$p,features:Qp},th=""+new URL("../assets/metro-mindset-logo.87bc71a0.svg",import.meta.url).href;function Z2(C){let w,D,T,U=C[4].Total_Number_of_Municipalities+"",Y,R,n,G,ee=Math.round(C[4]["Land_Area_(sq_km)"]).toLocaleString()+"",fe,ie,ye,me,Ae,xe=Math.round(C[4]["GDP_2019_(millions)"]).toLocaleString()+"",ze,$e,Qe,He,Re=Math.round(C[4].Population_2021).toLocaleString()+"",ot,ut,Xe,mt,Te=C[4].Proportion_of_Population_In_Central+"",Et,we;return{c(){w=At("p"),D=wt("Number of Municipalities: "),T=At("span"),Y=wt(U),R=At("br"),n=wt(`

                Total Land Area (sq.km):
                `),G=At("span"),fe=wt(ee),ie=At("br"),ye=wt(`

                GDP (2019) in mllions:
                `),me=At("span"),Ae=wt("$"),ze=wt(xe),$e=At("br"),Qe=wt(`

                Population (2021):
                `),He=At("span"),ot=wt(Re),ut=At("br"),Xe=wt(`

                % of Population in Central City:
                `),mt=At("span"),Et=wt(Te),we=wt("%"),this.h()},l(qe){w=It(qe,"P",{class:!0});var ct=ke(w);D=Dt(ct,"Number of Municipalities: "),T=It(ct,"SPAN",{id:!0,class:!0});var kt=ke(T);Y=Dt(kt,U),kt.forEach(Ce),R=It(ct,"BR",{}),n=Dt(ct,`

                Total Land Area (sq.km):
                `),G=It(ct,"SPAN",{id:!0,class:!0});var Pt=ke(G);fe=Dt(Pt,ee),Pt.forEach(Ce),ie=It(ct,"BR",{}),ye=Dt(ct,`

                GDP (2019) in mllions:
                `),me=It(ct,"SPAN",{id:!0,class:!0});var o4=ke(me);Ae=Dt(o4,"$"),ze=Dt(o4,xe),o4.forEach(Ce),$e=It(ct,"BR",{}),Qe=Dt(ct,`

                Population (2021):
                `),He=It(ct,"SPAN",{id:!0,class:!0});var d4=ke(He);ot=Dt(d4,Re),d4.forEach(Ce),ut=It(ct,"BR",{}),Xe=Dt(ct,`

                % of Population in Central City:
                `),mt=It(ct,"SPAN",{id:!0,class:!0});var gt=ke(mt);Et=Dt(gt,Te),we=Dt(gt,"%"),gt.forEach(Ce),ct.forEach(Ce),this.h()},h(){P(T,"id","number"),P(T,"class","svelte-1o8sggl"),P(G,"id","number"),P(G,"class","svelte-1o8sggl"),P(me,"id","number"),P(me,"class","svelte-1o8sggl"),P(He,"id","number"),P(He,"class","svelte-1o8sggl"),P(mt,"id","number"),P(mt,"class","svelte-1o8sggl"),P(w,"class","svelte-1o8sggl")},m(qe,ct){T4(qe,w,ct),ne(w,D),ne(w,T),ne(T,Y),ne(w,R),ne(w,n),ne(w,G),ne(G,fe),ne(w,ie),ne(w,ye),ne(w,me),ne(me,Ae),ne(me,ze),ne(w,$e),ne(w,Qe),ne(w,He),ne(He,ot),ne(w,ut),ne(w,Xe),ne(w,mt),ne(mt,Et),ne(mt,we)},p(qe,ct){ct&16&&U!==(U=qe[4].Total_Number_of_Municipalities+"")&&Do(Y,U),ct&16&&ee!==(ee=Math.round(qe[4]["Land_Area_(sq_km)"]).toLocaleString()+"")&&Do(fe,ee),ct&16&&xe!==(xe=Math.round(qe[4]["GDP_2019_(millions)"]).toLocaleString()+"")&&Do(ze,xe),ct&16&&Re!==(Re=Math.round(qe[4].Population_2021).toLocaleString()+"")&&Do(ot,Re),ct&16&&Te!==(Te=qe[4].Proportion_of_Population_In_Central+"")&&Do(Et,Te)},d(qe){qe&&Ce(w)}}}function W2(C){let w,D,T,U,Y,R,n,G,ee,fe,ie,ye,me,Ae,xe,ze,$e;return{c(){w=At("div"),D=vt("svg"),T=vt("rect"),U=vt("text"),Y=wt("6,000 people/km2 and up"),R=vt("rect"),n=vt("text"),G=wt("3,000 to 6,000 people/km2"),ee=vt("rect"),fe=vt("text"),ie=wt("500 to 3,000 people/km2"),ye=vt("rect"),me=vt("text"),Ae=wt("Less than 500 people/km2"),xe=vt("rect"),ze=vt("text"),$e=wt("No Data"),this.h()},l(Qe){w=It(Qe,"DIV",{id:!0});var He=ke(w);D=bt(He,"svg",{id:!0,height:!0});var Re=ke(D);T=bt(Re,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0}),ke(T).forEach(Ce),U=bt(Re,"text",{x:!0,y:!0,class:!0,"font-size":!0});var ot=ke(U);Y=Dt(ot,"6,000 people/km2 and up"),ot.forEach(Ce),R=bt(Re,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0}),ke(R).forEach(Ce),n=bt(Re,"text",{x:!0,y:!0,class:!0,"font-size":!0});var ut=ke(n);G=Dt(ut,"3,000 to 6,000 people/km2"),ut.forEach(Ce),ee=bt(Re,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0}),ke(ee).forEach(Ce),fe=bt(Re,"text",{x:!0,y:!0,class:!0,"font-size":!0});var Xe=ke(fe);ie=Dt(Xe,"500 to 3,000 people/km2"),Xe.forEach(Ce),ye=bt(Re,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0}),ke(ye).forEach(Ce),me=bt(Re,"text",{x:!0,y:!0,class:!0,"font-size":!0});var mt=ke(me);Ae=Dt(mt,"Less than 500 people/km2"),mt.forEach(Ce),xe=bt(Re,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0}),ke(xe).forEach(Ce),ze=bt(Re,"text",{x:!0,y:!0,class:!0,"font-size":!0});var Te=ke(ze);$e=Dt(Te,"No Data"),Te.forEach(Ce),Re.forEach(Ce),He.forEach(Ce),this.h()},h(){P(T,"class","legend-box svelte-1o8sggl"),P(T,"x","10"),P(T,"y","10"),P(T,"width","15"),P(T,"height","15"),P(T,"fill",C[11]["population-density"].colours[3]),P(U,"x","30"),P(U,"y","22"),P(U,"class","legend-text svelte-1o8sggl"),P(U,"font-size","12"),P(R,"class","legend-box svelte-1o8sggl"),P(R,"x","10"),P(R,"y","30"),P(R,"width","15"),P(R,"height","15"),P(R,"fill",C[11]["population-density"].colours[2]),P(n,"x","30"),P(n,"y","42"),P(n,"class","legend-text svelte-1o8sggl"),P(n,"font-size","12"),P(ee,"class","legend-box svelte-1o8sggl"),P(ee,"x","10"),P(ee,"y","50"),P(ee,"width","15"),P(ee,"height","15"),P(ee,"fill",C[11]["population-density"].colours[1]),P(fe,"x","30"),P(fe,"y","62"),P(fe,"class","legend-text svelte-1o8sggl"),P(fe,"font-size","12"),P(ye,"class","legend-box svelte-1o8sggl"),P(ye,"x","10"),P(ye,"y","70"),P(ye,"width","15"),P(ye,"height","15"),P(ye,"fill",C[11]["population-density"].colours[0]),P(me,"x","30"),P(me,"y","82"),P(me,"class","legend-text svelte-1o8sggl"),P(me,"font-size","12"),P(xe,"class","legend-box svelte-1o8sggl"),P(xe,"x","10"),P(xe,"y","90"),P(xe,"width","15"),P(xe,"height","15"),P(xe,"fill","#D0D1C9"),P(ze,"x","30"),P(ze,"y","102"),P(ze,"class","legend-text svelte-1o8sggl"),P(ze,"font-size","12"),P(D,"id","legend-svg"),P(D,"height","110"),P(w,"id","legend-wrapper")},m(Qe,He){T4(Qe,w,He),ne(w,D),ne(D,T),ne(D,U),ne(U,Y),ne(D,R),ne(D,n),ne(n,G),ne(D,ee),ne(D,fe),ne(fe,ie),ne(D,ye),ne(D,me),ne(me,Ae),ne(D,xe),ne(D,ze),ne(ze,$e)},p:oi,d(Qe){Qe&&Ce(w)}}}function H2(C){let w,D,T,U,Y,R,n,G,ee,fe,ie,ye,me,Ae,xe,ze,$e,Qe,He,Re,ot,ut;return{c(){w=At("div"),D=vt("svg"),T=vt("rect"),U=vt("text"),Y=wt("$150,000 and up"),R=vt("rect"),n=vt("text"),G=wt("$100,000 to $150,000"),ee=vt("rect"),fe=vt("text"),ie=wt("$75,000 to $100,000"),ye=vt("rect"),me=vt("text"),Ae=wt("$50,000 to $75,000"),xe=vt("rect"),ze=vt("text"),$e=wt("Less than $50,000"),Qe=vt("rect"),He=vt("text"),Re=wt("No Data"),ot=vt("text"),ut=wt("(all $ values are based on before-tax income)"),this.h()},l(Xe){w=It(Xe,"DIV",{id:!0});var mt=ke(w);D=bt(mt,"svg",{id:!0,height:!0});var Te=ke(D);T=bt(Te,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0}),ke(T).forEach(Ce),U=bt(Te,"text",{x:!0,y:!0,class:!0,"font-size":!0});var Et=ke(U);Y=Dt(Et,"$150,000 and up"),Et.forEach(Ce),R=bt(Te,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0}),ke(R).forEach(Ce),n=bt(Te,"text",{x:!0,y:!0,class:!0,"font-size":!0});var we=ke(n);G=Dt(we,"$100,000 to $150,000"),we.forEach(Ce),ee=bt(Te,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0}),ke(ee).forEach(Ce),fe=bt(Te,"text",{x:!0,y:!0,class:!0,"font-size":!0});var qe=ke(fe);ie=Dt(qe,"$75,000 to $100,000"),qe.forEach(Ce),ye=bt(Te,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0}),ke(ye).forEach(Ce),me=bt(Te,"text",{x:!0,y:!0,class:!0,"font-size":!0});var ct=ke(me);Ae=Dt(ct,"$50,000 to $75,000"),ct.forEach(Ce),xe=bt(Te,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0}),ke(xe).forEach(Ce),ze=bt(Te,"text",{x:!0,y:!0,class:!0,"font-size":!0});var kt=ke(ze);$e=Dt(kt,"Less than $50,000"),kt.forEach(Ce),Qe=bt(Te,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0}),ke(Qe).forEach(Ce),He=bt(Te,"text",{x:!0,y:!0,class:!0,"font-size":!0});var Pt=ke(He);Re=Dt(Pt,"No Data"),Pt.forEach(Ce),ot=bt(Te,"text",{x:!0,y:!0,class:!0,"font-size":!0});var o4=ke(ot);ut=Dt(o4,"(all $ values are based on before-tax income)"),o4.forEach(Ce),Te.forEach(Ce),mt.forEach(Ce),this.h()},h(){P(T,"class","legend-box svelte-1o8sggl"),P(T,"x","10"),P(T,"y","10"),P(T,"width","15"),P(T,"height","15"),P(T,"fill",C[11]["median-household-income"].colours[4]),P(U,"x","30"),P(U,"y","22"),P(U,"class","legend-text svelte-1o8sggl"),P(U,"font-size","12"),P(R,"class","legend-box svelte-1o8sggl"),P(R,"x","10"),P(R,"y","30"),P(R,"width","15"),P(R,"height","15"),P(R,"fill",C[11]["median-household-income"].colours[3]),P(n,"x","30"),P(n,"y","42"),P(n,"class","legend-text svelte-1o8sggl"),P(n,"font-size","12"),P(ee,"class","legend-box svelte-1o8sggl"),P(ee,"x","10"),P(ee,"y","50"),P(ee,"width","15"),P(ee,"height","15"),P(ee,"fill",C[11]["median-household-income"].colours[2]),P(fe,"x","30"),P(fe,"y","62"),P(fe,"class","legend-text svelte-1o8sggl"),P(fe,"font-size","12"),P(ye,"class","legend-box svelte-1o8sggl"),P(ye,"x","10"),P(ye,"y","70"),P(ye,"width","15"),P(ye,"height","15"),P(ye,"fill",C[11]["median-household-income"].colours[1]),P(me,"x","30"),P(me,"y","82"),P(me,"class","legend-text svelte-1o8sggl"),P(me,"font-size","12"),P(xe,"class","legend-box svelte-1o8sggl"),P(xe,"x","10"),P(xe,"y","90"),P(xe,"width","15"),P(xe,"height","15"),P(xe,"fill",C[11]["median-household-income"].colours[0]),P(ze,"x","30"),P(ze,"y","102"),P(ze,"class","legend-text svelte-1o8sggl"),P(ze,"font-size","12"),P(Qe,"class","legend-box svelte-1o8sggl"),P(Qe,"x","10"),P(Qe,"y","110"),P(Qe,"width","15"),P(Qe,"height","15"),P(Qe,"fill","#D0D1C9"),P(He,"x","30"),P(He,"y","122"),P(He,"class","legend-text svelte-1o8sggl"),P(He,"font-size","12"),P(ot,"x","10"),P(ot,"y","142"),P(ot,"class","legend-text svelte-1o8sggl"),P(ot,"font-size","12"),P(D,"id","legend-svg"),P(D,"height","145"),P(w,"id","legend-wrapper")},m(Xe,mt){T4(Xe,w,mt),ne(w,D),ne(D,T),ne(D,U),ne(U,Y),ne(D,R),ne(D,n),ne(n,G),ne(D,ee),ne(D,fe),ne(fe,ie),ne(D,ye),ne(D,me),ne(me,Ae),ne(D,xe),ne(D,ze),ne(ze,$e),ne(D,Qe),ne(D,He),ne(He,Re),ne(D,ot),ne(ot,ut)},p:oi,d(Xe){Xe&&Ce(w)}}}function X2(C){let w,D,T,U,Y,R,n,G,ee,fe,ie,ye,me,Ae,xe,ze,$e;return{c(){w=At("div"),D=vt("svg"),T=vt("rect"),U=vt("text"),Y=wt("2,000 dwellings/km2 and up"),R=vt("rect"),n=vt("text"),G=wt("1,000 to 2,000 dwellings/km2"),ee=vt("rect"),fe=vt("text"),ie=wt("100 to 1,000 dwellings/km2"),ye=vt("rect"),me=vt("text"),Ae=wt("Less than 100 dwellings/km2"),xe=vt("rect"),ze=vt("text"),$e=wt("No Data"),this.h()},l(Qe){w=It(Qe,"DIV",{id:!0});var He=ke(w);D=bt(He,"svg",{id:!0,height:!0});var Re=ke(D);T=bt(Re,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0}),ke(T).forEach(Ce),U=bt(Re,"text",{x:!0,y:!0,class:!0,"font-size":!0});var ot=ke(U);Y=Dt(ot,"2,000 dwellings/km2 and up"),ot.forEach(Ce),R=bt(Re,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0}),ke(R).forEach(Ce),n=bt(Re,"text",{x:!0,y:!0,class:!0,"font-size":!0});var ut=ke(n);G=Dt(ut,"1,000 to 2,000 dwellings/km2"),ut.forEach(Ce),ee=bt(Re,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0}),ke(ee).forEach(Ce),fe=bt(Re,"text",{x:!0,y:!0,class:!0,"font-size":!0});var Xe=ke(fe);ie=Dt(Xe,"100 to 1,000 dwellings/km2"),Xe.forEach(Ce),ye=bt(Re,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0}),ke(ye).forEach(Ce),me=bt(Re,"text",{x:!0,y:!0,class:!0,"font-size":!0});var mt=ke(me);Ae=Dt(mt,"Less than 100 dwellings/km2"),mt.forEach(Ce),xe=bt(Re,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0}),ke(xe).forEach(Ce),ze=bt(Re,"text",{x:!0,y:!0,class:!0,"font-size":!0});var Te=ke(ze);$e=Dt(Te,"No Data"),Te.forEach(Ce),Re.forEach(Ce),He.forEach(Ce),this.h()},h(){P(T,"class","legend-box svelte-1o8sggl"),P(T,"x","10"),P(T,"y","10"),P(T,"width","15"),P(T,"height","15"),P(T,"fill",C[11]["dwellings-density"].colours[3]),P(U,"x","30"),P(U,"y","22"),P(U,"class","legend-text svelte-1o8sggl"),P(U,"font-size","12"),P(R,"class","legend-box svelte-1o8sggl"),P(R,"x","10"),P(R,"y","30"),P(R,"width","15"),P(R,"height","15"),P(R,"fill",C[11]["dwellings-density"].colours[2]),P(n,"x","30"),P(n,"y","42"),P(n,"class","legend-text svelte-1o8sggl"),P(n,"font-size","12"),P(ee,"class","legend-box svelte-1o8sggl"),P(ee,"x","10"),P(ee,"y","50"),P(ee,"width","15"),P(ee,"height","15"),P(ee,"fill",C[11]["dwellings-density"].colours[1]),P(fe,"x","30"),P(fe,"y","62"),P(fe,"class","legend-text svelte-1o8sggl"),P(fe,"font-size","12"),P(ye,"class","legend-box svelte-1o8sggl"),P(ye,"x","10"),P(ye,"y","70"),P(ye,"width","15"),P(ye,"height","15"),P(ye,"fill",C[11]["dwellings-density"].colours[0]),P(me,"x","30"),P(me,"y","82"),P(me,"class","legend-text svelte-1o8sggl"),P(me,"font-size","12"),P(xe,"class","legend-box svelte-1o8sggl"),P(xe,"x","10"),P(xe,"y","90"),P(xe,"width","15"),P(xe,"height","15"),P(xe,"fill","#D0D1C9"),P(ze,"x","30"),P(ze,"y","102"),P(ze,"class","legend-text svelte-1o8sggl"),P(ze,"font-size","12"),P(D,"id","legend-svg"),P(D,"height","110"),P(w,"id","legend-wrapper")},m(Qe,He){T4(Qe,w,He),ne(w,D),ne(D,T),ne(D,U),ne(U,Y),ne(D,R),ne(D,n),ne(n,G),ne(D,ee),ne(D,fe),ne(fe,ie),ne(D,ye),ne(D,me),ne(me,Ae),ne(D,xe),ne(D,ze),ne(ze,$e)},p:oi,d(Qe){Qe&&Ce(w)}}}function Y2(C){let w,D,T,U,Y,R,n,G,ee,fe,ie,ye,me,Ae,xe,ze,$e,Qe,He,Re;return{c(){w=At("div"),D=vt("svg"),T=vt("rect"),U=vt("text"),Y=wt("70% and up"),R=vt("rect"),n=vt("text"),G=wt("50% to 70%"),ee=vt("rect"),fe=vt("text"),ie=wt("35% to 50%"),ye=vt("rect"),me=vt("text"),Ae=wt("20% to 35%"),xe=vt("rect"),ze=vt("text"),$e=wt("less than 20%"),Qe=vt("rect"),He=vt("text"),Re=wt("No Data"),this.h()},l(ot){w=It(ot,"DIV",{id:!0});var ut=ke(w);D=bt(ut,"svg",{id:!0,height:!0});var Xe=ke(D);T=bt(Xe,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0}),ke(T).forEach(Ce),U=bt(Xe,"text",{x:!0,y:!0,class:!0,"font-size":!0});var mt=ke(U);Y=Dt(mt,"70% and up"),mt.forEach(Ce),R=bt(Xe,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0}),ke(R).forEach(Ce),n=bt(Xe,"text",{x:!0,y:!0,class:!0,"font-size":!0});var Te=ke(n);G=Dt(Te,"50% to 70%"),Te.forEach(Ce),ee=bt(Xe,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0}),ke(ee).forEach(Ce),fe=bt(Xe,"text",{x:!0,y:!0,class:!0,"font-size":!0});var Et=ke(fe);ie=Dt(Et,"35% to 50%"),Et.forEach(Ce),ye=bt(Xe,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0}),ke(ye).forEach(Ce),me=bt(Xe,"text",{x:!0,y:!0,class:!0,"font-size":!0});var we=ke(me);Ae=Dt(we,"20% to 35%"),we.forEach(Ce),xe=bt(Xe,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0}),ke(xe).forEach(Ce),ze=bt(Xe,"text",{x:!0,y:!0,class:!0,"font-size":!0});var qe=ke(ze);$e=Dt(qe,"less than 20%"),qe.forEach(Ce),Qe=bt(Xe,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0}),ke(Qe).forEach(Ce),He=bt(Xe,"text",{x:!0,y:!0,class:!0,"font-size":!0});var ct=ke(He);Re=Dt(ct,"No Data"),ct.forEach(Ce),Xe.forEach(Ce),ut.forEach(Ce),this.h()},h(){P(T,"class","legend-box svelte-1o8sggl"),P(T,"x","10"),P(T,"y","10"),P(T,"width","15"),P(T,"height","15"),P(T,"fill",C[11]["perc-rent"].colours[4]),P(U,"x","30"),P(U,"y","22"),P(U,"class","legend-text svelte-1o8sggl"),P(U,"font-size","12"),P(R,"class","legend-box svelte-1o8sggl"),P(R,"x","10"),P(R,"y","30"),P(R,"width","15"),P(R,"height","15"),P(R,"fill",C[11]["perc-rent"].colours[3]),P(n,"x","30"),P(n,"y","42"),P(n,"class","legend-text svelte-1o8sggl"),P(n,"font-size","12"),P(ee,"class","legend-box svelte-1o8sggl"),P(ee,"x","10"),P(ee,"y","50"),P(ee,"width","15"),P(ee,"height","15"),P(ee,"fill",C[11]["perc-rent"].colours[2]),P(fe,"x","30"),P(fe,"y","62"),P(fe,"class","legend-text svelte-1o8sggl"),P(fe,"font-size","12"),P(ye,"class","legend-box svelte-1o8sggl"),P(ye,"x","10"),P(ye,"y","70"),P(ye,"width","15"),P(ye,"height","15"),P(ye,"fill",C[11]["perc-rent"].colours[1]),P(me,"x","30"),P(me,"y","82"),P(me,"class","legend-text svelte-1o8sggl"),P(me,"font-size","12"),P(xe,"class","legend-box svelte-1o8sggl"),P(xe,"x","10"),P(xe,"y","90"),P(xe,"width","15"),P(xe,"height","15"),P(xe,"fill",C[11]["perc-rent"].colours[0]),P(ze,"x","30"),P(ze,"y","102"),P(ze,"class","legend-text svelte-1o8sggl"),P(ze,"font-size","12"),P(Qe,"class","legend-box svelte-1o8sggl"),P(Qe,"x","10"),P(Qe,"y","110"),P(Qe,"width","15"),P(Qe,"height","15"),P(Qe,"fill","#D0D1C9"),P(He,"x","30"),P(He,"y","122"),P(He,"class","legend-text svelte-1o8sggl"),P(He,"font-size","12"),P(D,"id","legend-svg"),P(D,"height","125"),P(w,"id","legend-wrapper")},m(ot,ut){T4(ot,w,ut),ne(w,D),ne(D,T),ne(D,U),ne(U,Y),ne(D,R),ne(D,n),ne(n,G),ne(D,ee),ne(D,fe),ne(fe,ie),ne(D,ye),ne(D,me),ne(me,Ae),ne(D,xe),ne(D,ze),ne(ze,$e),ne(D,Qe),ne(D,He),ne(He,Re)},p:oi,d(ot){ot&&Ce(w)}}}function K2(C){let w,D,T,U,Y,R,n,G,ee,fe,ie,ye,me,Ae,xe,ze,$e,Qe,He,Re,ot,ut,Xe,mt;return{c(){w=At("div"),D=vt("svg"),T=vt("text"),U=wt("Percent of residents in "),Y=vt("a"),R=wt("Core Housing Need"),n=vt("rect"),G=vt("text"),ee=wt("20% and up"),fe=vt("rect"),ie=vt("text"),ye=wt("15% to 20%"),me=vt("rect"),Ae=vt("text"),xe=wt("10% to 15%"),ze=vt("rect"),$e=vt("text"),Qe=wt("5% to 10%"),He=vt("rect"),Re=vt("text"),ot=wt("less than 5%"),ut=vt("rect"),Xe=vt("text"),mt=wt("No Data"),this.h()},l(Te){w=It(Te,"DIV",{id:!0});var Et=ke(w);D=bt(Et,"svg",{id:!0,height:!0});var we=ke(D);T=bt(we,"text",{x:!0,y:!0,class:!0,"font-size":!0});var qe=ke(T);U=Dt(qe,"Percent of residents in "),Y=bt(qe,"a",{class:!0,href:!0,target:!0});var ct=ke(Y);R=Dt(ct,"Core Housing Need"),ct.forEach(Ce),qe.forEach(Ce),n=bt(we,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0}),ke(n).forEach(Ce),G=bt(we,"text",{x:!0,y:!0,class:!0,"font-size":!0});var kt=ke(G);ee=Dt(kt,"20% and up"),kt.forEach(Ce),fe=bt(we,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0}),ke(fe).forEach(Ce),ie=bt(we,"text",{x:!0,y:!0,class:!0,"font-size":!0});var Pt=ke(ie);ye=Dt(Pt,"15% to 20%"),Pt.forEach(Ce),me=bt(we,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0}),ke(me).forEach(Ce),Ae=bt(we,"text",{x:!0,y:!0,class:!0,"font-size":!0});var o4=ke(Ae);xe=Dt(o4,"10% to 15%"),o4.forEach(Ce),ze=bt(we,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0}),ke(ze).forEach(Ce),$e=bt(we,"text",{x:!0,y:!0,class:!0,"font-size":!0});var d4=ke($e);Qe=Dt(d4,"5% to 10%"),d4.forEach(Ce),He=bt(we,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0}),ke(He).forEach(Ce),Re=bt(we,"text",{x:!0,y:!0,class:!0,"font-size":!0});var gt=ke(Re);ot=Dt(gt,"less than 5%"),gt.forEach(Ce),ut=bt(we,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0}),ke(ut).forEach(Ce),Xe=bt(we,"text",{x:!0,y:!0,class:!0,"font-size":!0});var _t=ke(Xe);mt=Dt(_t,"No Data"),_t.forEach(Ce),we.forEach(Ce),Et.forEach(Ce),this.h()},h(){P(Y,"class","legend-text-a svelte-1o8sggl"),P(Y,"href","https://www150.statcan.gc.ca/n1/pub/11-627-m/11-627-m2022056-eng.htm"),P(Y,"target","_blank"),P(T,"x","10"),P(T,"y","20"),P(T,"class","legend-text svelte-1o8sggl"),P(T,"font-size","12"),P(n,"class","legend-box svelte-1o8sggl"),P(n,"x","10"),P(n,"y","30"),P(n,"width","15"),P(n,"height","15"),P(n,"fill",C[11]["perc-corehous-need"].colours[4]),P(G,"x","30"),P(G,"y","42"),P(G,"class","legend-text svelte-1o8sggl"),P(G,"font-size","12"),P(fe,"class","legend-box svelte-1o8sggl"),P(fe,"x","10"),P(fe,"y","50"),P(fe,"width","15"),P(fe,"height","15"),P(fe,"fill",C[11]["perc-corehous-need"].colours[3]),P(ie,"x","30"),P(ie,"y","62"),P(ie,"class","legend-text svelte-1o8sggl"),P(ie,"font-size","12"),P(me,"class","legend-box svelte-1o8sggl"),P(me,"x","10"),P(me,"y","70"),P(me,"width","15"),P(me,"height","15"),P(me,"fill",C[11]["perc-corehous-need"].colours[2]),P(Ae,"x","30"),P(Ae,"y","82"),P(Ae,"class","legend-text svelte-1o8sggl"),P(Ae,"font-size","12"),P(ze,"class","legend-box svelte-1o8sggl"),P(ze,"x","10"),P(ze,"y","90"),P(ze,"width","15"),P(ze,"height","15"),P(ze,"fill",C[11]["perc-corehous-need"].colours[1]),P($e,"x","30"),P($e,"y","102"),P($e,"class","legend-text svelte-1o8sggl"),P($e,"font-size","12"),P(He,"class","legend-box svelte-1o8sggl"),P(He,"x","10"),P(He,"y","110"),P(He,"width","15"),P(He,"height","15"),P(He,"fill",C[11]["perc-corehous-need"].colours[0]),P(Re,"x","30"),P(Re,"y","122"),P(Re,"class","legend-text svelte-1o8sggl"),P(Re,"font-size","12"),P(ut,"class","legend-box svelte-1o8sggl"),P(ut,"x","10"),P(ut,"y","130"),P(ut,"width","15"),P(ut,"height","15"),P(ut,"fill","#D0D1C9"),P(Xe,"x","30"),P(Xe,"y","142"),P(Xe,"class","legend-text svelte-1o8sggl"),P(Xe,"font-size","12"),P(D,"id","legend-svg"),P(D,"height","145"),P(w,"id","legend-wrapper")},m(Te,Et){T4(Te,w,Et),ne(w,D),ne(D,T),ne(T,U),ne(T,Y),ne(Y,R),ne(D,n),ne(D,G),ne(G,ee),ne(D,fe),ne(D,ie),ne(ie,ye),ne(D,me),ne(D,Ae),ne(Ae,xe),ne(D,ze),ne(D,$e),ne($e,Qe),ne(D,He),ne(D,Re),ne(Re,ot),ne(D,ut),ne(D,Xe),ne(Xe,mt)},p:oi,d(Te){Te&&Ce(w)}}}function J2(C){let w,D,T,U,Y,R,n,G,ee,fe,ie,ye,me,Ae,xe,ze,$e,Qe,He,Re,ot;return{c(){w=At("div"),D=vt("svg"),T=vt("text"),U=wt("Percent of population that immigrated to"),Y=vt("text"),R=wt("Canada between 2011 and 2021"),n=vt("rect"),G=vt("text"),ee=wt("20% and up"),fe=vt("rect"),ie=vt("text"),ye=wt("15% to 20%"),me=vt("rect"),Ae=vt("text"),xe=wt("10% to 15%"),ze=vt("rect"),$e=vt("text"),Qe=wt("Less than 10%"),He=vt("rect"),Re=vt("text"),ot=wt("No Data"),this.h()},l(ut){w=It(ut,"DIV",{id:!0});var Xe=ke(w);D=bt(Xe,"svg",{id:!0,height:!0});var mt=ke(D);T=bt(mt,"text",{x:!0,y:!0,class:!0,"font-size":!0});var Te=ke(T);U=Dt(Te,"Percent of population that immigrated to"),Te.forEach(Ce),Y=bt(mt,"text",{x:!0,y:!0,class:!0,"font-size":!0});var Et=ke(Y);R=Dt(Et,"Canada between 2011 and 2021"),Et.forEach(Ce),n=bt(mt,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0}),ke(n).forEach(Ce),G=bt(mt,"text",{x:!0,y:!0,class:!0,"font-size":!0});var we=ke(G);ee=Dt(we,"20% and up"),we.forEach(Ce),fe=bt(mt,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0}),ke(fe).forEach(Ce),ie=bt(mt,"text",{x:!0,y:!0,class:!0,"font-size":!0});var qe=ke(ie);ye=Dt(qe,"15% to 20%"),qe.forEach(Ce),me=bt(mt,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0}),ke(me).forEach(Ce),Ae=bt(mt,"text",{x:!0,y:!0,class:!0,"font-size":!0});var ct=ke(Ae);xe=Dt(ct,"10% to 15%"),ct.forEach(Ce),ze=bt(mt,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0}),ke(ze).forEach(Ce),$e=bt(mt,"text",{x:!0,y:!0,class:!0,"font-size":!0});var kt=ke($e);Qe=Dt(kt,"Less than 10%"),kt.forEach(Ce),He=bt(mt,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0}),ke(He).forEach(Ce),Re=bt(mt,"text",{x:!0,y:!0,class:!0,"font-size":!0});var Pt=ke(Re);ot=Dt(Pt,"No Data"),Pt.forEach(Ce),mt.forEach(Ce),Xe.forEach(Ce),this.h()},h(){P(T,"x","10"),P(T,"y","17"),P(T,"class","legend-text svelte-1o8sggl"),P(T,"font-size","12"),P(Y,"x","10"),P(Y,"y","32"),P(Y,"class","legend-text svelte-1o8sggl"),P(Y,"font-size","12"),P(n,"class","legend-box svelte-1o8sggl"),P(n,"x","10"),P(n,"y","40"),P(n,"width","15"),P(n,"height","15"),P(n,"fill",C[11]["perc-rec-immig"].colours[3]),P(G,"x","30"),P(G,"y","52"),P(G,"class","legend-text svelte-1o8sggl"),P(G,"font-size","12"),P(fe,"class","legend-box svelte-1o8sggl"),P(fe,"x","10"),P(fe,"y","60"),P(fe,"width","15"),P(fe,"height","15"),P(fe,"fill",C[11]["perc-rec-immig"].colours[2]),P(ie,"x","30"),P(ie,"y","72"),P(ie,"class","legend-text svelte-1o8sggl"),P(ie,"font-size","12"),P(me,"class","legend-box svelte-1o8sggl"),P(me,"x","10"),P(me,"y","80"),P(me,"width","15"),P(me,"height","15"),P(me,"fill",C[11]["perc-rec-immig"].colours[1]),P(Ae,"x","30"),P(Ae,"y","92"),P(Ae,"class","legend-text svelte-1o8sggl"),P(Ae,"font-size","12"),P(ze,"class","legend-box svelte-1o8sggl"),P(ze,"x","10"),P(ze,"y","100"),P(ze,"width","15"),P(ze,"height","15"),P(ze,"fill",C[11]["perc-rec-immig"].colours[0]),P($e,"x","30"),P($e,"y","112"),P($e,"class","legend-text svelte-1o8sggl"),P($e,"font-size","12"),P(He,"class","legend-box svelte-1o8sggl"),P(He,"x","10"),P(He,"y","120"),P(He,"width","15"),P(He,"height","15"),P(He,"fill","#D0D1C9"),P(Re,"x","30"),P(Re,"y","132"),P(Re,"class","legend-text svelte-1o8sggl"),P(Re,"font-size","12"),P(D,"id","legend-svg"),P(D,"height","135"),P(w,"id","legend-wrapper")},m(ut,Xe){T4(ut,w,Xe),ne(w,D),ne(D,T),ne(T,U),ne(D,Y),ne(Y,R),ne(D,n),ne(D,G),ne(G,ee),ne(D,fe),ne(D,ie),ne(ie,ye),ne(D,me),ne(D,Ae),ne(Ae,xe),ne(D,ze),ne(D,$e),ne($e,Qe),ne(D,He),ne(D,Re),ne(Re,ot)},p:oi,d(ut){ut&&Ce(w)}}}function rh(C){let w,D,T,U,Y,R,n,G,ee,fe,ie,ye,me,Ae,xe,ze,$e,Qe,He,Re,ot,ut,Xe,mt,Te,Et,we,qe,ct,kt,Pt,o4,d4,gt,_t,xt,Zt,Q4,a4,f4,ni,Or,Vr,gi,Kr,jr,Qt,si,Y4,c4,g4,er,K4,Jr,nr,xi,b4,ai,l4,Ir,wi,D4,tr,S4,vi,Pr,Gr,Oi,Er,li,bi,Tr,Di,Yi,Q,z,B,J,se,he,ve,be,de,Me,rt,lt,Ke,jt,Ut,Nt,Gt=C[3]?"Click here to hide this panel":"Click here to show details about this map",Wt,I4,M4,C4,E4,qr,ur;a4=new V2({props:{id:"select",items:C[7],value:C[1],clearable:!1,showChevron:!0}}),a4.$on("input",C[8]);let m4=C[1]!==""&&Z2(C);er=new V2({props:{id:"select",items:C[10],value:"Street Map",clearable:!1,showChevron:!0}}),er.$on("input",C[12]);let W4=C[5]==="Population Density"&&W2(C),dr=C[5]==="Median Household Income"&&H2(C),fr=C[5]==="Dwelling Density"&&X2(C),Ot=C[5]==="% of Renter"&&Y2(C),mr=C[5]==="Core Housing Need"&&K2(C),sr=C[5]==="Recent Immigrant Population"&&J2(C);return{c(){w=At("link"),D=p4(),T=At("main"),U=At("div"),Y=At("a"),R=At("img"),G=p4(),ee=At("div"),fe=At("h1"),ie=wt("Metropolitan Mindset Map"),ye=p4(),me=At("div"),Ae=p4(),xe=At("p"),ze=wt("Created in support of "),$e=At("a"),Qe=wt("Don Iveson"),He=wt("'s and "),Re=At("a"),ot=wt("Gabriel Eidelman"),ut=wt("'s "),Xe=At("a"),mt=wt("Metropolitan Mindset Playbook"),Te=p4(),Et=At("div"),we=At("h2"),qe=At("input"),ct=wt(`
                Municipal Borders`),kt=p4(),Pt=At("div"),o4=At("p"),d4=At("i"),gt=wt("Select to zoom to a metropolitan area:"),_t=p4(),xt=At("div"),Zt=p4(),Q4=At("div"),f4=At("div"),Cs(a4.$$.fragment),ni=p4(),Or=At("div"),Vr=p4(),m4&&m4.c(),gi=p4(),Kr=At("p"),jr=At("i"),Qt=wt("Select to switch between map layers:"),si=p4(),Y4=At("div"),c4=p4(),g4=At("div"),K4=At("div"),Cs(er.$$.fragment),Jr=p4(),nr=At("div"),xi=p4(),b4=At("div"),W4&&W4.c(),ai=p4(),dr&&dr.c(),l4=p4(),fr&&fr.c(),Ir=p4(),Ot&&Ot.c(),wi=p4(),mr&&mr.c(),D4=p4(),sr&&sr.c(),tr=p4(),S4=At("p"),vi=wt("Map designed and built by "),Pr=At("a"),Gr=wt("Jeff Allen"),Oi=wt(`
                    and
                    `),Er=At("a"),li=wt("Irene Chang"),bi=wt(`
                    at the
                    `),Tr=At("a"),Di=wt("School of Cities"),Yi=wt(`. Data sources include
                    `),Q=At("a"),z=wt("Statistics Canada (2021)"),B=wt(`,
                    `),J=At("a"),se=wt("OpenStreetMap"),he=wt(`, and
                    `),ve=At("a"),be=wt("Mapbox"),de=wt(`. Code and data for this map are on
                    `),Me=At("a"),rt=wt("GitHub"),lt=p4(),Ke=At("div"),jt=p4(),Ut=At("div"),Nt=At("i"),Wt=wt(Gt),I4=p4(),M4=At("div"),this.h()},l(e4){const rr=X8("svelte-1kcwgo",document.head);w=It(rr,"LINK",{href:!0,rel:!0}),rr.forEach(Ce),D=h4(e4),T=It(e4,"MAIN",{class:!0});var yr=ke(T);U=It(yr,"DIV",{class:!0});var Fr=ke(U);Y=It(Fr,"A",{href:!0,target:!0,class:!0});var So=ke(Y);R=It(So,"IMG",{src:!0,alt:!0,width:!0,class:!0}),So.forEach(Ce),Fr.forEach(Ce),G=h4(yr),ee=It(yr,"DIV",{id:!0,class:!0});var Lr=ke(ee);fe=It(Lr,"H1",{class:!0});var Si=ke(fe);ie=Dt(Si,"Metropolitan Mindset Map"),Si.forEach(Ce),ye=h4(Lr),me=It(Lr,"DIV",{class:!0}),ke(me).forEach(Ce),Ae=h4(Lr),xe=It(Lr,"P",{class:!0});var xr=ke(xe);ze=Dt(xr,"Created in support of "),$e=It(xr,"A",{href:!0,target:!0,class:!0});var Ki=ke($e);Qe=Dt(Ki,"Don Iveson"),Ki.forEach(Ce),He=Dt(xr,"'s and "),Re=It(xr,"A",{href:!0,target:!0,class:!0});var Ue=ke(Re);ot=Dt(Ue,"Gabriel Eidelman"),Ue.forEach(Ce),ut=Dt(xr,"'s "),Xe=It(xr,"A",{href:!0,target:!0,class:!0});var ci=ke(Xe);mt=Dt(ci,"Metropolitan Mindset Playbook"),ci.forEach(Ce),xr.forEach(Ce),Te=h4(Lr),Et=It(Lr,"DIV",{id:!0});var J4=ke(Et);we=It(J4,"H2",{class:!0});var ar=ke(we);qe=It(ar,"INPUT",{type:!0,class:!0}),ct=Dt(ar,`
                Municipal Borders`),ar.forEach(Ce),J4.forEach(Ce),kt=h4(Lr),Pt=It(Lr,"DIV",{id:!0,style:!0});var H4=ke(Pt);o4=It(H4,"P",{class:!0});var ri=ke(o4);d4=It(ri,"I",{});var Mo=ke(d4);gt=Dt(Mo,"Select to zoom to a metropolitan area:"),Mo.forEach(Ce),ri.forEach(Ce),_t=h4(H4),xt=It(H4,"DIV",{class:!0}),ke(xt).forEach(Ce),Zt=h4(H4),Q4=It(H4,"DIV",{id:!0});var Vo=ke(Q4);f4=It(Vo,"DIV",{style:!0});var Ji=ke(f4);ws(a4.$$.fragment,Ji),Vo.forEach(Ce),ni=h4(H4),Or=It(H4,"DIV",{class:!0}),ke(Or).forEach(Ce),Vr=h4(H4),m4&&m4.l(H4),gi=h4(H4),Kr=It(H4,"P",{class:!0});var pt=ke(Kr);jr=It(pt,"I",{});var t4=ke(jr);Qt=Dt(t4,"Select to switch between map layers:"),t4.forEach(Ce),pt.forEach(Ce),si=h4(H4),Y4=It(H4,"DIV",{class:!0}),ke(Y4).forEach(Ce),c4=h4(H4),g4=It(H4,"DIV",{id:!0});var Kt=ke(g4);K4=It(Kt,"DIV",{style:!0});var Zr=ke(K4);ws(er.$$.fragment,Zr),Kt.forEach(Ce),Jr=h4(H4),nr=It(H4,"DIV",{class:!0}),ke(nr).forEach(Ce),xi=h4(H4),b4=It(H4,"DIV",{class:!0});var oe=ke(b4);W4&&W4.l(oe),ai=h4(oe),dr&&dr.l(oe),l4=h4(oe),fr&&fr.l(oe),Ir=h4(oe),Ot&&Ot.l(oe),wi=h4(oe),mr&&mr.l(oe),D4=h4(oe),sr&&sr.l(oe),tr=h4(oe),S4=It(oe,"P",{id:!0,class:!0});var Ze=ke(S4);vi=Dt(Ze,"Map designed and built by "),Pr=It(Ze,"A",{href:!0,target:!0,class:!0});var s4=ke(Pr);Gr=Dt(s4,"Jeff Allen"),s4.forEach(Ce),Oi=Dt(Ze,`
                    and
                    `),Er=It(Ze,"A",{href:!0,target:!0,class:!0});var kr=ke(Er);li=Dt(kr,"Irene Chang"),kr.forEach(Ce),bi=Dt(Ze,`
                    at the
                    `),Tr=It(Ze,"A",{href:!0,target:!0,class:!0});var Wr=ke(Tr);Di=Dt(Wr,"School of Cities"),Wr.forEach(Ce),Yi=Dt(Ze,`. Data sources include
                    `),Q=It(Ze,"A",{href:!0,target:!0,class:!0});var ir=ke(Q);z=Dt(ir,"Statistics Canada (2021)"),ir.forEach(Ce),B=Dt(Ze,`,
                    `),J=It(Ze,"A",{href:!0,target:!0,class:!0});var O4=ke(J);se=Dt(O4,"OpenStreetMap"),O4.forEach(Ce),he=Dt(Ze,`, and
                    `),ve=It(Ze,"A",{href:!0,target:!0,class:!0});var Rn=ke(ve);be=Dt(Rn,"Mapbox"),Rn.forEach(Ce),de=Dt(Ze,`. Code and data for this map are on
                    `),Me=It(Ze,"A",{href:!0,target:!0,class:!0});var Mi=ke(Me);rt=Dt(Mi,"GitHub"),Mi.forEach(Ce),Ze.forEach(Ce),oe.forEach(Ce),lt=h4(H4),Ke=It(H4,"DIV",{class:!0}),ke(Ke).forEach(Ce),H4.forEach(Ce),jt=h4(Lr),Ut=It(Lr,"DIV",{id:!0,class:!0});var Ao=ke(Ut);Nt=It(Ao,"I",{});var Io=ke(Nt);Wt=Dt(Io,Gt),Io.forEach(Ce),Ao.forEach(Ce),Lr.forEach(Ce),I4=h4(yr),M4=It(yr,"DIV",{id:!0,class:!0}),ke(M4).forEach(Ce),yr.forEach(Ce),this.h()},h(){P(w,"href","https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.css"),P(w,"rel","stylesheet"),Y8(R.src,n=th)||P(R,"src",n),P(R,"alt","Metropolitan Mindset"),P(R,"width",C[2]),P(R,"class","svelte-1o8sggl"),P(Y,"href","https://schoolofcities.utoronto.ca/the-metropolitan-mindset/"),P(Y,"target","_blank"),P(Y,"class","svelte-1o8sggl"),P(U,"class","logo svelte-1o8sggl"),P(fe,"class","svelte-1o8sggl"),P(me,"class","bar svelte-1o8sggl"),P($e,"href","https://schoolofcities.utoronto.ca/people/don-iveson/"),P($e,"target","_blank"),P($e,"class","svelte-1o8sggl"),P(Re,"href","https://munkschool.utoronto.ca/person/gabriel-eidelman"),P(Re,"target","_blank"),P(Re,"class","svelte-1o8sggl"),P(Xe,"href","https://schoolofcities.utoronto.ca/the-metropolitan-mindset/"),P(Xe,"target","_blank"),P(Xe,"class","svelte-1o8sggl"),P(xe,"class","svelte-1o8sggl"),P(qe,"type","checkbox"),qe.checked=!0,P(qe,"class","svelte-1o8sggl"),P(we,"class","svelte-1o8sggl"),P(Et,"id","municipality-toggle"),P(o4,"class","svelte-1o8sggl"),P(xt,"class","bar svelte-1o8sggl"),cr(f4,"display","contents"),cr(f4,"--background","white"),cr(f4,"--selected-item-color","#6D247A"),cr(f4,"--height","22px"),cr(f4,"--item-color","#6D247A"),cr(f4,"--border-radius","0"),cr(f4,"--border","1px"),cr(f4,"--list-border-radius","0px"),cr(f4,"--font-size","14.45px"),cr(f4,"--max-height","30px"),cr(f4,"--item-is-active-color","#0D534D"),cr(f4,"--item-is-active-bg","#6FC7EA"),P(Q4,"id","select-wrapper"),P(Or,"class","bar svelte-1o8sggl"),P(Kr,"class","svelte-1o8sggl"),P(Y4,"class","bar svelte-1o8sggl"),cr(K4,"display","contents"),cr(K4,"--background","white"),cr(K4,"--selected-item-color","#6D247A"),cr(K4,"--height","22px"),cr(K4,"--item-color","#6D247A"),cr(K4,"--border-radius","0"),cr(K4,"--border","1px"),cr(K4,"--list-border-radius","0px"),cr(K4,"--font-size","14.45px"),cr(K4,"--max-height","30px"),cr(K4,"--item-is-active-color","#0D534D"),cr(K4,"--item-is-active-bg","#6FC7EA"),P(g4,"id","select-wrapper"),P(nr,"class","bar svelte-1o8sggl"),P(Pr,"href","https://jamaps.github.io/about.html"),P(Pr,"target","_blank"),P(Pr,"class","svelte-1o8sggl"),P(Er,"href","https://www.linkedin.com/in/irene-kcc/"),P(Er,"target","_blank"),P(Er,"class","svelte-1o8sggl"),P(Tr,"href","https://schoolofcities.utoronto.ca/"),P(Tr,"target","_blank"),P(Tr,"class","svelte-1o8sggl"),P(Q,"href","https://www12.statcan.gc.ca/census-recensement/index-eng.cfm?MM=1"),P(Q,"target","_blank"),P(Q,"class","svelte-1o8sggl"),P(J,"href","https://www.openstreetmap.org"),P(J,"target","_blank"),P(J,"class","svelte-1o8sggl"),P(ve,"href","https://www.mapbox.com/"),P(ve,"target","_blank"),P(ve,"class","svelte-1o8sggl"),P(Me,"href","https://github.com/schoolofcities/metropolitan-mindset"),P(Me,"target","_blank"),P(Me,"class","svelte-1o8sggl"),P(S4,"id","note"),P(S4,"class","svelte-1o8sggl"),P(b4,"class","legend"),P(Ke,"class","bar svelte-1o8sggl"),P(Pt,"id","content-wrapper"),cr(Pt,"display",C[3]?"block":"none"),P(Ut,"id","hide"),P(Ut,"class","svelte-1o8sggl"),P(ee,"id","content"),P(ee,"class","svelte-1o8sggl"),P(M4,"id","map"),P(M4,"class","svelte-1o8sggl"),K8(()=>C[14].call(M4)),P(T,"class","svelte-1o8sggl")},m(e4,rr){ne(document.head,w),T4(e4,D,rr),T4(e4,T,rr),ne(T,U),ne(U,Y),ne(Y,R),ne(T,G),ne(T,ee),ne(ee,fe),ne(fe,ie),ne(ee,ye),ne(ee,me),ne(ee,Ae),ne(ee,xe),ne(xe,ze),ne(xe,$e),ne($e,Qe),ne(xe,He),ne(xe,Re),ne(Re,ot),ne(xe,ut),ne(xe,Xe),ne(Xe,mt),ne(ee,Te),ne(ee,Et),ne(Et,we),ne(we,qe),ne(we,ct),ne(ee,kt),ne(ee,Pt),ne(Pt,o4),ne(o4,d4),ne(d4,gt),ne(Pt,_t),ne(Pt,xt),ne(Pt,Zt),ne(Pt,Q4),ne(Q4,f4),Ds(a4,f4,null),ne(Pt,ni),ne(Pt,Or),ne(Pt,Vr),m4&&m4.m(Pt,null),ne(Pt,gi),ne(Pt,Kr),ne(Kr,jr),ne(jr,Qt),ne(Pt,si),ne(Pt,Y4),ne(Pt,c4),ne(Pt,g4),ne(g4,K4),Ds(er,K4,null),ne(Pt,Jr),ne(Pt,nr),ne(Pt,xi),ne(Pt,b4),W4&&W4.m(b4,null),ne(b4,ai),dr&&dr.m(b4,null),ne(b4,l4),fr&&fr.m(b4,null),ne(b4,Ir),Ot&&Ot.m(b4,null),ne(b4,wi),mr&&mr.m(b4,null),ne(b4,D4),sr&&sr.m(b4,null),ne(b4,tr),ne(b4,S4),ne(S4,vi),ne(S4,Pr),ne(Pr,Gr),ne(S4,Oi),ne(S4,Er),ne(Er,li),ne(S4,bi),ne(S4,Tr),ne(Tr,Di),ne(S4,Yi),ne(S4,Q),ne(Q,z),ne(S4,B),ne(S4,J),ne(J,se),ne(S4,he),ne(S4,ve),ne(ve,be),ne(S4,de),ne(S4,Me),ne(Me,rt),ne(Pt,lt),ne(Pt,Ke),ne(ee,jt),ne(ee,Ut),ne(Ut,Nt),ne(Nt,Wt),ne(T,I4),ne(T,M4),C4=J8(M4,C[14].bind(M4)),E4=!0,qr||(ur=[Nr(qe,"change",C[9]),Nr(Ut,"click",C[6])],qr=!0)},p(e4,[rr]){(!E4||rr&4)&&P(R,"width",e4[2]);const yr={};rr&2&&(yr.value=e4[1]),a4.$set(yr),e4[1]!==""?m4?m4.p(e4,rr):(m4=Z2(e4),m4.c(),m4.m(Pt,gi)):m4&&(m4.d(1),m4=null),e4[5]==="Population Density"?W4?W4.p(e4,rr):(W4=W2(e4),W4.c(),W4.m(b4,ai)):W4&&(W4.d(1),W4=null),e4[5]==="Median Household Income"?dr?dr.p(e4,rr):(dr=H2(e4),dr.c(),dr.m(b4,l4)):dr&&(dr.d(1),dr=null),e4[5]==="Dwelling Density"?fr?fr.p(e4,rr):(fr=X2(e4),fr.c(),fr.m(b4,Ir)):fr&&(fr.d(1),fr=null),e4[5]==="% of Renter"?Ot?Ot.p(e4,rr):(Ot=Y2(e4),Ot.c(),Ot.m(b4,wi)):Ot&&(Ot.d(1),Ot=null),e4[5]==="Core Housing Need"?mr?mr.p(e4,rr):(mr=K2(e4),mr.c(),mr.m(b4,D4)):mr&&(mr.d(1),mr=null),e4[5]==="Recent Immigrant Population"?sr?sr.p(e4,rr):(sr=J2(e4),sr.c(),sr.m(b4,tr)):sr&&(sr.d(1),sr=null),(!E4||rr&8)&&cr(Pt,"display",e4[3]?"block":"none"),(!E4||rr&8)&&Gt!==(Gt=e4[3]?"Click here to hide this panel":"Click here to show details about this map")&&Do(Wt,Gt)},i(e4){E4||(Vt(a4.$$.fragment,e4),Vt(er.$$.fragment,e4),E4=!0)},o(e4){i4(a4.$$.fragment,e4),i4(er.$$.fragment,e4),E4=!1},d(e4){Ce(w),e4&&Ce(D),e4&&Ce(T),Ss(a4),m4&&m4.d(),Ss(er),W4&&W4.d(),dr&&dr.d(),fr&&fr.d(),Ot&&Ot.d(),mr&&mr.d(),sr&&sr.d(),C4(),qr=!1,o3(ur)}}}function ih(C,w,D){Ea.accessToken="pk.eyJ1Ijoic2Nob29sb2ZjaXRpZXMiLCJhIjoiY2xveWV1ZGZhMDM0bzJpczJxcXBxdGVzciJ9.DSq6ynr1MUplx1h4l0iDqw";let T,U="",Y=535,R,n,G=102,ee=!0;function fe(){D(3,ee=!ee)}const ie=zp.filter(Et=>Et.Rank<11);let ye,me=ie.sort((Et,we)=>we.pop2021-Et.pop2021).map(Et=>Et.CMANAME);function Ae(Et){xe(Et.detail.value)}function xe(Et){D(1,U=Et);let we=ie.filter(Pt=>Pt.CMANAME===U)[0];D(13,Y=we.CMAUID);let qe=we.x,ct=we.y;R.setZoom(9),R.setBearing(0),R.setPitch(0),R.panTo([qe,ct]);const kt=["match",["get","CMAUID"],[Y.toString()],!0,!1];R.setFilter("metro-mindset-csd-2021-border",kt),R.setFilter("metro-mindset-cma-2021-border",kt),R.setFilter("metro-mindset-cma-2021-background",kt),R.setFilter("municipalLabels",kt)}let ze=!0;function $e(){ze=!ze,ze?(R.setPaintProperty("metro-mindset-csd-2021-border","line-opacity",1),R.setPaintProperty("municipalLabels","text-opacity",1)):(R.setPaintProperty("metro-mindset-csd-2021-border","line-opacity",0),R.setPaintProperty("municipalLabels","text-opacity",0))}let Qe=["Street Map","Satellite","Population Density","Dwelling Density","Median Household Income","Core Housing Need","Recent Immigrant Population"],He="Street Map";const Re={"population-density":{name:"Population Density",breaks:[500,3e3,6e3],colours:["#fffef8","#fbefb5","#f7dd66","#f1c500"]},"median-household-income":{name:"Median Household Income",breaks:[5e4,75e3,1e5,15e4],colours:["#e07260","#e6b8a9","#eaeee0","#a8cfcf","#3d9cb3"]},"dwellings-density":{name:"Dwelling Density",breaks:[100,1e3,2e3],colours:["#fffef8","#fbefb5","#f7dd66","#f1c500"]},"perc-rent":{name:"% of Renter",breaks:[.2,.35,.5,.7],colours:["#FAF8F2","#E9E1C7","#D0BE86","#B59A46","#74632D"]},"perc-corehous-need":{name:"Core Housing Need",breaks:[.05,.1,.15,.2],colours:["#fff","#fcf1f0","#f5cdc8","#ec9f95","#e47364"]},"perc-rec-immig":{name:"Recent Immigrant Population",breaks:[.1,.15,.2],colours:["#f0fbff","#c5eaf8","#99d8f1","#6fc7ea"]}};console.log(Re["population-density"].colours[0]);function ot(Et){D(5,He=Et.detail.value),ut(Y,He)}function ut(Et,we){if(console.log(Et,we),we==="Street Map"){R.setPaintProperty("mapbox-satellite","raster-opacity",.011);try{R.removeLayer("ctPolygon"),R.removeSource("ctPolygon")}catch{}}else if(we==="Satellite"){R.setPaintProperty("mapbox-satellite","raster-opacity",.798);try{R.removeLayer("ctPolygon"),R.removeSource("ctPolygon")}catch{}}else if(we==="Population Density"){try{R.removeLayer("ctPolygon"),R.removeSource("ctPolygon")}catch{}R.setPaintProperty("mapbox-satellite","raster-opacity",.011),R.addLayer({id:"ctPolygon",type:"fill",source:{type:"geojson",data:Xe},paint:{"fill-outline-color":"white","fill-opacity":.881,"fill-color":["case",["!=",["get","Population"],null],["step",["/",["get","Population"],["get","Area"]],Re["population-density"].colours[0],Re["population-density"].breaks[0],Re["population-density"].colours[1],Re["population-density"].breaks[1],Re["population-density"].colours[2],Re["population-density"].breaks[2],Re["population-density"].colours[3]],"#cbcbcb"]}},"transitStops")}else if(we==="Median Household Income"){try{R.removeLayer("ctPolygon"),R.removeSource("ctPolygon")}catch{}R.setPaintProperty("mapbox-satellite","raster-opacity",.011),R.addLayer({id:"ctPolygon",type:"fill",source:{type:"geojson",data:Xe},paint:{"fill-outline-color":"white","fill-opacity":.881,"fill-color":["case",["!=",["get","MedHhldIncome"],null],["step",["get","MedHhldIncome"],Re["median-household-income"].colours[0],Re["median-household-income"].breaks[0],Re["median-household-income"].colours[1],Re["median-household-income"].breaks[1],Re["median-household-income"].colours[2],Re["median-household-income"].breaks[2],Re["median-household-income"].colours[3],Re["median-household-income"].breaks[3],Re["median-household-income"].colours[4]],"#cbcbcb"]}},"transitStops")}else if(we==="Dwelling Density"){try{R.removeLayer("ctPolygon"),R.removeSource("ctPolygon")}catch{}R.setPaintProperty("mapbox-satellite","raster-opacity",.011),R.addLayer({id:"ctPolygon",type:"fill",source:{type:"geojson",data:Xe},paint:{"fill-outline-color":"white","fill-opacity":.881,"fill-color":["case",["!=",["get","Dwellings"],null],["step",["/",["get","Dwellings"],["get","Area"]],Re["dwellings-density"].colours[0],Re["dwellings-density"].breaks[0],Re["dwellings-density"].colours[1],Re["dwellings-density"].breaks[1],Re["dwellings-density"].colours[2],Re["dwellings-density"].breaks[2],Re["dwellings-density"].colours[3]],"#cbcbcb"]}},"transitStops")}else if(we==="% of Renter"){try{R.removeLayer("ctPolygon"),R.removeSource("ctPolygon")}catch{}R.setPaintProperty("mapbox-satellite","raster-opacity",.011),R.addLayer({id:"ctPolygon",type:"fill",source:{type:"geojson",data:Xe},paint:{"fill-outline-color":"white","fill-opacity":.881,"fill-color":["case",["!=",["get","PerRent"],null],["step",["get","PerRent"],Re["perc-rent"].colours[0],Re["perc-rent"].breaks[0],Re["perc-rent"].colours[1],Re["perc-rent"].breaks[1],Re["perc-rent"].colours[2],Re["perc-rent"].breaks[2],Re["perc-rent"].colours[3],Re["perc-rent"].breaks[3],Re["perc-rent"].colours[4]],"#cbcbcb"]}},"transitStops")}else if(we==="Core Housing Need"){try{R.removeLayer("ctPolygon"),R.removeSource("ctPolygon")}catch{}R.setPaintProperty("mapbox-satellite","raster-opacity",.011),R.addLayer({id:"ctPolygon",type:"fill",source:{type:"geojson",data:Xe},paint:{"fill-outline-color":"white","fill-opacity":.881,"fill-color":["case",["!=",["get","PerInCoreNeed"],null],["step",["get","PerInCoreNeed"],Re["perc-corehous-need"].colours[0],Re["perc-corehous-need"].breaks[0],Re["perc-corehous-need"].colours[1],Re["perc-corehous-need"].breaks[1],Re["perc-corehous-need"].colours[2],Re["perc-corehous-need"].breaks[2],Re["perc-corehous-need"].colours[3],Re["perc-corehous-need"].breaks[3],Re["perc-corehous-need"].colours[4]],"#cbcbcb"]}},"transitStops")}else if(we==="Recent Immigrant Population"){try{R.removeLayer("ctPolygon"),R.removeSource("ctPolygon")}catch{}R.setPaintProperty("mapbox-satellite","raster-opacity",.011),R.addLayer({id:"ctPolygon",type:"fill",source:{type:"geojson",data:Xe},paint:{"fill-outline-color":"white","fill-opacity":.881,"fill-color":["case",["!=",["get","PerRecImmig"],null],["step",["get","PerRecImmig"],Re["perc-rec-immig"].colours[0],Re["perc-rec-immig"].breaks[0],Re["perc-rec-immig"].colours[1],Re["perc-rec-immig"].breaks[1],Re["perc-rec-immig"].colours[2],Re["perc-rec-immig"].breaks[2],Re["perc-rec-immig"].colours[3]],"#cbcbcb"]}},"transitStops")}}let Xe;async function mt(Et){if(Et===Y)try{Xe=await(await fetch(`/metropolitan-mindset/ct-${Et}-2021.topo.json`)).json(),Xe=Dp(Xe,`ct-${Et}-2021`);const qe=new Map;n.forEach(kt=>{qe.set(kt.ctuid,kt)});const ct=Xe.features.map(kt=>{const Pt=kt.properties.ctuid,o4=qe.get(Pt);return{...kt,properties:{...kt.properties,...o4}}});Xe.features=ct,ut(Et,He)}catch(we){console.error("Error loading CT data files:",we)}}Q2(()=>{Up("/metropolitan-mindset/ct-data.csv").then(we=>{we.forEach(qe=>{for(const ct in qe)ct!=="ctuid"&&(qe[ct]=parseFloat(qe[ct]))}),n=we}).catch(we=>{console.error("Error loading CSV data:",we)}),R=new Ea.Map({container:"map",style:"mapbox://styles/schoolofcities/cllwjnzlf016j01p71qq5eskt",center:[-100,55],zoom:2.5,maxZoom:12,minZoom:1,projection:"globe",scrollZoom:!0,attributionControl:!1});const Et=new Ea.ScaleControl({maxWidth:100,unit:"metric"});R.addControl(Et,"bottom-right"),R.addControl(new Ea.NavigationControl,"bottom-right"),R.on("load",function(){R.addLayer({id:"municipalLabels",type:"symbol",source:{type:"geojson",data:eh},layout:{"text-field":"{CSDNAME}","text-font":["Roboto Regular"],"text-size":["interpolate",["linear"],["zoom"],9,12,18,40],"text-anchor":"center"},paint:{"text-color":"#AB1368","text-halo-color":"rgba(255, 255, 255, 0.65)","text-halo-width":2,"text-halo-blur":1,"text-opacity":["interpolate",["linear"],["zoom"],5.99,0,6,1]}}),R.setFilter("municipalLabels",["match",["get","CMAUID"],[""],!0,!1])}),R.on("load",function(){R.addLayer({id:"transitStops",type:"circle",source:{type:"geojson",data:Yp},paint:{"circle-radius":["interpolate",["linear"],["zoom"],5,0,6,1,20,10],"circle-color":"#8a8783"}},"bridge-minor-case")}),R.on("load",function(){R.addLayer({id:"transitLines",type:"line",source:{type:"geojson",data:qp},paint:{"line-width":["interpolate",["linear"],["zoom"],5,0,6,1,10,2],"line-color":"#8a8783"}},"bridge-minor-case")}),R.on("load",function(){R.addLayer({id:"cmaPoints",type:"circle",source:{type:"geojson",data:Np},paint:{"circle-radius":6,"circle-color":"#1E3765","circle-stroke-width":2,"circle-stroke-color":"#fff","circle-opacity":["interpolate",["linear"],["zoom"],4.99,1,5,0],"circle-stroke-opacity":["interpolate",["linear"],["zoom"],4.99,1,5,0]}})}),R.on("mouseenter","cmaPoints",()=>{R.getCanvas().style.cursor="pointer"}),R.on("mouseleave","cmaPoints",()=>{R.getCanvas().style.cursor=""}),R.on("click","cmaPoints",we=>{xe(we.features[0].properties.cmaname),ut(Y,He)}),R.on("mouseenter","metro-mindset-cma-2021-bg-all-fill",we=>{U!==we.features[0].properties.CMANAME&&(R.getCanvas().style.cursor="pointer")}),R.on("mouseleave","metro-mindset-cma-2021-bg-all-fill",we=>{R.getCanvas().style.cursor=""}),R.on("click","metro-mindset-cma-2021-bg-all-fill",we=>{we.features[0].properties.CMANAME!==U&&(console.log(we.features[0]),xe(we.features[0].properties.CMANAME),console.log(Y,He),ut(Y,He))}),mt(Y)});function Te(){T=this.clientWidth,D(0,T)}return C.$$.update=()=>{C.$$.dirty&1&&(T<102+250?D(2,G=T-250-1):D(2,G=102)),C.$$.dirty&8192&&D(4,ye=ie.filter(Et=>Et.CMAUID===Y)[0]),C.$$.dirty&8192&&mt(Y)},[T,U,G,ee,ye,He,fe,me,Ae,$e,Qe,Re,ot,Y,Te]}class sh extends t3{constructor(w){super(),r3(this,w,ih,rh,i3,{})}}export{sh as component,nh as universal};
